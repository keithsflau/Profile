<!DOCTYPE html>
<html lang="zh-HK">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>實用文寫作助手 | Practical Writing Wizard</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@300;400;500;700&family=Noto+Serif+TC:wght@400;600&display=swap"
        rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans TC', sans-serif;
        }

        .font-serif {
            font-family: 'Noto Serif TC', serif;
        }

        .glass-panel {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .input-premium {
            background: rgba(0, 0, 0, 0.2);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: all 0.3s ease;
        }

        .input-premium:focus {
            background: rgba(0, 0, 0, 0.3);
            border-color: rgba(167, 139, 250, 0.5);
            /* Violet-400 */
            box-shadow: 0 0 0 4px rgba(167, 139, 250, 0.1);
            outline: none;
        }

        .btn-gradient {
            background: linear-gradient(135deg, #6366f1 0%, #a855f7 100%);
            transition: all 0.3s ease;
        }

        .btn-gradient:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px -5px rgba(168, 85, 247, 0.4);
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: rgba(0, 0, 0, 0.1);
        }

        ::-webkit-scrollbar-thumb {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: rgba(255, 255, 255, 0.3);
        }

        .paper-shadow {
            box-shadow:
                0 1px 1px rgba(0, 0, 0, 0.15),
                0 10px 0 -5px #fff,
                0 10px 1px -4px rgba(0, 0, 0, 0.15),
                0 20px 0 -10px #fff,
                0 20px 1px -9px rgba(0, 0, 0, 0.15);
        }
    </style>
    <link rel="stylesheet" href="../../visit-counter.css">
</head>

<body
    class="bg-[url('https://images.unsplash.com/photo-1519681393784-d120267933ba')] bg-cover bg-center bg-no-repeat min-h-screen text-white/90 selection:bg-purple-500 selection:text-white">
    <!-- Overlay for better text readability -->
    <div class="fixed inset-0 bg-slate-900/80 -z-10"></div>

    <div class="min-h-screen py-12 px-4 sm:px-6 lg:px-8 flex flex-col items-center justify-center">

        <!-- Header Section -->
        <div class="text-center mb-12 space-y-2">
            <div
                class="inline-flex items-center justify-center p-3 bg-white/10 rounded-2xl mb-4 backdrop-blur-sm shadow-lg ring-1 ring-white/20">
                <span class="text-3xl">✍️</span>
            </div>
            <h1
                class="text-4xl md:text-5xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-200 via-purple-200 to-pink-200 drop-shadow-sm">
                實用文寫作助手
            </h1>
            <p class="text-lg text-blue-200/80 font-light tracking-wide">
                專業．快捷．準確
            </p>
        </div>

        <div class="w-full max-w-4xl grid grid-cols-1 lg:grid-cols-2 gap-8">

            <!-- Input Panel -->
            <div class="glass-panel p-8 rounded-3xl shadow-2xl flex flex-col h-full">
                <div class="mb-8">
                    <label class="block text-sm font-medium text-blue-300 uppercase tracking-wider mb-3">選擇文類</label>
                    <div class="relative">
                        <select id="type" onchange="loadTemplate()"
                            class="w-full appearance-none input-premium text-lg p-4 rounded-xl cursor-pointer bg-slate-900/50">
                            <option value="complaint">😡 投訴信</option>
                            <option value="suggestion">💡 建議書</option>
                            <option value="invitation">💌 邀請信</option>
                        </select>
                        <div
                            class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-4 text-blue-300">
                            <svg class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                    d="M19 9l-7 7-7-7" />
                            </svg>
                        </div>
                    </div>
                </div>

                <div id="form-fields" class="space-y-6 flex-grow">
                    <!-- Dynamic fields will be injected here -->
                </div>

                <button onclick="generate()"
                    class="btn-gradient w-full py-4 mt-8 rounded-xl font-bold text-lg tracking-wide shadow-lg text-white flex items-center justify-center space-x-2 group">
                    <span>立即生成</span>
                    <svg class="w-5 h-5 group-hover:translate-x-1 transition-transform" fill="none" viewBox="0 0 24 24"
                        stroke="currentColor">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                            d="M13 7l5 5m0 0l-5 5m5-5H6" />
                    </svg>
                </button>
            </div>

            <!-- Output Panel -->
            <div id="output-container"
                class="hidden lg:flex flex-col h-full transition-all duration-500 opacity-0 transform translate-x-10">
                <div class="glass-panel p-1 rounded-3xl h-full flex flex-col">
                    <div
                        class="bg-[#fdfbf7] text-slate-800 p-8 rounded-[20px] flex-grow flex flex-col paper-shadow relative overflow-hidden">
                        <!-- Paper pattern/texture could go here -->

                        <div class="absolute top-0 right-0 p-4 opacity-10 pointer-events-none">
                            <svg class="w-32 h-32" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8l-6-6z" />
                            </svg>
                        </div>

                        <div class="flex-grow">
                            <pre id="result"
                                class="whitespace-pre-wrap font-serif text-lg leading-loose text-slate-800"></pre>
                        </div>

                        <div class="mt-6 pt-6 border-t border-slate-200 flex justify-end">
                            <button onclick="copy()"
                                class="flex items-center space-x-2 text-slate-500 hover:text-indigo-600 transition-colors font-medium px-4 py-2 rounded-lg hover:bg-slate-100">
                                <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                        d="M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3" />
                                </svg>
                                <span>複製全文</span>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Mobile Output Modal (only shows on small screens if needed, or we just rely on the responsive grid) -->
    <!-- For simplicity, we'll reuse the output container logic but ensure it displays block on mobile when active -->

    <script>
        const TEMPLATES = {
            complaint: {
                icon: '😠',
                fields: [
                    { id: 'recipient', label: '受文者', placeholder: '例如：客戶服務部' },
                    { id: 'issue', label: '投訴事項', placeholder: '例如：貴公司送貨延誤' },
                    { id: 'details', label: '詳情', type: 'textarea', placeholder: '請描述具體發生了什麼事...' },
                    { id: 'request', label: '要求', placeholder: '例如：全額退款' }
                ],
                template: (d) => `${d.recipient}：\n\n本人對貴公司${d.issue}深感不滿。${d.details}\n\n本人希望貴公司能夠${d.request}，以維護消費者權益。\n\n此致\n${d.recipient}\n\n投訴人：[姓名]\n日期：${new Date().toLocaleDateString('zh-HK')}`
            },
            suggestion: {
                icon: '💡',
                fields: [
                    { id: 'recipient', label: '受文者', placeholder: '例如：校長' },
                    { id: 'topic', label: '建議主題', placeholder: '例如：改善圖書館設施' },
                    { id: 'reason', label: '建議原因', type: 'textarea', placeholder: '為何要提出此建議？' },
                    { id: 'suggestion', label: '具體建議', type: 'textarea', placeholder: '具體的實行方法是？' }
                ],
                template: (d) => `${d.recipient}：\n\n本人就${d.topic}提出以下建議。\n\n建議原因：\n${d.reason}\n\n具體建議：\n${d.suggestion}\n\n希望　貴機構考慮本人的建議。\n\n此致\n${d.recipient}\n\n建議人：[姓名]\n日期：${new Date().toLocaleDateString('zh-HK')}`
            },
            invitation: {
                icon: '📨',
                fields: [
                    { id: 'recipient', label: '受邀者', placeholder: '例如：陳大文先生' },
                    { id: 'event', label: '活動名稱', placeholder: '例如：校慶典禮' },
                    { id: 'date', label: '日期時間', placeholder: '例如：二零二五年十二月二十日' },
                    { id: 'venue', label: '地點', placeholder: '例如：本校禮堂' }
                ],
                template: (d) => `敬啟者：\n\n謹定於${d.date}在${d.venue}舉行${d.event}，誠邀　閣下蒞臨指導。\n\n此致\n${d.recipient}\n\n邀請人：[機構名稱]\n日期：${new Date().toLocaleDateString('zh-HK')}`
            }
        };

        function loadTemplate() {
            const type = document.getElementById('type').value;
            const template = TEMPLATES[type];
            const container = document.getElementById('form-fields');

            // Fade out effect
            contextOpacity = 0;
            container.style.opacity = '0';

            setTimeout(() => {
                container.innerHTML = '';
                template.fields.forEach((f, index) => {
                    const div = document.createElement('div');
                    div.style.animation = `fadeInUp 0.5s ease backwards ${index * 0.1}s`;

                    const label = `<label class="block text-sm font-medium text-blue-200 mb-2 shadow-sm">${f.label}</label>`;
                    const inputClass = "w-full input-premium p-4 rounded-xl text-white placeholder-gray-400";

                    let input;
                    if (f.type === 'textarea') {
                        input = `<textarea id="${f.id}" class="${inputClass}" rows="3" placeholder="${f.placeholder || ''}"></textarea>`;
                    } else {
                        input = `<input type="text" id="${f.id}" class="${inputClass}" placeholder="${f.placeholder || ''}">`;
                    }

                    div.innerHTML = label + input;
                    container.appendChild(div);
                });
                container.style.opacity = '1';
                container.style.transition = 'opacity 0.3s ease';
            }, 200);
        }

        function generate() {
            const type = document.getElementById('type').value;
            const template = TEMPLATES[type];
            const data = {};
            let allFilled = true;

            template.fields.forEach(f => {
                const val = document.getElementById(f.id).value;
                if (!val) allFilled = false;
                data[f.id] = val;
            });

            // Simple validation visualization
            if (!allFilled) {
                // You could add toast here, but generally we proceed
            }

            const result = template.template(data);
            const resultEl = document.getElementById('result');
            const outputContainer = document.getElementById('output-container');

            // Typewriter effect or just fade in
            resultEl.style.opacity = '0';
            resultEl.textContent = result;

            outputContainer.classList.remove('hidden');
            // Force reflow
            void outputContainer.offsetWidth;

            outputContainer.classList.remove('opacity-0', 'translate-x-10');
            outputContainer.classList.add('opacity-100', 'translate-x-0');

            setTimeout(() => {
                resultEl.style.transition = 'opacity 0.5s ease';
                resultEl.style.opacity = '1';
            }, 300);

            // Scroll to output on mobile
            if (window.innerWidth < 1024) {
                outputContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }

        function copy() {
            navigator.clipboard.writeText(document.getElementById('result').textContent);
            const btn = event.currentTarget;
            const originalHTML = btn.innerHTML;

            btn.innerHTML = `<svg class="w-5 h-5 text-green-500" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7" /></svg><span class="text-green-600">已複製！</span>`;

            setTimeout(() => {
                btn.innerHTML = originalHTML;
            }, 2000);
        }

        // Add custom keyframes
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeInUp {
                from { opacity: 0; transform: translateY(10px); }
                to { opacity: 1; transform: translateY(0); }
            }
        `;
        document.head.appendChild(style);

        loadTemplate();
    </script>

    

    <!-- Visit Counter -->
    <div id="visit-counter-container"></div>

          <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
<!-- Visit Counter Script -->
    <script src="../../visit-counter.js"></script>
    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby5jEjDAcEM6TttPbwwh1tvXPo_-W7YrNlKfJRV82PjkmAHvR_wILhA7h-zIRPF7oTRTw/exec';
        VisitCounter.init('seconardychinese/practical_writing_wizard/index', {
            scriptUrl: SCRIPT_URL,
            containerId: 'visit-counter-container'
        });
    </script>
</body>

</html>

