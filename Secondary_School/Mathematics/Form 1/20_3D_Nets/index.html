<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Net Unfolder | S1 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
      .scene {
        perspective: 800px;
      }
      .face {
        position: absolute;
        backface-visibility: visible; /* Show back to see "folding" effect clearly or double sided */
        opacity: 0.85;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        color: white;
        border: 2px solid rgba(255, 255, 255, 0.5);
        transition: transform 0.5s ease-in-out;
        background: rgba(59, 130, 246, 0.6);
      }
    </style>
  </head>
  <body class="bg-indigo-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [fold, setFold] = useState(0); // 0 to 1 (0=net, 1=solid)
        const [shape, setShape] = useState("cube"); // cube, prism

        const size = 80;

        // Cube Net Configuration (Cross Shape)
        // Center (Bottom)
        // Top (Back)
        // Bottom (Front)
        // Left (Left)
        // Right (Right)
        // Far Bottom (Top Lid) - Attached to Back usually

        // Standard Net:
        //   T
        // L C R
        //   B
        //   T2 (Lid attached to Bottom)

        // Transformations
        // Center: Fixed.
        // Left: Rotate around Left edge of Center.
        // Right: Rotate around Right edge of Center.
        // Back (Top visual): Rotate around Top edge of Center.
        // Front (Bottom visual): Rotate around Bottom edge of Center.
        // Top (Lid): Attached to Front. Rotate around Bottom edge of Front.

        const FacesCube = () => {
          const angle = fold * 90;

          return (
            <div
              className="relative w-0 h-0"
              style={{
                transformStyle: "preserve-3d",
                transform: "rotateX(-30deg) rotateY(30deg)",
              }}
            >
              {/* Center (Base) */}
              <div
                className="face bg-blue-500"
                style={{
                  width: size,
                  height: size,
                  transform: `translate(-50%, -50%)`,
                }}
              >
                Base
              </div>

              {/* Back Face (Attached to Top Edge) */}
              <div
                className="face bg-blue-600"
                style={{
                  width: size,
                  height: size,
                  transformOrigin: "bottom",
                  transform: `translate(-50%, -150%) rotateX(${angle}deg)`,
                }}
              >
                Back
              </div>

              {/* Front Face (Attached to Bottom Edge) */}
              <div
                className="face bg-blue-600"
                style={{
                  width: size,
                  height: size,
                  transformOrigin: "top",
                  transform: `translate(-50%, 50%) rotateX(${-angle}deg)`,
                }}
              >
                Front
              </div>

              {/* Left Face (Attached to Left Edge) */}
              <div
                className="face bg-blue-400"
                style={{
                  width: size,
                  height: size,
                  transformOrigin: "right",
                  transform: `translate(-150%, -50%) rotateY(${-angle}deg)`,
                }}
              >
                Left
              </div>

              {/* Right Face (Attached to Right Edge) */}
              <div
                className="face bg-blue-400"
                style={{
                  width: size,
                  height: size,
                  transformOrigin: "left",
                  transform: `translate(50%, -50%) rotateY(${angle}deg)`,
                }}
              >
                Right
              </div>

              {/* Lid (Attached to Front Face's Bottom Edge) */}
              {/* Wait, in Net (fold=0), it should be below Front. */
              /* Front is at translate(-50%, 50%). Size h=size. */
              /* Lid is attached to Front's bottom. */
              /* In Net state: Front rotates 0. Lid rotates 0 relative to Front. */
              /* TranslateY for Lid: 150% (50 + 100). */
              /* Transformation chain: Front Transform -> Lid Transform. */
              /* Or calculate absolute: */
              /* Lid attached to Front. Front rotates X -angle. */
              /* Lid rotates X -angle relative to Front. Total -2*angle? No, usually 90 deg relative to face. */
              /* Let's simplify: Lid attaches to Back Face (Top) usually in 'T' shape? Or Long strip? */
              /* Let's do Long Strip: Base -> Back -> Top. */}

              {/* Alternative Lid attached to Back Face (Top Edge visually in net) */}
              {/* Back is at -150%. Top Edge is at -200%? No Back Top edge is -200% from center? */
              /* Back is translate(-50%, -150%) (Center at -100). Top edge at -150. */
              /* Let's attach Lid to Back Face. */}
              <div
                className="face bg-blue-300"
                style={{
                  width: size,
                  height: size,
                  transformOrigin: "bottom", // Attached to top of Back Face? No, bottom of THIS face attaches to top of Back Face.
                  // Back Face transform: translate(..., -150%) rotateX(A).
                  // This Face starts at y = -250%?
                  // easier to nest DOM elements for chaining transforms but we are flat here.

                  // Let's use simpler manual adjustment roughly.
                  // Ideally, recursive components.
                  // Hack: Standard "Cross" net usually has 4 in a column? No 1-4-1.
                  // Let's do T-shape:
                  //       T
                  //     L C R
                  //       B
                  //      Top2
                  // Lid attached to Bottom face (Front).

                  transform: `translate(-50%, 50%) rotateX(${-angle}deg) translate(0, ${size}px) rotateX(${-angle}deg)`,
                  // Translate(0, size) moves it down relative to Front.
                  // Then RotateX another angle? When folded (90), Front is vertical. Lid should be horizontal on top.
                  // Front (-90). Lid (-90 relative). Total -180?
                  // Front is vertical up? No, Front is rotateX(-90) -> tilts towards viewer/up?
                  // Standard CSS: rotateX(-90) pushes top back? No.
                  // Let's rely on visual check.
                }}
              >
                Top
              </div>
            </div>
          );
        };

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-indigo-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 2: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Net Unfolder
              </h1>
              <p className="text-slate-500">Fold 2D nets into 3D shapes.</p>
            </header>

            <div className="scene w-full h-[400px] bg-slate-100 rounded-3xl shadow-inner border border-slate-200 flex items-center justify-center overflow-hidden mb-8">
              <FacesCube />
            </div>

            <div className="w-full max-w-md bg-white p-6 rounded-2xl shadow-xl border border-indigo-100">
              <label className="flex justify-between font-bold text-slate-500 mb-4">
                <span>Fold Progress</span>
                <span className="text-indigo-600">
                  {Math.round(fold * 100)}%
                </span>
              </label>
              <input
                type="range"
                min="0"
                max="1"
                step="0.01"
                value={fold}
                onChange={(e) => setFold(Number(e.target.value))}
                className="w-full h-3 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-indigo-600"
              />
              <div className="flex justify-between mt-2 text-xs text-slate-400 font-bold uppercase">
                <span>2D Net</span>
                <span>3D Solid</span>
              </div>
            </div>

            <footer className="mt-8">
              <a
                href="../index.html"
                className="text-indigo-600 hover:text-indigo-700 font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i> Back to
                Dashboard
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
