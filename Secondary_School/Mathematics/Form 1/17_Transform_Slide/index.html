<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Translation Lab | S1 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
      .grid-lines {
        background-size: 40px 40px;
        background-image: linear-gradient(
            to right,
            #e2e8f0 1px,
            transparent 1px
          ),
          linear-gradient(to bottom, #e2e8f0 1px, transparent 1px);
      }
    </style>
  </head>
  <body class="bg-indigo-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [vecX, setVecX] = useState(3);
        const [vecY, setVecY] = useState(2);

        // Grid Coords: -5 to 5.
        // 40px per unit. Center (200, 200).
        const size = 40;
        const originX = 200;
        const originY = 200;

        const startX = -2;
        const startY = -1;

        const endX = startX + vecX;
        const endY = startY + vecY;

        // Convert to Pixels (Y is Up in Maths, Down in CSS. Need to flip Y)
        const toPx = (x, y) => ({
          left: originX + x * size,
          top: originY - y * size, // Minus Y for CSS
        });

        const startPos = toPx(startX, startY);
        const endPos = toPx(endX, endY);

        // Arrow calculation
        const arrowPath = `M ${startPos.left + 20} ${startPos.top + 20} L ${
          endPos.left + 20
        } ${endPos.top + 20}`;

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-indigo-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 2: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Translation Lab
              </h1>
              <p className="text-slate-500">
                Slide shapes by a Translation Vector.
              </p>
            </header>

            <div className="flex gap-12 items-start mb-8">
              <div className="relative w-[400px] h-[400px] bg-white rounded-xl shadow-xl overflow-hidden border border-slate-200">
                {/* Grid */}
                <div className="absolute inset-0 grid-lines opacity-50"></div>
                {/* Axes */}
                <div className="absolute top-0 bottom-0 left-1/2 w-0.5 bg-slate-800 opacity-20"></div>
                <div className="absolute left-0 right-0 top-1/2 h-0.5 bg-slate-800 opacity-20"></div>

                <svg className="absolute inset-0 w-full h-full pointer-events-none">
                  <defs>
                    <marker
                      id="arrowhead"
                      markerWidth="10"
                      markerHeight="7"
                      refX="9"
                      refY="3.5"
                      orient="auto"
                    >
                      <polygon
                        points="0 0, 10 3.5, 0 7"
                        fill="#6366f1"
                        opacity="0.5"
                      />
                    </marker>
                  </defs>
                  <path
                    d={arrowPath}
                    stroke="#6366f1"
                    strokeWidth="2"
                    strokeDasharray="5,5"
                    markerEnd="url(#arrowhead)"
                    opacity="0.5"
                  />
                </svg>

                {/* Pre-image (Ghost) */}
                <div
                  className="absolute w-[40px] h-[40px] border-2 border-slate-400 bg-slate-200/50 flex items-center justify-center font-bold text-slate-500"
                  style={{ ...startPos }}
                >
                  A
                </div>

                {/* Image (Active) */}
                <div
                  className="absolute w-[40px] h-[40px] bg-indigo-500 text-white flex items-center justify-center font-bold shadow-lg transition-all duration-500"
                  style={{ ...endPos }}
                >
                  A'
                </div>

                <div className="absolute top-2 right-2 text-xs font-mono text-slate-400">
                  Grid: 1 unit = 1 square
                </div>
              </div>

              <div className="w-64 bg-white p-6 rounded-2xl shadow-lg border border-indigo-100">
                <h3 className="font-bold text-lg mb-6">Translation Vector</h3>

                <div className="flex items-center justify-center text-5xl font-mono mb-8 bg-slate-50 rounded-xl py-4 border border-slate-200">
                  <div className="flex flex-col items-center gap-2 border-l-2 border-r-2 border-slate-800 px-4 rounded-[8px]">
                    <span className="text-blue-600">{vecX}</span>
                    <span className="text-rose-500">{vecY}</span>
                  </div>
                </div>

                <div className="space-y-6">
                  <div>
                    <label className="flex justify-between font-bold text-slate-500 mb-2">
                      <span>x-shift</span>{" "}
                      <span className="text-blue-600">{vecX}</span>
                    </label>
                    <input
                      type="range"
                      min="-4"
                      max="4"
                      value={vecX}
                      onChange={(e) => setVecX(Number(e.target.value))}
                      className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-blue-600"
                    />
                  </div>
                  <div>
                    <label className="flex justify-between font-bold text-slate-500 mb-2">
                      <span>y-shift</span>{" "}
                      <span className="text-rose-500">{vecY}</span>
                    </label>
                    <input
                      type="range"
                      min="-4"
                      max="4"
                      value={vecY}
                      onChange={(e) => setVecY(Number(e.target.value))}
                      className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-rose-500"
                    />
                  </div>
                </div>
              </div>
            </div>

            <footer className="mt-8">
              <a
                href="../index.html"
                className="text-indigo-500 hover:text-indigo-700 font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i> Back to
                Dashboard
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
