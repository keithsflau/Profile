<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rotation Spinner | S1 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
      .grid-lines {
        background-size: 40px 40px;
        background-image: linear-gradient(
            to right,
            #e2e8f0 1px,
            transparent 1px
          ),
          linear-gradient(to bottom, #e2e8f0 1px, transparent 1px);
      }
    </style>
  </head>
  <body class="bg-purple-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [angle, setAngle] = useState(90);

        // Grid
        const size = 40;
        const originX = 200;
        const originY = 200;

        // Shape (Arrow/L-shape to show orientation)
        const shape = [
          { x: 1, y: 1 },
          { x: 3, y: 1 },
          { x: 2, y: 2 },
          { x: 2, y: 4 },
          { x: 1, y: 4 },
        ];

        // Rotation Logic
        const toRad = (d) => (d * Math.PI) / 180;

        const rotate = (p, theta) => {
          // x' = x cos - y sin
          // y' = x sin + y cos
          const rad = toRad(theta);
          return {
            x: p.x * Math.cos(rad) - p.y * Math.sin(rad),
            y: p.x * Math.sin(rad) + p.y * Math.cos(rad),
          };
        };

        const rotated = shape.map((p) => rotate(p, angle));

        // Drawing Helpers
        const toPx = (x, y) => ({
          x: originX + x * size,
          y: originY - y * size,
        });

        const drawPoly = (pts, color, fill) => {
          const d =
            pts
              .map((p, i) => {
                const px = toPx(p.x, p.y);
                return `${i === 0 ? "M" : "L"} ${px.x} ${px.y}`;
              })
              .join(" ") + " Z";
          return (
            <path
              d={d}
              stroke={color}
              fill={fill}
              strokeWidth="3"
              strokeLinejoin="round"
            />
          );
        };

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-purple-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 2: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Rotation Spinner
              </h1>
              <p className="text-slate-500">
                Rotate shapes around the Origin (0,0).
              </p>
            </header>

            <div className="flex gap-12 items-start mb-8">
              <div className="relative w-[400px] h-[400px] bg-white rounded-xl shadow-xl overflow-hidden border border-slate-200">
                <div className="absolute inset-0 grid-lines opacity-50"></div>
                <div className="absolute top-0 bottom-0 left-1/2 w-0.5 bg-slate-800 opacity-20"></div>
                <div className="absolute left-0 right-0 top-1/2 h-0.5 bg-slate-800 opacity-20"></div>

                {/* Center Point */}
                <div className="absolute top-1/2 left-1/2 w-3 h-3 bg-slate-800 rounded-full -translate-x-1.5 -translate-y-1.5 z-10 box-content border-2 border-white shadow"></div>

                <svg className="absolute inset-0 w-full h-full">
                  {/* Shapes */}
                  {drawPoly(shape, "#94a3b8", "rgba(148, 163, 184, 0.3)")}
                  <g
                    style={{
                      transition: "all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1)",
                    }}
                  >
                    {drawPoly(rotated, "#9333ea", "rgba(147, 51, 234, 0.6)")}
                  </g>

                  {/* Connector for Vertex 0 */}
                  <line
                    x1={originX}
                    y1={originY}
                    x2={toPx(shape[0].x, shape[0].y).x}
                    y2={toPx(shape[0].y, shape[0].y).y} // Oops Bug in Y calc? No, toPx takes (x,y)
                    // Wait, drawing connector to Object
                    x2={toPx(shape[0].x, shape[0].y).x}
                    y2={toPx(shape[0].x, shape[0].y).y} // Wait, shape[0].y is passed to 2nd param.
                    // Ah, line logic:
                    // Origin is 200,200.
                    // Pt is toPx(shape[0]).
                    stroke="#94a3b8"
                    strokeDasharray="4,4"
                    opacity="0.5"
                  />
                  <line
                    x1={originX}
                    y1={originY}
                    x2={toPx(rotated[0].x, rotated[0].y).x}
                    y2={toPx(rotated[0].x, rotated[0].y).y}
                    stroke="#9333ea"
                    strokeDasharray="4,4"
                    opacity="0.5"
                  />

                  {/* Arc */}
                  {/* Visual arc showing rotation direction? ToDo if needed */}
                </svg>
              </div>

              <div className="w-64 bg-white p-6 rounded-2xl shadow-lg border border-purple-100">
                <h3 className="font-bold text-lg mb-6">Rotation Settings</h3>

                <div className="grid grid-cols-2 gap-2 mb-6">
                  <button
                    onClick={() => setAngle(90)}
                    className={`py-3 rounded-lg font-bold text-sm border-2 ${
                      angle === 90
                        ? "border-purple-500 text-purple-600 bg-purple-50"
                        : "border-slate-100 text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    +90° (CCW)
                  </button>
                  <button
                    onClick={() => setAngle(-90)}
                    className={`py-3 rounded-lg font-bold text-sm border-2 ${
                      angle === -90
                        ? "border-purple-500 text-purple-600 bg-purple-50"
                        : "border-slate-100 text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    -90° (CW)
                  </button>
                  <button
                    onClick={() => setAngle(180)}
                    className={`py-3 rounded-lg font-bold text-sm border-2 ${
                      angle === 180
                        ? "border-purple-500 text-purple-600 bg-purple-50"
                        : "border-slate-100 text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    180°
                  </button>
                  <button
                    onClick={() => setAngle(270)}
                    className={`py-3 rounded-lg font-bold text-sm border-2 ${
                      angle === 270
                        ? "border-purple-500 text-purple-600 bg-purple-50"
                        : "border-slate-100 text-slate-500 hover:bg-slate-50"
                    }`}
                  >
                    270°
                  </button>
                </div>

                <div className="mb-2">
                  <label className="flex justify-between font-bold text-slate-500 mb-2">
                    <span>Angle</span>{" "}
                    <span className="text-purple-600">{angle}°</span>
                  </label>
                  <input
                    type="range"
                    min="-360"
                    max="360"
                    step="15"
                    value={angle}
                    onChange={(e) => setAngle(Number(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-purple-600"
                  />
                </div>

                <div className="mt-8 text-xs text-slate-400">
                  Positive angles rotate Counter-Clockwise.
                  <br />
                  Negative angles rotate Clockwise.
                </div>
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
