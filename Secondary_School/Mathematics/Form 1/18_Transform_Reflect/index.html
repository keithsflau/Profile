<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reflection Mirror | S1 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
      .grid-lines {
        background-size: 40px 40px;
        background-image: linear-gradient(
            to right,
            #e2e8f0 1px,
            transparent 1px
          ),
          linear-gradient(to bottom, #e2e8f0 1px, transparent 1px);
      }
    </style>
  </head>
  <body class="bg-cyan-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [axis, setAxis] = useState("x"); // 'x' axis (horizontal line) or 'y' axis (vertical line) logic?
        // Usually "Reflection in X-axis" means the line y=0.
        // Let's call them "Horizontal Mirror" (y=k) and "Vertical Mirror" (x=k).
        const [type, setType] = useState("horizontal"); // horizontal, vertical
        const [pos, setPos] = useState(0);

        // Grid
        const size = 40;
        const originX = 200;
        const originY = 200;

        // Shape (Triangle)
        const shape = [
          { x: 1, y: 1 },
          { x: 3, y: 1 },
          { x: 1, y: 4 },
        ];

        // Calculate Reflected Shape
        const reflected = shape.map((p) => {
          if (type === "vertical") {
            // Mirror line x = pos.
            // New x = pos - (x - pos) = 2*pos - x
            return { x: 2 * pos - p.x, y: p.y };
          } else {
            // Mirror line y = pos.
            // New y = 2*pos - p.y
            return { x: p.x, y: 2 * pos - p.y };
          }
        });

        // Drawing Helpers
        const toPx = (x, y) => ({
          x: originX + x * size,
          y: originY - y * size,
        });

        const drawPoly = (pts, color, fill) => {
          const d =
            pts
              .map((p, i) => {
                const px = toPx(p.x, p.y);
                return `${i === 0 ? "M" : "L"} ${px.x} ${px.y}`;
              })
              .join(" ") + " Z";
          return (
            <path
              d={d}
              stroke={color}
              fill={fill}
              strokeWidth="3"
              strokeLinejoin="round"
            />
          );
        };

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-cyan-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 2: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Reflection Mirror
              </h1>
              <p className="text-slate-500">
                Reflect shapes across a mirror line.
              </p>
            </header>

            <div className="flex gap-12 items-start mb-8">
              <div className="relative w-[400px] h-[400px] bg-white rounded-xl shadow-xl overflow-hidden border border-slate-200">
                <div className="absolute inset-0 grid-lines opacity-50"></div>
                <div className="absolute top-0 bottom-0 left-1/2 w-0.5 bg-slate-800 opacity-20"></div>
                <div className="absolute left-0 right-0 top-1/2 h-0.5 bg-slate-800 opacity-20"></div>

                <svg className="absolute inset-0 w-full h-full">
                  {/* Mirror Line */}
                  {type === "vertical" ? (
                    <line
                      x1={originX + pos * size}
                      y1="0"
                      x2={originX + pos * size}
                      y2="400"
                      stroke="#f43f5e"
                      strokeWidth="2"
                      strokeDasharray="8,4"
                    />
                  ) : (
                    <line
                      x1="0"
                      y1={originY - pos * size}
                      x2="400"
                      y2={originY - pos * size}
                      stroke="#f43f5e"
                      strokeWidth="2"
                      strokeDasharray="8,4"
                    />
                  )}

                  {/* Shapes */}
                  {drawPoly(shape, "#94a3b8", "rgba(148, 163, 184, 0.3)")}
                  <g style={{ transition: "all 0.5s ease-out" }}>
                    {drawPoly(reflected, "#06b6d4", "rgba(6, 182, 212, 0.6)")}
                  </g>

                  {/* Connecting Lines (Optional) */}
                  {shape.map((p, i) => {
                    const p1 = toPx(p.x, p.y);
                    const p2 = toPx(reflected[i].x, reflected[i].y);
                    return (
                      <line
                        key={i}
                        x1={p1.x}
                        y1={p1.y}
                        x2={p2.x}
                        y2={p2.y}
                        stroke="#f43f5e"
                        strokeWidth="1"
                        strokeDasharray="2,2"
                        opacity="0.4"
                      />
                    );
                  })}
                </svg>

                {/* Labels */}
                <div className="absolute top-2 right-2 text-xs font-mono text-slate-400">
                  Object (Grey) -> Image (Blue)
                </div>
              </div>

              <div className="w-64 bg-white p-6 rounded-2xl shadow-lg border border-cyan-100">
                <h3 className="font-bold text-lg mb-6">Mirror Settings</h3>

                <div className="flex bg-slate-100 p-1 rounded-lg mb-6">
                  <button
                    onClick={() => {
                      setType("horizontal");
                      setPos(0);
                    }}
                    className={`flex-1 py-2 text-sm font-bold rounded ${
                      type === "horizontal"
                        ? "bg-white shadow text-cyan-600"
                        : "text-slate-500"
                    }`}
                  >
                    Horizontal
                  </button>
                  <button
                    onClick={() => {
                      setType("vertical");
                      setPos(0);
                    }}
                    className={`flex-1 py-2 text-sm font-bold rounded ${
                      type === "vertical"
                        ? "bg-white shadow text-cyan-600"
                        : "text-slate-500"
                    }`}
                  >
                    Vertical
                  </button>
                </div>

                <div className="mb-2">
                  <label className="flex justify-between font-bold text-slate-500 mb-2">
                    <span>Position</span>
                    <span className="bg-rose-100 text-rose-600 px-2 rounded">
                      {type === "vertical" ? `x = ${pos}` : `y = ${pos}`}
                    </span>
                  </label>
                  <input
                    type="range"
                    min="-4"
                    max="4"
                    value={pos}
                    onChange={(e) => setPos(Number(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg appearance-none cursor-pointer accent-rose-500"
                  />
                </div>

                <div className="mt-8 text-xs text-slate-400 leading-relaxed">
                  Note that the Image is strictly mirrored. The distance from
                  the object to the mirror line equals the distance from the
                  image to the mirror line.
                </div>
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
