<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Compass Bearings | S2 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
    </style>
  </head>
  <body class="bg-slate-100 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [angle, setAngle] = useState(60); // 0 is North. Clockwise.

        // Coordinates for B
        const r = 120;
        const rad = (angle - 90) * (Math.PI / 180); // Math uses 0 at East (Right), CCW.
        // Wait, Bearing 0 is Up (North). 90 is Right (East).
        // Let's stick to bearing logic.
        // x = r * sin(theta)
        // y = -r * cos(theta) (Up is negative Y)

        const bearingRad = angle * (Math.PI / 180);
        const bx = r * Math.sin(bearingRad);
        const by = -r * Math.cos(bearingRad);

        const displayX = 150 + bx;
        const displayY = 150 + by;

        // Compass Bearing Format
        // N/S (Angle) E/W
        let compassStr = "";
        let qAngle = 0;

        if (angle === 0) compassStr = "Due North";
        else if (angle === 90) compassStr = "Due East";
        else if (angle === 180) compassStr = "Due South";
        else if (angle === 270) compassStr = "Due West";
        else if (angle > 0 && angle < 90) {
          compassStr = `N ${angle.toFixed(1)}° E`;
        } else if (angle > 90 && angle < 180) {
          compassStr = `S ${(180 - angle).toFixed(1)}° E`;
        } else if (angle > 180 && angle < 270) {
          compassStr = `S ${(angle - 180).toFixed(1)}° W`;
        } else {
          compassStr = `N ${(360 - angle).toFixed(1)}° W`;
        }

        // True Bearing Format (000)
        const trueBearing = Math.round(angle).toString().padStart(3, "0") + "°";

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-slate-500 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 5: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Compass Bearings
              </h1>
              <p className="text-slate-500">
                Master True Bearings and Compass Directions.
              </p>
            </header>

            <div className="flex flex-col md:flex-row gap-12 items-center">
              {/* Map / Compass */}
              <div className="relative w-[300px] h-[300px] bg-white rounded-full shadow-2xl border-4 border-slate-200">
                {/* Crosshairs */}
                <div className="absolute top-0 bottom-0 left-1/2 w-px bg-slate-300"></div>
                <div className="absolute left-0 right-0 top-1/2 h-px bg-slate-300"></div>

                {/* Labels N S E W */}
                <div className="absolute top-2 left-1/2 -translate-x-1/2 font-bold text-slate-400">
                  N
                </div>
                <div className="absolute bottom-2 left-1/2 -translate-x-1/2 font-bold text-slate-400">
                  S
                </div>
                <div className="absolute right-4 top-1/2 -translate-y-1/2 font-bold text-slate-400">
                  E
                </div>
                <div className="absolute left-4 top-1/2 -translate-y-1/2 font-bold text-slate-400">
                  W
                </div>

                {/* SVG Overlay */}
                <svg className="absolute inset-0 w-full h-full overflow-visible">
                  {/* Center Point A */}
                  <circle cx="150" cy="150" r="4" fill="#3b82f6" />
                  <text
                    x="140"
                    y="165"
                    className="text-xs font-bold fill-blue-500"
                  >
                    A
                  </text>

                  {/* Line to B */}
                  <line
                    x1="150"
                    y1="150"
                    x2={displayX}
                    y2={displayY}
                    stroke="#f43f5e"
                    strokeWidth="3"
                  />

                  {/* Point B */}
                  <circle
                    cx={displayX}
                    cy={displayY}
                    r="6"
                    fill="#f43f5e"
                    stroke="white"
                    strokeWidth="2"
                  />
                  <text
                    x={displayX + 10}
                    y={displayY}
                    className="text-xs font-bold fill-rose-500"
                  >
                    B
                  </text>

                  {/* Arrow Head on Line */}
                  {/* Optional */}

                  {/* Arc for Angle (Clockwise from North) */}
                  {/* Only drawing simple arcs for quadrants for now or standard SVG arc */}
                  {/* A simplified visual indicator is sufficient */}
                </svg>
              </div>

              {/* Controls */}
              <div className="w-full md:w-80 flex flex-col gap-6">
                <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                  <label className="block text-xs font-bold text-slate-400 uppercase mb-4">
                    Rotate Target
                  </label>
                  <input
                    type="range"
                    min="0"
                    max="359"
                    value={angle}
                    onChange={(e) => setAngle(Number(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg accent-slate-800"
                  />
                  <div className="flex justify-between mt-2 text-xs font-bold text-slate-400">
                    <span>0°</span>
                    <span>180°</span>
                    <span>360°</span>
                  </div>
                </div>

                <div className="space-y-4">
                  <div className="bg-blue-600 text-white p-6 rounded-2xl shadow-lg hover:bg-blue-700 transition">
                    <div className="text-xs font-bold text-blue-200 uppercase mb-1">
                      True Bearing
                    </div>
                    <div className="text-4xl font-mono font-extrabold">
                      {trueBearing}
                    </div>
                    <div className="text-xs text-blue-200 mt-1">
                      Clockwise from North (3 digits)
                    </div>
                  </div>

                  <div className="bg-white text-slate-800 p-6 rounded-2xl shadow-lg border border-slate-200 hover:border-blue-400 transition">
                    <div className="text-xs font-bold text-slate-400 uppercase mb-1">
                      Compass Bearing
                    </div>
                    <div className="text-3xl font-mono font-bold text-rose-500">
                      {compassStr}
                    </div>
                    <div className="text-xs text-slate-400 mt-1">
                      Acute angle from North or South
                    </div>
                  </div>
                </div>
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
