<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Surface Area 表面積 | S2 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
    </style>
  </head>
  <body class="bg-rose-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [lang, setLang] = useState("en");
        const [shape, setShape] = useState("cube");
        const [a, setA] = useState(5);
        const [b, setB] = useState(4);
        const [c, setC] = useState(3);

        const t = {
          title: { en: "Surface Area Calculator", zh: "表面積計算器" },
          cube: { en: "Cube", zh: "正方體" },
          cuboid: { en: "Cuboid", zh: "長方體" },
          cylinder: { en: "Cylinder", zh: "圓柱體" },
          sphere: { en: "Sphere", zh: "球體" },
          result: { en: "Surface Area", zh: "表面積" },
          back: { en: "Back to Dashboard", zh: "返回主頁" },
        };

        let sa = 0,
          formula = "";
        if (shape === "cube") {
          sa = 6 * a * a;
          formula = `6 × ${a}² = ${sa}`;
        } else if (shape === "cuboid") {
          sa = 2 * (a * b + b * c + a * c);
          formula = `2(${a}×${b} + ${b}×${c} + ${a}×${c}) = ${sa}`;
        } else if (shape === "cylinder") {
          sa = 2 * Math.PI * a * (a + b);
          formula = `2π × ${a} × (${a} + ${b}) = ${sa.toFixed(2)}`;
        } else if (shape === "sphere") {
          sa = 4 * Math.PI * a * a;
          formula = `4π × ${a}² = ${sa.toFixed(2)}`;
        }

        return (
          <div className="p-6 max-w-4xl mx-auto min-h-screen flex flex-col">
            <header className="mb-6 flex justify-between items-center">
              <div>
                <div className="text-rose-600 font-bold uppercase text-xs tracking-widest mb-1">
                  S2 Math
                </div>
                <h1 className="text-3xl font-extrabold text-slate-900">
                  {t.title[lang]}
                </h1>
              </div>
              <button
                onClick={() => setLang(lang === "en" ? "zh" : "en")}
                className="px-3 py-1 bg-white border border-rose-200 rounded-lg text-sm font-bold hover:bg-rose-100"
              >
                {lang === "en" ? "中文" : "ENG"}
              </button>
            </header>

            {/* Shape Selector */}
            <div className="flex gap-2 mb-6 flex-wrap">
              {["cube", "cuboid", "cylinder", "sphere"].map((s) => (
                <button
                  key={s}
                  onClick={() => setShape(s)}
                  className={`px-4 py-2 rounded-lg font-bold transition ${
                    shape === s
                      ? "bg-rose-500 text-white"
                      : "bg-white text-rose-600 border border-rose-200"
                  }`}
                >
                  {t[s][lang]}
                </button>
              ))}
            </div>

            {/* Inputs */}
            <div className="grid grid-cols-3 gap-4 mb-6">
              <div className="bg-white p-4 rounded-xl shadow-sm border border-rose-100">
                <label className="block text-xs font-bold text-slate-400 mb-1">
                  {shape === "sphere" || shape === "cylinder"
                    ? lang === "en"
                      ? "Radius"
                      : "半徑"
                    : "a"}
                  : {a}
                </label>
                <input
                  type="range"
                  min="1"
                  max="10"
                  value={a}
                  onChange={(e) => setA(Number(e.target.value))}
                  className="w-full accent-rose-500"
                />
              </div>
              {(shape === "cuboid" || shape === "cylinder") && (
                <div className="bg-white p-4 rounded-xl shadow-sm border border-rose-100">
                  <label className="block text-xs font-bold text-slate-400 mb-1">
                    {shape === "cylinder"
                      ? lang === "en"
                        ? "Height"
                        : "高"
                      : "b"}
                    : {b}
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    value={b}
                    onChange={(e) => setB(Number(e.target.value))}
                    className="w-full accent-rose-500"
                  />
                </div>
              )}
              {shape === "cuboid" && (
                <div className="bg-white p-4 rounded-xl shadow-sm border border-rose-100">
                  <label className="block text-xs font-bold text-slate-400 mb-1">
                    c: {c}
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    value={c}
                    onChange={(e) => setC(Number(e.target.value))}
                    className="w-full accent-rose-500"
                  />
                </div>
              )}
            </div>

            {/* Visual */}
            <div
              className="bg-white p-8 rounded-2xl border border-rose-100 flex items-center justify-center mb-6"
              style={{ minHeight: "180px" }}
            >
              <svg width="150" height="150" className="overflow-visible">
                {shape === "cube" && (
                  <g>
                    <rect
                      x="30"
                      y="30"
                      width="90"
                      height="90"
                      fill="rgba(244, 63, 94, 0.2)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <polygon
                      points="30,30 60,10 150,10 120,30"
                      fill="rgba(244, 63, 94, 0.3)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <polygon
                      points="120,30 150,10 150,100 120,120"
                      fill="rgba(244, 63, 94, 0.4)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                  </g>
                )}
                {shape === "cuboid" && (
                  <g>
                    <rect
                      x="20"
                      y="40"
                      width="80"
                      height="100"
                      fill="rgba(244, 63, 94, 0.2)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <polygon
                      points="20,40 50,20 130,20 100,40"
                      fill="rgba(244, 63, 94, 0.3)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <polygon
                      points="100,40 130,20 130,120 100,140"
                      fill="rgba(244, 63, 94, 0.4)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                  </g>
                )}
                {shape === "cylinder" && (
                  <g>
                    <ellipse
                      cx="75"
                      cy="30"
                      rx="50"
                      ry="20"
                      fill="rgba(244, 63, 94, 0.3)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <rect
                      x="25"
                      y="30"
                      width="100"
                      height="90"
                      fill="rgba(244, 63, 94, 0.2)"
                      stroke="none"
                    />
                    <line
                      x1="25"
                      y1="30"
                      x2="25"
                      y2="120"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <line
                      x1="125"
                      y1="30"
                      x2="125"
                      y2="120"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                    <ellipse
                      cx="75"
                      cy="120"
                      rx="50"
                      ry="20"
                      fill="rgba(244, 63, 94, 0.2)"
                      stroke="#f43f5e"
                      strokeWidth="2"
                    />
                  </g>
                )}
                {shape === "sphere" && (
                  <circle
                    cx="75"
                    cy="75"
                    r="60"
                    fill="rgba(244, 63, 94, 0.2)"
                    stroke="#f43f5e"
                    strokeWidth="2"
                  />
                )}
              </svg>
            </div>

            {/* Result */}
            <div className="bg-rose-500 text-white p-8 rounded-2xl shadow-xl text-center">
              <div className="text-xs uppercase font-bold opacity-80 mb-2">
                {t.result[lang]}
              </div>
              <div className="text-4xl font-extrabold mb-2">
                {sa.toFixed(2)} {lang === "en" ? "sq units" : "平方單位"}
              </div>
              <div className="text-lg font-mono opacity-90">{formula}</div>
            </div>

            <footer className="mt-auto pt-8">
              <a
                href="../index.html"
                className="text-rose-600 hover:text-rose-700 font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i>
                {t.back[lang]}
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
