<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Polygon Sum | S2 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
    </style>
  </head>
  <body class="bg-cyan-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [n, setN] = useState(5); // Sides (3 to 10)
        const [showTriangles, setShowTriangles] = useState(false);

        // Radius for polygon
        const r = 120;
        const cx = 150;
        const cy = 150;

        // Generate vertices
        const vertices = Array.from({ length: n }).map((_, i) => {
          const angle = (i * 2 * Math.PI) / n - Math.PI / 2; // Start at top
          return {
            x: cx + r * Math.cos(angle),
            y: cy + r * Math.sin(angle),
          };
        });

        // Prepare points string for Polygon SVG
        const pointsStr = vertices.map((v) => `${v.x},${v.y}`).join(" ");

        // Triangles from vertex 0 to all others (except adjacent)
        // Vertices indexes: 0, 1, 2, ..., n-1
        // Diagonals connect 0 to 2, 0 to 3, ... 0 to n-2.
        const diagonals = [];
        if (showTriangles) {
          for (let i = 2; i < n - 1; i++) {
            diagonals.push(vertices[i]);
          }
        }

        const angleSum = (n - 2) * 180;
        const eachAngle = (angleSum / n).toFixed(1);

        return (
          <div className="p-8 max-w-4xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-cyan-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 5: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Polygon Angles
              </h1>
              <p className="text-slate-500">
                Discover the sum of interior angles.
              </p>
            </header>

            <div className="flex flex-col md:flex-row gap-12 items-center">
              {/* Visualization */}
              <div className="relative w-[300px] h-[300px] bg-white rounded-3xl shadow-xl border border-cyan-100 flex items-center justify-center">
                <svg width="300" height="300" className="overflow-visible">
                  {/* Main Polygon */}
                  <polygon
                    points={pointsStr}
                    fill="#e0f2fe"
                    stroke="#0ea5e9"
                    strokeWidth="3"
                  />

                  {/* Diagonals to show triangles */}
                  {showTriangles &&
                    diagonals.map((v, i) => (
                      <line
                        key={i}
                        x1={vertices[0].x}
                        y1={vertices[0].y}
                        x2={v.x}
                        y2={v.y}
                        stroke="#f43f5e"
                        strokeWidth="2"
                        strokeDasharray="5,5"
                      />
                    ))}

                  {/* Vertices */}
                  {vertices.map((v, i) => (
                    <circle key={i} cx={v.x} cy={v.y} r="4" fill="#0284c7" />
                  ))}

                  {/* Label Vertices */}
                  {/* <text x={vertices[0].x} y={vertices[0].y - 10} textAnchor="middle" className="font-bold text-xs">A</text> */}
                </svg>

                <div className="absolute bottom-4 right-4 bg-white/80 px-2 py-1 rounded text-xs font-bold text-slate-400">
                  Regular {n}-gon
                </div>
              </div>

              {/* Controls & Math */}
              <div className="flex flex-col gap-6 max-w-sm w-full">
                <div className="bg-white p-6 rounded-2xl shadow border border-slate-100">
                  <label className="block text-xs font-bold text-cyan-500 uppercase mb-2">
                    Number of Sides (n): {n}
                  </label>
                  <input
                    type="range"
                    min="3"
                    max="12"
                    step="1"
                    value={n}
                    onChange={(e) => setN(Number(e.target.value))}
                    className="w-full accent-cyan-500 h-2 bg-slate-200 rounded-lg custom-range"
                  />
                  <div className="mt-4 flex gap-2">
                    <button
                      onClick={() => setShowTriangles(!showTriangles)}
                      className={`flex-1 py-2 rounded-lg font-bold text-sm border transition ${
                        showTriangles
                          ? "bg-rose-100 text-rose-600 border-rose-300"
                          : "bg-slate-50 text-slate-500 border-slate-200"
                      }`}
                    >
                      {showTriangles ? "Hide Triangles" : "Show Triangles"}
                    </button>
                  </div>
                </div>

                <div className="bg-slate-800 text-white p-6 rounded-2xl shadow-lg relative overflow-hidden">
                  <div className="relative z-10">
                    <div className="text-xs font-bold text-cyan-400 uppercase mb-1">
                      Interior Angle Sum
                    </div>
                    <div className="text-3xl font-mono font-bold mb-4">
                      {angleSum}°
                    </div>
                    <div className="text-sm text-slate-300 space-y-1">
                      <div className="flex justify-between">
                        <span>Formula:</span>{" "}
                        <span className="text-cyan-300">(n - 2) × 180°</span>
                      </div>
                      <div className="flex justify-between">
                        <span>Subbed:</span> <span>({n} - 2) × 180°</span>
                      </div>
                      <div className="flex justify-between font-bold border-t border-slate-600 pt-1 mt-1">
                        <span>Triangles:</span>{" "}
                        <span className="text-rose-400">{n - 2}</span>
                      </div>
                    </div>
                  </div>
                  <div className="absolute right-[-20px] bottom-[-20px] text-slate-700 text-8xl opacity-20">
                    <i className="fa-solid fa-draw-polygon"></i>
                  </div>
                </div>

                <div className="bg-white p-4 rounded-xl border border-slate-100 text-center">
                  <div className="text-xs text-slate-400 uppercase font-bold">
                    Each Angle (Regular)
                  </div>
                  <div className="text-xl font-bold text-slate-700">
                    {eachAngle}°
                  </div>
                </div>
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
