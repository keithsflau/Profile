<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cylinder Explorer | S2 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
      .cylinder-side {
        background: linear-gradient(
          90deg,
          #0ea5e9 0%,
          #38bdf8 30%,
          #7dd3fc 50%,
          #38bdf8 70%,
          #0ea5e9 100%
        );
      }
    </style>
  </head>
  <body class="bg-indigo-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [r, setR] = useState(3);
        const [h, setH] = useState(5);
        const [showNet, setShowNet] = useState(false);

        // Calc
        const areaBase = Math.PI * r * r;
        const circ = 2 * Math.PI * r;
        const areaBody = circ * h;
        const totalSA = 2 * areaBase + areaBody;
        const volume = areaBase * h;

        // Visual Scale
        const scale = 20;

        return (
          <div className="p-8 max-w-5xl mx-auto min-h-screen flex flex-col items-center">
            <header className="mb-8 text-center">
              <div className="text-indigo-600 font-bold uppercase text-xs tracking-widest mb-2">
                Unit 5: Geometry
              </div>
              <h1 className="text-4xl font-extrabold text-slate-900">
                Cylinder Explorer
              </h1>
              <p className="text-slate-500">
                Volume and Surface Area of a Cylinder.
              </p>
            </header>

            <div className="flex flex-col md:flex-row gap-12 w-full">
              {/* Visualization Stage */}
              <div className="flex-1 bg-white rounded-3xl shadow-xl border border-indigo-100 min-h-[400px] flex items-center justify-center p-8 relative overflow-hidden perspective-1000">
                <button
                  onClick={() => setShowNet(!showNet)}
                  className="absolute top-4 right-4 bg-indigo-100 text-indigo-600 px-4 py-2 rounded-lg font-bold text-sm hover:bg-indigo-200"
                >
                  <i
                    className={`fa-solid ${showNet ? "fa-cube" : "fa-map"}`}
                  ></i>{" "}
                  {showNet ? "Show 3D Solid" : "Show Net"}
                </button>

                {!showNet ? (
                  // 3D Solid View (CSS Render)
                  <div className="relative group">
                    {/* Top Ellipse */}
                    <div
                      className="absolute top-0 left-0 rounded-full bg-sky-300 border-2 border-sky-600 z-10"
                      style={{
                        width: r * 2 * scale,
                        height: r * scale * 0.6, // Perspective flattening
                        top: -(r * scale * 0.3),
                      }}
                    ></div>

                    {/* Body */}
                    <div
                      className="cylinder-side border-x-2 border-sky-600 opacity-90"
                      style={{ width: r * 2 * scale, height: h * scale }}
                    ></div>

                    {/* Bottom Ellipse (Hidden partly) */}
                    <div
                      className="absolute bottom-0 left-0 rounded-full bg-sky-600 border-2 border-sky-800 -z-10"
                      style={{
                        width: r * 2 * scale,
                        height: r * scale * 0.6,
                        bottom: -(r * scale * 0.3),
                      }}
                    ></div>

                    {/* Labels */}
                    <div className="absolute top-1/2 -right-12 font-mono font-bold text-slate-400">
                      h={h}
                    </div>
                    <div className="absolute -top-8 left-1/2 transform -translate-x-1/2 font-mono font-bold text-slate-400">
                      r={r}
                    </div>
                  </div>
                ) : (
                  // Net View (Unrolled)
                  <div className="flex flex-col items-center gap-4 animate-fade-in-up">
                    {/* Top Circle */}
                    <div
                      className="rounded-full bg-sky-300 border-2 border-sky-500 flex items-center justify-center text-xs font-bold text-sky-800"
                      style={{ width: r * 2 * scale, height: r * 2 * scale }}
                    >
                      Area: πr²
                    </div>

                    {/* Rect Body */}
                    <div
                      className="bg-sky-100 border-2 border-sky-400 flex items-center justify-center text-center p-2"
                      style={{
                        width: Math.min(circ * scale, 400),
                        height: h * scale,
                      }}
                      // Clamped width for viewability, note "Not to scale" maybe
                    >
                      <div className="text-xs font-bold text-sky-600">
                        Width = 2πr <br />
                        Height = h
                      </div>
                    </div>

                    {/* Bottom Circle */}
                    <div
                      className="rounded-full bg-sky-300 border-2 border-sky-500 flex items-center justify-center text-xs font-bold text-sky-800"
                      style={{ width: r * 2 * scale, height: r * 2 * scale }}
                    >
                      Area: πr²
                    </div>
                  </div>
                )}
              </div>

              {/* Controls & Math */}
              <div className="w-full md:w-80 flex flex-col gap-6">
                <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                  <label className="block text-xs font-bold text-slate-400 uppercase mb-2">
                    Radius (r)
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    step="0.5"
                    value={r}
                    onChange={(e) => setR(Number(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg accent-sky-500 mb-2"
                  />
                  <div className="text-right font-bold text-sky-600">{r}</div>
                </div>

                <div className="bg-white p-6 rounded-2xl shadow-sm border border-slate-100">
                  <label className="block text-xs font-bold text-slate-400 uppercase mb-2">
                    Height (h)
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="15"
                    step="0.5"
                    value={h}
                    onChange={(e) => setH(Number(e.target.value))}
                    className="w-full h-2 bg-slate-200 rounded-lg accent-sky-500 mb-2"
                  />
                  <div className="text-right font-bold text-sky-600">{h}</div>
                </div>

                <div className="bg-slate-800 text-white p-6 rounded-2xl shadow-lg mt-4 space-y-4">
                  <div>
                    <div className="text-xs font-bold text-sky-300 uppercase mb-1">
                      Volume (πr²h)
                    </div>
                    <div className="text-3xl font-mono font-bold">
                      {volume.toFixed(2)}
                    </div>
                  </div>
                  <div className="w-full h-px bg-slate-600"></div>
                  <div>
                    <div className="text-xs font-bold text-emerald-300 uppercase mb-1">
                      Total Surface Area
                    </div>
                    <div className="text-3xl font-mono font-bold">
                      {totalSA.toFixed(2)}
                    </div>
                    <div className="text-[10px] text-slate-400 mt-1">
                      2(πr²) + 2πrh
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <footer className="mt-8">
              <a
                href="../index.html"
                className="text-indigo-600 hover:text-indigo-700 font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i> Back to
                Dashboard
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
