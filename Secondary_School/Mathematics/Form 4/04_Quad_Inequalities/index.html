<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quadratic Inequalities 二次不等式 | S4 Math</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", sans-serif;
      }
    </style>
  </head>
  <body class="bg-red-50 text-slate-800 min-h-screen">
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const App = () => {
        const [lang, setLang] = useState("en");
        const [root1, setRoot1] = useState(-2);
        const [root2, setRoot2] = useState(3);
        const [inequality, setInequality] = useState(">"); // >, <

        const t = {
          title: { en: "Quadratic Inequalities", zh: "二次不等式" },
          solution: { en: "Solution", zh: "解" },
          region: { en: "Shaded Region", zh: "陰影區域" },
          back: { en: "Back to Dashboard", zh: "返回主頁" },
        };

        const r1 = Math.min(root1, root2);
        const r2 = Math.max(root1, root2);

        // Curve: y = (x - r1)(x - r2)
        // Midpoint
        const mid = (r1 + r2) / 2;
        const vertexY = (mid - r1) * (mid - r2);

        // To make visual nice, we ensure it fits
        // y = x^2 - (r1+r2)x + r1r2

        const toSvgX = (x) => 200 + x * 25;
        const toSvgY = (y) => 200 - y * 10; // Scale Y differently to keep in view

        const points = [];
        for (let x = -8; x <= 8; x += 0.2) {
          const y = (x - r1) * (x - r2);
          points.push(`${toSvgX(x)},${toSvgY(y)}`);
        }
        const pathData = points.join(" L ");

        // Shading
        // We need to form a closed path for filling
        // For > 0 (Positive): Shade ABOVE x-axis but BOUNDED by curve?
        // Usually we shade the x-axis segments or the area between curve and axis.
        // Let's shade the regions of x on the number line primarily, but visual graph is key.

        // Actually, convention:
        // Solve f(x) > 0 -> y is positive.
        // We highlight the part of the curve above x axis.

        const solutionText =
          inequality === ">" ? `x < ${r1} or x > ${r2}` : `${r1} < x < ${r2}`;

        return (
          <div className="p-6 max-w-4xl mx-auto min-h-screen flex flex-col">
            <header className="mb-6 flex justify-between items-center">
              <div>
                <div className="text-red-600 font-bold uppercase text-xs tracking-widest mb-1">
                  S4 Math
                </div>
                <h1 className="text-3xl font-extrabold text-slate-900">
                  {t.title[lang]}
                </h1>
              </div>
              <button
                onClick={() => setLang(lang === "en" ? "zh" : "en")}
                className="px-3 py-1 bg-white border border-red-200 rounded-lg text-sm font-bold hover:bg-red-100"
              >
                {lang === "en" ? "中文" : "ENG"}
              </button>
            </header>

            <div className="bg-white p-4 rounded-2xl border border-red-100 mb-6 text-center shadow-sm">
              <div className="text-3xl font-mono font-bold text-slate-700">
                (x - ({r1}))(x - ({r2})){" "}
                <span className="text-red-600 font-extrabold">
                  {inequality}
                </span>{" "}
                0
              </div>
            </div>

            <div
              className="bg-white p-6 rounded-2xl border border-red-100 shadow-sm mb-6 flex justify-center relative overflow-hidden"
              style={{ height: "350px" }}
            >
              <svg viewBox="0 0 400 300" className="w-full h-full">
                <line
                  x1="0"
                  y1="200"
                  x2="400"
                  y2="200"
                  stroke="#94a3b8"
                  strokeWidth="2"
                />
                <line
                  x1="200"
                  y1="0"
                  x2="200"
                  y2="300"
                  stroke="#94a3b8"
                  strokeWidth="2"
                />

                {/* Highlighted Regions on Graph */}
                {inequality === ">" ? (
                  <>
                    {/* Left Wing */}
                    <path
                      d={`M ${points
                        .filter((_, i) => -8 + i * 0.2 < r1)
                        .join(" L ")}`}
                      fill="none"
                      stroke="#ef4444"
                      strokeWidth="4"
                    />
                    {/* Right Wing */}
                    <path
                      d={`M ${points
                        .filter((_, i) => -8 + i * 0.2 > r2)
                        .join(" L ")}`}
                      fill="none"
                      stroke="#ef4444"
                      strokeWidth="4"
                    />
                    <path
                      d={`M ${points
                        .filter(
                          (_, i) => -8 + i * 0.2 >= r1 && -8 + i * 0.2 <= r2
                        )
                        .join(" L ")}`}
                      fill="none"
                      stroke="#cbd5e1"
                      strokeWidth="2"
                      strokeDasharray="4"
                      opacity="0.5"
                    />
                  </>
                ) : (
                  <>
                    {/* Bowl Bottom */}
                    <path
                      d={`M ${points
                        .filter(
                          (_, i) => -8 + i * 0.2 > r1 && -8 + i * 0.2 < r2
                        )
                        .join(" L ")}`}
                      fill="none"
                      stroke="#22c55e"
                      strokeWidth="4"
                    />
                    <path
                      d={`M ${points
                        .filter((_, i) => -8 + i * 0.2 <= r1)
                        .join(" L ")}`}
                      fill="none"
                      stroke="#cbd5e1"
                      strokeWidth="2"
                      strokeDasharray="4"
                      opacity="0.5"
                    />
                    <path
                      d={`M ${points
                        .filter((_, i) => -8 + i * 0.2 >= r2)
                        .join(" L ")}`}
                      fill="none"
                      stroke="#cbd5e1"
                      strokeWidth="2"
                      strokeDasharray="4"
                      opacity="0.5"
                    />
                  </>
                )}

                {/* Roots */}
                <circle
                  cx={toSvgX(r1)}
                  cy="200"
                  r="5"
                  fill="white"
                  stroke="#334155"
                  strokeWidth="2"
                />
                <text
                  x={toSvgX(r1)}
                  y="220"
                  textAnchor="middle"
                  className="text-xs font-bold"
                >
                  {r1}
                </text>

                <circle
                  cx={toSvgX(r2)}
                  cy="200"
                  r="5"
                  fill="white"
                  stroke="#334155"
                  strokeWidth="2"
                />
                <text
                  x={toSvgX(r2)}
                  y="220"
                  textAnchor="middle"
                  className="text-xs font-bold"
                >
                  {r2}
                </text>
              </svg>

              <div className="absolute top-4 right-4 flex flex-col gap-2">
                <button
                  onClick={() => setInequality(">")}
                  className={`px-4 py-2 rounded-lg font-bold ${
                    inequality === ">"
                      ? "bg-red-500 text-white"
                      : "bg-slate-100 text-slate-500"
                  }`}
                >
                  &gt; 0
                </button>
                <button
                  onClick={() => setInequality("<")}
                  className={`px-4 py-2 rounded-lg font-bold ${
                    inequality === "<"
                      ? "bg-green-500 text-white"
                      : "bg-slate-100 text-slate-500"
                  }`}
                >
                  &lt; 0
                </button>
              </div>
            </div>

            <div className="bg-white p-6 rounded-2xl border border-red-100 shadow-sm mb-6">
              <h3 className="text-sm font-bold text-slate-400 uppercase mb-4">
                {lang === "en" ? "Adjust Roots" : "調整根"}
              </h3>
              <div className="grid grid-cols-2 gap-6">
                <div>
                  <label className="block text-xs font-bold text-slate-500 mb-1">
                    Root 1: {root1}
                  </label>
                  <input
                    type="range"
                    min="-6"
                    max="6"
                    step="0.5"
                    value={root1}
                    onChange={(e) => setRoot1(Number(e.target.value))}
                    className="w-full accent-red-500"
                  />
                </div>
                <div>
                  <label className="block text-xs font-bold text-slate-500 mb-1">
                    Root 2: {root2}
                  </label>
                  <input
                    type="range"
                    min="-6"
                    max="6"
                    step="0.5"
                    value={root2}
                    onChange={(e) => setRoot2(Number(e.target.value))}
                    className="w-full accent-red-500"
                  />
                </div>
              </div>
            </div>

            <div
              className={`p-6 rounded-2xl shadow-xl text-center transform transition-all ${
                inequality === ">"
                  ? "bg-red-500 text-white"
                  : "bg-green-500 text-white"
              }`}
            >
              <div className="text-xs uppercase opacity-80 mb-2">
                {t.solution[lang]}
              </div>
              <div className="text-3xl font-extrabold font-mono">
                {solutionText}
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
