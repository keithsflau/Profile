<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>HKDSE 2025 Paper 1A Q6 - Password Verification</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Inter", sans-serif;
        background-color: #0f172a;
        color: #e2e8f0;
      }
      .input-group:focus-within label {
        color: #38bdf8;
      }
      .input-group:focus-within svg {
        color: #38bdf8;
      }
    </style>
  </head>
  <body class="min-h-screen p-4 md:p-8 flex flex-col items-center">
    <div id="root" class="w-full max-w-4xl"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      // Lucide Icon Shim
      const LucideIcon = ({ name, size = 20, className = "" }) => {
        const formatName = (n) =>
          n
            .split("-")
            .map((p) => p.charAt(0).toUpperCase() + p.slice(1))
            .join("");
        const iconName = formatName(name);
        const [svgHtml, setSvgHtml] = useState("");
        useEffect(() => {
          if (window.lucide?.icons[iconName]?.toSvg) {
            setSvgHtml(
              window.lucide.icons[iconName].toSvg({
                width: size,
                height: size,
                class: className,
              })
            );
          }
        }, [name]);
        return (
          <span
            dangerouslySetInnerHTML={{ __html: svgHtml }}
            style={{ display: "inline-flex" }}
          />
        );
      };

      const App = () => {
        const [formData, setFormData] = useState({
          username: "",
          oldPass: "",
          newPass: "",
          confirmPass: "",
          hint: "",
        });
        const [feedback, setFeedback] = useState(null);
        const [highlight, setHighlight] = useState(null); // 'A', 'B', 'C', 'D'

        const handleChange = (e) => {
          const { name, value } = e.target;
          setFormData((prev) => ({ ...prev, [name]: value }));
          setFeedback(null);
        };

        const validate = () => {
          // Exam Focus: Double Entry Verification
          if (formData.newPass !== formData.confirmPass) {
            setFeedback({
              type: "error",
              msg: "Error: New passwords do not match!",
              detail:
                "This check (comparing New Password vs Confirm Password) is called Double Entry Verification. It is a method of Data Validation.",
            });
            setHighlight("C");
            return;
          }
          if (formData.newPass.length < 1) {
            setFeedback({ type: "error", msg: "Please enter a new password." });
            return;
          }

          setFeedback({
            type: "success",
            msg: "Success! Password Changed.",
            detail:
              "The system validated that your two password entries matched perfectly.",
          });
          setHighlight("C");
        };

        // Highlight helper for educational mode
        const getOutline = (step) => {
          if (highlight === step)
            return "ring-2 ring-yellow-400 border-yellow-400";
          return "border-slate-700 focus-within:border-cyan-500";
        };

        return (
          <div className="space-y-8 animate-fade-in w-full max-w-lg mx-auto">
            <header className="text-center space-y-2">
              <div className="inline-flex items-center gap-2 px-3 py-1 rounded-full bg-cyan-900/30 border border-cyan-500/30 text-cyan-400 text-sm font-bold mb-4">
                <span className="w-2 h-2 rounded-full bg-cyan-400 animate-pulse"></span>
                HKDSE 2025 Paper 1A Q6
              </div>
              <h1 className="text-3xl font-bold text-white">Change Password</h1>
              <p className="text-slate-400 text-sm">
                Which step below is a method of Data Validation?
              </p>
            </header>

            <div className="bg-slate-900 section p-8 rounded-2xl border border-slate-800 shadow-2xl space-y-5">
              {/* Option A: Username */}
              <div
                className={`input-group bg-slate-950 p-3 rounded-lg border transition-all ${getOutline(
                  "A"
                )}`}
                onClick={() => setHighlight("A")}
              >
                <label className="text-xs font-bold text-slate-500 block mb-1">
                  Username (Option A)
                </label>
                <div className="flex items-center gap-3">
                  <LucideIcon name="user" className="text-slate-600" />
                  <input
                    name="username"
                    value={formData.username}
                    onChange={handleChange}
                    className="bg-transparent w-full text-white outline-none"
                    placeholder="Input username..."
                  />
                </div>
              </div>

              {/* Option B: Old Password */}
              <div
                className={`input-group bg-slate-950 p-3 rounded-lg border transition-all ${getOutline(
                  "B"
                )}`}
                onClick={() => setHighlight("B")}
              >
                <label className="text-xs font-bold text-slate-500 block mb-1">
                  Old Password (Option B)
                </label>
                <div className="flex items-center gap-3">
                  <LucideIcon name="lock" className="text-slate-600" />
                  <input
                    type="password"
                    name="oldPass"
                    value={formData.oldPass}
                    onChange={handleChange}
                    className="bg-transparent w-full text-white outline-none"
                    placeholder="Input old password..."
                  />
                </div>
              </div>

              <hr className="border-slate-800 my-4" />

              {/* Option C: New Password Pair */}
              <div
                className={`input-group bg-slate-950 p-3 rounded-lg border transition-all ${getOutline(
                  "C"
                )}`}
                onClick={() => setHighlight("C")}
              >
                <label className="text-xs font-bold text-slate-500 block mb-1">
                  New Password (Option C)
                </label>
                <div className="flex items-center gap-3">
                  <LucideIcon name="key" className="text-slate-600" />
                  <input
                    type="password"
                    name="newPass"
                    value={formData.newPass}
                    onChange={handleChange}
                    className="bg-transparent w-full text-white outline-none"
                    placeholder="Input new password..."
                  />
                </div>
              </div>

              <div
                className={`input-group bg-slate-950 p-3 rounded-lg border transition-all ${getOutline(
                  "C"
                )}`}
                onClick={() => setHighlight("C")}
              >
                <label className="text-xs font-bold text-slate-500 block mb-1">
                  Confirm New Password (Option C)
                </label>
                <div className="flex items-center gap-3">
                  <LucideIcon name="key" className="text-slate-600" />
                  <input
                    type="password"
                    name="confirmPass"
                    value={formData.confirmPass}
                    onChange={handleChange}
                    className="bg-transparent w-full text-white outline-none"
                    placeholder="Input new password again..."
                  />
                </div>
              </div>

              {/* Option D: Hint */}
              <div
                className={`input-group bg-slate-950 p-3 rounded-lg border transition-all ${getOutline(
                  "D"
                )}`}
                onClick={() => setHighlight("D")}
              >
                <label className="text-xs font-bold text-slate-500 block mb-1">
                  Password Hint (Option D)
                </label>
                <div className="flex items-center gap-3">
                  <LucideIcon name="help-circle" className="text-slate-600" />
                  <input
                    name="hint"
                    value={formData.hint}
                    onChange={handleChange}
                    className="bg-transparent w-full text-white outline-none"
                    placeholder="Answer hint question..."
                  />
                </div>
              </div>

              <button
                onClick={validate}
                className="w-full py-3 bg-cyan-600 hover:bg-cyan-500 text-white font-bold rounded-lg shadow-lg shadow-cyan-900/20 transition-all flex items-center justify-center gap-2 mt-4"
              >
                <LucideIcon name="save" /> Update Password
              </button>
            </div>

            {feedback && (
              <div
                className={`p-6 rounded-xl border flex items-start gap-4 animate-fade-in ${
                  feedback.type === "success"
                    ? "bg-green-900/20 border-green-500/30 text-green-300"
                    : "bg-red-900/20 border-red-500/30 text-red-300"
                }`}
              >
                <LucideIcon
                  name={
                    feedback.type === "success"
                      ? "check-circle"
                      : "shield-alert"
                  }
                  size={24}
                  className="shrink-0 mt-1"
                />
                <div>
                  <h3 className="font-bold text-lg mb-1">{feedback.msg}</h3>
                  <p className="text-sm opacity-90">{feedback.detail}</p>
                </div>
              </div>
            )}

            {/* Education Note */}
            <div className="bg-slate-900/50 p-4 rounded-lg border border-slate-800 text-sm text-slate-400">
              <p className="mb-2">
                <strong className="text-white">Why Answer C?</strong>
              </p>
              <p>
                Inputting username (A), old password (B), or hint (D) are just{" "}
                <strong>Data Collection</strong> steps.
                <br />
                <br />
                Inputting the new password <strong>twice</strong> (C) forces the
                computer to <strong>compare</strong> the two inputs. If they
                don't match, it rejects the data. This error-checking process is{" "}
                <strong>Data Validation</strong> (Double Entry Verification).
              </p>
            </div>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
