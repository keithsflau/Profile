<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Ex10: 2014 Q5 - Desktop vs Mobile</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.development.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
      body {
        background-color: #0f172a;
        color: #e2e8f0;
        font-family: "Inter", sans-serif;
      }
      .item-card {
        transition: all 0.2s;
      }
      .item-card:hover {
        transform: translateY(-2px);
      }
    </style>
  </head>
  <body class="p-4 md:p-8">
    <div id="root" class="max-w-5xl mx-auto"></div>
    <script type="text/babel">
      const { useState } = React;
      const { Monitor, Smartphone, Check, X, Shuffle, Trophy } = lucide;

      const TEXT = {
        en: {
          title: "HKDSE 2014 Q5: Desktop vs Mobile",
          subtitle:
            "Compare features of Desktop Computers and Smartphones for E-learning.",
          desktop: "Desktop Computer",
          mobile: "Smartphone",
          items: [
            { id: 1, text: "High Processing Power (CPU)", cat: "desktop" },
            { id: 2, text: "High Portability (Mobility)", cat: "mobile" },
            { id: 3, text: "Physical Keyboard & Mouse", cat: "desktop" },
            { id: 4, text: "Touch Screen Interface", cat: "mobile" },
            { id: 5, text: "Large Storage Capacity (>1TB)", cat: "desktop" },
            { id: 6, text: "Long Battery Life (All Day)", cat: "mobile" }, // Generalization
            { id: 7, text: "Large Screen for Multitasking", cat: "desktop" },
            { id: 8, text: "Instant On / Always Connected", cat: "mobile" },
          ],
          score: "Score",
          reset: "Reset",
          instruction:
            "Categorize each feature to the most appropriate device.",
        },
        tc: {
          title: "HKDSE 2014 Q5: 桌上電腦 vs 智能手機",
          subtitle: "比較桌上電腦和智能手機在電子學習中的功能。",
          desktop: "桌上電腦",
          mobile: "智能手機",
          items: [
            { id: 1, text: "高運算能力 (CPU)", cat: "desktop" },
            { id: 2, text: "高便攜性 (流動性)", cat: "mobile" },
            { id: 3, text: "實體鍵盤和滑鼠", cat: "desktop" },
            { id: 4, text: "觸控螢幕介面", cat: "mobile" },
            { id: 5, text: "大容量儲存 (>1TB)", cat: "desktop" },
            { id: 6, text: "長電池續航 (全天)", cat: "mobile" },
            { id: 7, text: "大螢幕 (多工處理)", cat: "desktop" },
            { id: 8, text: "即時啟動 / 保持連線", cat: "mobile" },
          ],
          score: "得分",
          reset: "重置",
          instruction: "將每個功能分類到最合適的設備。",
        },
      };

      const App = () => {
        const [lang, setLang] = useState("en");
        const [assignments, setAssignments] = useState({}); // { id: 'desktop' | 'mobile' }
        const t = TEXT[lang];

        const handleAssign = (id, category) => {
          setAssignments((prev) => ({ ...prev, [id]: category }));
        };

        const checkScore = () => {
          let s = 0;
          t.items.forEach((i) => {
            if (assignments[i.id] === i.cat) s++;
          });
          return s;
        };

        const isAllAssigned =
          Object.keys(assignments).length === t.items.length;
        const score = checkScore();

        return (
          <div className="min-h-screen bg-slate-900 p-4">
            <header className="flex justify-between items-center mb-8 border-b border-slate-700 pb-4">
              <div>
                <h1 className="text-2xl font-bold text-white flex items-center gap-2">
                  <Monitor className="text-blue-400" /> vs{" "}
                  <Smartphone className="text-green-400" />
                </h1>
                <p className="text-slate-400 mt-1">{t.title}</p>
              </div>
              <div className="flex gap-4 items-center">
                <div className="text-xl font-bold text-yellow-400">
                  {t.score}: {score} / {t.items.length}
                </div>
                <button
                  onClick={() => setLang((l) => (l === "en" ? "tc" : "en"))}
                  className="px-3 py-1 bg-slate-800 rounded border border-slate-600"
                >
                  {lang === "en" ? "中文" : "ENG"}
                </button>
              </div>
            </header>

            <p className="text-center text-slate-300 mb-6">{t.instruction}</p>

            <div className="grid grid-cols-1 md:grid-cols-3 gap-6 h-[600px]">
              {/* Desktop Zone */}
              <div className="bg-slate-800/50 border-2 border-dashed border-blue-500/30 rounded-xl p-4 flex flex-col gap-2">
                <h2 className="text-center text-blue-400 font-bold mb-4 flex justify-center items-center gap-2">
                  <Monitor /> {t.desktop}
                </h2>
                {t.items
                  .filter((i) => assignments[i.id] === "desktop")
                  .map((i) => (
                    <div
                      key={i.id}
                      className="bg-blue-900/40 text-blue-200 p-3 rounded flex justify-between items-center animation-pop-in"
                    >
                      <span>{i.text}</span>
                      {i.cat === "desktop" ? (
                        <Check size={16} className="text-green-400" />
                      ) : (
                        <X size={16} className="text-red-400" />
                      )}
                    </div>
                  ))}
                {Object.values(assignments).filter((v) => v === "desktop")
                  .length === 0 && (
                  <div className="text-center text-slate-600 mt-10 italic">
                    Empty
                  </div>
                )}
              </div>

              {/* Unassigned Items */}
              <div className="bg-slate-900 flex flex-col gap-3 overflow-y-auto p-2">
                {t.items
                  .filter((i) => !assignments[i.id])
                  .map((i) => (
                    <div
                      key={i.id}
                      className="bg-slate-800 p-4 rounded-lg shadow-lg border border-slate-700 flex flex-col gap-3 item-card"
                    >
                      <span className="text-center font-semibold text-white">
                        {i.text}
                      </span>
                      <div className="flex gap-2 justify-center">
                        <button
                          onClick={() => handleAssign(i.id, "desktop")}
                          className="px-4 py-2 bg-blue-600 hover:bg-blue-500 rounded text-xs uppercase font-bold text-white flex gap-1 items-center"
                        >
                          <Monitor size={14} /> Desktop
                        </button>
                        <button
                          onClick={() => handleAssign(i.id, "mobile")}
                          className="px-4 py-2 bg-green-600 hover:bg-green-500 rounded text-xs uppercase font-bold text-white flex gap-1 items-center"
                        >
                          <Smartphone size={14} /> Mobile
                        </button>
                      </div>
                    </div>
                  ))}
                {isAllAssigned && (
                  <div className="text-center mt-10">
                    <Trophy
                      size={64}
                      className="mx-auto text-yellow-400 mb-4 animate-bounce"
                    />
                    <h3 className="text-2xl font-bold text-white">
                      Completed!
                    </h3>
                    <button
                      onClick={() => setAssignments({})}
                      className="mt-4 px-6 py-2 bg-slate-700 rounded-full hover:bg-slate-600 text-white flex items-center gap-2 mx-auto"
                    >
                      <Shuffle size={16} /> {t.reset}
                    </button>
                  </div>
                )}
              </div>

              {/* Mobile Zone */}
              <div className="bg-slate-800/50 border-2 border-dashed border-green-500/30 rounded-xl p-4 flex flex-col gap-2">
                <h2 className="text-center text-green-400 font-bold mb-4 flex justify-center items-center gap-2">
                  <Smartphone /> {t.mobile}
                </h2>
                {t.items
                  .filter((i) => assignments[i.id] === "mobile")
                  .map((i) => (
                    <div
                      key={i.id}
                      className="bg-green-900/40 text-green-200 p-3 rounded flex justify-between items-center animation-pop-in"
                    >
                      <span>{i.text}</span>
                      {i.cat === "mobile" ? (
                        <Check size={16} className="text-green-400" />
                      ) : (
                        <X size={16} className="text-red-400" />
                      )}
                    </div>
                  ))}
                {Object.values(assignments).filter((v) => v === "mobile")
                  .length === 0 && (
                  <div className="text-center text-slate-600 mt-10 italic">
                    Empty
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      };
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
    <style>
      @keyframes popIn {
        0% {
          transform: scale(0.9);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      .animation-pop-in {
        animation: popIn 0.3s ease-out;
      }
    </style>
  </body>
</html>
