var QH=Object.defineProperty;var ej=(t,e,n)=>e in t?QH(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Kn=(t,e,n)=>ej(t,typeof e!="symbol"?e+"":e,n);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var yv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Ik={exports:{}},$x={},Lk={exports:{}},en={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qm=Symbol.for("react.element"),tj=Symbol.for("react.portal"),nj=Symbol.for("react.fragment"),rj=Symbol.for("react.strict_mode"),ij=Symbol.for("react.profiler"),aj=Symbol.for("react.provider"),oj=Symbol.for("react.context"),sj=Symbol.for("react.forward_ref"),lj=Symbol.for("react.suspense"),uj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),vO=Symbol.iterator;function fj(t){return t===null||typeof t!="object"?null:(t=vO&&t[vO]||t["@@iterator"],typeof t=="function"?t:null)}var Dk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Nk=Object.assign,kk={};function Rh(t,e,n){this.props=t,this.context=e,this.refs=kk,this.updater=n||Dk}Rh.prototype.isReactComponent={};Rh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Rh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uk(){}Uk.prototype=Rh.prototype;function HA(t,e,n){this.props=t,this.context=e,this.refs=kk,this.updater=n||Dk}var jA=HA.prototype=new Uk;jA.constructor=HA;Nk(jA,Rh.prototype);jA.isPureReactComponent=!0;var yO=Array.isArray,Fk=Object.prototype.hasOwnProperty,GA={current:null},Bk={key:!0,ref:!0,__self:!0,__source:!0};function zk(t,e,n){var r,i={},a=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(a=""+e.key),e)Fk.call(e,r)&&!Bk.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(s===1)i.children=n;else if(1<s){for(var l=Array(s),u=0;u<s;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in s=t.defaultProps,s)i[r]===void 0&&(i[r]=s[r]);return{$$typeof:Qm,type:t,key:a,ref:o,props:i,_owner:GA.current}}function hj(t,e){return{$$typeof:Qm,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function VA(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qm}function dj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var xO=/\/+/g;function MS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?dj(""+t.key):e.toString(36)}function qy(t,e,n,r,i){var a=typeof t;(a==="undefined"||a==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(a){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qm:case tj:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+MS(o,0):r,yO(i)?(n="",t!=null&&(n=t.replace(xO,"$&/")+"/"),qy(i,e,n,"",function(u){return u})):i!=null&&(VA(i)&&(i=hj(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(xO,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",yO(t))for(var s=0;s<t.length;s++){a=t[s];var l=r+MS(a,s);o+=qy(a,e,n,l,i)}else if(l=fj(t),typeof l=="function")for(t=l.call(t),s=0;!(a=t.next()).done;)a=a.value,l=r+MS(a,s++),o+=qy(a,e,n,l,i);else if(a==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function xv(t,e,n){if(t==null)return t;var r=[],i=0;return qy(t,r,"","",function(a){return e.call(n,a,i++)}),r}function pj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ai={current:null},Ky={transition:null},mj={ReactCurrentDispatcher:Ai,ReactCurrentBatchConfig:Ky,ReactCurrentOwner:GA};function Hk(){throw Error("act(...) is not supported in production builds of React.")}en.Children={map:xv,forEach:function(t,e,n){xv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return xv(t,function(){e++}),e},toArray:function(t){return xv(t,function(e){return e})||[]},only:function(t){if(!VA(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};en.Component=Rh;en.Fragment=nj;en.Profiler=ij;en.PureComponent=HA;en.StrictMode=rj;en.Suspense=lj;en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mj;en.act=Hk;en.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Nk({},t.props),i=t.key,a=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(a=e.ref,o=GA.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var s=t.type.defaultProps;for(l in e)Fk.call(e,l)&&!Bk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&s!==void 0?s[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){s=Array(l);for(var u=0;u<l;u++)s[u]=arguments[u+2];r.children=s}return{$$typeof:Qm,type:t.type,key:i,ref:a,props:r,_owner:o}};en.createContext=function(t){return t={$$typeof:oj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:aj,_context:t},t.Consumer=t};en.createElement=zk;en.createFactory=function(t){var e=zk.bind(null,t);return e.type=t,e};en.createRef=function(){return{current:null}};en.forwardRef=function(t){return{$$typeof:sj,render:t}};en.isValidElement=VA;en.lazy=function(t){return{$$typeof:cj,_payload:{_status:-1,_result:t},_init:pj}};en.memo=function(t,e){return{$$typeof:uj,type:t,compare:e===void 0?null:e}};en.startTransition=function(t){var e=Ky.transition;Ky.transition={};try{t()}finally{Ky.transition=e}};en.unstable_act=Hk;en.useCallback=function(t,e){return Ai.current.useCallback(t,e)};en.useContext=function(t){return Ai.current.useContext(t)};en.useDebugValue=function(){};en.useDeferredValue=function(t){return Ai.current.useDeferredValue(t)};en.useEffect=function(t,e){return Ai.current.useEffect(t,e)};en.useId=function(){return Ai.current.useId()};en.useImperativeHandle=function(t,e,n){return Ai.current.useImperativeHandle(t,e,n)};en.useInsertionEffect=function(t,e){return Ai.current.useInsertionEffect(t,e)};en.useLayoutEffect=function(t,e){return Ai.current.useLayoutEffect(t,e)};en.useMemo=function(t,e){return Ai.current.useMemo(t,e)};en.useReducer=function(t,e,n){return Ai.current.useReducer(t,e,n)};en.useRef=function(t){return Ai.current.useRef(t)};en.useState=function(t){return Ai.current.useState(t)};en.useSyncExternalStore=function(t,e,n){return Ai.current.useSyncExternalStore(t,e,n)};en.useTransition=function(){return Ai.current.useTransition()};en.version="18.3.1";Lk.exports=en;var he=Lk.exports;const Se=bn(he);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gj=he,vj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),xj=Object.prototype.hasOwnProperty,_j=gj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Sj={key:!0,ref:!0,__self:!0,__source:!0};function jk(t,e,n){var r,i={},a=null,o=null;n!==void 0&&(a=""+n),e.key!==void 0&&(a=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xj.call(e,r)&&!Sj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:vj,type:t,key:a,ref:o,props:i,_owner:_j.current}}$x.Fragment=yj;$x.jsx=jk;$x.jsxs=jk;Ik.exports=$x;var me=Ik.exports,Eb={},Gk={exports:{}},ya={},Vk={exports:{}},Wk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,j){var G=N.length;N.push(j);e:for(;0<G;){var H=G-1>>>1,$=N[H];if(0<i($,j))N[H]=j,N[G]=$,G=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],G=N.pop();if(G!==j){N[0]=G;e:for(var H=0,$=N.length,ie=$>>>1;H<ie;){var Z=2*(H+1)-1,ae=N[Z],ce=Z+1,fe=N[ce];if(0>i(ae,G))ce<$&&0>i(fe,ae)?(N[H]=fe,N[ce]=G,H=ce):(N[H]=ae,N[Z]=G,H=Z);else if(ce<$&&0>i(fe,G))N[H]=fe,N[ce]=G,H=ce;else break e}}return j}function i(N,j){var G=N.sortIndex-j.sortIndex;return G!==0?G:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=N)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(N){if(y=!1,_(N),!g)if(n(l)!==null)g=!0,V(E);else{var j=n(u);j!==null&&Q(b,j.startTime-N)}}function E(N,j){g=!1,y&&(y=!1,v(C),C=-1),m=!0;var G=h;try{for(_(j),f=n(l);f!==null&&(!(f.expirationTime>j)||N&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var $=H(f.expirationTime<=j);j=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),_(j)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Z=n(u);Z!==null&&Q(b,Z.startTime-j),ie=!1}return ie}finally{f=null,h=G,m=!1}}var M=!1,T=null,C=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function D(){if(T!==null){var N=t.unstable_now();O=N;var j=!0;try{j=T(!0,N)}finally{j?F():(M=!1,T=null)}}else M=!1}var F;if(typeof S=="function")F=function(){S(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=D,F=function(){W.postMessage(null)}}else F=function(){x(D,0)};function V(N){T=N,M||(M=!0,F())}function Q(N,j){C=x(function(){N(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var G=h;h=j;try{return N()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=h;h=N;try{return j()}finally{h=G}},t.unstable_scheduleCallback=function(N,j,G){var H=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,N={id:c++,callback:j,priorityLevel:N,startTime:G,expirationTime:$,sortIndex:-1},G>H?(N.sortIndex=G,e(u,N),n(l)===null&&N===n(u)&&(y?(v(C),C=-1):y=!0,Q(b,G-H))):(N.sortIndex=$,e(l,N),g||m||(g=!0,V(E))),N},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(N){var j=h;return function(){var G=h;h=j;try{return N.apply(this,arguments)}finally{h=G}}}})(Wk);Vk.exports=Wk;var wj=Vk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj=he,da=wj;function nt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var $k=new Set,Ip={};function pc(t,e){Kf(t,e),Kf(t+"Capture",e)}function Kf(t,e){for(Ip[t]=e,t=0;t<e.length;t++)$k.add(e[t])}var Es=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ab=Object.prototype.hasOwnProperty,Mj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_O={},SO={};function Ej(t){return Ab.call(SO,t)?!0:Ab.call(_O,t)?!1:Mj.test(t)?SO[t]=!0:(_O[t]=!0,!1)}function Aj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tj(t,e,n,r){if(e===null||typeof e>"u"||Aj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ti(t,e,n,r,i,a,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=a,this.removeEmptyString=o}var Kr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Kr[t]=new Ti(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Kr[e]=new Ti(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Kr[t]=new Ti(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Kr[t]=new Ti(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Kr[t]=new Ti(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Kr[t]=new Ti(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Kr[t]=new Ti(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Kr[t]=new Ti(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Kr[t]=new Ti(t,5,!1,t.toLowerCase(),null,!1,!1)});var WA=/[\-:]([a-z])/g;function $A(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(WA,$A);Kr[e]=new Ti(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(WA,$A);Kr[e]=new Ti(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(WA,$A);Kr[e]=new Ti(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Kr[t]=new Ti(t,1,!1,t.toLowerCase(),null,!1,!1)});Kr.xlinkHref=new Ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Kr[t]=new Ti(t,1,!1,t.toLowerCase(),null,!0,!0)});function XA(t,e,n,r){var i=Kr.hasOwnProperty(e)?Kr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tj(e,n,i,r)&&(n=null),r||i===null?Ej(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ds=bj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_v=Symbol.for("react.element"),vf=Symbol.for("react.portal"),yf=Symbol.for("react.fragment"),YA=Symbol.for("react.strict_mode"),Tb=Symbol.for("react.profiler"),Xk=Symbol.for("react.provider"),Yk=Symbol.for("react.context"),qA=Symbol.for("react.forward_ref"),Pb=Symbol.for("react.suspense"),Cb=Symbol.for("react.suspense_list"),KA=Symbol.for("react.memo"),al=Symbol.for("react.lazy"),qk=Symbol.for("react.offscreen"),wO=Symbol.iterator;function Sd(t){return t===null||typeof t!="object"?null:(t=wO&&t[wO]||t["@@iterator"],typeof t=="function"?t:null)}var Yn=Object.assign,ES;function np(t){if(ES===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ES=e&&e[1]||""}return`
`+ES+t}var AS=!1;function TS(t,e){if(!t||AS)return"";AS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(o!==1||s!==1)do if(o--,s--,0>s||i[o]!==a[s]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=s);break}}}finally{AS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?np(t):""}function Pj(t){switch(t.tag){case 5:return np(t.type);case 16:return np("Lazy");case 13:return np("Suspense");case 19:return np("SuspenseList");case 0:case 2:case 15:return t=TS(t.type,!1),t;case 11:return t=TS(t.type.render,!1),t;case 1:return t=TS(t.type,!0),t;default:return""}}function Ob(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yf:return"Fragment";case vf:return"Portal";case Tb:return"Profiler";case YA:return"StrictMode";case Pb:return"Suspense";case Cb:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Yk:return(t.displayName||"Context")+".Consumer";case Xk:return(t._context.displayName||"Context")+".Provider";case qA:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case KA:return e=t.displayName||null,e!==null?e:Ob(t.type)||"Memo";case al:e=t._payload,t=t._init;try{return Ob(t(e))}catch{}}return null}function Cj(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ob(e);case 8:return e===YA?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Tl(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kk(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Oj(t){var e=Kk(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,a.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sv(t){t._valueTracker||(t._valueTracker=Oj(t))}function Zk(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kk(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function v0(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Rb(t,e){var n=e.checked;return Yn({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function bO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Tl(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Jk(t,e){e=e.checked,e!=null&&XA(t,"checked",e,!1)}function Ib(t,e){Jk(t,e);var n=Tl(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lb(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lb(t,e.type,Tl(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function MO(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lb(t,e,n){(e!=="number"||v0(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rp=Array.isArray;function Ff(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Tl(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Db(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(nt(91));return Yn({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function EO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(nt(92));if(rp(n)){if(1<n.length)throw Error(nt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Tl(n)}}function Qk(t,e){var n=Tl(e.value),r=Tl(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function AO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function eU(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nb(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?eU(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var wv,tU=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(wv=wv||document.createElement("div"),wv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=wv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Lp(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cp={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rj=["Webkit","ms","Moz","O"];Object.keys(cp).forEach(function(t){Rj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cp[e]=cp[t]})});function nU(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cp.hasOwnProperty(t)&&cp[t]?(""+e).trim():e+"px"}function rU(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=nU(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Ij=Yn({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kb(t,e){if(e){if(Ij[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(nt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(nt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(nt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(nt(62))}}function Ub(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Fb=null;function ZA(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Bb=null,Bf=null,zf=null;function TO(t){if(t=ng(t)){if(typeof Bb!="function")throw Error(nt(280));var e=t.stateNode;e&&(e=Zx(e),Bb(t.stateNode,t.type,e))}}function iU(t){Bf?zf?zf.push(t):zf=[t]:Bf=t}function aU(){if(Bf){var t=Bf,e=zf;if(zf=Bf=null,TO(t),e)for(t=0;t<e.length;t++)TO(e[t])}}function oU(t,e){return t(e)}function sU(){}var PS=!1;function lU(t,e,n){if(PS)return t(e,n);PS=!0;try{return oU(t,e,n)}finally{PS=!1,(Bf!==null||zf!==null)&&(sU(),aU())}}function Dp(t,e){var n=t.stateNode;if(n===null)return null;var r=Zx(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(nt(231,e,typeof n));return n}var zb=!1;if(Es)try{var wd={};Object.defineProperty(wd,"passive",{get:function(){zb=!0}}),window.addEventListener("test",wd,wd),window.removeEventListener("test",wd,wd)}catch{zb=!1}function Lj(t,e,n,r,i,a,o,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var fp=!1,y0=null,x0=!1,Hb=null,Dj={onError:function(t){fp=!0,y0=t}};function Nj(t,e,n,r,i,a,o,s,l){fp=!1,y0=null,Lj.apply(Dj,arguments)}function kj(t,e,n,r,i,a,o,s,l){if(Nj.apply(this,arguments),fp){if(fp){var u=y0;fp=!1,y0=null}else throw Error(nt(198));x0||(x0=!0,Hb=u)}}function mc(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function uU(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function PO(t){if(mc(t)!==t)throw Error(nt(188))}function Uj(t){var e=t.alternate;if(!e){if(e=mc(t),e===null)throw Error(nt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return PO(i),t;if(a===r)return PO(i),e;a=a.sibling}throw Error(nt(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,s=i.child;s;){if(s===n){o=!0,n=i,r=a;break}if(s===r){o=!0,r=i,n=a;break}s=s.sibling}if(!o){for(s=a.child;s;){if(s===n){o=!0,n=a,r=i;break}if(s===r){o=!0,r=a,n=i;break}s=s.sibling}if(!o)throw Error(nt(189))}}if(n.alternate!==r)throw Error(nt(190))}if(n.tag!==3)throw Error(nt(188));return n.stateNode.current===n?t:e}function cU(t){return t=Uj(t),t!==null?fU(t):null}function fU(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fU(t);if(e!==null)return e;t=t.sibling}return null}var hU=da.unstable_scheduleCallback,CO=da.unstable_cancelCallback,Fj=da.unstable_shouldYield,Bj=da.unstable_requestPaint,sr=da.unstable_now,zj=da.unstable_getCurrentPriorityLevel,JA=da.unstable_ImmediatePriority,dU=da.unstable_UserBlockingPriority,_0=da.unstable_NormalPriority,Hj=da.unstable_LowPriority,pU=da.unstable_IdlePriority,Xx=null,Io=null;function jj(t){if(Io&&typeof Io.onCommitFiberRoot=="function")try{Io.onCommitFiberRoot(Xx,t,void 0,(t.current.flags&128)===128)}catch{}}var fo=Math.clz32?Math.clz32:Wj,Gj=Math.log,Vj=Math.LN2;function Wj(t){return t>>>=0,t===0?32:31-(Gj(t)/Vj|0)|0}var bv=64,Mv=4194304;function ip(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function S0(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,a=t.pingedLanes,o=n&268435455;if(o!==0){var s=o&~i;s!==0?r=ip(s):(a&=o,a!==0&&(r=ip(a)))}else o=n&~i,o!==0?r=ip(o):a!==0&&(r=ip(a));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,a=e&-e,i>=a||i===16&&(a&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-fo(e),i=1<<n,r|=t[n],e&=~i;return r}function $j(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Xj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,a=t.pendingLanes;0<a;){var o=31-fo(a),s=1<<o,l=i[o];l===-1?(!(s&n)||s&r)&&(i[o]=$j(s,e)):l<=e&&(t.expiredLanes|=s),a&=~s}}function jb(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function mU(){var t=bv;return bv<<=1,!(bv&4194240)&&(bv=64),t}function CS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function eg(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-fo(e),t[e]=n}function Yj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-fo(n),a=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~a}}function QA(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-fo(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var xn=0;function gU(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vU,eT,yU,xU,_U,Gb=!1,Ev=[],vl=null,yl=null,xl=null,Np=new Map,kp=new Map,ul=[],qj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function OO(t,e){switch(t){case"focusin":case"focusout":vl=null;break;case"dragenter":case"dragleave":yl=null;break;case"mouseover":case"mouseout":xl=null;break;case"pointerover":case"pointerout":Np.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kp.delete(e.pointerId)}}function bd(t,e,n,r,i,a){return t===null||t.nativeEvent!==a?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},e!==null&&(e=ng(e),e!==null&&eT(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Kj(t,e,n,r,i){switch(e){case"focusin":return vl=bd(vl,t,e,n,r,i),!0;case"dragenter":return yl=bd(yl,t,e,n,r,i),!0;case"mouseover":return xl=bd(xl,t,e,n,r,i),!0;case"pointerover":var a=i.pointerId;return Np.set(a,bd(Np.get(a)||null,t,e,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,kp.set(a,bd(kp.get(a)||null,t,e,n,r,i)),!0}return!1}function SU(t){var e=Cu(t.target);if(e!==null){var n=mc(e);if(n!==null){if(e=n.tag,e===13){if(e=uU(n),e!==null){t.blockedOn=e,_U(t.priority,function(){yU(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Zy(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Vb(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Fb=r,n.target.dispatchEvent(r),Fb=null}else return e=ng(n),e!==null&&eT(e),t.blockedOn=n,!1;e.shift()}return!0}function RO(t,e,n){Zy(t)&&n.delete(e)}function Zj(){Gb=!1,vl!==null&&Zy(vl)&&(vl=null),yl!==null&&Zy(yl)&&(yl=null),xl!==null&&Zy(xl)&&(xl=null),Np.forEach(RO),kp.forEach(RO)}function Md(t,e){t.blockedOn===e&&(t.blockedOn=null,Gb||(Gb=!0,da.unstable_scheduleCallback(da.unstable_NormalPriority,Zj)))}function Up(t){function e(i){return Md(i,t)}if(0<Ev.length){Md(Ev[0],t);for(var n=1;n<Ev.length;n++){var r=Ev[n];r.blockedOn===t&&(r.blockedOn=null)}}for(vl!==null&&Md(vl,t),yl!==null&&Md(yl,t),xl!==null&&Md(xl,t),Np.forEach(e),kp.forEach(e),n=0;n<ul.length;n++)r=ul[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<ul.length&&(n=ul[0],n.blockedOn===null);)SU(n),n.blockedOn===null&&ul.shift()}var Hf=Ds.ReactCurrentBatchConfig,w0=!0;function Jj(t,e,n,r){var i=xn,a=Hf.transition;Hf.transition=null;try{xn=1,tT(t,e,n,r)}finally{xn=i,Hf.transition=a}}function Qj(t,e,n,r){var i=xn,a=Hf.transition;Hf.transition=null;try{xn=4,tT(t,e,n,r)}finally{xn=i,Hf.transition=a}}function tT(t,e,n,r){if(w0){var i=Vb(t,e,n,r);if(i===null)BS(t,e,r,b0,n),OO(t,r);else if(Kj(i,t,e,n,r))r.stopPropagation();else if(OO(t,r),e&4&&-1<qj.indexOf(t)){for(;i!==null;){var a=ng(i);if(a!==null&&vU(a),a=Vb(t,e,n,r),a===null&&BS(t,e,r,b0,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else BS(t,e,r,null,n)}}var b0=null;function Vb(t,e,n,r){if(b0=null,t=ZA(r),t=Cu(t),t!==null)if(e=mc(t),e===null)t=null;else if(n=e.tag,n===13){if(t=uU(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return b0=t,null}function wU(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(zj()){case JA:return 1;case dU:return 4;case _0:case Hj:return 16;case pU:return 536870912;default:return 16}default:return 16}}var dl=null,nT=null,Jy=null;function bU(){if(Jy)return Jy;var t,e=nT,n=e.length,r,i="value"in dl?dl.value:dl.textContent,a=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[a-r];r++);return Jy=i.slice(t,1<r?1-r:void 0)}function Qy(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Av(){return!0}function IO(){return!1}function xa(t){function e(n,r,i,a,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=o,this.currentTarget=null;for(var s in t)t.hasOwnProperty(s)&&(n=t[s],this[s]=n?n(a):a[s]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Av:IO,this.isPropagationStopped=IO,this}return Yn(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Av)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Av)},persist:function(){},isPersistent:Av}),e}var Ih={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},rT=xa(Ih),tg=Yn({},Ih,{view:0,detail:0}),eG=xa(tg),OS,RS,Ed,Yx=Yn({},tg,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ed&&(Ed&&t.type==="mousemove"?(OS=t.screenX-Ed.screenX,RS=t.screenY-Ed.screenY):RS=OS=0,Ed=t),OS)},movementY:function(t){return"movementY"in t?t.movementY:RS}}),LO=xa(Yx),tG=Yn({},Yx,{dataTransfer:0}),nG=xa(tG),rG=Yn({},tg,{relatedTarget:0}),IS=xa(rG),iG=Yn({},Ih,{animationName:0,elapsedTime:0,pseudoElement:0}),aG=xa(iG),oG=Yn({},Ih,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sG=xa(oG),lG=Yn({},Ih,{data:0}),DO=xa(lG),uG={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cG={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fG={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function hG(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=fG[t])?!!e[t]:!1}function iT(){return hG}var dG=Yn({},tg,{key:function(t){if(t.key){var e=uG[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qy(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cG[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iT,charCode:function(t){return t.type==="keypress"?Qy(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qy(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),pG=xa(dG),mG=Yn({},Yx,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),NO=xa(mG),gG=Yn({},tg,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iT}),vG=xa(gG),yG=Yn({},Ih,{propertyName:0,elapsedTime:0,pseudoElement:0}),xG=xa(yG),_G=Yn({},Yx,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),SG=xa(_G),wG=[9,13,27,32],aT=Es&&"CompositionEvent"in window,hp=null;Es&&"documentMode"in document&&(hp=document.documentMode);var bG=Es&&"TextEvent"in window&&!hp,MU=Es&&(!aT||hp&&8<hp&&11>=hp),kO=" ",UO=!1;function EU(t,e){switch(t){case"keyup":return wG.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function AU(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var xf=!1;function MG(t,e){switch(t){case"compositionend":return AU(e);case"keypress":return e.which!==32?null:(UO=!0,kO);case"textInput":return t=e.data,t===kO&&UO?null:t;default:return null}}function EG(t,e){if(xf)return t==="compositionend"||!aT&&EU(t,e)?(t=bU(),Jy=nT=dl=null,xf=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return MU&&e.locale!=="ko"?null:e.data;default:return null}}var AG={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!AG[t.type]:e==="textarea"}function TU(t,e,n,r){iU(r),e=M0(e,"onChange"),0<e.length&&(n=new rT("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var dp=null,Fp=null;function TG(t){FU(t,0)}function qx(t){var e=wf(t);if(Zk(e))return t}function PG(t,e){if(t==="change")return e}var PU=!1;if(Es){var LS;if(Es){var DS="oninput"in document;if(!DS){var BO=document.createElement("div");BO.setAttribute("oninput","return;"),DS=typeof BO.oninput=="function"}LS=DS}else LS=!1;PU=LS&&(!document.documentMode||9<document.documentMode)}function zO(){dp&&(dp.detachEvent("onpropertychange",CU),Fp=dp=null)}function CU(t){if(t.propertyName==="value"&&qx(Fp)){var e=[];TU(e,Fp,t,ZA(t)),lU(TG,e)}}function CG(t,e,n){t==="focusin"?(zO(),dp=e,Fp=n,dp.attachEvent("onpropertychange",CU)):t==="focusout"&&zO()}function OG(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qx(Fp)}function RG(t,e){if(t==="click")return qx(e)}function IG(t,e){if(t==="input"||t==="change")return qx(e)}function LG(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var po=typeof Object.is=="function"?Object.is:LG;function Bp(t,e){if(po(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Ab.call(e,i)||!po(t[i],e[i]))return!1}return!0}function HO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function jO(t,e){var n=HO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=HO(n)}}function OU(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?OU(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RU(){for(var t=window,e=v0();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=v0(t.document)}return e}function oT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DG(t){var e=RU(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&OU(n.ownerDocument.documentElement,n)){if(r!==null&&oT(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!t.extend&&a>r&&(i=r,r=a,a=i),i=jO(n,a);var o=jO(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),a>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var NG=Es&&"documentMode"in document&&11>=document.documentMode,_f=null,Wb=null,pp=null,$b=!1;function GO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;$b||_f==null||_f!==v0(r)||(r=_f,"selectionStart"in r&&oT(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),pp&&Bp(pp,r)||(pp=r,r=M0(Wb,"onSelect"),0<r.length&&(e=new rT("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=_f)))}function Tv(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Sf={animationend:Tv("Animation","AnimationEnd"),animationiteration:Tv("Animation","AnimationIteration"),animationstart:Tv("Animation","AnimationStart"),transitionend:Tv("Transition","TransitionEnd")},NS={},IU={};Es&&(IU=document.createElement("div").style,"AnimationEvent"in window||(delete Sf.animationend.animation,delete Sf.animationiteration.animation,delete Sf.animationstart.animation),"TransitionEvent"in window||delete Sf.transitionend.transition);function Kx(t){if(NS[t])return NS[t];if(!Sf[t])return t;var e=Sf[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IU)return NS[t]=e[n];return t}var LU=Kx("animationend"),DU=Kx("animationiteration"),NU=Kx("animationstart"),kU=Kx("transitionend"),UU=new Map,VO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ll(t,e){UU.set(t,e),pc(e,[t])}for(var kS=0;kS<VO.length;kS++){var US=VO[kS],kG=US.toLowerCase(),UG=US[0].toUpperCase()+US.slice(1);Ll(kG,"on"+UG)}Ll(LU,"onAnimationEnd");Ll(DU,"onAnimationIteration");Ll(NU,"onAnimationStart");Ll("dblclick","onDoubleClick");Ll("focusin","onFocus");Ll("focusout","onBlur");Ll(kU,"onTransitionEnd");Kf("onMouseEnter",["mouseout","mouseover"]);Kf("onMouseLeave",["mouseout","mouseover"]);Kf("onPointerEnter",["pointerout","pointerover"]);Kf("onPointerLeave",["pointerout","pointerover"]);pc("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));pc("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));pc("onBeforeInput",["compositionend","keypress","textInput","paste"]);pc("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));pc("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ap="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),FG=new Set("cancel close invalid load scroll toggle".split(" ").concat(ap));function WO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,kj(r,e,void 0,t),t.currentTarget=null}function FU(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var a=void 0;if(e)for(var o=r.length-1;0<=o;o--){var s=r[o],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==a&&i.isPropagationStopped())break e;WO(i,s,u),a=l}else for(o=0;o<r.length;o++){if(s=r[o],l=s.instance,u=s.currentTarget,s=s.listener,l!==a&&i.isPropagationStopped())break e;WO(i,s,u),a=l}}}if(x0)throw t=Hb,x0=!1,Hb=null,t}function Ln(t,e){var n=e[Zb];n===void 0&&(n=e[Zb]=new Set);var r=t+"__bubble";n.has(r)||(BU(e,t,2,!1),n.add(r))}function FS(t,e,n){var r=0;e&&(r|=4),BU(n,t,r,e)}var Pv="_reactListening"+Math.random().toString(36).slice(2);function zp(t){if(!t[Pv]){t[Pv]=!0,$k.forEach(function(n){n!=="selectionchange"&&(FG.has(n)||FS(n,!1,t),FS(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pv]||(e[Pv]=!0,FS("selectionchange",!1,e))}}function BU(t,e,n,r){switch(wU(e)){case 1:var i=Jj;break;case 4:i=Qj;break;default:i=tT}n=i.bind(null,e,n,t),i=void 0,!zb||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function BS(t,e,n,r,i){var a=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var s=r.stateNode.containerInfo;if(s===i||s.nodeType===8&&s.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;s!==null;){if(o=Cu(s),o===null)return;if(l=o.tag,l===5||l===6){r=a=o;continue e}s=s.parentNode}}r=r.return}lU(function(){var u=a,c=ZA(n),f=[];e:{var h=UU.get(t);if(h!==void 0){var m=rT,g=t;switch(t){case"keypress":if(Qy(n)===0)break e;case"keydown":case"keyup":m=pG;break;case"focusin":g="focus",m=IS;break;case"focusout":g="blur",m=IS;break;case"beforeblur":case"afterblur":m=IS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=LO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=nG;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=vG;break;case LU:case DU:case NU:m=aG;break;case kU:m=xG;break;case"scroll":m=eG;break;case"wheel":m=SG;break;case"copy":case"cut":case"paste":m=sG;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=NO}var y=(e&4)!==0,x=!y&&t==="scroll",v=y?h!==null?h+"Capture":null:h;y=[];for(var S=u,_;S!==null;){_=S;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,v!==null&&(b=Dp(S,v),b!=null&&y.push(Hp(S,b,_)))),x)break;S=S.return}0<y.length&&(h=new m(h,g,null,n,c),f.push({event:h,listeners:y}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",h&&n!==Fb&&(g=n.relatedTarget||n.fromElement)&&(Cu(g)||g[As]))break e;if((m||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,m?(g=n.relatedTarget||n.toElement,m=u,g=g?Cu(g):null,g!==null&&(x=mc(g),g!==x||g.tag!==5&&g.tag!==6)&&(g=null)):(m=null,g=u),m!==g)){if(y=LO,b="onMouseLeave",v="onMouseEnter",S="mouse",(t==="pointerout"||t==="pointerover")&&(y=NO,b="onPointerLeave",v="onPointerEnter",S="pointer"),x=m==null?h:wf(m),_=g==null?h:wf(g),h=new y(b,S+"leave",m,n,c),h.target=x,h.relatedTarget=_,b=null,Cu(c)===u&&(y=new y(v,S+"enter",g,n,c),y.target=_,y.relatedTarget=x,b=y),x=b,m&&g)t:{for(y=m,v=g,S=0,_=y;_;_=Bc(_))S++;for(_=0,b=v;b;b=Bc(b))_++;for(;0<S-_;)y=Bc(y),S--;for(;0<_-S;)v=Bc(v),_--;for(;S--;){if(y===v||v!==null&&y===v.alternate)break t;y=Bc(y),v=Bc(v)}y=null}else y=null;m!==null&&$O(f,h,m,y,!1),g!==null&&x!==null&&$O(f,x,g,y,!0)}}e:{if(h=u?wf(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=PG;else if(FO(h))if(PU)E=IG;else{E=OG;var M=CG}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=RG);if(E&&(E=E(t,u))){TU(f,E,n,c);break e}M&&M(t,h,u),t==="focusout"&&(M=h._wrapperState)&&M.controlled&&h.type==="number"&&Lb(h,"number",h.value)}switch(M=u?wf(u):window,t){case"focusin":(FO(M)||M.contentEditable==="true")&&(_f=M,Wb=u,pp=null);break;case"focusout":pp=Wb=_f=null;break;case"mousedown":$b=!0;break;case"contextmenu":case"mouseup":case"dragend":$b=!1,GO(f,n,c);break;case"selectionchange":if(NG)break;case"keydown":case"keyup":GO(f,n,c)}var T;if(aT)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else xf?EU(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(MU&&n.locale!=="ko"&&(xf||C!=="onCompositionStart"?C==="onCompositionEnd"&&xf&&(T=bU()):(dl=c,nT="value"in dl?dl.value:dl.textContent,xf=!0)),M=M0(u,C),0<M.length&&(C=new DO(C,t,null,n,c),f.push({event:C,listeners:M}),T?C.data=T:(T=AU(n),T!==null&&(C.data=T)))),(T=bG?MG(t,n):EG(t,n))&&(u=M0(u,"onBeforeInput"),0<u.length&&(c=new DO("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=T))}FU(f,e)})}function Hp(t,e,n){return{instance:t,listener:e,currentTarget:n}}function M0(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Dp(t,n),a!=null&&r.unshift(Hp(t,a,i)),a=Dp(t,e),a!=null&&r.push(Hp(t,a,i))),t=t.return}return r}function Bc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $O(t,e,n,r,i){for(var a=e._reactName,o=[];n!==null&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(l!==null&&l===r)break;s.tag===5&&u!==null&&(s=u,i?(l=Dp(n,a),l!=null&&o.unshift(Hp(n,l,s))):i||(l=Dp(n,a),l!=null&&o.push(Hp(n,l,s)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var BG=/\r\n?/g,zG=/\u0000|\uFFFD/g;function XO(t){return(typeof t=="string"?t:""+t).replace(BG,`
`).replace(zG,"")}function Cv(t,e,n){if(e=XO(e),XO(t)!==e&&n)throw Error(nt(425))}function E0(){}var Xb=null,Yb=null;function qb(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kb=typeof setTimeout=="function"?setTimeout:void 0,HG=typeof clearTimeout=="function"?clearTimeout:void 0,YO=typeof Promise=="function"?Promise:void 0,jG=typeof queueMicrotask=="function"?queueMicrotask:typeof YO<"u"?function(t){return YO.resolve(null).then(t).catch(GG)}:Kb;function GG(t){setTimeout(function(){throw t})}function zS(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Up(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Up(e)}function _l(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function qO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Lh=Math.random().toString(36).slice(2),Po="__reactFiber$"+Lh,jp="__reactProps$"+Lh,As="__reactContainer$"+Lh,Zb="__reactEvents$"+Lh,VG="__reactListeners$"+Lh,WG="__reactHandles$"+Lh;function Cu(t){var e=t[Po];if(e)return e;for(var n=t.parentNode;n;){if(e=n[As]||n[Po]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=qO(t);t!==null;){if(n=t[Po])return n;t=qO(t)}return e}t=n,n=t.parentNode}return null}function ng(t){return t=t[Po]||t[As],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wf(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(nt(33))}function Zx(t){return t[jp]||null}var Jb=[],bf=-1;function Dl(t){return{current:t}}function Un(t){0>bf||(t.current=Jb[bf],Jb[bf]=null,bf--)}function Rn(t,e){bf++,Jb[bf]=t.current,t.current=e}var Pl={},fi=Dl(Pl),zi=Dl(!1),Qu=Pl;function Zf(t,e){var n=t.type.contextTypes;if(!n)return Pl;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=e[a];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Hi(t){return t=t.childContextTypes,t!=null}function A0(){Un(zi),Un(fi)}function KO(t,e,n){if(fi.current!==Pl)throw Error(nt(168));Rn(fi,e),Rn(zi,n)}function zU(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(nt(108,Cj(t)||"Unknown",i));return Yn({},n,r)}function T0(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Pl,Qu=fi.current,Rn(fi,t),Rn(zi,zi.current),!0}function ZO(t,e,n){var r=t.stateNode;if(!r)throw Error(nt(169));n?(t=zU(t,e,Qu),r.__reactInternalMemoizedMergedChildContext=t,Un(zi),Un(fi),Rn(fi,t)):Un(zi),Rn(zi,n)}var cs=null,Jx=!1,HS=!1;function HU(t){cs===null?cs=[t]:cs.push(t)}function $G(t){Jx=!0,HU(t)}function Nl(){if(!HS&&cs!==null){HS=!0;var t=0,e=xn;try{var n=cs;for(xn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}cs=null,Jx=!1}catch(i){throw cs!==null&&(cs=cs.slice(t+1)),hU(JA,Nl),i}finally{xn=e,HS=!1}}return null}var Mf=[],Ef=0,P0=null,C0=0,Ia=[],La=0,ec=null,ps=1,ms="";function xu(t,e){Mf[Ef++]=C0,Mf[Ef++]=P0,P0=t,C0=e}function jU(t,e,n){Ia[La++]=ps,Ia[La++]=ms,Ia[La++]=ec,ec=t;var r=ps;t=ms;var i=32-fo(r)-1;r&=~(1<<i),n+=1;var a=32-fo(e)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ps=1<<32-fo(e)+i|n<<i|r,ms=a+t}else ps=1<<a|n<<i|r,ms=t}function sT(t){t.return!==null&&(xu(t,1),jU(t,1,0))}function lT(t){for(;t===P0;)P0=Mf[--Ef],Mf[Ef]=null,C0=Mf[--Ef],Mf[Ef]=null;for(;t===ec;)ec=Ia[--La],Ia[La]=null,ms=Ia[--La],Ia[La]=null,ps=Ia[--La],Ia[La]=null}var ca=null,ua=null,zn=!1,oo=null;function GU(t,e){var n=ka(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function JO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ca=t,ua=_l(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ca=t,ua=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=ec!==null?{id:ps,overflow:ms}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ka(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ca=t,ua=null,!0):!1;default:return!1}}function Qb(t){return(t.mode&1)!==0&&(t.flags&128)===0}function eM(t){if(zn){var e=ua;if(e){var n=e;if(!JO(t,e)){if(Qb(t))throw Error(nt(418));e=_l(n.nextSibling);var r=ca;e&&JO(t,e)?GU(r,n):(t.flags=t.flags&-4097|2,zn=!1,ca=t)}}else{if(Qb(t))throw Error(nt(418));t.flags=t.flags&-4097|2,zn=!1,ca=t}}}function QO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ca=t}function Ov(t){if(t!==ca)return!1;if(!zn)return QO(t),zn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qb(t.type,t.memoizedProps)),e&&(e=ua)){if(Qb(t))throw VU(),Error(nt(418));for(;e;)GU(t,e),e=_l(e.nextSibling)}if(QO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(nt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){ua=_l(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}ua=null}}else ua=ca?_l(t.stateNode.nextSibling):null;return!0}function VU(){for(var t=ua;t;)t=_l(t.nextSibling)}function Jf(){ua=ca=null,zn=!1}function uT(t){oo===null?oo=[t]:oo.push(t)}var XG=Ds.ReactCurrentBatchConfig;function Ad(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(nt(309));var r=n.stateNode}if(!r)throw Error(nt(147,t));var i=r,a=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===a?e.ref:(e=function(o){var s=i.refs;o===null?delete s[a]:s[a]=o},e._stringRef=a,e)}if(typeof t!="string")throw Error(nt(284));if(!n._owner)throw Error(nt(290,t))}return t}function Rv(t,e){throw t=Object.prototype.toString.call(e),Error(nt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function eR(t){var e=t._init;return e(t._payload)}function WU(t){function e(v,S){if(t){var _=v.deletions;_===null?(v.deletions=[S],v.flags|=16):_.push(S)}}function n(v,S){if(!t)return null;for(;S!==null;)e(v,S),S=S.sibling;return null}function r(v,S){for(v=new Map;S!==null;)S.key!==null?v.set(S.key,S):v.set(S.index,S),S=S.sibling;return v}function i(v,S){return v=Ml(v,S),v.index=0,v.sibling=null,v}function a(v,S,_){return v.index=_,t?(_=v.alternate,_!==null?(_=_.index,_<S?(v.flags|=2,S):_):(v.flags|=2,S)):(v.flags|=1048576,S)}function o(v){return t&&v.alternate===null&&(v.flags|=2),v}function s(v,S,_,b){return S===null||S.tag!==6?(S=YS(_,v.mode,b),S.return=v,S):(S=i(S,_),S.return=v,S)}function l(v,S,_,b){var E=_.type;return E===yf?c(v,S,_.props.children,b,_.key):S!==null&&(S.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===al&&eR(E)===S.type)?(b=i(S,_.props),b.ref=Ad(v,S,_),b.return=v,b):(b=o0(_.type,_.key,_.props,null,v.mode,b),b.ref=Ad(v,S,_),b.return=v,b)}function u(v,S,_,b){return S===null||S.tag!==4||S.stateNode.containerInfo!==_.containerInfo||S.stateNode.implementation!==_.implementation?(S=qS(_,v.mode,b),S.return=v,S):(S=i(S,_.children||[]),S.return=v,S)}function c(v,S,_,b,E){return S===null||S.tag!==7?(S=Gu(_,v.mode,b,E),S.return=v,S):(S=i(S,_),S.return=v,S)}function f(v,S,_){if(typeof S=="string"&&S!==""||typeof S=="number")return S=YS(""+S,v.mode,_),S.return=v,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case _v:return _=o0(S.type,S.key,S.props,null,v.mode,_),_.ref=Ad(v,null,S),_.return=v,_;case vf:return S=qS(S,v.mode,_),S.return=v,S;case al:var b=S._init;return f(v,b(S._payload),_)}if(rp(S)||Sd(S))return S=Gu(S,v.mode,_,null),S.return=v,S;Rv(v,S)}return null}function h(v,S,_,b){var E=S!==null?S.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:s(v,S,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case _v:return _.key===E?l(v,S,_,b):null;case vf:return _.key===E?u(v,S,_,b):null;case al:return E=_._init,h(v,S,E(_._payload),b)}if(rp(_)||Sd(_))return E!==null?null:c(v,S,_,b,null);Rv(v,_)}return null}function m(v,S,_,b,E){if(typeof b=="string"&&b!==""||typeof b=="number")return v=v.get(_)||null,s(S,v,""+b,E);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _v:return v=v.get(b.key===null?_:b.key)||null,l(S,v,b,E);case vf:return v=v.get(b.key===null?_:b.key)||null,u(S,v,b,E);case al:var M=b._init;return m(v,S,_,M(b._payload),E)}if(rp(b)||Sd(b))return v=v.get(_)||null,c(S,v,b,E,null);Rv(S,b)}return null}function g(v,S,_,b){for(var E=null,M=null,T=S,C=S=0,P=null;T!==null&&C<_.length;C++){T.index>C?(P=T,T=null):P=T.sibling;var O=h(v,T,_[C],b);if(O===null){T===null&&(T=P);break}t&&T&&O.alternate===null&&e(v,T),S=a(O,S,C),M===null?E=O:M.sibling=O,M=O,T=P}if(C===_.length)return n(v,T),zn&&xu(v,C),E;if(T===null){for(;C<_.length;C++)T=f(v,_[C],b),T!==null&&(S=a(T,S,C),M===null?E=T:M.sibling=T,M=T);return zn&&xu(v,C),E}for(T=r(v,T);C<_.length;C++)P=m(T,v,C,_[C],b),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?C:P.key),S=a(P,S,C),M===null?E=P:M.sibling=P,M=P);return t&&T.forEach(function(I){return e(v,I)}),zn&&xu(v,C),E}function y(v,S,_,b){var E=Sd(_);if(typeof E!="function")throw Error(nt(150));if(_=E.call(_),_==null)throw Error(nt(151));for(var M=E=null,T=S,C=S=0,P=null,O=_.next();T!==null&&!O.done;C++,O=_.next()){T.index>C?(P=T,T=null):P=T.sibling;var I=h(v,T,O.value,b);if(I===null){T===null&&(T=P);break}t&&T&&I.alternate===null&&e(v,T),S=a(I,S,C),M===null?E=I:M.sibling=I,M=I,T=P}if(O.done)return n(v,T),zn&&xu(v,C),E;if(T===null){for(;!O.done;C++,O=_.next())O=f(v,O.value,b),O!==null&&(S=a(O,S,C),M===null?E=O:M.sibling=O,M=O);return zn&&xu(v,C),E}for(T=r(v,T);!O.done;C++,O=_.next())O=m(T,v,C,O.value,b),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?C:O.key),S=a(O,S,C),M===null?E=O:M.sibling=O,M=O);return t&&T.forEach(function(D){return e(v,D)}),zn&&xu(v,C),E}function x(v,S,_,b){if(typeof _=="object"&&_!==null&&_.type===yf&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case _v:e:{for(var E=_.key,M=S;M!==null;){if(M.key===E){if(E=_.type,E===yf){if(M.tag===7){n(v,M.sibling),S=i(M,_.props.children),S.return=v,v=S;break e}}else if(M.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===al&&eR(E)===M.type){n(v,M.sibling),S=i(M,_.props),S.ref=Ad(v,M,_),S.return=v,v=S;break e}n(v,M);break}else e(v,M);M=M.sibling}_.type===yf?(S=Gu(_.props.children,v.mode,b,_.key),S.return=v,v=S):(b=o0(_.type,_.key,_.props,null,v.mode,b),b.ref=Ad(v,S,_),b.return=v,v=b)}return o(v);case vf:e:{for(M=_.key;S!==null;){if(S.key===M)if(S.tag===4&&S.stateNode.containerInfo===_.containerInfo&&S.stateNode.implementation===_.implementation){n(v,S.sibling),S=i(S,_.children||[]),S.return=v,v=S;break e}else{n(v,S);break}else e(v,S);S=S.sibling}S=qS(_,v.mode,b),S.return=v,v=S}return o(v);case al:return M=_._init,x(v,S,M(_._payload),b)}if(rp(_))return g(v,S,_,b);if(Sd(_))return y(v,S,_,b);Rv(v,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,S!==null&&S.tag===6?(n(v,S.sibling),S=i(S,_),S.return=v,v=S):(n(v,S),S=YS(_,v.mode,b),S.return=v,v=S),o(v)):n(v,S)}return x}var Qf=WU(!0),$U=WU(!1),O0=Dl(null),R0=null,Af=null,cT=null;function fT(){cT=Af=R0=null}function hT(t){var e=O0.current;Un(O0),t._currentValue=e}function tM(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function jf(t,e){R0=t,cT=Af=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Fi=!0),t.firstContext=null)}function Ha(t){var e=t._currentValue;if(cT!==t)if(t={context:t,memoizedValue:e,next:null},Af===null){if(R0===null)throw Error(nt(308));Af=t,R0.dependencies={lanes:0,firstContext:t}}else Af=Af.next=t;return e}var Ou=null;function dT(t){Ou===null?Ou=[t]:Ou.push(t)}function XU(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,dT(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ts(t,r)}function Ts(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var ol=!1;function pT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function YU(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function _s(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Sl(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,sn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ts(t,n)}return i=r.interleaved,i===null?(e.next=e,dT(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ts(t,n)}function e0(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,QA(t,n)}}function tR(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=o:a=a.next=o,n=n.next}while(n!==null);a===null?i=a=e:a=a.next=e}else i=a=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function I0(t,e,n,r){var i=t.updateQueue;ol=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,s=i.shared.pending;if(s!==null){i.shared.pending=null;var l=s,u=l.next;l.next=null,o===null?a=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,s=c.lastBaseUpdate,s!==o&&(s===null?c.firstBaseUpdate=u:s.next=u,c.lastBaseUpdate=l))}if(a!==null){var f=i.baseState;o=0,c=u=l=null,s=a;do{var h=s.lane,m=s.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:m,lane:0,tag:s.tag,payload:s.payload,callback:s.callback,next:null});e:{var g=t,y=s;switch(h=e,m=n,y.tag){case 1:if(g=y.payload,typeof g=="function"){f=g.call(m,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=y.payload,h=typeof g=="function"?g.call(m,f,h):g,h==null)break e;f=Yn({},f,h);break e;case 2:ol=!0}}s.callback!==null&&s.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[s]:h.push(s))}else m={eventTime:m,lane:h,tag:s.tag,payload:s.payload,callback:s.callback,next:null},c===null?(u=c=m,l=f):c=c.next=m,o|=h;if(s=s.next,s===null){if(s=i.shared.pending,s===null)break;h=s,s=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else a===null&&(i.shared.lanes=0);nc|=o,t.lanes=o,t.memoizedState=f}}function nR(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(nt(191,i));i.call(r)}}}var rg={},Lo=Dl(rg),Gp=Dl(rg),Vp=Dl(rg);function Ru(t){if(t===rg)throw Error(nt(174));return t}function mT(t,e){switch(Rn(Vp,e),Rn(Gp,t),Rn(Lo,rg),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nb(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nb(e,t)}Un(Lo),Rn(Lo,e)}function eh(){Un(Lo),Un(Gp),Un(Vp)}function qU(t){Ru(Vp.current);var e=Ru(Lo.current),n=Nb(e,t.type);e!==n&&(Rn(Gp,t),Rn(Lo,n))}function gT(t){Gp.current===t&&(Un(Lo),Un(Gp))}var Wn=Dl(0);function L0(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jS=[];function vT(){for(var t=0;t<jS.length;t++)jS[t]._workInProgressVersionPrimary=null;jS.length=0}var t0=Ds.ReactCurrentDispatcher,GS=Ds.ReactCurrentBatchConfig,tc=0,Xn=null,Mr=null,Ur=null,D0=!1,mp=!1,Wp=0,YG=0;function ti(){throw Error(nt(321))}function yT(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!po(t[n],e[n]))return!1;return!0}function xT(t,e,n,r,i,a){if(tc=a,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,t0.current=t===null||t.memoizedState===null?JG:QG,t=n(r,i),mp){a=0;do{if(mp=!1,Wp=0,25<=a)throw Error(nt(301));a+=1,Ur=Mr=null,e.updateQueue=null,t0.current=eV,t=n(r,i)}while(mp)}if(t0.current=N0,e=Mr!==null&&Mr.next!==null,tc=0,Ur=Mr=Xn=null,D0=!1,e)throw Error(nt(300));return t}function _T(){var t=Wp!==0;return Wp=0,t}function Ao(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ur===null?Xn.memoizedState=Ur=t:Ur=Ur.next=t,Ur}function ja(){if(Mr===null){var t=Xn.alternate;t=t!==null?t.memoizedState:null}else t=Mr.next;var e=Ur===null?Xn.memoizedState:Ur.next;if(e!==null)Ur=e,Mr=t;else{if(t===null)throw Error(nt(310));Mr=t,t={memoizedState:Mr.memoizedState,baseState:Mr.baseState,baseQueue:Mr.baseQueue,queue:Mr.queue,next:null},Ur===null?Xn.memoizedState=Ur=t:Ur=Ur.next=t}return Ur}function $p(t,e){return typeof e=="function"?e(t):e}function VS(t){var e=ja(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=Mr,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var s=o=null,l=null,u=a;do{var c=u.lane;if((tc&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(s=l=f,o=r):l=l.next=f,Xn.lanes|=c,nc|=c}u=u.next}while(u!==null&&u!==a);l===null?o=r:l.next=s,po(r,e.memoizedState)||(Fi=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do a=i.lane,Xn.lanes|=a,nc|=a,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function WS(t){var e=ja(),n=e.queue;if(n===null)throw Error(nt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,a=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do a=t(a,o.action),o=o.next;while(o!==i);po(a,e.memoizedState)||(Fi=!0),e.memoizedState=a,e.baseQueue===null&&(e.baseState=a),n.lastRenderedState=a}return[a,r]}function KU(){}function ZU(t,e){var n=Xn,r=ja(),i=e(),a=!po(r.memoizedState,i);if(a&&(r.memoizedState=i,Fi=!0),r=r.queue,ST(eF.bind(null,n,r,t),[t]),r.getSnapshot!==e||a||Ur!==null&&Ur.memoizedState.tag&1){if(n.flags|=2048,Xp(9,QU.bind(null,n,r,i,e),void 0,null),Br===null)throw Error(nt(349));tc&30||JU(n,e,i)}return i}function JU(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function QU(t,e,n,r){e.value=n,e.getSnapshot=r,tF(e)&&nF(t)}function eF(t,e,n){return n(function(){tF(e)&&nF(t)})}function tF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!po(t,n)}catch{return!0}}function nF(t){var e=Ts(t,1);e!==null&&ho(e,t,1,-1)}function rR(t){var e=Ao();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$p,lastRenderedState:t},e.queue=t,t=t.dispatch=ZG.bind(null,Xn,t),[e.memoizedState,t]}function Xp(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function rF(){return ja().memoizedState}function n0(t,e,n,r){var i=Ao();Xn.flags|=t,i.memoizedState=Xp(1|e,n,void 0,r===void 0?null:r)}function Qx(t,e,n,r){var i=ja();r=r===void 0?null:r;var a=void 0;if(Mr!==null){var o=Mr.memoizedState;if(a=o.destroy,r!==null&&yT(r,o.deps)){i.memoizedState=Xp(e,n,a,r);return}}Xn.flags|=t,i.memoizedState=Xp(1|e,n,a,r)}function iR(t,e){return n0(8390656,8,t,e)}function ST(t,e){return Qx(2048,8,t,e)}function iF(t,e){return Qx(4,2,t,e)}function aF(t,e){return Qx(4,4,t,e)}function oF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sF(t,e,n){return n=n!=null?n.concat([t]):null,Qx(4,4,oF.bind(null,e,t),n)}function wT(){}function lF(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yT(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function uF(t,e){var n=ja();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&yT(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cF(t,e,n){return tc&21?(po(n,e)||(n=mU(),Xn.lanes|=n,nc|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Fi=!0),t.memoizedState=n)}function qG(t,e){var n=xn;xn=n!==0&&4>n?n:4,t(!0);var r=GS.transition;GS.transition={};try{t(!1),e()}finally{xn=n,GS.transition=r}}function fF(){return ja().memoizedState}function KG(t,e,n){var r=bl(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},hF(t))dF(e,n);else if(n=XU(t,e,n,r),n!==null){var i=Mi();ho(n,t,r,i),pF(n,e,r)}}function ZG(t,e,n){var r=bl(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(hF(t))dF(e,i);else{var a=t.alternate;if(t.lanes===0&&(a===null||a.lanes===0)&&(a=e.lastRenderedReducer,a!==null))try{var o=e.lastRenderedState,s=a(o,n);if(i.hasEagerState=!0,i.eagerState=s,po(s,o)){var l=e.interleaved;l===null?(i.next=i,dT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=XU(t,e,i,r),n!==null&&(i=Mi(),ho(n,t,r,i),pF(n,e,r))}}function hF(t){var e=t.alternate;return t===Xn||e!==null&&e===Xn}function dF(t,e){mp=D0=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function pF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,QA(t,n)}}var N0={readContext:Ha,useCallback:ti,useContext:ti,useEffect:ti,useImperativeHandle:ti,useInsertionEffect:ti,useLayoutEffect:ti,useMemo:ti,useReducer:ti,useRef:ti,useState:ti,useDebugValue:ti,useDeferredValue:ti,useTransition:ti,useMutableSource:ti,useSyncExternalStore:ti,useId:ti,unstable_isNewReconciler:!1},JG={readContext:Ha,useCallback:function(t,e){return Ao().memoizedState=[t,e===void 0?null:e],t},useContext:Ha,useEffect:iR,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,n0(4194308,4,oF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return n0(4194308,4,t,e)},useInsertionEffect:function(t,e){return n0(4,2,t,e)},useMemo:function(t,e){var n=Ao();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ao();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=KG.bind(null,Xn,t),[r.memoizedState,t]},useRef:function(t){var e=Ao();return t={current:t},e.memoizedState=t},useState:rR,useDebugValue:wT,useDeferredValue:function(t){return Ao().memoizedState=t},useTransition:function(){var t=rR(!1),e=t[0];return t=qG.bind(null,t[1]),Ao().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xn,i=Ao();if(zn){if(n===void 0)throw Error(nt(407));n=n()}else{if(n=e(),Br===null)throw Error(nt(349));tc&30||JU(r,e,n)}i.memoizedState=n;var a={value:n,getSnapshot:e};return i.queue=a,iR(eF.bind(null,r,a,t),[t]),r.flags|=2048,Xp(9,QU.bind(null,r,a,n,e),void 0,null),n},useId:function(){var t=Ao(),e=Br.identifierPrefix;if(zn){var n=ms,r=ps;n=(r&~(1<<32-fo(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wp++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=YG++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},QG={readContext:Ha,useCallback:lF,useContext:Ha,useEffect:ST,useImperativeHandle:sF,useInsertionEffect:iF,useLayoutEffect:aF,useMemo:uF,useReducer:VS,useRef:rF,useState:function(){return VS($p)},useDebugValue:wT,useDeferredValue:function(t){var e=ja();return cF(e,Mr.memoizedState,t)},useTransition:function(){var t=VS($p)[0],e=ja().memoizedState;return[t,e]},useMutableSource:KU,useSyncExternalStore:ZU,useId:fF,unstable_isNewReconciler:!1},eV={readContext:Ha,useCallback:lF,useContext:Ha,useEffect:ST,useImperativeHandle:sF,useInsertionEffect:iF,useLayoutEffect:aF,useMemo:uF,useReducer:WS,useRef:rF,useState:function(){return WS($p)},useDebugValue:wT,useDeferredValue:function(t){var e=ja();return Mr===null?e.memoizedState=t:cF(e,Mr.memoizedState,t)},useTransition:function(){var t=WS($p)[0],e=ja().memoizedState;return[t,e]},useMutableSource:KU,useSyncExternalStore:ZU,useId:fF,unstable_isNewReconciler:!1};function to(t,e){if(t&&t.defaultProps){e=Yn({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function nM(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Yn({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var e_={isMounted:function(t){return(t=t._reactInternals)?mc(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Mi(),i=bl(t),a=_s(r,i);a.payload=e,n!=null&&(a.callback=n),e=Sl(t,a,i),e!==null&&(ho(e,t,i,r),e0(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Mi(),i=bl(t),a=_s(r,i);a.tag=1,a.payload=e,n!=null&&(a.callback=n),e=Sl(t,a,i),e!==null&&(ho(e,t,i,r),e0(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Mi(),r=bl(t),i=_s(n,r);i.tag=2,e!=null&&(i.callback=e),e=Sl(t,i,r),e!==null&&(ho(e,t,r,n),e0(e,t,r))}};function aR(t,e,n,r,i,a,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,a,o):e.prototype&&e.prototype.isPureReactComponent?!Bp(n,r)||!Bp(i,a):!0}function mF(t,e,n){var r=!1,i=Pl,a=e.contextType;return typeof a=="object"&&a!==null?a=Ha(a):(i=Hi(e)?Qu:fi.current,r=e.contextTypes,a=(r=r!=null)?Zf(t,i):Pl),e=new e(n,a),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=e_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=a),e}function oR(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&e_.enqueueReplaceState(e,e.state,null)}function rM(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},pT(t);var a=e.contextType;typeof a=="object"&&a!==null?i.context=Ha(a):(a=Hi(e)?Qu:fi.current,i.context=Zf(t,a)),i.state=t.memoizedState,a=e.getDerivedStateFromProps,typeof a=="function"&&(nM(t,e,a,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&e_.enqueueReplaceState(i,i.state,null),I0(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function th(t,e){try{var n="",r=e;do n+=Pj(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:t,source:e,stack:i,digest:null}}function $S(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function iM(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var tV=typeof WeakMap=="function"?WeakMap:Map;function gF(t,e,n){n=_s(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){U0||(U0=!0,pM=r),iM(t,e)},n}function vF(t,e,n){n=_s(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){iM(t,e)}}var a=t.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){iM(t,e),typeof r!="function"&&(wl===null?wl=new Set([this]):wl.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function sR(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new tV;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=mV.bind(null,t,e,n),e.then(t,t))}function lR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function uR(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=_s(-1,1),e.tag=2,Sl(n,e,1))),n.lanes|=1),t)}var nV=Ds.ReactCurrentOwner,Fi=!1;function Si(t,e,n,r){e.child=t===null?$U(e,null,n,r):Qf(e,t.child,n,r)}function cR(t,e,n,r,i){n=n.render;var a=e.ref;return jf(e,i),r=xT(t,e,n,r,a,i),n=_T(),t!==null&&!Fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(zn&&n&&sT(e),e.flags|=1,Si(t,e,r,i),e.child)}function fR(t,e,n,r,i){if(t===null){var a=n.type;return typeof a=="function"&&!OT(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=a,yF(t,e,a,r,i)):(t=o0(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(a=t.child,!(t.lanes&i)){var o=a.memoizedProps;if(n=n.compare,n=n!==null?n:Bp,n(o,r)&&t.ref===e.ref)return Ps(t,e,i)}return e.flags|=1,t=Ml(a,r),t.ref=e.ref,t.return=e,e.child=t}function yF(t,e,n,r,i){if(t!==null){var a=t.memoizedProps;if(Bp(a,r)&&t.ref===e.ref)if(Fi=!1,e.pendingProps=r=a,(t.lanes&i)!==0)t.flags&131072&&(Fi=!0);else return e.lanes=t.lanes,Ps(t,e,i)}return aM(t,e,n,r,i)}function xF(t,e,n){var r=e.pendingProps,i=r.children,a=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Rn(Pf,ia),ia|=n;else{if(!(n&1073741824))return t=a!==null?a.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Rn(Pf,ia),ia|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,Rn(Pf,ia),ia|=r}else a!==null?(r=a.baseLanes|n,e.memoizedState=null):r=n,Rn(Pf,ia),ia|=r;return Si(t,e,i,n),e.child}function _F(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function aM(t,e,n,r,i){var a=Hi(n)?Qu:fi.current;return a=Zf(e,a),jf(e,i),n=xT(t,e,n,r,a,i),r=_T(),t!==null&&!Fi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ps(t,e,i)):(zn&&r&&sT(e),e.flags|=1,Si(t,e,n,i),e.child)}function hR(t,e,n,r,i){if(Hi(n)){var a=!0;T0(e)}else a=!1;if(jf(e,i),e.stateNode===null)r0(t,e),mF(e,n,r),rM(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,s=e.memoizedProps;o.props=s;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=Ha(u):(u=Hi(n)?Qu:fi.current,u=Zf(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==r||l!==u)&&oR(e,o,r,u),ol=!1;var h=e.memoizedState;o.state=h,I0(e,r,o,i),l=e.memoizedState,s!==r||h!==l||zi.current||ol?(typeof c=="function"&&(nM(e,n,c,r),l=e.memoizedState),(s=ol||aR(e,n,s,r,h,l,u))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=s):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,YU(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:to(e.type,s),o.props=u,f=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Ha(l):(l=Hi(n)?Qu:fi.current,l=Zf(e,l));var m=n.getDerivedStateFromProps;(c=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(s!==f||h!==l)&&oR(e,o,r,l),ol=!1,h=e.memoizedState,o.state=h,I0(e,r,o,i);var g=e.memoizedState;s!==f||h!==g||zi.current||ol?(typeof m=="function"&&(nM(e,n,m,r),g=e.memoizedState),(u=ol||aR(e,n,u,r,h,g,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,g,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,g,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),o.props=r,o.state=g,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||s===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return oM(t,e,n,r,a,i)}function oM(t,e,n,r,i,a){_F(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&ZO(e,n,!1),Ps(t,e,a);r=e.stateNode,nV.current=e;var s=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Qf(e,t.child,null,a),e.child=Qf(e,null,s,a)):Si(t,e,s,a),e.memoizedState=r.state,i&&ZO(e,n,!0),e.child}function SF(t){var e=t.stateNode;e.pendingContext?KO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&KO(t,e.context,!1),mT(t,e.containerInfo)}function dR(t,e,n,r,i){return Jf(),uT(i),e.flags|=256,Si(t,e,n,r),e.child}var sM={dehydrated:null,treeContext:null,retryLane:0};function lM(t){return{baseLanes:t,cachePool:null,transitions:null}}function wF(t,e,n){var r=e.pendingProps,i=Wn.current,a=!1,o=(e.flags&128)!==0,s;if((s=o)||(s=t!==null&&t.memoizedState===null?!1:(i&2)!==0),s?(a=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Rn(Wn,i&1),t===null)return eM(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,a?(r=e.mode,a=e.child,o={mode:"hidden",children:o},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=o):a=r_(o,r,0,null),t=Gu(t,r,n,null),a.return=e,t.return=e,a.sibling=t,e.child=a,e.child.memoizedState=lM(n),e.memoizedState=sM,t):bT(e,o));if(i=t.memoizedState,i!==null&&(s=i.dehydrated,s!==null))return rV(t,e,o,r,s,i,n);if(a){a=r.fallback,o=e.mode,i=t.child,s=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Ml(i,l),r.subtreeFlags=i.subtreeFlags&14680064),s!==null?a=Ml(s,a):(a=Gu(a,o,n,null),a.flags|=2),a.return=e,r.return=e,r.sibling=a,e.child=r,r=a,a=e.child,o=t.child.memoizedState,o=o===null?lM(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},a.memoizedState=o,a.childLanes=t.childLanes&~n,e.memoizedState=sM,r}return a=t.child,t=a.sibling,r=Ml(a,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function bT(t,e){return e=r_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Iv(t,e,n,r){return r!==null&&uT(r),Qf(e,t.child,null,n),t=bT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function rV(t,e,n,r,i,a,o){if(n)return e.flags&256?(e.flags&=-257,r=$S(Error(nt(422))),Iv(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(a=r.fallback,i=e.mode,r=r_({mode:"visible",children:r.children},i,0,null),a=Gu(a,i,o,null),a.flags|=2,r.return=e,a.return=e,r.sibling=a,e.child=r,e.mode&1&&Qf(e,t.child,null,o),e.child.memoizedState=lM(o),e.memoizedState=sM,a);if(!(e.mode&1))return Iv(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var s=r.dgst;return r=s,a=Error(nt(419)),r=$S(a,r,void 0),Iv(t,e,o,r)}if(s=(o&t.childLanes)!==0,Fi||s){if(r=Br,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,Ts(t,i),ho(r,t,i,-1))}return CT(),r=$S(Error(nt(421))),Iv(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=gV.bind(null,t),i._reactRetry=e,null):(t=a.treeContext,ua=_l(i.nextSibling),ca=e,zn=!0,oo=null,t!==null&&(Ia[La++]=ps,Ia[La++]=ms,Ia[La++]=ec,ps=t.id,ms=t.overflow,ec=e),e=bT(e,r.children),e.flags|=4096,e)}function pR(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),tM(t.return,e,n)}function XS(t,e,n,r,i){var a=t.memoizedState;a===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function bF(t,e,n){var r=e.pendingProps,i=r.revealOrder,a=r.tail;if(Si(t,e,r.children,n),r=Wn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&pR(t,n,e);else if(t.tag===19)pR(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Rn(Wn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&L0(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),XS(e,!1,i,n,a);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&L0(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}XS(e,!0,n,null,a);break;case"together":XS(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function r0(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ps(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),nc|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(nt(153));if(e.child!==null){for(t=e.child,n=Ml(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ml(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function iV(t,e,n){switch(e.tag){case 3:SF(e),Jf();break;case 5:qU(e);break;case 1:Hi(e.type)&&T0(e);break;case 4:mT(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Rn(O0,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Rn(Wn,Wn.current&1),e.flags|=128,null):n&e.child.childLanes?wF(t,e,n):(Rn(Wn,Wn.current&1),t=Ps(t,e,n),t!==null?t.sibling:null);Rn(Wn,Wn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return bF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Rn(Wn,Wn.current),r)break;return null;case 22:case 23:return e.lanes=0,xF(t,e,n)}return Ps(t,e,n)}var MF,uM,EF,AF;MF=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};uM=function(){};EF=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ru(Lo.current);var a=null;switch(n){case"input":i=Rb(t,i),r=Rb(t,r),a=[];break;case"select":i=Yn({},i,{value:void 0}),r=Yn({},r,{value:void 0}),a=[];break;case"textarea":i=Db(t,i),r=Db(t,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=E0)}kb(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var s=i[u];for(o in s)s.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ip.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var l=r[u];if(s=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==s&&(l!=null||s!=null))if(u==="style")if(s){for(o in s)!s.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&s[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(a||(a=[]),a.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,s=s?s.__html:void 0,l!=null&&s!==l&&(a=a||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(a=a||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ip.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Ln("scroll",t),a||s===l||(a=[])):(a=a||[]).push(u,l))}n&&(a=a||[]).push("style",n);var u=a;(e.updateQueue=u)&&(e.flags|=4)}};AF=function(t,e,n,r){n!==r&&(e.flags|=4)};function Td(t,e){if(!zn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ni(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function aV(t,e,n){var r=e.pendingProps;switch(lT(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ni(e),null;case 1:return Hi(e.type)&&A0(),ni(e),null;case 3:return r=e.stateNode,eh(),Un(zi),Un(fi),vT(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ov(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,oo!==null&&(vM(oo),oo=null))),uM(t,e),ni(e),null;case 5:gT(e);var i=Ru(Vp.current);if(n=e.type,t!==null&&e.stateNode!=null)EF(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(nt(166));return ni(e),null}if(t=Ru(Lo.current),Ov(e)){r=e.stateNode,n=e.type;var a=e.memoizedProps;switch(r[Po]=e,r[jp]=a,t=(e.mode&1)!==0,n){case"dialog":Ln("cancel",r),Ln("close",r);break;case"iframe":case"object":case"embed":Ln("load",r);break;case"video":case"audio":for(i=0;i<ap.length;i++)Ln(ap[i],r);break;case"source":Ln("error",r);break;case"img":case"image":case"link":Ln("error",r),Ln("load",r);break;case"details":Ln("toggle",r);break;case"input":bO(r,a),Ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ln("invalid",r);break;case"textarea":EO(r,a),Ln("invalid",r)}kb(n,a),i=null;for(var o in a)if(a.hasOwnProperty(o)){var s=a[o];o==="children"?typeof s=="string"?r.textContent!==s&&(a.suppressHydrationWarning!==!0&&Cv(r.textContent,s,t),i=["children",s]):typeof s=="number"&&r.textContent!==""+s&&(a.suppressHydrationWarning!==!0&&Cv(r.textContent,s,t),i=["children",""+s]):Ip.hasOwnProperty(o)&&s!=null&&o==="onScroll"&&Ln("scroll",r)}switch(n){case"input":Sv(r),MO(r,a,!0);break;case"textarea":Sv(r),AO(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=E0)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=eU(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Po]=e,t[jp]=r,MF(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ub(n,r),n){case"dialog":Ln("cancel",t),Ln("close",t),i=r;break;case"iframe":case"object":case"embed":Ln("load",t),i=r;break;case"video":case"audio":for(i=0;i<ap.length;i++)Ln(ap[i],t);i=r;break;case"source":Ln("error",t),i=r;break;case"img":case"image":case"link":Ln("error",t),Ln("load",t),i=r;break;case"details":Ln("toggle",t),i=r;break;case"input":bO(t,r),i=Rb(t,r),Ln("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Yn({},r,{value:void 0}),Ln("invalid",t);break;case"textarea":EO(t,r),i=Db(t,r),Ln("invalid",t);break;default:i=r}kb(n,i),s=i;for(a in s)if(s.hasOwnProperty(a)){var l=s[a];a==="style"?rU(t,l):a==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&tU(t,l)):a==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Lp(t,l):typeof l=="number"&&Lp(t,""+l):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Ip.hasOwnProperty(a)?l!=null&&a==="onScroll"&&Ln("scroll",t):l!=null&&XA(t,a,l,o))}switch(n){case"input":Sv(t),MO(t,r,!1);break;case"textarea":Sv(t),AO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Tl(r.value));break;case"select":t.multiple=!!r.multiple,a=r.value,a!=null?Ff(t,!!r.multiple,a,!1):r.defaultValue!=null&&Ff(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=E0)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ni(e),null;case 6:if(t&&e.stateNode!=null)AF(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(nt(166));if(n=Ru(Vp.current),Ru(Lo.current),Ov(e)){if(r=e.stateNode,n=e.memoizedProps,r[Po]=e,(a=r.nodeValue!==n)&&(t=ca,t!==null))switch(t.tag){case 3:Cv(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Cv(r.nodeValue,n,(t.mode&1)!==0)}a&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Po]=e,e.stateNode=r}return ni(e),null;case 13:if(Un(Wn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(zn&&ua!==null&&e.mode&1&&!(e.flags&128))VU(),Jf(),e.flags|=98560,a=!1;else if(a=Ov(e),r!==null&&r.dehydrated!==null){if(t===null){if(!a)throw Error(nt(318));if(a=e.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(nt(317));a[Po]=e}else Jf(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ni(e),a=!1}else oo!==null&&(vM(oo),oo=null),a=!0;if(!a)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wn.current&1?Er===0&&(Er=3):CT())),e.updateQueue!==null&&(e.flags|=4),ni(e),null);case 4:return eh(),uM(t,e),t===null&&zp(e.stateNode.containerInfo),ni(e),null;case 10:return hT(e.type._context),ni(e),null;case 17:return Hi(e.type)&&A0(),ni(e),null;case 19:if(Un(Wn),a=e.memoizedState,a===null)return ni(e),null;if(r=(e.flags&128)!==0,o=a.rendering,o===null)if(r)Td(a,!1);else{if(Er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=L0(t),o!==null){for(e.flags|=128,Td(a,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)a=n,t=r,a.flags&=14680066,o=a.alternate,o===null?(a.childLanes=0,a.lanes=t,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=o.childLanes,a.lanes=o.lanes,a.child=o.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=o.memoizedProps,a.memoizedState=o.memoizedState,a.updateQueue=o.updateQueue,a.type=o.type,t=o.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Rn(Wn,Wn.current&1|2),e.child}t=t.sibling}a.tail!==null&&sr()>nh&&(e.flags|=128,r=!0,Td(a,!1),e.lanes=4194304)}else{if(!r)if(t=L0(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Td(a,!0),a.tail===null&&a.tailMode==="hidden"&&!o.alternate&&!zn)return ni(e),null}else 2*sr()-a.renderingStartTime>nh&&n!==1073741824&&(e.flags|=128,r=!0,Td(a,!1),e.lanes=4194304);a.isBackwards?(o.sibling=e.child,e.child=o):(n=a.last,n!==null?n.sibling=o:e.child=o,a.last=o)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=sr(),e.sibling=null,n=Wn.current,Rn(Wn,r?n&1|2:n&1),e):(ni(e),null);case 22:case 23:return PT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ia&1073741824&&(ni(e),e.subtreeFlags&6&&(e.flags|=8192)):ni(e),null;case 24:return null;case 25:return null}throw Error(nt(156,e.tag))}function oV(t,e){switch(lT(e),e.tag){case 1:return Hi(e.type)&&A0(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return eh(),Un(zi),Un(fi),vT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return gT(e),null;case 13:if(Un(Wn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(nt(340));Jf()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Un(Wn),null;case 4:return eh(),null;case 10:return hT(e.type._context),null;case 22:case 23:return PT(),null;case 24:return null;default:return null}}var Lv=!1,si=!1,sV=typeof WeakSet=="function"?WeakSet:Set,xt=null;function Tf(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Jn(t,e,r)}else n.current=null}function cM(t,e,n){try{n()}catch(r){Jn(t,e,r)}}var mR=!1;function lV(t,e){if(Xb=w0,t=RU(),oT(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var o=0,s=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(s=o+i),f!==a||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===t)break t;if(h===n&&++u===i&&(s=o),h===a&&++c===r&&(l=o),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=s===-1||l===-1?null:{start:s,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Yb={focusedElem:t,selectionRange:n},w0=!1,xt=e;xt!==null;)if(e=xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,xt=t;else for(;xt!==null;){e=xt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var y=g.memoizedProps,x=g.memoizedState,v=e.stateNode,S=v.getSnapshotBeforeUpdate(e.elementType===e.type?y:to(e.type,y),x);v.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(nt(163))}}catch(b){Jn(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,xt=t;break}xt=e.return}return g=mR,mR=!1,g}function gp(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var a=i.destroy;i.destroy=void 0,a!==void 0&&cM(e,n,a)}i=i.next}while(i!==r)}}function t_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function fM(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function TF(t){var e=t.alternate;e!==null&&(t.alternate=null,TF(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Po],delete e[jp],delete e[Zb],delete e[VG],delete e[WG])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function PF(t){return t.tag===5||t.tag===3||t.tag===4}function gR(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||PF(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=E0));else if(r!==4&&(t=t.child,t!==null))for(hM(t,e,n),t=t.sibling;t!==null;)hM(t,e,n),t=t.sibling}function dM(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dM(t,e,n),t=t.sibling;t!==null;)dM(t,e,n),t=t.sibling}var Vr=null,ro=!1;function qs(t,e,n){for(n=n.child;n!==null;)CF(t,e,n),n=n.sibling}function CF(t,e,n){if(Io&&typeof Io.onCommitFiberUnmount=="function")try{Io.onCommitFiberUnmount(Xx,n)}catch{}switch(n.tag){case 5:si||Tf(n,e);case 6:var r=Vr,i=ro;Vr=null,qs(t,e,n),Vr=r,ro=i,Vr!==null&&(ro?(t=Vr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Vr.removeChild(n.stateNode));break;case 18:Vr!==null&&(ro?(t=Vr,n=n.stateNode,t.nodeType===8?zS(t.parentNode,n):t.nodeType===1&&zS(t,n),Up(t)):zS(Vr,n.stateNode));break;case 4:r=Vr,i=ro,Vr=n.stateNode.containerInfo,ro=!0,qs(t,e,n),Vr=r,ro=i;break;case 0:case 11:case 14:case 15:if(!si&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,o!==void 0&&(a&2||a&4)&&cM(n,e,o),i=i.next}while(i!==r)}qs(t,e,n);break;case 1:if(!si&&(Tf(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(s){Jn(n,e,s)}qs(t,e,n);break;case 21:qs(t,e,n);break;case 22:n.mode&1?(si=(r=si)||n.memoizedState!==null,qs(t,e,n),si=r):qs(t,e,n);break;default:qs(t,e,n)}}function vR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new sV),e.forEach(function(r){var i=vV.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function qa(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=t,o=e,s=o;e:for(;s!==null;){switch(s.tag){case 5:Vr=s.stateNode,ro=!1;break e;case 3:Vr=s.stateNode.containerInfo,ro=!0;break e;case 4:Vr=s.stateNode.containerInfo,ro=!0;break e}s=s.return}if(Vr===null)throw Error(nt(160));CF(a,o,i),Vr=null,ro=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Jn(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)OF(e,t),e=e.sibling}function OF(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qa(e,t),Eo(t),r&4){try{gp(3,t,t.return),t_(3,t)}catch(y){Jn(t,t.return,y)}try{gp(5,t,t.return)}catch(y){Jn(t,t.return,y)}}break;case 1:qa(e,t),Eo(t),r&512&&n!==null&&Tf(n,n.return);break;case 5:if(qa(e,t),Eo(t),r&512&&n!==null&&Tf(n,n.return),t.flags&32){var i=t.stateNode;try{Lp(i,"")}catch(y){Jn(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var a=t.memoizedProps,o=n!==null?n.memoizedProps:a,s=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{s==="input"&&a.type==="radio"&&a.name!=null&&Jk(i,a),Ub(s,o);var u=Ub(s,a);for(o=0;o<l.length;o+=2){var c=l[o],f=l[o+1];c==="style"?rU(i,f):c==="dangerouslySetInnerHTML"?tU(i,f):c==="children"?Lp(i,f):XA(i,c,f,u)}switch(s){case"input":Ib(i,a);break;case"textarea":Qk(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?Ff(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?Ff(i,!!a.multiple,a.defaultValue,!0):Ff(i,!!a.multiple,a.multiple?[]:"",!1))}i[jp]=a}catch(y){Jn(t,t.return,y)}}break;case 6:if(qa(e,t),Eo(t),r&4){if(t.stateNode===null)throw Error(nt(162));i=t.stateNode,a=t.memoizedProps;try{i.nodeValue=a}catch(y){Jn(t,t.return,y)}}break;case 3:if(qa(e,t),Eo(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Up(e.containerInfo)}catch(y){Jn(t,t.return,y)}break;case 4:qa(e,t),Eo(t);break;case 13:qa(e,t),Eo(t),i=t.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(AT=sr())),r&4&&vR(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(si=(u=si)||c,qa(e,t),si=u):qa(e,t),Eo(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(xt=t,c=t.child;c!==null;){for(f=xt=c;xt!==null;){switch(h=xt,m=h.child,h.tag){case 0:case 11:case 14:case 15:gp(4,h,h.return);break;case 1:Tf(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(y){Jn(r,n,y)}}break;case 5:Tf(h,h.return);break;case 22:if(h.memoizedState!==null){xR(f);continue}}m!==null?(m.return=h,xt=m):xR(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(s=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,s.style.display=nU("display",o))}catch(y){Jn(t,t.return,y)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(y){Jn(t,t.return,y)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:qa(e,t),Eo(t),r&4&&vR(t);break;case 21:break;default:qa(e,t),Eo(t)}}function Eo(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(PF(n)){var r=n;break e}n=n.return}throw Error(nt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Lp(i,""),r.flags&=-33);var a=gR(t);dM(t,a,i);break;case 3:case 4:var o=r.stateNode.containerInfo,s=gR(t);hM(t,s,o);break;default:throw Error(nt(161))}}catch(l){Jn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function uV(t,e,n){xt=t,RF(t)}function RF(t,e,n){for(var r=(t.mode&1)!==0;xt!==null;){var i=xt,a=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Lv;if(!o){var s=i.alternate,l=s!==null&&s.memoizedState!==null||si;s=Lv;var u=si;if(Lv=o,(si=l)&&!u)for(xt=i;xt!==null;)o=xt,l=o.child,o.tag===22&&o.memoizedState!==null?_R(i):l!==null?(l.return=o,xt=l):_R(i);for(;a!==null;)xt=a,RF(a),a=a.sibling;xt=i,Lv=s,si=u}yR(t)}else i.subtreeFlags&8772&&a!==null?(a.return=i,xt=a):yR(t)}}function yR(t){for(;xt!==null;){var e=xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:si||t_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!si)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:to(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=e.updateQueue;a!==null&&nR(e,a,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}nR(e,o,n)}break;case 5:var s=e.stateNode;if(n===null&&e.flags&4){n=s;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&Up(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(nt(163))}si||e.flags&512&&fM(e)}catch(h){Jn(e,e.return,h)}}if(e===t){xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,xt=n;break}xt=e.return}}function xR(t){for(;xt!==null;){var e=xt;if(e===t){xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,xt=n;break}xt=e.return}}function _R(t){for(;xt!==null;){var e=xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{t_(4,e)}catch(l){Jn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Jn(e,i,l)}}var a=e.return;try{fM(e)}catch(l){Jn(e,a,l)}break;case 5:var o=e.return;try{fM(e)}catch(l){Jn(e,o,l)}}}catch(l){Jn(e,e.return,l)}if(e===t){xt=null;break}var s=e.sibling;if(s!==null){s.return=e.return,xt=s;break}xt=e.return}}var cV=Math.ceil,k0=Ds.ReactCurrentDispatcher,MT=Ds.ReactCurrentOwner,Fa=Ds.ReactCurrentBatchConfig,sn=0,Br=null,mr=null,Xr=0,ia=0,Pf=Dl(0),Er=0,Yp=null,nc=0,n_=0,ET=0,vp=null,Ui=null,AT=0,nh=1/0,us=null,U0=!1,pM=null,wl=null,Dv=!1,pl=null,F0=0,yp=0,mM=null,i0=-1,a0=0;function Mi(){return sn&6?sr():i0!==-1?i0:i0=sr()}function bl(t){return t.mode&1?sn&2&&Xr!==0?Xr&-Xr:XG.transition!==null?(a0===0&&(a0=mU()),a0):(t=xn,t!==0||(t=window.event,t=t===void 0?16:wU(t.type)),t):1}function ho(t,e,n,r){if(50<yp)throw yp=0,mM=null,Error(nt(185));eg(t,n,r),(!(sn&2)||t!==Br)&&(t===Br&&(!(sn&2)&&(n_|=n),Er===4&&cl(t,Xr)),ji(t,r),n===1&&sn===0&&!(e.mode&1)&&(nh=sr()+500,Jx&&Nl()))}function ji(t,e){var n=t.callbackNode;Xj(t,e);var r=S0(t,t===Br?Xr:0);if(r===0)n!==null&&CO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&CO(n),e===1)t.tag===0?$G(SR.bind(null,t)):HU(SR.bind(null,t)),jG(function(){!(sn&6)&&Nl()}),n=null;else{switch(gU(r)){case 1:n=JA;break;case 4:n=dU;break;case 16:n=_0;break;case 536870912:n=pU;break;default:n=_0}n=BF(n,IF.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IF(t,e){if(i0=-1,a0=0,sn&6)throw Error(nt(327));var n=t.callbackNode;if(Gf()&&t.callbackNode!==n)return null;var r=S0(t,t===Br?Xr:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=B0(t,r);else{e=r;var i=sn;sn|=2;var a=DF();(Br!==t||Xr!==e)&&(us=null,nh=sr()+500,ju(t,e));do try{dV();break}catch(s){LF(t,s)}while(!0);fT(),k0.current=a,sn=i,mr!==null?e=0:(Br=null,Xr=0,e=Er)}if(e!==0){if(e===2&&(i=jb(t),i!==0&&(r=i,e=gM(t,i))),e===1)throw n=Yp,ju(t,0),cl(t,r),ji(t,sr()),n;if(e===6)cl(t,r);else{if(i=t.current.alternate,!(r&30)&&!fV(i)&&(e=B0(t,r),e===2&&(a=jb(t),a!==0&&(r=a,e=gM(t,a))),e===1))throw n=Yp,ju(t,0),cl(t,r),ji(t,sr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(nt(345));case 2:_u(t,Ui,us);break;case 3:if(cl(t,r),(r&130023424)===r&&(e=AT+500-sr(),10<e)){if(S0(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Mi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Kb(_u.bind(null,t,Ui,us),e);break}_u(t,Ui,us);break;case 4:if(cl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-fo(r);a=1<<o,o=e[o],o>i&&(i=o),r&=~a}if(r=i,r=sr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cV(r/1960))-r,10<r){t.timeoutHandle=Kb(_u.bind(null,t,Ui,us),r);break}_u(t,Ui,us);break;case 5:_u(t,Ui,us);break;default:throw Error(nt(329))}}}return ji(t,sr()),t.callbackNode===n?IF.bind(null,t):null}function gM(t,e){var n=vp;return t.current.memoizedState.isDehydrated&&(ju(t,e).flags|=256),t=B0(t,e),t!==2&&(e=Ui,Ui=n,e!==null&&vM(e)),t}function vM(t){Ui===null?Ui=t:Ui.push.apply(Ui,t)}function fV(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!po(a(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function cl(t,e){for(e&=~ET,e&=~n_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-fo(e),r=1<<n;t[n]=-1,e&=~r}}function SR(t){if(sn&6)throw Error(nt(327));Gf();var e=S0(t,0);if(!(e&1))return ji(t,sr()),null;var n=B0(t,e);if(t.tag!==0&&n===2){var r=jb(t);r!==0&&(e=r,n=gM(t,r))}if(n===1)throw n=Yp,ju(t,0),cl(t,e),ji(t,sr()),n;if(n===6)throw Error(nt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,_u(t,Ui,us),ji(t,sr()),null}function TT(t,e){var n=sn;sn|=1;try{return t(e)}finally{sn=n,sn===0&&(nh=sr()+500,Jx&&Nl())}}function rc(t){pl!==null&&pl.tag===0&&!(sn&6)&&Gf();var e=sn;sn|=1;var n=Fa.transition,r=xn;try{if(Fa.transition=null,xn=1,t)return t()}finally{xn=r,Fa.transition=n,sn=e,!(sn&6)&&Nl()}}function PT(){ia=Pf.current,Un(Pf)}function ju(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,HG(n)),mr!==null)for(n=mr.return;n!==null;){var r=n;switch(lT(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&A0();break;case 3:eh(),Un(zi),Un(fi),vT();break;case 5:gT(r);break;case 4:eh();break;case 13:Un(Wn);break;case 19:Un(Wn);break;case 10:hT(r.type._context);break;case 22:case 23:PT()}n=n.return}if(Br=t,mr=t=Ml(t.current,null),Xr=ia=e,Er=0,Yp=null,ET=n_=nc=0,Ui=vp=null,Ou!==null){for(e=0;e<Ou.length;e++)if(n=Ou[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var o=a.next;a.next=i,r.next=o}n.pending=r}Ou=null}return t}function LF(t,e){do{var n=mr;try{if(fT(),t0.current=N0,D0){for(var r=Xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}D0=!1}if(tc=0,Ur=Mr=Xn=null,mp=!1,Wp=0,MT.current=null,n===null||n.return===null){Er=1,Yp=e,mr=null;break}e:{var a=t,o=n.return,s=n,l=e;if(e=Xr,s.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=s,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var m=lR(o);if(m!==null){m.flags&=-257,uR(m,o,s,a,e),m.mode&1&&sR(a,u,e),e=m,l=u;var g=e.updateQueue;if(g===null){var y=new Set;y.add(l),e.updateQueue=y}else g.add(l);break e}else{if(!(e&1)){sR(a,u,e),CT();break e}l=Error(nt(426))}}else if(zn&&s.mode&1){var x=lR(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),uR(x,o,s,a,e),uT(th(l,s));break e}}a=l=th(l,s),Er!==4&&(Er=2),vp===null?vp=[a]:vp.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,e&=-e,a.lanes|=e;var v=gF(a,l,e);tR(a,v);break e;case 1:s=l;var S=a.type,_=a.stateNode;if(!(a.flags&128)&&(typeof S.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(wl===null||!wl.has(_)))){a.flags|=65536,e&=-e,a.lanes|=e;var b=vF(a,s,e);tR(a,b);break e}}a=a.return}while(a!==null)}kF(n)}catch(E){e=E,mr===n&&n!==null&&(mr=n=n.return);continue}break}while(!0)}function DF(){var t=k0.current;return k0.current=N0,t===null?N0:t}function CT(){(Er===0||Er===3||Er===2)&&(Er=4),Br===null||!(nc&268435455)&&!(n_&268435455)||cl(Br,Xr)}function B0(t,e){var n=sn;sn|=2;var r=DF();(Br!==t||Xr!==e)&&(us=null,ju(t,e));do try{hV();break}catch(i){LF(t,i)}while(!0);if(fT(),sn=n,k0.current=r,mr!==null)throw Error(nt(261));return Br=null,Xr=0,Er}function hV(){for(;mr!==null;)NF(mr)}function dV(){for(;mr!==null&&!Fj();)NF(mr)}function NF(t){var e=FF(t.alternate,t,ia);t.memoizedProps=t.pendingProps,e===null?kF(t):mr=e,MT.current=null}function kF(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=oV(n,e),n!==null){n.flags&=32767,mr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Er=6,mr=null;return}}else if(n=aV(n,e,ia),n!==null){mr=n;return}if(e=e.sibling,e!==null){mr=e;return}mr=e=t}while(e!==null);Er===0&&(Er=5)}function _u(t,e,n){var r=xn,i=Fa.transition;try{Fa.transition=null,xn=1,pV(t,e,n,r)}finally{Fa.transition=i,xn=r}return null}function pV(t,e,n,r){do Gf();while(pl!==null);if(sn&6)throw Error(nt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(nt(177));t.callbackNode=null,t.callbackPriority=0;var a=n.lanes|n.childLanes;if(Yj(t,a),t===Br&&(mr=Br=null,Xr=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Dv||(Dv=!0,BF(_0,function(){return Gf(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=Fa.transition,Fa.transition=null;var o=xn;xn=1;var s=sn;sn|=4,MT.current=null,lV(t,n),OF(n,t),DG(Yb),w0=!!Xb,Yb=Xb=null,t.current=n,uV(n),Bj(),sn=s,xn=o,Fa.transition=a}else t.current=n;if(Dv&&(Dv=!1,pl=t,F0=i),a=t.pendingLanes,a===0&&(wl=null),jj(n.stateNode),ji(t,sr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(U0)throw U0=!1,t=pM,pM=null,t;return F0&1&&t.tag!==0&&Gf(),a=t.pendingLanes,a&1?t===mM?yp++:(yp=0,mM=t):yp=0,Nl(),null}function Gf(){if(pl!==null){var t=gU(F0),e=Fa.transition,n=xn;try{if(Fa.transition=null,xn=16>t?16:t,pl===null)var r=!1;else{if(t=pl,pl=null,F0=0,sn&6)throw Error(nt(331));var i=sn;for(sn|=4,xt=t.current;xt!==null;){var a=xt,o=a.child;if(xt.flags&16){var s=a.deletions;if(s!==null){for(var l=0;l<s.length;l++){var u=s[l];for(xt=u;xt!==null;){var c=xt;switch(c.tag){case 0:case 11:case 15:gp(8,c,a)}var f=c.child;if(f!==null)f.return=c,xt=f;else for(;xt!==null;){c=xt;var h=c.sibling,m=c.return;if(TF(c),c===u){xt=null;break}if(h!==null){h.return=m,xt=h;break}xt=m}}}var g=a.alternate;if(g!==null){var y=g.child;if(y!==null){g.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}xt=a}}if(a.subtreeFlags&2064&&o!==null)o.return=a,xt=o;else e:for(;xt!==null;){if(a=xt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:gp(9,a,a.return)}var v=a.sibling;if(v!==null){v.return=a.return,xt=v;break e}xt=a.return}}var S=t.current;for(xt=S;xt!==null;){o=xt;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,xt=_;else e:for(o=S;xt!==null;){if(s=xt,s.flags&2048)try{switch(s.tag){case 0:case 11:case 15:t_(9,s)}}catch(E){Jn(s,s.return,E)}if(s===o){xt=null;break e}var b=s.sibling;if(b!==null){b.return=s.return,xt=b;break e}xt=s.return}}if(sn=i,Nl(),Io&&typeof Io.onPostCommitFiberRoot=="function")try{Io.onPostCommitFiberRoot(Xx,t)}catch{}r=!0}return r}finally{xn=n,Fa.transition=e}}return!1}function wR(t,e,n){e=th(n,e),e=gF(t,e,1),t=Sl(t,e,1),e=Mi(),t!==null&&(eg(t,1,e),ji(t,e))}function Jn(t,e,n){if(t.tag===3)wR(t,t,n);else for(;e!==null;){if(e.tag===3){wR(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wl===null||!wl.has(r))){t=th(n,t),t=vF(e,t,1),e=Sl(e,t,1),t=Mi(),e!==null&&(eg(e,1,t),ji(e,t));break}}e=e.return}}function mV(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Mi(),t.pingedLanes|=t.suspendedLanes&n,Br===t&&(Xr&n)===n&&(Er===4||Er===3&&(Xr&130023424)===Xr&&500>sr()-AT?ju(t,0):ET|=n),ji(t,e)}function UF(t,e){e===0&&(t.mode&1?(e=Mv,Mv<<=1,!(Mv&130023424)&&(Mv=4194304)):e=1);var n=Mi();t=Ts(t,e),t!==null&&(eg(t,e,n),ji(t,n))}function gV(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),UF(t,n)}function vV(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(nt(314))}r!==null&&r.delete(e),UF(t,n)}var FF;FF=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||zi.current)Fi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Fi=!1,iV(t,e,n);Fi=!!(t.flags&131072)}else Fi=!1,zn&&e.flags&1048576&&jU(e,C0,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;r0(t,e),t=e.pendingProps;var i=Zf(e,fi.current);jf(e,n),i=xT(null,e,r,t,i,n);var a=_T();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Hi(r)?(a=!0,T0(e)):a=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,pT(e),i.updater=e_,e.stateNode=i,i._reactInternals=e,rM(e,r,t,n),e=oM(null,e,r,!0,a,n)):(e.tag=0,zn&&a&&sT(e),Si(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(r0(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xV(r),t=to(r,t),i){case 0:e=aM(null,e,r,t,n);break e;case 1:e=hR(null,e,r,t,n);break e;case 11:e=cR(null,e,r,t,n);break e;case 14:e=fR(null,e,r,to(r.type,t),n);break e}throw Error(nt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),aM(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),hR(t,e,r,i,n);case 3:e:{if(SF(e),t===null)throw Error(nt(387));r=e.pendingProps,a=e.memoizedState,i=a.element,YU(t,e),I0(e,r,null,n);var o=e.memoizedState;if(r=o.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=a,e.memoizedState=a,e.flags&256){i=th(Error(nt(423)),e),e=dR(t,e,r,n,i);break e}else if(r!==i){i=th(Error(nt(424)),e),e=dR(t,e,r,n,i);break e}else for(ua=_l(e.stateNode.containerInfo.firstChild),ca=e,zn=!0,oo=null,n=$U(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Jf(),r===i){e=Ps(t,e,n);break e}Si(t,e,r,n)}e=e.child}return e;case 5:return qU(e),t===null&&eM(e),r=e.type,i=e.pendingProps,a=t!==null?t.memoizedProps:null,o=i.children,qb(r,i)?o=null:a!==null&&qb(r,a)&&(e.flags|=32),_F(t,e),Si(t,e,o,n),e.child;case 6:return t===null&&eM(e),null;case 13:return wF(t,e,n);case 4:return mT(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Qf(e,null,r,n):Si(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),cR(t,e,r,i,n);case 7:return Si(t,e,e.pendingProps,n),e.child;case 8:return Si(t,e,e.pendingProps.children,n),e.child;case 12:return Si(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,a=e.memoizedProps,o=i.value,Rn(O0,r._currentValue),r._currentValue=o,a!==null)if(po(a.value,o)){if(a.children===i.children&&!zi.current){e=Ps(t,e,n);break e}}else for(a=e.child,a!==null&&(a.return=e);a!==null;){var s=a.dependencies;if(s!==null){o=a.child;for(var l=s.firstContext;l!==null;){if(l.context===r){if(a.tag===1){l=_s(-1,n&-n),l.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}a.lanes|=n,l=a.alternate,l!==null&&(l.lanes|=n),tM(a.return,n,e),s.lanes|=n;break}l=l.next}}else if(a.tag===10)o=a.type===e.type?null:a.child;else if(a.tag===18){if(o=a.return,o===null)throw Error(nt(341));o.lanes|=n,s=o.alternate,s!==null&&(s.lanes|=n),tM(o,n,e),o=a.sibling}else o=a.child;if(o!==null)o.return=a;else for(o=a;o!==null;){if(o===e){o=null;break}if(a=o.sibling,a!==null){a.return=o.return,o=a;break}o=o.return}a=o}Si(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,jf(e,n),i=Ha(i),r=r(i),e.flags|=1,Si(t,e,r,n),e.child;case 14:return r=e.type,i=to(r,e.pendingProps),i=to(r.type,i),fR(t,e,r,i,n);case 15:return yF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:to(r,i),r0(t,e),e.tag=1,Hi(r)?(t=!0,T0(e)):t=!1,jf(e,n),mF(e,r,i),rM(e,r,i,n),oM(null,e,r,!0,t,n);case 19:return bF(t,e,n);case 22:return xF(t,e,n)}throw Error(nt(156,e.tag))};function BF(t,e){return hU(t,e)}function yV(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ka(t,e,n,r){return new yV(t,e,n,r)}function OT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function xV(t){if(typeof t=="function")return OT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===qA)return 11;if(t===KA)return 14}return 2}function Ml(t,e){var n=t.alternate;return n===null?(n=ka(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function o0(t,e,n,r,i,a){var o=2;if(r=t,typeof t=="function")OT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case yf:return Gu(n.children,i,a,e);case YA:o=8,i|=8;break;case Tb:return t=ka(12,n,e,i|2),t.elementType=Tb,t.lanes=a,t;case Pb:return t=ka(13,n,e,i),t.elementType=Pb,t.lanes=a,t;case Cb:return t=ka(19,n,e,i),t.elementType=Cb,t.lanes=a,t;case qk:return r_(n,i,a,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Xk:o=10;break e;case Yk:o=9;break e;case qA:o=11;break e;case KA:o=14;break e;case al:o=16,r=null;break e}throw Error(nt(130,t==null?t:typeof t,""))}return e=ka(o,n,e,i),e.elementType=t,e.type=r,e.lanes=a,e}function Gu(t,e,n,r){return t=ka(7,t,r,e),t.lanes=n,t}function r_(t,e,n,r){return t=ka(22,t,r,e),t.elementType=qk,t.lanes=n,t.stateNode={isHidden:!1},t}function YS(t,e,n){return t=ka(6,t,null,e),t.lanes=n,t}function qS(t,e,n){return e=ka(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _V(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=CS(0),this.expirationTimes=CS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=CS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function RT(t,e,n,r,i,a,o,s,l){return t=new _V(t,e,n,s,l),e===1?(e=1,a===!0&&(e|=8)):e=0,a=ka(3,null,null,e),t.current=a,a.stateNode=t,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},pT(a),t}function SV(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vf,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function zF(t){if(!t)return Pl;t=t._reactInternals;e:{if(mc(t)!==t||t.tag!==1)throw Error(nt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Hi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(nt(171))}if(t.tag===1){var n=t.type;if(Hi(n))return zU(t,n,e)}return e}function HF(t,e,n,r,i,a,o,s,l){return t=RT(n,r,!0,t,i,a,o,s,l),t.context=zF(null),n=t.current,r=Mi(),i=bl(n),a=_s(r,i),a.callback=e??null,Sl(n,a,i),t.current.lanes=i,eg(t,i,r),ji(t,r),t}function i_(t,e,n,r){var i=e.current,a=Mi(),o=bl(i);return n=zF(n),e.context===null?e.context=n:e.pendingContext=n,e=_s(a,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Sl(i,e,o),t!==null&&(ho(t,i,o,a),e0(t,i,o)),o}function z0(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function bR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function IT(t,e){bR(t,e),(t=t.alternate)&&bR(t,e)}function wV(){return null}var jF=typeof reportError=="function"?reportError:function(t){console.error(t)};function LT(t){this._internalRoot=t}a_.prototype.render=LT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(nt(409));i_(t,e,null,null)};a_.prototype.unmount=LT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;rc(function(){i_(null,t,null,null)}),e[As]=null}};function a_(t){this._internalRoot=t}a_.prototype.unstable_scheduleHydration=function(t){if(t){var e=xU();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ul.length&&e!==0&&e<ul[n].priority;n++);ul.splice(n,0,t),n===0&&SU(t)}};function DT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function o_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function MR(){}function bV(t,e,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=z0(o);a.call(u)}}var o=HF(e,r,t,0,null,!1,!1,"",MR);return t._reactRootContainer=o,t[As]=o.current,zp(t.nodeType===8?t.parentNode:t),rc(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var s=r;r=function(){var u=z0(l);s.call(u)}}var l=RT(t,0,!1,null,null,!1,!1,"",MR);return t._reactRootContainer=l,t[As]=l.current,zp(t.nodeType===8?t.parentNode:t),rc(function(){i_(e,l,n,r)}),l}function s_(t,e,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if(typeof i=="function"){var s=i;i=function(){var l=z0(o);s.call(l)}}i_(e,o,t,i)}else o=bV(n,e,t,i,r);return z0(o)}vU=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ip(e.pendingLanes);n!==0&&(QA(e,n|1),ji(e,sr()),!(sn&6)&&(nh=sr()+500,Nl()))}break;case 13:rc(function(){var r=Ts(t,1);if(r!==null){var i=Mi();ho(r,t,1,i)}}),IT(t,1)}};eT=function(t){if(t.tag===13){var e=Ts(t,134217728);if(e!==null){var n=Mi();ho(e,t,134217728,n)}IT(t,134217728)}};yU=function(t){if(t.tag===13){var e=bl(t),n=Ts(t,e);if(n!==null){var r=Mi();ho(n,t,e,r)}IT(t,e)}};xU=function(){return xn};_U=function(t,e){var n=xn;try{return xn=t,e()}finally{xn=n}};Bb=function(t,e,n){switch(e){case"input":if(Ib(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zx(r);if(!i)throw Error(nt(90));Zk(r),Ib(r,i)}}}break;case"textarea":Qk(t,n);break;case"select":e=n.value,e!=null&&Ff(t,!!n.multiple,e,!1)}};oU=TT;sU=rc;var MV={usingClientEntryPoint:!1,Events:[ng,wf,Zx,iU,aU,TT]},Pd={findFiberByHostInstance:Cu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EV={bundleType:Pd.bundleType,version:Pd.version,rendererPackageName:Pd.rendererPackageName,rendererConfig:Pd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cU(t),t===null?null:t.stateNode},findFiberByHostInstance:Pd.findFiberByHostInstance||wV,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nv=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nv.isDisabled&&Nv.supportsFiber)try{Xx=Nv.inject(EV),Io=Nv}catch{}}ya.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MV;ya.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!DT(e))throw Error(nt(200));return SV(t,e,null,n)};ya.createRoot=function(t,e){if(!DT(t))throw Error(nt(299));var n=!1,r="",i=jF;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=RT(t,1,!1,null,null,n,!1,r,i),t[As]=e.current,zp(t.nodeType===8?t.parentNode:t),new LT(e)};ya.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(nt(188)):(t=Object.keys(t).join(","),Error(nt(268,t)));return t=cU(e),t=t===null?null:t.stateNode,t};ya.flushSync=function(t){return rc(t)};ya.hydrate=function(t,e,n){if(!o_(e))throw Error(nt(200));return s_(null,t,e,!0,n)};ya.hydrateRoot=function(t,e,n){if(!DT(t))throw Error(nt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",o=jF;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=HF(e,null,t,1,n??null,i,!1,a,o),t[As]=e.current,zp(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new a_(e)};ya.render=function(t,e,n){if(!o_(e))throw Error(nt(200));return s_(null,t,e,!1,n)};ya.unmountComponentAtNode=function(t){if(!o_(t))throw Error(nt(40));return t._reactRootContainer?(rc(function(){s_(null,null,t,!1,function(){t._reactRootContainer=null,t[As]=null})}),!0):!1};ya.unstable_batchedUpdates=TT;ya.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!o_(n))throw Error(nt(200));if(t==null||t._reactInternals===void 0)throw Error(nt(38));return s_(t,e,n,!1,r)};ya.version="18.3.1-next-f1338f8080-20240426";function GF(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GF)}catch(t){console.error(t)}}GF(),Gk.exports=ya;var AV=Gk.exports,ER=AV;Eb.createRoot=ER.createRoot,Eb.hydrateRoot=ER.hydrateRoot;function VF(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=VF(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function ln(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=VF(t))&&(r&&(r+=" "),r+=e);return r}var TV=Array.isArray,Vi=TV,PV=typeof yv=="object"&&yv&&yv.Object===Object&&yv,WF=PV,CV=WF,OV=typeof self=="object"&&self&&self.Object===Object&&self,RV=CV||OV||Function("return this")(),jo=RV,IV=jo,LV=IV.Symbol,ig=LV,AR=ig,$F=Object.prototype,DV=$F.hasOwnProperty,NV=$F.toString,Cd=AR?AR.toStringTag:void 0;function kV(t){var e=DV.call(t,Cd),n=t[Cd];try{t[Cd]=void 0;var r=!0}catch{}var i=NV.call(t);return r&&(e?t[Cd]=n:delete t[Cd]),i}var UV=kV,FV=Object.prototype,BV=FV.toString;function zV(t){return BV.call(t)}var HV=zV,TR=ig,jV=UV,GV=HV,VV="[object Null]",WV="[object Undefined]",PR=TR?TR.toStringTag:void 0;function $V(t){return t==null?t===void 0?WV:VV:PR&&PR in Object(t)?jV(t):GV(t)}var Ns=$V;function XV(t){return t!=null&&typeof t=="object"}var ks=XV,YV=Ns,qV=ks,KV="[object Symbol]";function ZV(t){return typeof t=="symbol"||qV(t)&&YV(t)==KV}var Dh=ZV,JV=Vi,QV=Dh,eW=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,tW=/^\w*$/;function nW(t,e){if(JV(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||QV(t)?!0:tW.test(t)||!eW.test(t)||e!=null&&t in Object(e)}var NT=nW;function rW(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var kl=rW;const Nh=bn(kl);var iW=Ns,aW=kl,oW="[object AsyncFunction]",sW="[object Function]",lW="[object GeneratorFunction]",uW="[object Proxy]";function cW(t){if(!aW(t))return!1;var e=iW(t);return e==sW||e==lW||e==oW||e==uW}var kT=cW;const Xt=bn(kT);var fW=jo,hW=fW["__core-js_shared__"],dW=hW,KS=dW,CR=function(){var t=/[^.]+$/.exec(KS&&KS.keys&&KS.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function pW(t){return!!CR&&CR in t}var mW=pW,gW=Function.prototype,vW=gW.toString;function yW(t){if(t!=null){try{return vW.call(t)}catch{}try{return t+""}catch{}}return""}var XF=yW,xW=kT,_W=mW,SW=kl,wW=XF,bW=/[\\^$.*+?()[\]{}|]/g,MW=/^\[object .+?Constructor\]$/,EW=Function.prototype,AW=Object.prototype,TW=EW.toString,PW=AW.hasOwnProperty,CW=RegExp("^"+TW.call(PW).replace(bW,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function OW(t){if(!SW(t)||_W(t))return!1;var e=xW(t)?CW:MW;return e.test(wW(t))}var RW=OW;function IW(t,e){return t==null?void 0:t[e]}var LW=IW,DW=RW,NW=LW;function kW(t,e){var n=NW(t,e);return DW(n)?n:void 0}var gc=kW,UW=gc,FW=UW(Object,"create"),l_=FW,OR=l_;function BW(){this.__data__=OR?OR(null):{},this.size=0}var zW=BW;function HW(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var jW=HW,GW=l_,VW="__lodash_hash_undefined__",WW=Object.prototype,$W=WW.hasOwnProperty;function XW(t){var e=this.__data__;if(GW){var n=e[t];return n===VW?void 0:n}return $W.call(e,t)?e[t]:void 0}var YW=XW,qW=l_,KW=Object.prototype,ZW=KW.hasOwnProperty;function JW(t){var e=this.__data__;return qW?e[t]!==void 0:ZW.call(e,t)}var QW=JW,e$=l_,t$="__lodash_hash_undefined__";function n$(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=e$&&e===void 0?t$:e,this}var r$=n$,i$=zW,a$=jW,o$=YW,s$=QW,l$=r$;function kh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}kh.prototype.clear=i$;kh.prototype.delete=a$;kh.prototype.get=o$;kh.prototype.has=s$;kh.prototype.set=l$;var u$=kh;function c$(){this.__data__=[],this.size=0}var f$=c$;function h$(t,e){return t===e||t!==t&&e!==e}var UT=h$,d$=UT;function p$(t,e){for(var n=t.length;n--;)if(d$(t[n][0],e))return n;return-1}var u_=p$,m$=u_,g$=Array.prototype,v$=g$.splice;function y$(t){var e=this.__data__,n=m$(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():v$.call(e,n,1),--this.size,!0}var x$=y$,_$=u_;function S$(t){var e=this.__data__,n=_$(e,t);return n<0?void 0:e[n][1]}var w$=S$,b$=u_;function M$(t){return b$(this.__data__,t)>-1}var E$=M$,A$=u_;function T$(t,e){var n=this.__data__,r=A$(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var P$=T$,C$=f$,O$=x$,R$=w$,I$=E$,L$=P$;function Uh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Uh.prototype.clear=C$;Uh.prototype.delete=O$;Uh.prototype.get=R$;Uh.prototype.has=I$;Uh.prototype.set=L$;var c_=Uh,D$=gc,N$=jo,k$=D$(N$,"Map"),FT=k$,RR=u$,U$=c_,F$=FT;function B$(){this.size=0,this.__data__={hash:new RR,map:new(F$||U$),string:new RR}}var z$=B$;function H$(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var j$=H$,G$=j$;function V$(t,e){var n=t.__data__;return G$(e)?n[typeof e=="string"?"string":"hash"]:n.map}var f_=V$,W$=f_;function $$(t){var e=W$(this,t).delete(t);return this.size-=e?1:0,e}var X$=$$,Y$=f_;function q$(t){return Y$(this,t).get(t)}var K$=q$,Z$=f_;function J$(t){return Z$(this,t).has(t)}var Q$=J$,e9=f_;function t9(t,e){var n=e9(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var n9=t9,r9=z$,i9=X$,a9=K$,o9=Q$,s9=n9;function Fh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Fh.prototype.clear=r9;Fh.prototype.delete=i9;Fh.prototype.get=a9;Fh.prototype.has=o9;Fh.prototype.set=s9;var BT=Fh,YF=BT,l9="Expected a function";function zT(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(l9);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=t.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(zT.Cache||YF),n}zT.Cache=YF;var qF=zT;const u9=bn(qF);var c9=qF,f9=500;function h9(t){var e=c9(t,function(r){return n.size===f9&&n.clear(),r}),n=e.cache;return e}var d9=h9,p9=d9,m9=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g9=/\\(\\)?/g,v9=p9(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(m9,function(n,r,i,a){e.push(i?a.replace(g9,"$1"):r||n)}),e}),y9=v9;function x9(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var HT=x9,IR=ig,_9=HT,S9=Vi,w9=Dh,LR=IR?IR.prototype:void 0,DR=LR?LR.toString:void 0;function KF(t){if(typeof t=="string")return t;if(S9(t))return _9(t,KF)+"";if(w9(t))return DR?DR.call(t):"";var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var b9=KF,M9=b9;function E9(t){return t==null?"":M9(t)}var ZF=E9,A9=Vi,T9=NT,P9=y9,C9=ZF;function O9(t,e){return A9(t)?t:T9(t,e)?[t]:P9(C9(t))}var JF=O9,R9=Dh;function I9(t){if(typeof t=="string"||R9(t))return t;var e=t+"";return e=="0"&&1/t==-1/0?"-0":e}var h_=I9,L9=JF,D9=h_;function N9(t,e){e=L9(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[D9(e[n++])];return n&&n==r?t:void 0}var jT=N9,k9=jT;function U9(t,e,n){var r=t==null?void 0:k9(t,e);return r===void 0?n:r}var QF=U9;const Ba=bn(QF);function F9(t){return t==null}var B9=F9;const Qt=bn(B9);var z9=Ns,H9=Vi,j9=ks,G9="[object String]";function V9(t){return typeof t=="string"||!H9(t)&&j9(t)&&z9(t)==G9}var W9=V9;const ic=bn(W9);var e4={exports:{}},Sn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GT=Symbol.for("react.element"),VT=Symbol.for("react.portal"),d_=Symbol.for("react.fragment"),p_=Symbol.for("react.strict_mode"),m_=Symbol.for("react.profiler"),g_=Symbol.for("react.provider"),v_=Symbol.for("react.context"),$9=Symbol.for("react.server_context"),y_=Symbol.for("react.forward_ref"),x_=Symbol.for("react.suspense"),__=Symbol.for("react.suspense_list"),S_=Symbol.for("react.memo"),w_=Symbol.for("react.lazy"),X9=Symbol.for("react.offscreen"),t4;t4=Symbol.for("react.module.reference");function Wa(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GT:switch(t=t.type,t){case d_:case m_:case p_:case x_:case __:return t;default:switch(t=t&&t.$$typeof,t){case $9:case v_:case y_:case w_:case S_:case g_:return t;default:return e}}case VT:return e}}}Sn.ContextConsumer=v_;Sn.ContextProvider=g_;Sn.Element=GT;Sn.ForwardRef=y_;Sn.Fragment=d_;Sn.Lazy=w_;Sn.Memo=S_;Sn.Portal=VT;Sn.Profiler=m_;Sn.StrictMode=p_;Sn.Suspense=x_;Sn.SuspenseList=__;Sn.isAsyncMode=function(){return!1};Sn.isConcurrentMode=function(){return!1};Sn.isContextConsumer=function(t){return Wa(t)===v_};Sn.isContextProvider=function(t){return Wa(t)===g_};Sn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GT};Sn.isForwardRef=function(t){return Wa(t)===y_};Sn.isFragment=function(t){return Wa(t)===d_};Sn.isLazy=function(t){return Wa(t)===w_};Sn.isMemo=function(t){return Wa(t)===S_};Sn.isPortal=function(t){return Wa(t)===VT};Sn.isProfiler=function(t){return Wa(t)===m_};Sn.isStrictMode=function(t){return Wa(t)===p_};Sn.isSuspense=function(t){return Wa(t)===x_};Sn.isSuspenseList=function(t){return Wa(t)===__};Sn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===d_||t===m_||t===p_||t===x_||t===__||t===X9||typeof t=="object"&&t!==null&&(t.$$typeof===w_||t.$$typeof===S_||t.$$typeof===g_||t.$$typeof===v_||t.$$typeof===y_||t.$$typeof===t4||t.getModuleId!==void 0)};Sn.typeOf=Wa;e4.exports=Sn;var Y9=e4.exports,q9=Ns,K9=ks,Z9="[object Number]";function J9(t){return typeof t=="number"||K9(t)&&q9(t)==Z9}var n4=J9;const Q9=bn(n4);var e7=n4;function t7(t){return e7(t)&&t!=+t}var n7=t7;const ag=bn(n7);var co=function(e){return e===0?0:e>0?1:-1},Iu=function(e){return ic(e)&&e.indexOf("%")===e.length-1},st=function(e){return Q9(e)&&!ag(e)},r7=function(e){return Qt(e)},Ar=function(e){return st(e)||ic(e)},i7=0,og=function(e){var n=++i7;return"".concat(e||"").concat(n)},ac=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!st(e)&&!ic(e))return r;var a;if(Iu(e)){var o=e.indexOf("%");a=n*parseFloat(e.slice(0,o))/100}else a=+e;return ag(a)&&(a=r),i&&a>n&&(a=n),a},fl=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},a7=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},so=function(e,n){return st(e)&&st(n)?function(r){return e+r*(n-e)}:function(){return n}};function H0(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):Ba(r,e))===n})}var o7=function(e,n){return st(e)&&st(n)?e-n:ic(e)&&ic(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Vf(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function yM(t){"@babel/helpers - typeof";return yM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yM(t)}var s7=["viewBox","children"],l7=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NR=["points","pathLength"],ZS={svg:s7,polygon:NR,polyline:NR},WT=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j0=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(he.isValidElement(e)&&(r=e.props),!Nh(r))return null;var i={};return Object.keys(r).forEach(function(a){WT.includes(a)&&(i[a]=n||function(o){return r[a](r,o)})}),i},u7=function(e,n,r){return function(i){return e(n,r,i),null}},G0=function(e,n,r){if(!Nh(e)||yM(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(a){var o=e[a];WT.includes(a)&&typeof o=="function"&&(i||(i={}),i[a]=u7(o,n,r))}),i},c7=["children"],f7=["children"];function kR(t,e){if(t==null)return{};var n=h7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function h7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function xM(t){"@babel/helpers - typeof";return xM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xM(t)}var UR={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ss=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},FR=null,JS=null,$T=function t(e){if(e===FR&&Array.isArray(JS))return JS;var n=[];return he.Children.forEach(e,function(r){Qt(r)||(Y9.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),JS=n,FR=e,n};function za(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ss(i)}):r=[Ss(e)],$T(t).forEach(function(i){var a=Ba(i,"type.displayName")||Ba(i,"type.name");r.indexOf(a)!==-1&&n.push(i)}),n}function aa(t,e){var n=za(t,e);return n&&n[0]}var BR=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!st(r)||r<=0||!st(i)||i<=0)},d7=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p7=function(e){return e&&e.type&&ic(e.type)&&d7.indexOf(e.type)>=0},m7=function(e){return e&&xM(e)==="object"&&"clipDot"in e},g7=function(e,n,r,i){var a,o=(a=ZS==null?void 0:ZS[i])!==null&&a!==void 0?a:[];return n.startsWith("data-")||!Xt(e)&&(i&&o.includes(n)||l7.includes(n))||r&&WT.includes(n)},nn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(he.isValidElement(e)&&(i=e.props),!Nh(i))return null;var a={};return Object.keys(i).forEach(function(o){var s;g7((s=i)===null||s===void 0?void 0:s[o],o,n,r)&&(a[o]=i[o])}),a},_M=function t(e,n){if(e===n)return!0;var r=he.Children.count(e);if(r!==he.Children.count(n))return!1;if(r===0)return!0;if(r===1)return zR(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var a=e[i],o=n[i];if(Array.isArray(a)||Array.isArray(o)){if(!t(a,o))return!1}else if(!zR(a,o))return!1}return!0},zR=function(e,n){if(Qt(e)&&Qt(n))return!0;if(!Qt(e)&&!Qt(n)){var r=e.props||{},i=r.children,a=kR(r,c7),o=n.props||{},s=o.children,l=kR(o,f7);return i&&s?Vf(a,l)&&_M(i,s):!i&&!s?Vf(a,l):!1}return!1},HR=function(e,n){var r=[],i={};return $T(e).forEach(function(a,o){if(p7(a))r.push(a);else if(a){var s=Ss(a.type),l=n[s]||{},u=l.handler,c=l.once;if(u&&(!c||!i[s])){var f=u(a,s,o);r.push(f),i[s]=!0}}}),r},v7=function(e){var n=e&&e.type;return n&&UR[n]?UR[n]:null},y7=function(e,n){return $T(n).indexOf(e)},x7=["children","width","height","viewBox","className","style","title","desc"];function SM(){return SM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SM.apply(this,arguments)}function _7(t,e){if(t==null)return{};var n=S7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function S7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wM(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,a=t.className,o=t.style,s=t.title,l=t.desc,u=_7(t,x7),c=i||{width:n,height:r,x:0,y:0},f=ln("recharts-surface",a);return Se.createElement("svg",SM({},nn(u,!0,"svg"),{className:f,width:n,height:r,style:o,viewBox:"".concat(c.x," ").concat(c.y," ").concat(c.width," ").concat(c.height)}),Se.createElement("title",null,s),Se.createElement("desc",null,l),e)}var w7=["children","className"];function bM(){return bM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bM.apply(this,arguments)}function b7(t,e){if(t==null)return{};var n=M7(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function M7(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var ur=Se.forwardRef(function(t,e){var n=t.children,r=t.className,i=b7(t,w7),a=ln("recharts-layer",r);return Se.createElement("g",bM({className:a},nn(i,!0),{ref:e}),n)}),ws=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a]};function E7(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var A7=E7,T7=A7;function P7(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:T7(t,e,n)}var C7=P7,O7="\\ud800-\\udfff",R7="\\u0300-\\u036f",I7="\\ufe20-\\ufe2f",L7="\\u20d0-\\u20ff",D7=R7+I7+L7,N7="\\ufe0e\\ufe0f",k7="\\u200d",U7=RegExp("["+k7+O7+D7+N7+"]");function F7(t){return U7.test(t)}var r4=F7;function B7(t){return t.split("")}var z7=B7,i4="\\ud800-\\udfff",H7="\\u0300-\\u036f",j7="\\ufe20-\\ufe2f",G7="\\u20d0-\\u20ff",V7=H7+j7+G7,W7="\\ufe0e\\ufe0f",$7="["+i4+"]",MM="["+V7+"]",EM="\\ud83c[\\udffb-\\udfff]",X7="(?:"+MM+"|"+EM+")",a4="[^"+i4+"]",o4="(?:\\ud83c[\\udde6-\\uddff]){2}",s4="[\\ud800-\\udbff][\\udc00-\\udfff]",Y7="\\u200d",l4=X7+"?",u4="["+W7+"]?",q7="(?:"+Y7+"(?:"+[a4,o4,s4].join("|")+")"+u4+l4+")*",K7=u4+l4+q7,Z7="(?:"+[a4+MM+"?",MM,o4,s4,$7].join("|")+")",J7=RegExp(EM+"(?="+EM+")|"+Z7+K7,"g");function Q7(t){return t.match(J7)||[]}var eX=Q7,tX=z7,nX=r4,rX=eX;function iX(t){return nX(t)?rX(t):tX(t)}var aX=iX,oX=C7,sX=r4,lX=aX,uX=ZF;function cX(t){return function(e){e=uX(e);var n=sX(e)?lX(e):void 0,r=n?n[0]:e.charAt(0),i=n?oX(n,1).join(""):e.slice(1);return r[t]()+i}}var fX=cX,hX=fX,dX=hX("toUpperCase"),pX=dX;const b_=bn(pX);function Cn(t){return function(){return t}}const c4=Math.cos,V0=Math.sin,mo=Math.sqrt,W0=Math.PI,M_=2*W0,AM=Math.PI,TM=2*AM,Su=1e-6,mX=TM-Su;function f4(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gX(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return f4;const n=10**e;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}let vX=class{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?f4:gX(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,a,o){this._append`C${+e},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(e,n,r,i,a){if(e=+e,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,s=this._y1,l=r-e,u=i-n,c=o-e,f=s-n,h=c*c+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(h>Su)if(!(Math.abs(f*l-u*c)>Su)||!a)this._append`L${this._x1=e},${this._y1=n}`;else{let m=r-o,g=i-s,y=l*l+u*u,x=m*m+g*g,v=Math.sqrt(y),S=Math.sqrt(h),_=a*Math.tan((AM-Math.acos((y+h-x)/(2*v*S)))/2),b=_/S,E=_/v;Math.abs(b-1)>Su&&this._append`L${e+b*c},${n+b*f}`,this._append`A${a},${a},0,0,${+(f*m>c*g)},${this._x1=e+E*l},${this._y1=n+E*u}`}}arc(e,n,r,i,a,o){if(e=+e,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let s=r*Math.cos(i),l=r*Math.sin(i),u=e+s,c=n+l,f=1^o,h=o?i-a:a-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>Su||Math.abs(this._y1-c)>Su)&&this._append`L${u},${c}`,r&&(h<0&&(h=h%TM+TM),h>mX?this._append`A${r},${r},0,1,${f},${e-s},${n-l}A${r},${r},0,1,${f},${this._x1=u},${this._y1=c}`:h>Su&&this._append`A${r},${r},0,${+(h>=AM)},${f},${this._x1=e+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}};function XT(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vX(e)}function YT(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function h4(t){this._context=t}h4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function E_(t){return new h4(t)}function d4(t){return t[0]}function p4(t){return t[1]}function m4(t,e){var n=Cn(!0),r=null,i=E_,a=null,o=XT(s);t=typeof t=="function"?t:t===void 0?d4:Cn(t),e=typeof e=="function"?e:e===void 0?p4:Cn(e);function s(l){var u,c=(l=YT(l)).length,f,h=!1,m;for(r==null&&(a=i(m=o())),u=0;u<=c;++u)!(u<c&&n(f=l[u],u,l))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+t(f,u,l),+e(f,u,l));if(m)return a=null,m+""||null}return s.x=function(l){return arguments.length?(t=typeof l=="function"?l:Cn(+l),s):t},s.y=function(l){return arguments.length?(e=typeof l=="function"?l:Cn(+l),s):e},s.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Cn(!!l),s):n},s.curve=function(l){return arguments.length?(i=l,r!=null&&(a=i(r)),s):i},s.context=function(l){return arguments.length?(l==null?r=a=null:a=i(r=l),s):r},s}function kv(t,e,n){var r=null,i=Cn(!0),a=null,o=E_,s=null,l=XT(u);t=typeof t=="function"?t:t===void 0?d4:Cn(+t),e=typeof e=="function"?e:Cn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?p4:Cn(+n);function u(f){var h,m,g,y=(f=YT(f)).length,x,v=!1,S,_=new Array(y),b=new Array(y);for(a==null&&(s=o(S=l())),h=0;h<=y;++h){if(!(h<y&&i(x=f[h],h,f))===v)if(v=!v)m=h,s.areaStart(),s.lineStart();else{for(s.lineEnd(),s.lineStart(),g=h-1;g>=m;--g)s.point(_[g],b[g]);s.lineEnd(),s.areaEnd()}v&&(_[h]=+t(x,h,f),b[h]=+e(x,h,f),s.point(r?+r(x,h,f):_[h],n?+n(x,h,f):b[h]))}if(S)return s=null,S+""||null}function c(){return m4().defined(i).curve(o).context(a)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Cn(+f),r=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Cn(+f),u):t},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Cn(+f),u):r},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Cn(+f),n=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Cn(+f),u):e},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Cn(+f),u):n},u.lineX0=u.lineY0=function(){return c().x(t).y(e)},u.lineY1=function(){return c().x(t).y(n)},u.lineX1=function(){return c().x(r).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Cn(!!f),u):i},u.curve=function(f){return arguments.length?(o=f,a!=null&&(s=o(a)),u):o},u.context=function(f){return arguments.length?(f==null?a=s=null:s=o(a=f),u):a},u}class g4{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yX(t){return new g4(t,!0)}function xX(t){return new g4(t,!1)}const qT={draw(t,e){const n=mo(e/W0);t.moveTo(n,0),t.arc(0,0,n,0,M_)}},_X={draw(t,e){const n=mo(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},v4=mo(1/3),SX=v4*2,wX={draw(t,e){const n=mo(e/SX),r=n*v4;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},bX={draw(t,e){const n=mo(e),r=-n/2;t.rect(r,r,n,n)}},MX=.8908130915292852,y4=V0(W0/10)/V0(7*W0/10),EX=V0(M_/10)*y4,AX=-c4(M_/10)*y4,TX={draw(t,e){const n=mo(e*MX),r=EX*n,i=AX*n;t.moveTo(0,-n),t.lineTo(r,i);for(let a=1;a<5;++a){const o=M_*a/5,s=c4(o),l=V0(o);t.lineTo(l*n,-s*n),t.lineTo(s*r-l*i,l*r+s*i)}t.closePath()}},QS=mo(3),PX={draw(t,e){const n=-mo(e/(QS*3));t.moveTo(0,n*2),t.lineTo(-QS*n,-n),t.lineTo(QS*n,-n),t.closePath()}},Pa=-.5,Ca=mo(3)/2,PM=1/mo(12),CX=(PM/2+1)*3,OX={draw(t,e){const n=mo(e/CX),r=n/2,i=n*PM,a=r,o=n*PM+n,s=-a,l=o;t.moveTo(r,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(Pa*r-Ca*i,Ca*r+Pa*i),t.lineTo(Pa*a-Ca*o,Ca*a+Pa*o),t.lineTo(Pa*s-Ca*l,Ca*s+Pa*l),t.lineTo(Pa*r+Ca*i,Pa*i-Ca*r),t.lineTo(Pa*a+Ca*o,Pa*o-Ca*a),t.lineTo(Pa*s+Ca*l,Pa*l-Ca*s),t.closePath()}};function RX(t,e){let n=null,r=XT(i);t=typeof t=="function"?t:Cn(t||qT),e=typeof e=="function"?e:Cn(e===void 0?64:+e);function i(){let a;if(n||(n=a=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Cn(+a),i):e},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function $0(){}function X0(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function x4(t){this._context=t}x4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:X0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:X0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IX(t){return new x4(t)}function _4(t){this._context=t}_4.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:X0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function LX(t){return new _4(t)}function S4(t){this._context=t}S4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:X0(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function DX(t){return new S4(t)}function w4(t){this._context=t}w4.prototype={areaStart:$0,areaEnd:$0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function NX(t){return new w4(t)}function jR(t){return t<0?-1:1}function GR(t,e,n){var r=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(r||i<0&&-0),o=(n-t._y1)/(i||r<0&&-0),s=(a*i+o*r)/(r+i);return(jR(a)+jR(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function VR(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function ew(t,e,n){var r=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-r)/3;t._context.bezierCurveTo(r+s,i+s*e,a-s,o-s*n,a,o)}function Y0(t){this._context=t}Y0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:ew(this,this._t0,VR(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,ew(this,VR(this,n=GR(this,t,e)),n);break;default:ew(this,this._t0,n=GR(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function b4(t){this._context=new M4(t)}(b4.prototype=Object.create(Y0.prototype)).point=function(t,e){Y0.prototype.point.call(this,e,t)};function M4(t){this._context=t}M4.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,a){this._context.bezierCurveTo(e,t,r,n,a,i)}};function kX(t){return new Y0(t)}function UX(t){return new b4(t)}function E4(t){this._context=t}E4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=WR(t),i=WR(e),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],t[o],e[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function WR(t){var e,n=t.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e>=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function FX(t){return new E4(t)}function A_(t,e){this._context=t,this._t=e}A_.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function BX(t){return new A_(t,.5)}function zX(t){return new A_(t,0)}function HX(t){return new A_(t,1)}function rh(t,e){if((o=t.length)>1)for(var n=1,r,i,a=t[e[0]],o,s=a.length;n<o;++n)for(i=a,a=t[e[n]],r=0;r<s;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function CM(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function jX(t,e){return t[e]}function GX(t){const e=[];return e.key=t,e}function VX(){var t=Cn([]),e=CM,n=rh,r=jX;function i(a){var o=Array.from(t.apply(this,arguments),GX),s,l=o.length,u=-1,c;for(const f of a)for(s=0,++u;s<l;++s)(o[s][u]=[0,+r(f,o[s].key,u,a)]).data=f;for(s=0,c=YT(e(o));s<l;++s)o[c[s]].index=s;return n(o,c),o}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Cn(Array.from(a)),i):t},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Cn(+a),i):r},i.order=function(a){return arguments.length?(e=a==null?CM:typeof a=="function"?a:Cn(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(n=a??rh,i):n},i}function WX(t,e){if((r=t.length)>0){for(var n,r,i=0,a=t[0].length,o;i<a;++i){for(o=n=0;n<r;++n)o+=t[n][i][1]||0;if(o)for(n=0;n<r;++n)t[n][i][1]/=o}rh(t,e)}}function $X(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,a=r.length;n<a;++n){for(var o=0,s=0;o<i;++o)s+=t[o][n][1]||0;r[n][1]+=r[n][0]=-s/2}rh(t,e)}}function XX(t,e){if(!(!((o=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,a,o;r<a;++r){for(var s=0,l=0,u=0;s<o;++s){for(var c=t[e[s]],f=c[r][1]||0,h=c[r-1][1]||0,m=(f-h)/2,g=0;g<s;++g){var y=t[e[g]],x=y[r][1]||0,v=y[r-1][1]||0;m+=x-v}l+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=u/l)}i[r-1][1]+=i[r-1][0]=n,rh(t,e)}}function qp(t){"@babel/helpers - typeof";return qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qp(t)}var YX=["type","size","sizeType"];function OM(){return OM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},OM.apply(this,arguments)}function $R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function XR(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(n),!0).forEach(function(r){qX(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$R(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qX(t,e,n){return e=KX(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function KX(t){var e=ZX(t,"string");return qp(e)=="symbol"?e:e+""}function ZX(t,e){if(qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JX(t,e){if(t==null)return{};var n=QX(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QX(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var A4={symbolCircle:qT,symbolCross:_X,symbolDiamond:wX,symbolSquare:bX,symbolStar:TX,symbolTriangle:PX,symbolWye:OX},eY=Math.PI/180,tY=function(e){var n="symbol".concat(b_(e));return A4[n]||qT},nY=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eY;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rY=function(e,n){A4["symbol".concat(b_(e))]=n},KT=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,a=i===void 0?64:i,o=e.sizeType,s=o===void 0?"area":o,l=JX(e,YX),u=XR(XR({},l),{},{type:r,size:a,sizeType:s}),c=function(){var x=tY(r),v=RX().type(x).size(nY(a,s,r));return v()},f=u.className,h=u.cx,m=u.cy,g=nn(u,!0);return h===+h&&m===+m&&a===+a?Se.createElement("path",OM({},g,{className:ln("recharts-symbols",f),transform:"translate(".concat(h,", ").concat(m,")"),d:c()})):null};KT.registerSymbol=rY;function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function RM(){return RM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},RM.apply(this,arguments)}function YR(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YR(Object(n),!0).forEach(function(r){Kp(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YR(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aY(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,P4(r.key),r)}}function sY(t,e,n){return e&&oY(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lY(t,e,n){return e=q0(e),uY(t,T4()?Reflect.construct(e,n||[],q0(t).constructor):e.apply(t,n))}function uY(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cY(t)}function cY(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(T4=function(){return!!t})()}function q0(t){return q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},q0(t)}function fY(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},IM(t,e)}function Kp(t,e,n){return e=P4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function P4(t){var e=hY(t,"string");return ih(e)=="symbol"?e:e+""}function hY(t,e){if(ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Oa=32,ZT=function(t){function e(){return aY(this,e),lY(this,e,arguments)}return fY(e,t),sY(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,a=Oa/2,o=Oa/6,s=Oa/3,l=r.inactive?i:r.color;if(r.type==="plainline")return Se.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:a,x2:Oa,y2:a,className:"recharts-legend-icon"});if(r.type==="line")return Se.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(a,"h").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*s,",").concat(a,`
            H`).concat(Oa,"M").concat(2*s,",").concat(a,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(s,",").concat(a),className:"recharts-legend-icon"});if(r.type==="rect")return Se.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Oa/8,"h").concat(Oa,"v").concat(Oa*3/4,"h").concat(-Oa,"z"),className:"recharts-legend-icon"});if(Se.isValidElement(r.legendIcon)){var u=iY({},r);return delete u.legendIcon,Se.cloneElement(r.legendIcon,u)}return Se.createElement(KT,{fill:l,cx:a,cy:a,size:Oa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,a=i.payload,o=i.iconSize,s=i.layout,l=i.formatter,u=i.inactiveColor,c={x:0,y:0,width:Oa,height:Oa},f={display:s==="horizontal"?"inline-block":"block",marginRight:10},h={display:"inline-block",verticalAlign:"middle",marginRight:4};return a.map(function(m,g){var y=m.formatter||l,x=ln(Kp(Kp({"recharts-legend-item":!0},"legend-item-".concat(g),!0),"inactive",m.inactive));if(m.type==="none")return null;var v=Xt(m.value)?null:m.value;ws(!Xt(m.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var S=m.inactive?u:m.color;return Se.createElement("li",RM({className:x,style:f,key:"legend-item-".concat(g)},G0(r.props,m,g)),Se.createElement(wM,{width:o,height:o,viewBox:c,style:h},r.renderIcon(m)),Se.createElement("span",{className:"recharts-legend-item-text",style:{color:S}},y?y(v,m,g):v))})}},{key:"render",value:function(){var r=this.props,i=r.payload,a=r.layout,o=r.align;if(!i||!i.length)return null;var s={padding:0,margin:0,textAlign:a==="horizontal"?o:"left"};return Se.createElement("ul",{className:"recharts-default-legend",style:s},this.renderItems())}}])}(he.PureComponent);Kp(ZT,"displayName","Legend");Kp(ZT,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var dY=c_;function pY(){this.__data__=new dY,this.size=0}var mY=pY;function gY(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vY=gY;function yY(t){return this.__data__.get(t)}var xY=yY;function _Y(t){return this.__data__.has(t)}var SY=_Y,wY=c_,bY=FT,MY=BT,EY=200;function AY(t,e){var n=this.__data__;if(n instanceof wY){var r=n.__data__;if(!bY||r.length<EY-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new MY(r)}return n.set(t,e),this.size=n.size,this}var TY=AY,PY=c_,CY=mY,OY=vY,RY=xY,IY=SY,LY=TY;function Bh(t){var e=this.__data__=new PY(t);this.size=e.size}Bh.prototype.clear=CY;Bh.prototype.delete=OY;Bh.prototype.get=RY;Bh.prototype.has=IY;Bh.prototype.set=LY;var C4=Bh,DY="__lodash_hash_undefined__";function NY(t){return this.__data__.set(t,DY),this}var kY=NY;function UY(t){return this.__data__.has(t)}var FY=UY,BY=BT,zY=kY,HY=FY;function K0(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new BY;++e<n;)this.add(t[e])}K0.prototype.add=K0.prototype.push=zY;K0.prototype.has=HY;var O4=K0;function jY(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var R4=jY;function GY(t,e){return t.has(e)}var I4=GY,VY=O4,WY=R4,$Y=I4,XY=1,YY=2;function qY(t,e,n,r,i,a){var o=n&XY,s=t.length,l=e.length;if(s!=l&&!(o&&l>s))return!1;var u=a.get(t),c=a.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,m=n&YY?new VY:void 0;for(a.set(t,e),a.set(e,t);++f<s;){var g=t[f],y=e[f];if(r)var x=o?r(y,g,f,e,t,a):r(g,y,f,t,e,a);if(x!==void 0){if(x)continue;h=!1;break}if(m){if(!WY(e,function(v,S){if(!$Y(m,S)&&(g===v||i(g,v,n,r,a)))return m.push(S)})){h=!1;break}}else if(!(g===y||i(g,y,n,r,a))){h=!1;break}}return a.delete(t),a.delete(e),h}var L4=qY,KY=jo,ZY=KY.Uint8Array,JY=ZY;function QY(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var eq=QY;function tq(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var JT=tq,qR=ig,KR=JY,nq=UT,rq=L4,iq=eq,aq=JT,oq=1,sq=2,lq="[object Boolean]",uq="[object Date]",cq="[object Error]",fq="[object Map]",hq="[object Number]",dq="[object RegExp]",pq="[object Set]",mq="[object String]",gq="[object Symbol]",vq="[object ArrayBuffer]",yq="[object DataView]",ZR=qR?qR.prototype:void 0,tw=ZR?ZR.valueOf:void 0;function xq(t,e,n,r,i,a,o){switch(n){case yq:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vq:return!(t.byteLength!=e.byteLength||!a(new KR(t),new KR(e)));case lq:case uq:case hq:return nq(+t,+e);case cq:return t.name==e.name&&t.message==e.message;case dq:case mq:return t==e+"";case fq:var s=iq;case pq:var l=r&oq;if(s||(s=aq),t.size!=e.size&&!l)return!1;var u=o.get(t);if(u)return u==e;r|=sq,o.set(t,e);var c=rq(s(t),s(e),r,i,a,o);return o.delete(t),c;case gq:if(tw)return tw.call(t)==tw.call(e)}return!1}var _q=xq;function Sq(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var D4=Sq,wq=D4,bq=Vi;function Mq(t,e,n){var r=e(t);return bq(t)?r:wq(r,n(t))}var Eq=Mq;function Aq(t,e){for(var n=-1,r=t==null?0:t.length,i=0,a=[];++n<r;){var o=t[n];e(o,n,t)&&(a[i++]=o)}return a}var Tq=Aq;function Pq(){return[]}var Cq=Pq,Oq=Tq,Rq=Cq,Iq=Object.prototype,Lq=Iq.propertyIsEnumerable,JR=Object.getOwnPropertySymbols,Dq=JR?function(t){return t==null?[]:(t=Object(t),Oq(JR(t),function(e){return Lq.call(t,e)}))}:Rq,Nq=Dq;function kq(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Uq=kq,Fq=Ns,Bq=ks,zq="[object Arguments]";function Hq(t){return Bq(t)&&Fq(t)==zq}var jq=Hq,QR=jq,Gq=ks,N4=Object.prototype,Vq=N4.hasOwnProperty,Wq=N4.propertyIsEnumerable,$q=QR(function(){return arguments}())?QR:function(t){return Gq(t)&&Vq.call(t,"callee")&&!Wq.call(t,"callee")},QT=$q,Z0={exports:{}};function Xq(){return!1}var Yq=Xq;Z0.exports;(function(t,e){var n=jo,r=Yq,i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,o=a&&a.exports===i,s=o?n.Buffer:void 0,l=s?s.isBuffer:void 0,u=l||r;t.exports=u})(Z0,Z0.exports);var k4=Z0.exports,qq=9007199254740991,Kq=/^(?:0|[1-9]\d*)$/;function Zq(t,e){var n=typeof t;return e=e??qq,!!e&&(n=="number"||n!="symbol"&&Kq.test(t))&&t>-1&&t%1==0&&t<e}var e2=Zq,Jq=9007199254740991;function Qq(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=Jq}var t2=Qq,eK=Ns,tK=t2,nK=ks,rK="[object Arguments]",iK="[object Array]",aK="[object Boolean]",oK="[object Date]",sK="[object Error]",lK="[object Function]",uK="[object Map]",cK="[object Number]",fK="[object Object]",hK="[object RegExp]",dK="[object Set]",pK="[object String]",mK="[object WeakMap]",gK="[object ArrayBuffer]",vK="[object DataView]",yK="[object Float32Array]",xK="[object Float64Array]",_K="[object Int8Array]",SK="[object Int16Array]",wK="[object Int32Array]",bK="[object Uint8Array]",MK="[object Uint8ClampedArray]",EK="[object Uint16Array]",AK="[object Uint32Array]",Dn={};Dn[yK]=Dn[xK]=Dn[_K]=Dn[SK]=Dn[wK]=Dn[bK]=Dn[MK]=Dn[EK]=Dn[AK]=!0;Dn[rK]=Dn[iK]=Dn[gK]=Dn[aK]=Dn[vK]=Dn[oK]=Dn[sK]=Dn[lK]=Dn[uK]=Dn[cK]=Dn[fK]=Dn[hK]=Dn[dK]=Dn[pK]=Dn[mK]=!1;function TK(t){return nK(t)&&tK(t.length)&&!!Dn[eK(t)]}var PK=TK;function CK(t){return function(e){return t(e)}}var U4=CK,J0={exports:{}};J0.exports;(function(t,e){var n=WF,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===r,o=a&&n.process,s=function(){try{var l=i&&i.require&&i.require("util").types;return l||o&&o.binding&&o.binding("util")}catch{}}();t.exports=s})(J0,J0.exports);var OK=J0.exports,RK=PK,IK=U4,e3=OK,t3=e3&&e3.isTypedArray,LK=t3?IK(t3):RK,F4=LK,DK=Uq,NK=QT,kK=Vi,UK=k4,FK=e2,BK=F4,zK=Object.prototype,HK=zK.hasOwnProperty;function jK(t,e){var n=kK(t),r=!n&&NK(t),i=!n&&!r&&UK(t),a=!n&&!r&&!i&&BK(t),o=n||r||i||a,s=o?DK(t.length,String):[],l=s.length;for(var u in t)(e||HK.call(t,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||FK(u,l)))&&s.push(u);return s}var GK=jK,VK=Object.prototype;function WK(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||VK;return t===n}var $K=WK;function XK(t,e){return function(n){return t(e(n))}}var B4=XK,YK=B4,qK=YK(Object.keys,Object),KK=qK,ZK=$K,JK=KK,QK=Object.prototype,eZ=QK.hasOwnProperty;function tZ(t){if(!ZK(t))return JK(t);var e=[];for(var n in Object(t))eZ.call(t,n)&&n!="constructor"&&e.push(n);return e}var nZ=tZ,rZ=kT,iZ=t2;function aZ(t){return t!=null&&iZ(t.length)&&!rZ(t)}var sg=aZ,oZ=GK,sZ=nZ,lZ=sg;function uZ(t){return lZ(t)?oZ(t):sZ(t)}var T_=uZ,cZ=Eq,fZ=Nq,hZ=T_;function dZ(t){return cZ(t,hZ,fZ)}var pZ=dZ,n3=pZ,mZ=1,gZ=Object.prototype,vZ=gZ.hasOwnProperty;function yZ(t,e,n,r,i,a){var o=n&mZ,s=n3(t),l=s.length,u=n3(e),c=u.length;if(l!=c&&!o)return!1;for(var f=l;f--;){var h=s[f];if(!(o?h in e:vZ.call(e,h)))return!1}var m=a.get(t),g=a.get(e);if(m&&g)return m==e&&g==t;var y=!0;a.set(t,e),a.set(e,t);for(var x=o;++f<l;){h=s[f];var v=t[h],S=e[h];if(r)var _=o?r(S,v,h,e,t,a):r(v,S,h,t,e,a);if(!(_===void 0?v===S||i(v,S,n,r,a):_)){y=!1;break}x||(x=h=="constructor")}if(y&&!x){var b=t.constructor,E=e.constructor;b!=E&&"constructor"in t&&"constructor"in e&&!(typeof b=="function"&&b instanceof b&&typeof E=="function"&&E instanceof E)&&(y=!1)}return a.delete(t),a.delete(e),y}var xZ=yZ,_Z=gc,SZ=jo,wZ=_Z(SZ,"DataView"),bZ=wZ,MZ=gc,EZ=jo,AZ=MZ(EZ,"Promise"),TZ=AZ,PZ=gc,CZ=jo,OZ=PZ(CZ,"Set"),z4=OZ,RZ=gc,IZ=jo,LZ=RZ(IZ,"WeakMap"),DZ=LZ,LM=bZ,DM=FT,NM=TZ,kM=z4,UM=DZ,H4=Ns,zh=XF,r3="[object Map]",NZ="[object Object]",i3="[object Promise]",a3="[object Set]",o3="[object WeakMap]",s3="[object DataView]",kZ=zh(LM),UZ=zh(DM),FZ=zh(NM),BZ=zh(kM),zZ=zh(UM),wu=H4;(LM&&wu(new LM(new ArrayBuffer(1)))!=s3||DM&&wu(new DM)!=r3||NM&&wu(NM.resolve())!=i3||kM&&wu(new kM)!=a3||UM&&wu(new UM)!=o3)&&(wu=function(t){var e=H4(t),n=e==NZ?t.constructor:void 0,r=n?zh(n):"";if(r)switch(r){case kZ:return s3;case UZ:return r3;case FZ:return i3;case BZ:return a3;case zZ:return o3}return e});var HZ=wu,nw=C4,jZ=L4,GZ=_q,VZ=xZ,l3=HZ,u3=Vi,c3=k4,WZ=F4,$Z=1,f3="[object Arguments]",h3="[object Array]",Uv="[object Object]",XZ=Object.prototype,d3=XZ.hasOwnProperty;function YZ(t,e,n,r,i,a){var o=u3(t),s=u3(e),l=o?h3:l3(t),u=s?h3:l3(e);l=l==f3?Uv:l,u=u==f3?Uv:u;var c=l==Uv,f=u==Uv,h=l==u;if(h&&c3(t)){if(!c3(e))return!1;o=!0,c=!1}if(h&&!c)return a||(a=new nw),o||WZ(t)?jZ(t,e,n,r,i,a):GZ(t,e,l,n,r,i,a);if(!(n&$Z)){var m=c&&d3.call(t,"__wrapped__"),g=f&&d3.call(e,"__wrapped__");if(m||g){var y=m?t.value():t,x=g?e.value():e;return a||(a=new nw),i(y,x,n,r,a)}}return h?(a||(a=new nw),VZ(t,e,n,r,i,a)):!1}var qZ=YZ,KZ=qZ,p3=ks;function j4(t,e,n,r,i){return t===e?!0:t==null||e==null||!p3(t)&&!p3(e)?t!==t&&e!==e:KZ(t,e,n,r,j4,i)}var n2=j4,ZZ=C4,JZ=n2,QZ=1,eJ=2;function tJ(t,e,n,r){var i=n.length,a=i,o=!r;if(t==null)return!a;for(t=Object(t);i--;){var s=n[i];if(o&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<a;){s=n[i];var l=s[0],u=t[l],c=s[1];if(o&&s[2]){if(u===void 0&&!(l in t))return!1}else{var f=new ZZ;if(r)var h=r(u,c,l,t,e,f);if(!(h===void 0?JZ(c,u,QZ|eJ,r,f):h))return!1}}return!0}var nJ=tJ,rJ=kl;function iJ(t){return t===t&&!rJ(t)}var G4=iJ,aJ=G4,oJ=T_;function sJ(t){for(var e=oJ(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,aJ(i)]}return e}var lJ=sJ;function uJ(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var V4=uJ,cJ=nJ,fJ=lJ,hJ=V4;function dJ(t){var e=fJ(t);return e.length==1&&e[0][2]?hJ(e[0][0],e[0][1]):function(n){return n===t||cJ(n,t,e)}}var pJ=dJ;function mJ(t,e){return t!=null&&e in Object(t)}var gJ=mJ,vJ=JF,yJ=QT,xJ=Vi,_J=e2,SJ=t2,wJ=h_;function bJ(t,e,n){e=vJ(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var o=wJ(e[r]);if(!(a=t!=null&&n(t,o)))break;t=t[o]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&SJ(i)&&_J(o,i)&&(xJ(t)||yJ(t)))}var MJ=bJ,EJ=gJ,AJ=MJ;function TJ(t,e){return t!=null&&AJ(t,e,EJ)}var PJ=TJ,CJ=n2,OJ=QF,RJ=PJ,IJ=NT,LJ=G4,DJ=V4,NJ=h_,kJ=1,UJ=2;function FJ(t,e){return IJ(t)&&LJ(e)?DJ(NJ(t),e):function(n){var r=OJ(n,t);return r===void 0&&r===e?RJ(n,t):CJ(e,r,kJ|UJ)}}var BJ=FJ;function zJ(t){return t}var Hh=zJ;function HJ(t){return function(e){return e==null?void 0:e[t]}}var jJ=HJ,GJ=jT;function VJ(t){return function(e){return GJ(e,t)}}var WJ=VJ,$J=jJ,XJ=WJ,YJ=NT,qJ=h_;function KJ(t){return YJ(t)?$J(qJ(t)):XJ(t)}var ZJ=KJ,JJ=pJ,QJ=BJ,eQ=Hh,tQ=Vi,nQ=ZJ;function rQ(t){return typeof t=="function"?t:t==null?eQ:typeof t=="object"?tQ(t)?QJ(t[0],t[1]):JJ(t):nQ(t)}var Ul=rQ;function iQ(t,e,n,r){for(var i=t.length,a=n+(r?1:-1);r?a--:++a<i;)if(e(t[a],a,t))return a;return-1}var W4=iQ;function aQ(t){return t!==t}var oQ=aQ;function sQ(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var lQ=sQ,uQ=W4,cQ=oQ,fQ=lQ;function hQ(t,e,n){return e===e?fQ(t,e,n):uQ(t,cQ,n)}var dQ=hQ,pQ=dQ;function mQ(t,e){var n=t==null?0:t.length;return!!n&&pQ(t,e,0)>-1}var gQ=mQ;function vQ(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yQ=vQ;function xQ(){}var _Q=xQ,rw=z4,SQ=_Q,wQ=JT,bQ=1/0,MQ=rw&&1/wQ(new rw([,-0]))[1]==bQ?function(t){return new rw(t)}:SQ,EQ=MQ,AQ=O4,TQ=gQ,PQ=yQ,CQ=I4,OQ=EQ,RQ=JT,IQ=200;function LQ(t,e,n){var r=-1,i=TQ,a=t.length,o=!0,s=[],l=s;if(n)o=!1,i=PQ;else if(a>=IQ){var u=e?null:OQ(t);if(u)return RQ(u);o=!1,i=CQ,l=new AQ}else l=e?[]:s;e:for(;++r<a;){var c=t[r],f=e?e(c):c;if(c=n||c!==0?c:0,o&&f===f){for(var h=l.length;h--;)if(l[h]===f)continue e;e&&l.push(f),s.push(c)}else i(l,f,n)||(l!==s&&l.push(f),s.push(c))}return s}var DQ=LQ,NQ=Ul,kQ=DQ;function UQ(t,e){return t&&t.length?kQ(t,NQ(e)):[]}var FQ=UQ;const m3=bn(FQ);function $4(t,e,n){return e===!0?m3(t,n):Xt(e)?m3(t,e):t}function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}var BQ=["ref"];function g3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ts(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?g3(Object(n),!0).forEach(function(r){P_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):g3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zQ(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function v3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Y4(r.key),r)}}function HQ(t,e,n){return e&&v3(t.prototype,e),n&&v3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function jQ(t,e,n){return e=Q0(e),GQ(t,X4()?Reflect.construct(e,n||[],Q0(t).constructor):e.apply(t,n))}function GQ(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VQ(t)}function VQ(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function X4(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(X4=function(){return!!t})()}function Q0(t){return Q0=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q0(t)}function WQ(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FM(t,e)}function FM(t,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FM(t,e)}function P_(t,e,n){return e=Y4(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Y4(t){var e=$Q(t,"string");return ah(e)=="symbol"?e:e+""}function $Q(t,e){if(ah(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ah(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function XQ(t,e){if(t==null)return{};var n=YQ(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YQ(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function qQ(t){return t.value}function KQ(t,e){if(Se.isValidElement(t))return Se.cloneElement(t,e);if(typeof t=="function")return Se.createElement(t,e);e.ref;var n=XQ(e,BQ);return Se.createElement(ZT,n)}var y3=1,Wf=function(t){function e(){var n;zQ(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=jQ(this,e,[].concat(i)),P_(n,"lastBoundingBox",{width:-1,height:-1}),n}return WQ(e,t),HQ(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>y3||Math.abs(i.height-this.lastBoundingBox.height)>y3)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ts({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,a=i.layout,o=i.align,s=i.verticalAlign,l=i.margin,u=i.chartWidth,c=i.chartHeight,f,h;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(o==="center"&&a==="vertical"){var m=this.getBBoxSnapshot();f={left:((u||0)-m.width)/2}}else f=o==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(s==="middle"){var g=this.getBBoxSnapshot();h={top:((c||0)-g.height)/2}}else h=s==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ts(ts({},f),h)}},{key:"render",value:function(){var r=this,i=this.props,a=i.content,o=i.width,s=i.height,l=i.wrapperStyle,u=i.payloadUniqBy,c=i.payload,f=ts(ts({position:"absolute",width:o||"auto",height:s||"auto"},this.getDefaultPosition(l)),l);return Se.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(m){r.wrapperNode=m}},KQ(a,ts(ts({},this.props),{},{payload:$4(c,u,qQ)})))}}],[{key:"getWithHeight",value:function(r,i){var a=ts(ts({},this.defaultProps),r.props),o=a.layout;return o==="vertical"&&st(r.props.height)?{height:r.props.height}:o==="horizontal"?{width:r.props.width||i}:null}}])}(he.PureComponent);P_(Wf,"displayName","Legend");P_(Wf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var x3=ig,ZQ=QT,JQ=Vi,_3=x3?x3.isConcatSpreadable:void 0;function QQ(t){return JQ(t)||ZQ(t)||!!(_3&&t&&t[_3])}var eee=QQ,tee=D4,nee=eee;function q4(t,e,n,r,i){var a=-1,o=t.length;for(n||(n=nee),i||(i=[]);++a<o;){var s=t[a];e>0&&n(s)?e>1?q4(s,e-1,n,r,i):tee(i,s):r||(i[i.length]=s)}return i}var K4=q4;function ree(t){return function(e,n,r){for(var i=-1,a=Object(e),o=r(e),s=o.length;s--;){var l=o[t?s:++i];if(n(a[l],l,a)===!1)break}return e}}var iee=ree,aee=iee,oee=aee(),see=oee,lee=see,uee=T_;function cee(t,e){return t&&lee(t,e,uee)}var Z4=cee,fee=sg;function hee(t,e){return function(n,r){if(n==null)return n;if(!fee(n))return t(n,r);for(var i=n.length,a=e?i:-1,o=Object(n);(e?a--:++a<i)&&r(o[a],a,o)!==!1;);return n}}var dee=hee,pee=Z4,mee=dee,gee=mee(pee),r2=gee,vee=r2,yee=sg;function xee(t,e){var n=-1,r=yee(t)?Array(t.length):[];return vee(t,function(i,a,o){r[++n]=e(i,a,o)}),r}var J4=xee;function _ee(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var See=_ee,S3=Dh;function wee(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,a=S3(t),o=e!==void 0,s=e===null,l=e===e,u=S3(e);if(!s&&!u&&!a&&t>e||a&&o&&l&&!s&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!a&&!u&&t<e||u&&n&&i&&!r&&!a||s&&n&&i||!o&&i||!l)return-1}return 0}var bee=wee,Mee=bee;function Eee(t,e,n){for(var r=-1,i=t.criteria,a=e.criteria,o=i.length,s=n.length;++r<o;){var l=Mee(i[r],a[r]);if(l){if(r>=s)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return t.index-e.index}var Aee=Eee,iw=HT,Tee=jT,Pee=Ul,Cee=J4,Oee=See,Ree=U4,Iee=Aee,Lee=Hh,Dee=Vi;function Nee(t,e,n){e.length?e=iw(e,function(a){return Dee(a)?function(o){return Tee(o,a.length===1?a[0]:a)}:a}):e=[Lee];var r=-1;e=iw(e,Ree(Pee));var i=Cee(t,function(a,o,s){var l=iw(e,function(u){return u(a)});return{criteria:l,index:++r,value:a}});return Oee(i,function(a,o){return Iee(a,o,n)})}var kee=Nee;function Uee(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Fee=Uee,Bee=Fee,w3=Math.max;function zee(t,e,n){return e=w3(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=w3(r.length-e,0),o=Array(a);++i<a;)o[i]=r[e+i];i=-1;for(var s=Array(e+1);++i<e;)s[i]=r[i];return s[e]=n(o),Bee(t,this,s)}}var Hee=zee;function jee(t){return function(){return t}}var Gee=jee,Vee=gc,Wee=function(){try{var t=Vee(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Q4=Wee,$ee=Gee,b3=Q4,Xee=Hh,Yee=b3?function(t,e){return b3(t,"toString",{configurable:!0,enumerable:!1,value:$ee(e),writable:!0})}:Xee,qee=Yee,Kee=800,Zee=16,Jee=Date.now;function Qee(t){var e=0,n=0;return function(){var r=Jee(),i=Zee-(r-n);if(n=r,i>0){if(++e>=Kee)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ete=Qee,tte=qee,nte=ete,rte=nte(tte),ite=rte,ate=Hh,ote=Hee,ste=ite;function lte(t,e){return ste(ote(t,e,ate),t+"")}var ute=lte,cte=UT,fte=sg,hte=e2,dte=kl;function pte(t,e,n){if(!dte(n))return!1;var r=typeof e;return(r=="number"?fte(n)&&hte(e,n.length):r=="string"&&e in n)?cte(n[e],t):!1}var C_=pte,mte=K4,gte=kee,vte=ute,M3=C_,yte=vte(function(t,e){if(t==null)return[];var n=e.length;return n>1&&M3(t,e[0],e[1])?e=[]:n>2&&M3(e[0],e[1],e[2])&&(e=[e[0]]),gte(t,mte(e,1),[])}),xte=yte;const i2=bn(xte);function Zp(t){"@babel/helpers - typeof";return Zp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zp(t)}function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BM.apply(this,arguments)}function _te(t,e){return Mte(t)||bte(t,e)||wte(t,e)||Ste()}function Ste(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wte(t,e){if(t){if(typeof t=="string")return E3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E3(t,e)}}function E3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bte(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mte(t){if(Array.isArray(t))return t}function A3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A3(Object(n),!0).forEach(function(r){Ete(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ete(t,e,n){return e=Ate(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ate(t){var e=Tte(t,"string");return Zp(e)=="symbol"?e:e+""}function Tte(t,e){if(Zp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Zp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pte(t){return Array.isArray(t)&&Ar(t[0])&&Ar(t[1])?t.join(" ~ "):t}var Cte=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,a=i===void 0?{}:i,o=e.itemStyle,s=o===void 0?{}:o,l=e.labelStyle,u=l===void 0?{}:l,c=e.payload,f=e.formatter,h=e.itemSorter,m=e.wrapperClassName,g=e.labelClassName,y=e.label,x=e.labelFormatter,v=e.accessibilityLayer,S=v===void 0?!1:v,_=function(){if(c&&c.length){var D={padding:0,margin:0},F=(h?i2(c,h):c).map(function(B,W){if(B.type==="none")return null;var V=aw({display:"block",paddingTop:4,paddingBottom:4,color:B.color||"#000"},s),Q=B.formatter||f||Pte,N=B.value,j=B.name,G=N,H=j;if(Q&&G!=null&&H!=null){var $=Q(N,j,B,W,c);if(Array.isArray($)){var ie=_te($,2);G=ie[0],H=ie[1]}else G=$}return Se.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(W),style:V},Ar(H)?Se.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Ar(H)?Se.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,Se.createElement("span",{className:"recharts-tooltip-item-value"},G),Se.createElement("span",{className:"recharts-tooltip-item-unit"},B.unit||""))});return Se.createElement("ul",{className:"recharts-tooltip-item-list",style:D},F)}return null},b=aw({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},a),E=aw({margin:0},u),M=!Qt(y),T=M?y:"",C=ln("recharts-default-tooltip",m),P=ln("recharts-tooltip-label",g);M&&x&&c!==void 0&&c!==null&&(T=x(y,c));var O=S?{role:"status","aria-live":"assertive"}:{};return Se.createElement("div",BM({className:C,style:b},O),Se.createElement("p",{className:P,style:E},Se.isValidElement(T)?T:"".concat(T)),_())};function Jp(t){"@babel/helpers - typeof";return Jp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jp(t)}function Fv(t,e,n){return e=Ote(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ote(t){var e=Rte(t,"string");return Jp(e)=="symbol"?e:e+""}function Rte(t,e){if(Jp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Jp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Od="recharts-tooltip-wrapper",Ite={visibility:"hidden"};function Lte(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return ln(Od,Fv(Fv(Fv(Fv({},"".concat(Od,"-right"),st(n)&&e&&st(e.x)&&n>=e.x),"".concat(Od,"-left"),st(n)&&e&&st(e.x)&&n<e.x),"".concat(Od,"-bottom"),st(r)&&e&&st(e.y)&&r>=e.y),"".concat(Od,"-top"),st(r)&&e&&st(e.y)&&r<e.y))}function T3(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,a=t.position,o=t.reverseDirection,s=t.tooltipDimension,l=t.viewBox,u=t.viewBoxDimension;if(a&&st(a[r]))return a[r];var c=n[r]-s-i,f=n[r]+i;if(e[r])return o[r]?c:f;if(o[r]){var h=c,m=l[r];return h<m?Math.max(f,l[r]):Math.max(c,l[r])}var g=f+s,y=l[r]+u;return g>y?Math.max(c,l[r]):Math.max(f,l[r])}function Dte(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Nte(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,a=t.reverseDirection,o=t.tooltipBox,s=t.useTranslate3d,l=t.viewBox,u,c,f;return o.height>0&&o.width>0&&n?(c=T3({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.width,viewBox:l,viewBoxDimension:l.width}),f=T3({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:o.height,viewBox:l,viewBoxDimension:l.height}),u=Dte({translateX:c,translateY:f,useTranslate3d:s})):u=Ite,{cssProperties:u,cssClasses:Lte({translateX:c,translateY:f,coordinate:n})}}function oh(t){"@babel/helpers - typeof";return oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oh(t)}function P3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function C3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?P3(Object(n),!0).forEach(function(r){HM(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kte(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ute(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,tB(r.key),r)}}function Fte(t,e,n){return e&&Ute(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bte(t,e,n){return e=ex(e),zte(t,eB()?Reflect.construct(e,n||[],ex(t).constructor):e.apply(t,n))}function zte(t,e){if(e&&(oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Hte(t)}function Hte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eB=function(){return!!t})()}function ex(t){return ex=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ex(t)}function jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zM(t,e)}function HM(t,e,n){return e=tB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tB(t){var e=Gte(t,"string");return oh(e)=="symbol"?e:e+""}function Gte(t,e){if(oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var O3=1,Vte=function(t){function e(){var n;kte(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Bte(this,e,[].concat(i)),HM(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),HM(n,"handleKeyDown",function(o){if(o.key==="Escape"){var s,l,u,c;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(s=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&s!==void 0?s:0,y:(u=(c=n.props.coordinate)===null||c===void 0?void 0:c.y)!==null&&u!==void 0?u:0}})}}),n}return jte(e,t),Fte(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>O3||Math.abs(r.height-this.state.lastBoundingBox.height)>O3)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.children,c=i.coordinate,f=i.hasPayload,h=i.isAnimationActive,m=i.offset,g=i.position,y=i.reverseDirection,x=i.useTranslate3d,v=i.viewBox,S=i.wrapperStyle,_=Nte({allowEscapeViewBox:o,coordinate:c,offsetTopLeft:m,position:g,reverseDirection:y,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:v}),b=_.cssClasses,E=_.cssProperties,M=C3(C3({transition:h&&a?"transform ".concat(s,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&a&&f?"visible":"hidden",position:"absolute",top:0,left:0},S);return Se.createElement("div",{tabIndex:-1,className:b,style:M,ref:function(C){r.wrapperNode=C}},u)}}])}(he.PureComponent),Wte=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},jh={isSsr:Wte()};function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function R3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function I3(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?R3(Object(n),!0).forEach(function(r){a2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):R3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $te(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xte(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,rB(r.key),r)}}function Yte(t,e,n){return e&&Xte(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qte(t,e,n){return e=tx(e),Kte(t,nB()?Reflect.construct(e,n||[],tx(t).constructor):e.apply(t,n))}function Kte(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zte(t)}function Zte(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nB(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nB=function(){return!!t})()}function tx(t){return tx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},tx(t)}function Jte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jM(t,e)}function jM(t,e){return jM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},jM(t,e)}function a2(t,e,n){return e=rB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function rB(t){var e=Qte(t,"string");return sh(e)=="symbol"?e:e+""}function Qte(t,e){if(sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function ene(t){return t.dataKey}function tne(t,e){return Se.isValidElement(t)?Se.cloneElement(t,e):typeof t=="function"?Se.createElement(t,e):Se.createElement(Cte,e)}var To=function(t){function e(){return $te(this,e),qte(this,e,arguments)}return Jte(e,t),Yte(e,[{key:"render",value:function(){var r=this,i=this.props,a=i.active,o=i.allowEscapeViewBox,s=i.animationDuration,l=i.animationEasing,u=i.content,c=i.coordinate,f=i.filterNull,h=i.isAnimationActive,m=i.offset,g=i.payload,y=i.payloadUniqBy,x=i.position,v=i.reverseDirection,S=i.useTranslate3d,_=i.viewBox,b=i.wrapperStyle,E=g??[];f&&E.length&&(E=$4(g.filter(function(T){return T.value!=null&&(T.hide!==!0||r.props.includeHidden)}),y,ene));var M=E.length>0;return Se.createElement(Vte,{allowEscapeViewBox:o,animationDuration:s,animationEasing:l,isAnimationActive:h,active:a,coordinate:c,hasPayload:M,offset:m,position:x,reverseDirection:v,useTranslate3d:S,viewBox:_,wrapperStyle:b},tne(u,I3(I3({},this.props),{},{payload:E})))}}])}(he.PureComponent);a2(To,"displayName","Tooltip");a2(To,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!jh.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var nne=jo,rne=function(){return nne.Date.now()},ine=rne,ane=/\s/;function one(t){for(var e=t.length;e--&&ane.test(t.charAt(e)););return e}var sne=one,lne=sne,une=/^\s+/;function cne(t){return t&&t.slice(0,lne(t)+1).replace(une,"")}var fne=cne,hne=fne,L3=kl,dne=Dh,D3=NaN,pne=/^[-+]0x[0-9a-f]+$/i,mne=/^0b[01]+$/i,gne=/^0o[0-7]+$/i,vne=parseInt;function yne(t){if(typeof t=="number")return t;if(dne(t))return D3;if(L3(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=L3(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=hne(t);var n=mne.test(t);return n||gne.test(t)?vne(t.slice(2),n?2:8):pne.test(t)?D3:+t}var iB=yne,xne=kl,ow=ine,N3=iB,_ne="Expected a function",Sne=Math.max,wne=Math.min;function bne(t,e,n){var r,i,a,o,s,l,u=0,c=!1,f=!1,h=!0;if(typeof t!="function")throw new TypeError(_ne);e=N3(e)||0,xne(n)&&(c=!!n.leading,f="maxWait"in n,a=f?Sne(N3(n.maxWait)||0,e):a,h="trailing"in n?!!n.trailing:h);function m(M){var T=r,C=i;return r=i=void 0,u=M,o=t.apply(C,T),o}function g(M){return u=M,s=setTimeout(v,e),c?m(M):o}function y(M){var T=M-l,C=M-u,P=e-T;return f?wne(P,a-C):P}function x(M){var T=M-l,C=M-u;return l===void 0||T>=e||T<0||f&&C>=a}function v(){var M=ow();if(x(M))return S(M);s=setTimeout(v,y(M))}function S(M){return s=void 0,h&&r?m(M):(r=i=void 0,o)}function _(){s!==void 0&&clearTimeout(s),u=0,r=l=i=s=void 0}function b(){return s===void 0?o:S(ow())}function E(){var M=ow(),T=x(M);if(r=arguments,i=this,l=M,T){if(s===void 0)return g(l);if(f)return clearTimeout(s),s=setTimeout(v,e),m(l)}return s===void 0&&(s=setTimeout(v,e)),o}return E.cancel=_,E.flush=b,E}var Mne=bne,Ene=Mne,Ane=kl,Tne="Expected a function";function Pne(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Tne);return Ane(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Ene(t,e,{leading:r,maxWait:e,trailing:i})}var Cne=Pne;const aB=bn(Cne);function Qp(t){"@babel/helpers - typeof";return Qp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qp(t)}function k3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Bv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k3(Object(n),!0).forEach(function(r){One(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function One(t,e,n){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rne(t){var e=Ine(t,"string");return Qp(e)=="symbol"?e:e+""}function Ine(t,e){if(Qp(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Qp(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lne(t,e){return Une(t)||kne(t,e)||Nne(t,e)||Dne()}function Dne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Nne(t,e){if(t){if(typeof t=="string")return U3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return U3(t,e)}}function U3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function kne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Une(t){if(Array.isArray(t))return t}var Fne=he.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,a=t.width,o=a===void 0?"100%":a,s=t.height,l=s===void 0?"100%":s,u=t.minWidth,c=u===void 0?0:u,f=t.minHeight,h=t.maxHeight,m=t.children,g=t.debounce,y=g===void 0?0:g,x=t.id,v=t.className,S=t.onResize,_=t.style,b=_===void 0?{}:_,E=he.useRef(null),M=he.useRef();M.current=S,he.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var T=he.useState({containerWidth:i.width,containerHeight:i.height}),C=Lne(T,2),P=C[0],O=C[1],I=he.useCallback(function(F,B){O(function(W){var V=Math.round(F),Q=Math.round(B);return W.containerWidth===V&&W.containerHeight===Q?W:{containerWidth:V,containerHeight:Q}})},[]);he.useEffect(function(){var F=function(j){var G,H=j[0].contentRect,$=H.width,ie=H.height;I($,ie),(G=M.current)===null||G===void 0||G.call(M,$,ie)};y>0&&(F=aB(F,y,{trailing:!0,leading:!1}));var B=new ResizeObserver(F),W=E.current.getBoundingClientRect(),V=W.width,Q=W.height;return I(V,Q),B.observe(E.current),function(){B.disconnect()}},[I,y]);var D=he.useMemo(function(){var F=P.containerWidth,B=P.containerHeight;if(F<0||B<0)return null;ws(Iu(o)||Iu(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,l),ws(!n||n>0,"The aspect(%s) must be greater than zero.",n);var W=Iu(o)?F:o,V=Iu(l)?B:l;n&&n>0&&(W?V=W/n:V&&(W=V*n),h&&V>h&&(V=h)),ws(W>0||V>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,W,V,o,l,c,f,n);var Q=!Array.isArray(m)&&Ss(m.type).endsWith("Chart");return Se.Children.map(m,function(N){return Se.isValidElement(N)?he.cloneElement(N,Bv({width:W,height:V},Q?{style:Bv({height:"100%",width:"100%",maxHeight:V,maxWidth:W},N.props.style)}:{})):N})},[n,m,l,h,f,c,P,o]);return Se.createElement("div",{id:x?"".concat(x):void 0,className:ln("recharts-responsive-container",v),style:Bv(Bv({},b),{},{width:o,height:l,minWidth:c,minHeight:f,maxHeight:h}),ref:E},D)}),oB=function(e){return null};oB.displayName="Cell";function em(t){"@babel/helpers - typeof";return em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},em(t)}function F3(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F3(Object(n),!0).forEach(function(r){Bne(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F3(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bne(t,e,n){return e=zne(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zne(t){var e=Hne(t,"string");return em(e)=="symbol"?e:e+""}function Hne(t,e){if(em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zc={widthCache:{},cacheCount:0},jne=2e3,Gne={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},B3="recharts_measurement_span";function Vne(t){var e=GM({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var xp=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||jh.isSsr)return{width:0,height:0};var r=Vne(n),i=JSON.stringify({text:e,copyStyle:r});if(zc.widthCache[i])return zc.widthCache[i];try{var a=document.getElementById(B3);a||(a=document.createElement("span"),a.setAttribute("id",B3),a.setAttribute("aria-hidden","true"),document.body.appendChild(a));var o=GM(GM({},Gne),r);Object.assign(a.style,o),a.textContent="".concat(e);var s=a.getBoundingClientRect(),l={width:s.width,height:s.height};return zc.widthCache[i]=l,++zc.cacheCount>jne&&(zc.cacheCount=0,zc.widthCache={}),l}catch{return{width:0,height:0}}},Wne=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function tm(t){"@babel/helpers - typeof";return tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tm(t)}function nx(t,e){return qne(t)||Yne(t,e)||Xne(t,e)||$ne()}function $ne(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xne(t,e){if(t){if(typeof t=="string")return z3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return z3(t,e)}}function z3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Yne(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function qne(t){if(Array.isArray(t))return t}function Kne(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H3(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Jne(r.key),r)}}function Zne(t,e,n){return e&&H3(t.prototype,e),n&&H3(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jne(t){var e=Qne(t,"string");return tm(e)=="symbol"?e:e+""}function Qne(t,e){if(tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var j3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,G3=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,ere=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,tre=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,sB={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},nre=Object.keys(sB),Cf="NaN";function rre(t,e){return t*sB[e]}var zv=function(){function t(e,n){Kne(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!ere.test(n)&&(this.num=NaN,this.unit=""),nre.includes(n)&&(this.num=rre(e,n),this.unit="px")}return Zne(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=tre.exec(n))!==null&&r!==void 0?r:[],a=nx(i,3),o=a[1],s=a[2];return new t(parseFloat(o),s??"")}}])}();function lB(t){if(t.includes(Cf))return Cf;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=j3.exec(e))!==null&&n!==void 0?n:[],i=nx(r,4),a=i[1],o=i[2],s=i[3],l=zv.parse(a??""),u=zv.parse(s??""),c=o==="*"?l.multiply(u):l.divide(u);if(c.isNaN())return Cf;e=e.replace(j3,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,h=(f=G3.exec(e))!==null&&f!==void 0?f:[],m=nx(h,4),g=m[1],y=m[2],x=m[3],v=zv.parse(g??""),S=zv.parse(x??""),_=y==="+"?v.add(S):v.subtract(S);if(_.isNaN())return Cf;e=e.replace(G3,_.toString())}return e}var V3=/\(([^()]*)\)/;function ire(t){for(var e=t;e.includes("(");){var n=V3.exec(e),r=nx(n,2),i=r[1];e=e.replace(V3,lB(i))}return e}function are(t){var e=t.replace(/\s+/g,"");return e=ire(e),e=lB(e),e}function ore(t){try{return are(t)}catch{return Cf}}function sw(t){var e=ore(t.slice(5,-1));return e===Cf?"":e}var sre=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],lre=["dx","dy","angle","className","breakAll"];function VM(){return VM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},VM.apply(this,arguments)}function W3(t,e){if(t==null)return{};var n=ure(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ure(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $3(t,e){return dre(t)||hre(t,e)||fre(t,e)||cre()}function cre(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fre(t,e){if(t){if(typeof t=="string")return X3(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X3(t,e)}}function X3(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hre(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function dre(t){if(Array.isArray(t))return t}var uB=/[ \f\n\r\t\v\u2028\u2029]+/,cB=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var a=[];Qt(n)||(r?a=n.toString().split(""):a=n.toString().split(uB));var o=a.map(function(l){return{word:l,width:xp(l,i).width}}),s=r?0:xp("",i).width;return{wordsWithComputedWidth:o,spaceWidth:s}}catch{return null}},pre=function(e,n,r,i,a){var o=e.maxLines,s=e.children,l=e.style,u=e.breakAll,c=st(o),f=s,h=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return W.reduce(function(V,Q){var N=Q.word,j=Q.width,G=V[V.length-1];if(G&&(i==null||a||G.width+j+r<Number(i)))G.words.push(N),G.width+=j+r;else{var H={words:[N],width:j};V.push(H)}return V},[])},m=h(n),g=function(W){return W.reduce(function(V,Q){return V.width>Q.width?V:Q})};if(!c)return m;for(var y="",x=function(W){var V=f.slice(0,W),Q=cB({breakAll:u,style:l,children:V+y}).wordsWithComputedWidth,N=h(Q),j=N.length>o||g(N).width>Number(i);return[j,N]},v=0,S=f.length-1,_=0,b;v<=S&&_<=f.length-1;){var E=Math.floor((v+S)/2),M=E-1,T=x(M),C=$3(T,2),P=C[0],O=C[1],I=x(E),D=$3(I,1),F=D[0];if(!P&&!F&&(v=E+1),P&&F&&(S=E-1),!P&&F){b=O;break}_++}return b||m},Y3=function(e){var n=Qt(e)?[]:e.toString().split(uB);return[{words:n}]},mre=function(e){var n=e.width,r=e.scaleToFit,i=e.children,a=e.style,o=e.breakAll,s=e.maxLines;if((n||r)&&!jh.isSsr){var l,u,c=cB({breakAll:o,children:i,style:a});if(c){var f=c.wordsWithComputedWidth,h=c.spaceWidth;l=f,u=h}else return Y3(i);return pre({breakAll:o,children:i,maxLines:s,style:a},l,u,n,r)}return Y3(i)},q3="#808080",rx=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.lineHeight,s=o===void 0?"1em":o,l=e.capHeight,u=l===void 0?"0.71em":l,c=e.scaleToFit,f=c===void 0?!1:c,h=e.textAnchor,m=h===void 0?"start":h,g=e.verticalAnchor,y=g===void 0?"end":g,x=e.fill,v=x===void 0?q3:x,S=W3(e,sre),_=he.useMemo(function(){return mre({breakAll:S.breakAll,children:S.children,maxLines:S.maxLines,scaleToFit:f,style:S.style,width:S.width})},[S.breakAll,S.children,S.maxLines,f,S.style,S.width]),b=S.dx,E=S.dy,M=S.angle,T=S.className,C=S.breakAll,P=W3(S,lre);if(!Ar(r)||!Ar(a))return null;var O=r+(st(b)?b:0),I=a+(st(E)?E:0),D;switch(y){case"start":D=sw("calc(".concat(u,")"));break;case"middle":D=sw("calc(".concat((_.length-1)/2," * -").concat(s," + (").concat(u," / 2))"));break;default:D=sw("calc(".concat(_.length-1," * -").concat(s,")"));break}var F=[];if(f){var B=_[0].width,W=S.width;F.push("scale(".concat((st(W)?W/B:1)/B,")"))}return M&&F.push("rotate(".concat(M,", ").concat(O,", ").concat(I,")")),F.length&&(P.transform=F.join(" ")),Se.createElement("text",VM({},nn(P,!0),{x:O,y:I,className:ln("recharts-text",T),textAnchor:m,fill:v.includes("url")?q3:v}),_.map(function(V,Q){var N=V.words.join(C?"":" ");return Se.createElement("tspan",{x:O,dy:Q===0?D:s,key:"".concat(N,"-").concat(Q)},N)}))};function El(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function gre(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function o2(t){let e,n,r;t.length!==2?(e=El,n=(s,l)=>El(t(s),l),r=(s,l)=>t(s)-l):(e=t===El||t===gre?t:vre,n=t,r=t);function i(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<0?u=f+1:c=f}while(u<c)}return u}function a(s,l,u=0,c=s.length){if(u<c){if(e(l,l)!==0)return c;do{const f=u+c>>>1;n(s[f],l)<=0?u=f+1:c=f}while(u<c)}return u}function o(s,l,u=0,c=s.length){const f=i(s,l,u,c-1);return f>u&&r(s[f-1],l)>-r(s[f],l)?f-1:f}return{left:i,center:o,right:a}}function vre(){return 0}function fB(t){return t===null?NaN:+t}function*yre(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const xre=o2(El),lg=xre.right;o2(fB).center;class K3 extends Map{constructor(e,n=wre){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(Z3(this,e))}has(e){return super.has(Z3(this,e))}set(e,n){return super.set(_re(this,e),n)}delete(e){return super.delete(Sre(this,e))}}function Z3({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function _re({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Sre({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function wre(t){return t!==null&&typeof t=="object"?t.valueOf():t}function bre(t=El){if(t===El)return hB;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function hB(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Mre=Math.sqrt(50),Ere=Math.sqrt(10),Are=Math.sqrt(2);function ix(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=Mre?10:a>=Ere?5:a>=Are?2:1;let s,l,u;return i<0?(u=Math.pow(10,-i)/o,s=Math.round(t*u),l=Math.round(e*u),s/u<t&&++s,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*o,s=Math.round(t/u),l=Math.round(e/u),s*u<t&&++s,l*u>e&&--l),l<s&&.5<=n&&n<2?ix(t,e,n*2):[s,l,u]}function WM(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,a,o]=r?ix(e,t,n):ix(t,e,n);if(!(a>=i))return[];const s=a-i+1,l=new Array(s);if(r)if(o<0)for(let u=0;u<s;++u)l[u]=(a-u)/-o;else for(let u=0;u<s;++u)l[u]=(a-u)*o;else if(o<0)for(let u=0;u<s;++u)l[u]=(i+u)/-o;else for(let u=0;u<s;++u)l[u]=(i+u)*o;return l}function $M(t,e,n){return e=+e,t=+t,n=+n,ix(t,e,n)[2]}function XM(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?$M(e,t,n):$M(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function J3(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function Q3(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function dB(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?hB:bre(i);r>n;){if(r-n>600){const l=r-n+1,u=e-n+1,c=Math.log(l),f=.5*Math.exp(2*c/3),h=.5*Math.sqrt(c*f*(l-f)/l)*(u-l/2<0?-1:1),m=Math.max(n,Math.floor(e-u*f/l+h)),g=Math.min(r,Math.floor(e+(l-u)*f/l+h));dB(t,e,m,g,i)}const a=t[e];let o=n,s=r;for(Rd(t,n,e),i(t[r],a)>0&&Rd(t,n,r);o<s;){for(Rd(t,o,s),++o,--s;i(t[o],a)<0;)++o;for(;i(t[s],a)>0;)--s}i(t[n],a)===0?Rd(t,n,s):(++s,Rd(t,s,r)),s<=e&&(n=s+1),e<=s&&(r=s-1)}return t}function Rd(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Tre(t,e,n){if(t=Float64Array.from(yre(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Q3(t);if(e>=1)return J3(t);var r,i=(r-1)*e,a=Math.floor(i),o=J3(dB(t,a).subarray(0,a+1)),s=Q3(t.subarray(a+1));return o+(s-o)*(i-a)}}function Pre(t,e,n=fB){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,a=Math.floor(i),o=+n(t[a],a,t),s=+n(t[a+1],a+1,t);return o+(s-o)*(i-a)}}function Cre(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,a=new Array(i);++r<i;)a[r]=t+r*n;return a}function $a(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Us(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const YM=Symbol("implicit");function s2(){var t=new K3,e=[],n=[],r=YM;function i(a){let o=t.get(a);if(o===void 0){if(r!==YM)return r;t.set(a,o=e.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new K3;for(const o of a)t.has(o)||t.set(o,e.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return s2(e,n).unknown(r)},$a.apply(i,arguments),i}function nm(){var t=s2().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,a,o,s=!1,l=0,u=0,c=.5;delete t.unknown;function f(){var h=e().length,m=i<r,g=m?i:r,y=m?r:i;a=(y-g)/Math.max(1,h-l+u*2),s&&(a=Math.floor(a)),g+=(y-g-a*(h-l))*c,o=a*(1-l),s&&(g=Math.round(g),o=Math.round(o));var x=Cre(h).map(function(v){return g+a*v});return n(m?x.reverse():x)}return t.domain=function(h){return arguments.length?(e(h),f()):e()},t.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,s=!0,f()},t.bandwidth=function(){return o},t.step=function(){return a},t.round=function(h){return arguments.length?(s=!!h,f()):s},t.padding=function(h){return arguments.length?(l=Math.min(1,u=+h),f()):l},t.paddingInner=function(h){return arguments.length?(l=Math.min(1,h),f()):l},t.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},t.align=function(h){return arguments.length?(c=Math.max(0,Math.min(1,h)),f()):c},t.copy=function(){return nm(e(),[r,i]).round(s).paddingInner(l).paddingOuter(u).align(c)},$a.apply(f(),arguments)}function pB(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return pB(e())},t}function _p(){return pB(nm.apply(null,arguments).paddingInner(1))}function l2(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function mB(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function ug(){}var rm=.7,ax=1/rm,$f="\\s*([+-]?\\d+)\\s*",im="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Do="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ore=/^#([0-9a-f]{3,8})$/,Rre=new RegExp(`^rgb\\(${$f},${$f},${$f}\\)$`),Ire=new RegExp(`^rgb\\(${Do},${Do},${Do}\\)$`),Lre=new RegExp(`^rgba\\(${$f},${$f},${$f},${im}\\)$`),Dre=new RegExp(`^rgba\\(${Do},${Do},${Do},${im}\\)$`),Nre=new RegExp(`^hsl\\(${im},${Do},${Do}\\)$`),kre=new RegExp(`^hsla\\(${im},${Do},${Do},${im}\\)$`),eI={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l2(ug,am,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:tI,formatHex:tI,formatHex8:Ure,formatHsl:Fre,formatRgb:nI,toString:nI});function tI(){return this.rgb().formatHex()}function Ure(){return this.rgb().formatHex8()}function Fre(){return gB(this).formatHsl()}function nI(){return this.rgb().formatRgb()}function am(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ore.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?rI(e):n===3?new Bi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Hv(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Hv(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Rre.exec(t))?new Bi(e[1],e[2],e[3],1):(e=Ire.exec(t))?new Bi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Lre.exec(t))?Hv(e[1],e[2],e[3],e[4]):(e=Dre.exec(t))?Hv(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Nre.exec(t))?oI(e[1],e[2]/100,e[3]/100,1):(e=kre.exec(t))?oI(e[1],e[2]/100,e[3]/100,e[4]):eI.hasOwnProperty(t)?rI(eI[t]):t==="transparent"?new Bi(NaN,NaN,NaN,0):null}function rI(t){return new Bi(t>>16&255,t>>8&255,t&255,1)}function Hv(t,e,n,r){return r<=0&&(t=e=n=NaN),new Bi(t,e,n,r)}function Bre(t){return t instanceof ug||(t=am(t)),t?(t=t.rgb(),new Bi(t.r,t.g,t.b,t.opacity)):new Bi}function qM(t,e,n,r){return arguments.length===1?Bre(t):new Bi(t,e,n,r??1)}function Bi(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}l2(Bi,qM,mB(ug,{brighter(t){return t=t==null?ax:Math.pow(ax,t),new Bi(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new Bi(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new Bi(Vu(this.r),Vu(this.g),Vu(this.b),ox(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:iI,formatHex:iI,formatHex8:zre,formatRgb:aI,toString:aI}));function iI(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}`}function zre(){return`#${Lu(this.r)}${Lu(this.g)}${Lu(this.b)}${Lu((isNaN(this.opacity)?1:this.opacity)*255)}`}function aI(){const t=ox(this.opacity);return`${t===1?"rgb(":"rgba("}${Vu(this.r)}, ${Vu(this.g)}, ${Vu(this.b)}${t===1?")":`, ${t})`}`}function ox(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Vu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Lu(t){return t=Vu(t),(t<16?"0":"")+t.toString(16)}function oI(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new uo(t,e,n,r)}function gB(t){if(t instanceof uo)return new uo(t.h,t.s,t.l,t.opacity);if(t instanceof ug||(t=am(t)),!t)return new uo;if(t instanceof uo)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),a=Math.max(e,n,r),o=NaN,s=a-i,l=(a+i)/2;return s?(e===a?o=(n-r)/s+(n<r)*6:n===a?o=(r-e)/s+2:o=(e-n)/s+4,s/=l<.5?a+i:2-a-i,o*=60):s=l>0&&l<1?0:o,new uo(o,s,l,t.opacity)}function Hre(t,e,n,r){return arguments.length===1?gB(t):new uo(t,e,n,r??1)}function uo(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}l2(uo,Hre,mB(ug,{brighter(t){return t=t==null?ax:Math.pow(ax,t),new uo(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?rm:Math.pow(rm,t),new uo(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new Bi(lw(t>=240?t-240:t+120,i,r),lw(t,i,r),lw(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new uo(sI(this.h),jv(this.s),jv(this.l),ox(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ox(this.opacity);return`${t===1?"hsl(":"hsla("}${sI(this.h)}, ${jv(this.s)*100}%, ${jv(this.l)*100}%${t===1?")":`, ${t})`}`}}));function sI(t){return t=(t||0)%360,t<0?t+360:t}function jv(t){return Math.max(0,Math.min(1,t||0))}function lw(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const u2=t=>()=>t;function jre(t,e){return function(n){return t+n*e}}function Gre(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Vre(t){return(t=+t)==1?vB:function(e,n){return n-e?Gre(e,n,t):u2(isNaN(e)?n:e)}}function vB(t,e){var n=e-t;return n?jre(t,n):u2(isNaN(t)?e:t)}const lI=function t(e){var n=Vre(e);function r(i,a){var o=n((i=qM(i)).r,(a=qM(a)).r),s=n(i.g,a.g),l=n(i.b,a.b),u=vB(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=s(c),i.b=l(c),i.opacity=u(c),i+""}}return r.gamma=t,r}(1);function Wre(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=t[i]*(1-a)+e[i]*a;return r}}function $re(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Xre(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=Gh(t[o],e[o]);for(;o<n;++o)a[o]=e[o];return function(s){for(o=0;o<r;++o)a[o]=i[o](s);return a}}function Yre(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function sx(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function qre(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Gh(t[i],e[i]):r[i]=e[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var KM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,uw=new RegExp(KM.source,"g");function Kre(t){return function(){return t}}function Zre(t){return function(e){return t(e)+""}}function Jre(t,e){var n=KM.lastIndex=uw.lastIndex=0,r,i,a,o=-1,s=[],l=[];for(t=t+"",e=e+"";(r=KM.exec(t))&&(i=uw.exec(e));)(a=i.index)>n&&(a=e.slice(n,a),s[o]?s[o]+=a:s[++o]=a),(r=r[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:sx(r,i)})),n=uw.lastIndex;return n<e.length&&(a=e.slice(n),s[o]?s[o]+=a:s[++o]=a),s.length<2?l[0]?Zre(l[0].x):Kre(e):(e=l.length,function(u){for(var c=0,f;c<e;++c)s[(f=l[c]).i]=f.x(u);return s.join("")})}function Gh(t,e){var n=typeof e,r;return e==null||n==="boolean"?u2(e):(n==="number"?sx:n==="string"?(r=am(e))?(e=r,lI):Jre:e instanceof am?lI:e instanceof Date?Yre:$re(e)?Wre:Array.isArray(e)?Xre:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?qre:sx)(t,e)}function c2(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function Qre(t,e){e===void 0&&(e=t,t=Gh);for(var n=0,r=e.length-1,i=e[0],a=new Array(r<0?0:r);n<r;)a[n]=t(i,i=e[++n]);return function(o){var s=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[s](o-s)}}function eie(t){return function(){return t}}function lx(t){return+t}var uI=[0,1];function bi(t){return t}function ZM(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:eie(isNaN(e)?NaN:.5)}function tie(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function nie(t,e,n){var r=t[0],i=t[1],a=e[0],o=e[1];return i<r?(r=ZM(i,r),a=n(o,a)):(r=ZM(r,i),a=n(a,o)),function(s){return a(r(s))}}function rie(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),a=new Array(r),o=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=ZM(t[o],t[o+1]),a[o]=n(e[o],e[o+1]);return function(s){var l=lg(t,s,1,r)-1;return a[l](i[l](s))}}function cg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function O_(){var t=uI,e=uI,n=Gh,r,i,a,o=bi,s,l,u;function c(){var h=Math.min(t.length,e.length);return o!==bi&&(o=tie(t[0],t[h-1])),s=h>2?rie:nie,l=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(l||(l=s(t.map(r),e,n)))(r(o(h)))}return f.invert=function(h){return o(i((u||(u=s(e,t.map(r),sx)))(h)))},f.domain=function(h){return arguments.length?(t=Array.from(h,lx),c()):t.slice()},f.range=function(h){return arguments.length?(e=Array.from(h),c()):e.slice()},f.rangeRound=function(h){return e=Array.from(h),n=c2,c()},f.clamp=function(h){return arguments.length?(o=h?!0:bi,c()):o!==bi},f.interpolate=function(h){return arguments.length?(n=h,c()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,c()}}function f2(){return O_()(bi,bi)}function iie(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function ux(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function lh(t){return t=ux(Math.abs(t)),t?t[1]:NaN}function aie(t,e){return function(n,r){for(var i=n.length,a=[],o=0,s=t[0],l=0;i>0&&s>0&&(l+s+1>r&&(s=Math.max(1,r-l)),a.push(n.substring(i-=s,i+s)),!((l+=s+1)>r));)s=t[o=(o+1)%t.length];return a.reverse().join(e)}}function oie(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var sie=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function om(t){if(!(e=sie.exec(t)))throw new Error("invalid format: "+t);var e;return new h2({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}om.prototype=h2.prototype;function h2(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}h2.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function lie(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var yB;function uie(t,e){var n=ux(t,e);if(!n)return t+"";var r=n[0],i=n[1],a=i-(yB=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+ux(t,Math.max(0,e+a-1))[0]}function cI(t,e){var n=ux(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const fI={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:iie,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cI(t*100,e),r:cI,s:uie,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function hI(t){return t}var dI=Array.prototype.map,pI=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function cie(t){var e=t.grouping===void 0||t.thousands===void 0?hI:aie(dI.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",a=t.numerals===void 0?hI:oie(dI.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",s=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=om(f);var h=f.fill,m=f.align,g=f.sign,y=f.symbol,x=f.zero,v=f.width,S=f.comma,_=f.precision,b=f.trim,E=f.type;E==="n"?(S=!0,E="g"):fI[E]||(_===void 0&&(_=12),b=!0,E="g"),(x||h==="0"&&m==="=")&&(x=!0,h="0",m="=");var M=y==="$"?n:y==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",T=y==="$"?r:/[%p]/.test(E)?o:"",C=fI[E],P=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(I){var D=M,F=T,B,W,V;if(E==="c")F=C(I)+F,I="";else{I=+I;var Q=I<0||1/I<0;if(I=isNaN(I)?l:C(Math.abs(I),_),b&&(I=lie(I)),Q&&+I==0&&g!=="+"&&(Q=!1),D=(Q?g==="("?g:s:g==="-"||g==="("?"":g)+D,F=(E==="s"?pI[8+yB/3]:"")+F+(Q&&g==="("?")":""),P){for(B=-1,W=I.length;++B<W;)if(V=I.charCodeAt(B),48>V||V>57){F=(V===46?i+I.slice(B+1):I.slice(B))+F,I=I.slice(0,B);break}}}S&&!x&&(I=e(I,1/0));var N=D.length+I.length+F.length,j=N<v?new Array(v-N+1).join(h):"";switch(S&&x&&(I=e(j+I,j.length?v-F.length:1/0),j=""),m){case"<":I=D+I+F+j;break;case"=":I=D+j+I+F;break;case"^":I=j.slice(0,N=j.length>>1)+D+I+F+j.slice(N);break;default:I=j+D+I+F;break}return a(I)}return O.toString=function(){return f+""},O}function c(f,h){var m=u((f=om(f),f.type="f",f)),g=Math.max(-8,Math.min(8,Math.floor(lh(h)/3)))*3,y=Math.pow(10,-g),x=pI[8+g/3];return function(v){return m(y*v)+x}}return{format:u,formatPrefix:c}}var Gv,d2,xB;fie({thousands:",",grouping:[3],currency:["$",""]});function fie(t){return Gv=cie(t),d2=Gv.format,xB=Gv.formatPrefix,Gv}function hie(t){return Math.max(0,-lh(Math.abs(t)))}function die(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lh(e)/3)))*3-lh(Math.abs(t)))}function pie(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lh(e)-lh(t))+1}function _B(t,e,n,r){var i=XM(t,e,n),a;switch(r=om(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(a=die(i,o))&&(r.precision=a),xB(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=pie(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=hie(i))&&(r.precision=a-(r.type==="%")*2);break}}return d2(r)}function Fl(t){var e=t.domain;return t.ticks=function(n){var r=e();return WM(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return _B(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,a=r.length-1,o=r[i],s=r[a],l,u,c=10;for(s<o&&(u=o,o=s,s=u,u=i,i=a,a=u);c-- >0;){if(u=$M(o,s,n),u===l)return r[i]=o,r[a]=s,e(r);if(u>0)o=Math.floor(o/u)*u,s=Math.ceil(s/u)*u;else if(u<0)o=Math.ceil(o*u)/u,s=Math.floor(s*u)/u;else break;l=u}return t},t}function cx(){var t=f2();return t.copy=function(){return cg(t,cx())},$a.apply(t,arguments),Fl(t)}function SB(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,lx),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return SB(t).unknown(e)},t=arguments.length?Array.from(t,lx):[0,1],Fl(n)}function wB(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],a=t[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),t[n]=e.floor(i),t[r]=e.ceil(a),t}function mI(t){return Math.log(t)}function gI(t){return Math.exp(t)}function mie(t){return-Math.log(-t)}function gie(t){return-Math.exp(-t)}function vie(t){return isFinite(t)?+("1e"+t):t<0?0:t}function yie(t){return t===10?vie:t===Math.E?Math.exp:e=>Math.pow(t,e)}function xie(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function vI(t){return(e,n)=>-t(-e,n)}function p2(t){const e=t(mI,gI),n=e.domain;let r=10,i,a;function o(){return i=xie(r),a=yie(r),n()[0]<0?(i=vI(i),a=vI(a),t(mie,gie)):t(mI,gI),e}return e.base=function(s){return arguments.length?(r=+s,o()):r},e.domain=function(s){return arguments.length?(n(s),o()):n()},e.ticks=s=>{const l=n();let u=l[0],c=l[l.length-1];const f=c<u;f&&([u,c]=[c,u]);let h=i(u),m=i(c),g,y;const x=s==null?10:+s;let v=[];if(!(r%1)&&m-h<x){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(g=1;g<r;++g)if(y=h<0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;v.push(y)}}else for(;h<=m;++h)for(g=r-1;g>=1;--g)if(y=h>0?g/a(-h):g*a(h),!(y<u)){if(y>c)break;v.push(y)}v.length*2<x&&(v=WM(u,c,x))}else v=WM(h,m,Math.min(m-h,x)).map(a);return f?v.reverse():v},e.tickFormat=(s,l)=>{if(s==null&&(s=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=om(l)).precision==null&&(l.trim=!0),l=d2(l)),s===1/0)return l;const u=Math.max(1,r*s/e.ticks().length);return c=>{let f=c/a(Math.round(i(c)));return f*r<r-.5&&(f*=r),f<=u?l(c):""}},e.nice=()=>n(wB(n(),{floor:s=>a(Math.floor(i(s))),ceil:s=>a(Math.ceil(i(s)))})),e}function bB(){const t=p2(O_()).domain([1,10]);return t.copy=()=>cg(t,bB()).base(t.base()),$a.apply(t,arguments),t}function yI(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xI(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function m2(t){var e=1,n=t(yI(e),xI(e));return n.constant=function(r){return arguments.length?t(yI(e=+r),xI(e)):e},Fl(n)}function MB(){var t=m2(O_());return t.copy=function(){return cg(t,MB()).constant(t.constant())},$a.apply(t,arguments)}function _I(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function _ie(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function Sie(t){return t<0?-t*t:t*t}function g2(t){var e=t(bi,bi),n=1;function r(){return n===1?t(bi,bi):n===.5?t(_ie,Sie):t(_I(n),_I(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Fl(e)}function v2(){var t=g2(O_());return t.copy=function(){return cg(t,v2()).exponent(t.exponent())},$a.apply(t,arguments),t}function wie(){return v2.apply(null,arguments).exponent(.5)}function SI(t){return Math.sign(t)*t*t}function bie(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function EB(){var t=f2(),e=[0,1],n=!1,r;function i(a){var o=bie(t(a));return isNaN(o)?r:n?Math.round(o):o}return i.invert=function(a){return t.invert(SI(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,lx)).map(SI)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return EB(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},$a.apply(i,arguments),Fl(i)}function AB(){var t=[],e=[],n=[],r;function i(){var o=0,s=Math.max(1,e.length);for(n=new Array(s-1);++o<s;)n[o-1]=Pre(t,o/s);return a}function a(o){return o==null||isNaN(o=+o)?r:e[lg(n,o)]}return a.invertExtent=function(o){var s=e.indexOf(o);return s<0?[NaN,NaN]:[s>0?n[s-1]:t[0],s<n.length?n[s]:t[t.length-1]]},a.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let s of o)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(El),i()},a.range=function(o){return arguments.length?(e=Array.from(o),i()):e.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return AB().domain(t).range(e).unknown(r)},$a.apply(a,arguments)}function TB(){var t=0,e=1,n=1,r=[.5],i=[0,1],a;function o(l){return l!=null&&l<=l?i[lg(r,l,0,n)]:a}function s(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return o}return o.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,s()):[t,e]},o.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,s()):i.slice()},o.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,r[0]]:u>=n?[r[n-1],e]:[r[u-1],r[u]]},o.unknown=function(l){return arguments.length&&(a=l),o},o.thresholds=function(){return r.slice()},o.copy=function(){return TB().domain([t,e]).range(i).unknown(a)},$a.apply(Fl(o),arguments)}function PB(){var t=[.5],e=[0,1],n,r=1;function i(a){return a!=null&&a<=a?e[lg(t,a,0,r)]:n}return i.domain=function(a){return arguments.length?(t=Array.from(a),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var o=e.indexOf(a);return[t[o-1],t[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return PB().domain(t).range(e).unknown(n)},$a.apply(i,arguments)}const cw=new Date,fw=new Date;function Cr(t,e,n,r){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const o=i(a),s=i.ceil(a);return a-o<s-a?o:s},i.offset=(a,o)=>(e(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,s)=>{const l=[];if(a=i.ceil(a),s=s==null?1:Math.floor(s),!(a<o)||!(s>0))return l;let u;do l.push(u=new Date(+a)),e(a,s),t(a);while(u<a&&a<o);return l},i.filter=a=>Cr(o=>{if(o>=o)for(;t(o),!a(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;e(o,-1),!a(o););else for(;--s>=0;)for(;e(o,1),!a(o););}),n&&(i.count=(a,o)=>(cw.setTime(+a),fw.setTime(+o),t(cw),t(fw),Math.floor(n(cw,fw))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const fx=Cr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);fx.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Cr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):fx);fx.range;const gs=1e3,Ua=gs*60,vs=Ua*60,Cs=vs*24,y2=Cs*7,wI=Cs*30,hw=Cs*365,Du=Cr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*gs)},(t,e)=>(e-t)/gs,t=>t.getUTCSeconds());Du.range;const x2=Cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getMinutes());x2.range;const _2=Cr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ua)},(t,e)=>(e-t)/Ua,t=>t.getUTCMinutes());_2.range;const S2=Cr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*gs-t.getMinutes()*Ua)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getHours());S2.range;const w2=Cr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*vs)},(t,e)=>(e-t)/vs,t=>t.getUTCHours());w2.range;const fg=Cr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ua)/Cs,t=>t.getDate()-1);fg.range;const R_=Cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cs,t=>t.getUTCDate()-1);R_.range;const CB=Cr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Cs,t=>Math.floor(t/Cs));CB.range;function vc(t){return Cr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Ua)/y2)}const I_=vc(0),hx=vc(1),Mie=vc(2),Eie=vc(3),uh=vc(4),Aie=vc(5),Tie=vc(6);I_.range;hx.range;Mie.range;Eie.range;uh.range;Aie.range;Tie.range;function yc(t){return Cr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/y2)}const L_=yc(0),dx=yc(1),Pie=yc(2),Cie=yc(3),ch=yc(4),Oie=yc(5),Rie=yc(6);L_.range;dx.range;Pie.range;Cie.range;ch.range;Oie.range;Rie.range;const b2=Cr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());b2.range;const M2=Cr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());M2.range;const Os=Cr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Os.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Os.range;const Rs=Cr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Rs.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Cr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Rs.range;function OB(t,e,n,r,i,a){const o=[[Du,1,gs],[Du,5,5*gs],[Du,15,15*gs],[Du,30,30*gs],[a,1,Ua],[a,5,5*Ua],[a,15,15*Ua],[a,30,30*Ua],[i,1,vs],[i,3,3*vs],[i,6,6*vs],[i,12,12*vs],[r,1,Cs],[r,2,2*Cs],[n,1,y2],[e,1,wI],[e,3,3*wI],[t,1,hw]];function s(u,c,f){const h=c<u;h&&([u,c]=[c,u]);const m=f&&typeof f.range=="function"?f:l(u,c,f),g=m?m.range(u,+c+1):[];return h?g.reverse():g}function l(u,c,f){const h=Math.abs(c-u)/f,m=o2(([,,x])=>x).right(o,h);if(m===o.length)return t.every(XM(u/hw,c/hw,f));if(m===0)return fx.every(Math.max(XM(u,c,f),1));const[g,y]=o[h/o[m-1][2]<o[m][2]/h?m-1:m];return g.every(y)}return[s,l]}const[Iie,Lie]=OB(Rs,M2,L_,CB,w2,_2),[Die,Nie]=OB(Os,b2,I_,fg,S2,x2);function dw(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function pw(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Id(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function kie(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,a=t.days,o=t.shortDays,s=t.months,l=t.shortMonths,u=Ld(i),c=Dd(i),f=Ld(a),h=Dd(a),m=Ld(o),g=Dd(o),y=Ld(s),x=Dd(s),v=Ld(l),S=Dd(l),_={a:Q,A:N,b:j,B:G,c:null,d:PI,e:PI,f:aae,g:mae,G:vae,H:nae,I:rae,j:iae,L:RB,m:oae,M:sae,p:H,q:$,Q:RI,s:II,S:lae,u:uae,U:cae,V:fae,w:hae,W:dae,x:null,X:null,y:pae,Y:gae,Z:yae,"%":OI},b={a:ie,A:Z,b:ae,B:ce,c:null,d:CI,e:CI,f:wae,g:Iae,G:Dae,H:xae,I:_ae,j:Sae,L:LB,m:bae,M:Mae,p:fe,q:Ae,Q:RI,s:II,S:Eae,u:Aae,U:Tae,V:Pae,w:Cae,W:Oae,x:null,X:null,y:Rae,Y:Lae,Z:Nae,"%":OI},E={a:O,A:I,b:D,B:F,c:B,d:AI,e:AI,f:Jie,g:EI,G:MI,H:TI,I:TI,j:Yie,L:Zie,m:Xie,M:qie,p:P,q:$ie,Q:eae,s:tae,S:Kie,u:Hie,U:jie,V:Gie,w:zie,W:Vie,x:W,X:V,y:EI,Y:MI,Z:Wie,"%":Qie};_.x=M(n,_),_.X=M(r,_),_.c=M(e,_),b.x=M(n,b),b.X=M(r,b),b.c=M(e,b);function M(ve,Ie){return function(X){var J=[],_e=-1,Me=0,Te=ve.length,Ce,He,Pe;for(X instanceof Date||(X=new Date(+X));++_e<Te;)ve.charCodeAt(_e)===37&&(J.push(ve.slice(Me,_e)),(He=bI[Ce=ve.charAt(++_e)])!=null?Ce=ve.charAt(++_e):He=Ce==="e"?" ":"0",(Pe=Ie[Ce])&&(Ce=Pe(X,He)),J.push(Ce),Me=_e+1);return J.push(ve.slice(Me,_e)),J.join("")}}function T(ve,Ie){return function(X){var J=Id(1900,void 0,1),_e=C(J,ve,X+="",0),Me,Te;if(_e!=X.length)return null;if("Q"in J)return new Date(J.Q);if("s"in J)return new Date(J.s*1e3+("L"in J?J.L:0));if(Ie&&!("Z"in J)&&(J.Z=0),"p"in J&&(J.H=J.H%12+J.p*12),J.m===void 0&&(J.m="q"in J?J.q:0),"V"in J){if(J.V<1||J.V>53)return null;"w"in J||(J.w=1),"Z"in J?(Me=pw(Id(J.y,0,1)),Te=Me.getUTCDay(),Me=Te>4||Te===0?dx.ceil(Me):dx(Me),Me=R_.offset(Me,(J.V-1)*7),J.y=Me.getUTCFullYear(),J.m=Me.getUTCMonth(),J.d=Me.getUTCDate()+(J.w+6)%7):(Me=dw(Id(J.y,0,1)),Te=Me.getDay(),Me=Te>4||Te===0?hx.ceil(Me):hx(Me),Me=fg.offset(Me,(J.V-1)*7),J.y=Me.getFullYear(),J.m=Me.getMonth(),J.d=Me.getDate()+(J.w+6)%7)}else("W"in J||"U"in J)&&("w"in J||(J.w="u"in J?J.u%7:"W"in J?1:0),Te="Z"in J?pw(Id(J.y,0,1)).getUTCDay():dw(Id(J.y,0,1)).getDay(),J.m=0,J.d="W"in J?(J.w+6)%7+J.W*7-(Te+5)%7:J.w+J.U*7-(Te+6)%7);return"Z"in J?(J.H+=J.Z/100|0,J.M+=J.Z%100,pw(J)):dw(J)}}function C(ve,Ie,X,J){for(var _e=0,Me=Ie.length,Te=X.length,Ce,He;_e<Me;){if(J>=Te)return-1;if(Ce=Ie.charCodeAt(_e++),Ce===37){if(Ce=Ie.charAt(_e++),He=E[Ce in bI?Ie.charAt(_e++):Ce],!He||(J=He(ve,X,J))<0)return-1}else if(Ce!=X.charCodeAt(J++))return-1}return J}function P(ve,Ie,X){var J=u.exec(Ie.slice(X));return J?(ve.p=c.get(J[0].toLowerCase()),X+J[0].length):-1}function O(ve,Ie,X){var J=m.exec(Ie.slice(X));return J?(ve.w=g.get(J[0].toLowerCase()),X+J[0].length):-1}function I(ve,Ie,X){var J=f.exec(Ie.slice(X));return J?(ve.w=h.get(J[0].toLowerCase()),X+J[0].length):-1}function D(ve,Ie,X){var J=v.exec(Ie.slice(X));return J?(ve.m=S.get(J[0].toLowerCase()),X+J[0].length):-1}function F(ve,Ie,X){var J=y.exec(Ie.slice(X));return J?(ve.m=x.get(J[0].toLowerCase()),X+J[0].length):-1}function B(ve,Ie,X){return C(ve,e,Ie,X)}function W(ve,Ie,X){return C(ve,n,Ie,X)}function V(ve,Ie,X){return C(ve,r,Ie,X)}function Q(ve){return o[ve.getDay()]}function N(ve){return a[ve.getDay()]}function j(ve){return l[ve.getMonth()]}function G(ve){return s[ve.getMonth()]}function H(ve){return i[+(ve.getHours()>=12)]}function $(ve){return 1+~~(ve.getMonth()/3)}function ie(ve){return o[ve.getUTCDay()]}function Z(ve){return a[ve.getUTCDay()]}function ae(ve){return l[ve.getUTCMonth()]}function ce(ve){return s[ve.getUTCMonth()]}function fe(ve){return i[+(ve.getUTCHours()>=12)]}function Ae(ve){return 1+~~(ve.getUTCMonth()/3)}return{format:function(ve){var Ie=M(ve+="",_);return Ie.toString=function(){return ve},Ie},parse:function(ve){var Ie=T(ve+="",!1);return Ie.toString=function(){return ve},Ie},utcFormat:function(ve){var Ie=M(ve+="",b);return Ie.toString=function(){return ve},Ie},utcParse:function(ve){var Ie=T(ve+="",!0);return Ie.toString=function(){return ve},Ie}}}var bI={"-":"",_:" ",0:"0"},zr=/^\s*\d+/,Uie=/^%/,Fie=/[\\^$*+?|[\]().{}]/g;function dn(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(e)+i:i)}function Bie(t){return t.replace(Fie,"\\$&")}function Ld(t){return new RegExp("^(?:"+t.map(Bie).join("|")+")","i")}function Dd(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zie(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Hie(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function jie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Gie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Vie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function MI(t,e,n){var r=zr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function EI(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wie(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function $ie(t,e,n){var r=zr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Xie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function AI(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Yie(t,e,n){var r=zr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function TI(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function qie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Kie(t,e,n){var r=zr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Zie(t,e,n){var r=zr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Jie(t,e,n){var r=zr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Qie(t,e,n){var r=Uie.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function eae(t,e,n){var r=zr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function tae(t,e,n){var r=zr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function PI(t,e){return dn(t.getDate(),e,2)}function nae(t,e){return dn(t.getHours(),e,2)}function rae(t,e){return dn(t.getHours()%12||12,e,2)}function iae(t,e){return dn(1+fg.count(Os(t),t),e,3)}function RB(t,e){return dn(t.getMilliseconds(),e,3)}function aae(t,e){return RB(t,e)+"000"}function oae(t,e){return dn(t.getMonth()+1,e,2)}function sae(t,e){return dn(t.getMinutes(),e,2)}function lae(t,e){return dn(t.getSeconds(),e,2)}function uae(t){var e=t.getDay();return e===0?7:e}function cae(t,e){return dn(I_.count(Os(t)-1,t),e,2)}function IB(t){var e=t.getDay();return e>=4||e===0?uh(t):uh.ceil(t)}function fae(t,e){return t=IB(t),dn(uh.count(Os(t),t)+(Os(t).getDay()===4),e,2)}function hae(t){return t.getDay()}function dae(t,e){return dn(hx.count(Os(t)-1,t),e,2)}function pae(t,e){return dn(t.getFullYear()%100,e,2)}function mae(t,e){return t=IB(t),dn(t.getFullYear()%100,e,2)}function gae(t,e){return dn(t.getFullYear()%1e4,e,4)}function vae(t,e){var n=t.getDay();return t=n>=4||n===0?uh(t):uh.ceil(t),dn(t.getFullYear()%1e4,e,4)}function yae(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+dn(e/60|0,"0",2)+dn(e%60,"0",2)}function CI(t,e){return dn(t.getUTCDate(),e,2)}function xae(t,e){return dn(t.getUTCHours(),e,2)}function _ae(t,e){return dn(t.getUTCHours()%12||12,e,2)}function Sae(t,e){return dn(1+R_.count(Rs(t),t),e,3)}function LB(t,e){return dn(t.getUTCMilliseconds(),e,3)}function wae(t,e){return LB(t,e)+"000"}function bae(t,e){return dn(t.getUTCMonth()+1,e,2)}function Mae(t,e){return dn(t.getUTCMinutes(),e,2)}function Eae(t,e){return dn(t.getUTCSeconds(),e,2)}function Aae(t){var e=t.getUTCDay();return e===0?7:e}function Tae(t,e){return dn(L_.count(Rs(t)-1,t),e,2)}function DB(t){var e=t.getUTCDay();return e>=4||e===0?ch(t):ch.ceil(t)}function Pae(t,e){return t=DB(t),dn(ch.count(Rs(t),t)+(Rs(t).getUTCDay()===4),e,2)}function Cae(t){return t.getUTCDay()}function Oae(t,e){return dn(dx.count(Rs(t)-1,t),e,2)}function Rae(t,e){return dn(t.getUTCFullYear()%100,e,2)}function Iae(t,e){return t=DB(t),dn(t.getUTCFullYear()%100,e,2)}function Lae(t,e){return dn(t.getUTCFullYear()%1e4,e,4)}function Dae(t,e){var n=t.getUTCDay();return t=n>=4||n===0?ch(t):ch.ceil(t),dn(t.getUTCFullYear()%1e4,e,4)}function Nae(){return"+0000"}function OI(){return"%"}function RI(t){return+t}function II(t){return Math.floor(+t/1e3)}var Hc,NB,kB;kae({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function kae(t){return Hc=kie(t),NB=Hc.format,Hc.parse,kB=Hc.utcFormat,Hc.utcParse,Hc}function Uae(t){return new Date(t)}function Fae(t){return t instanceof Date?+t:+new Date(+t)}function E2(t,e,n,r,i,a,o,s,l,u){var c=f2(),f=c.invert,h=c.domain,m=u(".%L"),g=u(":%S"),y=u("%I:%M"),x=u("%I %p"),v=u("%a %d"),S=u("%b %d"),_=u("%B"),b=u("%Y");function E(M){return(l(M)<M?m:s(M)<M?g:o(M)<M?y:a(M)<M?x:r(M)<M?i(M)<M?v:S:n(M)<M?_:b)(M)}return c.invert=function(M){return new Date(f(M))},c.domain=function(M){return arguments.length?h(Array.from(M,Fae)):h().map(Uae)},c.ticks=function(M){var T=h();return t(T[0],T[T.length-1],M??10)},c.tickFormat=function(M,T){return T==null?E:u(T)},c.nice=function(M){var T=h();return(!M||typeof M.range!="function")&&(M=e(T[0],T[T.length-1],M??10)),M?h(wB(T,M)):c},c.copy=function(){return cg(c,E2(t,e,n,r,i,a,o,s,l,u))},c}function Bae(){return $a.apply(E2(Die,Nie,Os,b2,I_,fg,S2,x2,Du,NB).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zae(){return $a.apply(E2(Iie,Lie,Rs,M2,L_,R_,w2,_2,Du,kB).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function D_(){var t=0,e=1,n,r,i,a,o=bi,s=!1,l;function u(f){return f==null||isNaN(f=+f)?l:o(i===0?.5:(f=(a(f)-n)*i,s?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,n=a(t=+t),r=a(e=+e),i=n===r?0:1/(r-n),u):[t,e]},u.clamp=function(f){return arguments.length?(s=!!f,u):s},u.interpolator=function(f){return arguments.length?(o=f,u):o};function c(f){return function(h){var m,g;return arguments.length?([m,g]=h,o=f(m,g),u):[o(0),o(1)]}}return u.range=c(Gh),u.rangeRound=c(c2),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return a=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),u}}function Bl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function UB(){var t=Fl(D_()(bi));return t.copy=function(){return Bl(t,UB())},Us.apply(t,arguments)}function FB(){var t=p2(D_()).domain([1,10]);return t.copy=function(){return Bl(t,FB()).base(t.base())},Us.apply(t,arguments)}function BB(){var t=m2(D_());return t.copy=function(){return Bl(t,BB()).constant(t.constant())},Us.apply(t,arguments)}function A2(){var t=g2(D_());return t.copy=function(){return Bl(t,A2()).exponent(t.exponent())},Us.apply(t,arguments)}function Hae(){return A2.apply(null,arguments).exponent(.5)}function zB(){var t=[],e=bi;function n(r){if(r!=null&&!isNaN(r=+r))return e((lg(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(El),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>Tre(t,a/r))},n.copy=function(){return zB(e).domain(t)},Us.apply(n,arguments)}function N_(){var t=0,e=.5,n=1,r=1,i,a,o,s,l,u=bi,c,f=!1,h;function m(y){return isNaN(y=+y)?h:(y=.5+((y=+c(y))-a)*(r*y<r*a?s:l),u(f?Math.max(0,Math.min(1,y)):y))}m.domain=function(y){return arguments.length?([t,e,n]=y,i=c(t=+t),a=c(e=+e),o=c(n=+n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m):[t,e,n]},m.clamp=function(y){return arguments.length?(f=!!y,m):f},m.interpolator=function(y){return arguments.length?(u=y,m):u};function g(y){return function(x){var v,S,_;return arguments.length?([v,S,_]=x,u=Qre(y,[v,S,_]),m):[u(0),u(.5),u(1)]}}return m.range=g(Gh),m.rangeRound=g(c2),m.unknown=function(y){return arguments.length?(h=y,m):h},function(y){return c=y,i=y(t),a=y(e),o=y(n),s=i===a?0:.5/(a-i),l=a===o?0:.5/(o-a),r=a<i?-1:1,m}}function HB(){var t=Fl(N_()(bi));return t.copy=function(){return Bl(t,HB())},Us.apply(t,arguments)}function jB(){var t=p2(N_()).domain([.1,1,10]);return t.copy=function(){return Bl(t,jB()).base(t.base())},Us.apply(t,arguments)}function GB(){var t=m2(N_());return t.copy=function(){return Bl(t,GB()).constant(t.constant())},Us.apply(t,arguments)}function T2(){var t=g2(N_());return t.copy=function(){return Bl(t,T2()).exponent(t.exponent())},Us.apply(t,arguments)}function jae(){return T2.apply(null,arguments).exponent(.5)}const LI=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:nm,scaleDiverging:HB,scaleDivergingLog:jB,scaleDivergingPow:T2,scaleDivergingSqrt:jae,scaleDivergingSymlog:GB,scaleIdentity:SB,scaleImplicit:YM,scaleLinear:cx,scaleLog:bB,scaleOrdinal:s2,scalePoint:_p,scalePow:v2,scaleQuantile:AB,scaleQuantize:TB,scaleRadial:EB,scaleSequential:UB,scaleSequentialLog:FB,scaleSequentialPow:A2,scaleSequentialQuantile:zB,scaleSequentialSqrt:Hae,scaleSequentialSymlog:BB,scaleSqrt:wie,scaleSymlog:MB,scaleThreshold:PB,scaleTime:Bae,scaleUtc:zae,tickFormat:_B},Symbol.toStringTag,{value:"Module"}));var Gae=Dh;function Vae(t,e,n){for(var r=-1,i=t.length;++r<i;){var a=t[r],o=e(a);if(o!=null&&(s===void 0?o===o&&!Gae(o):n(o,s)))var s=o,l=a}return l}var VB=Vae;function Wae(t,e){return t>e}var $ae=Wae,Xae=VB,Yae=$ae,qae=Hh;function Kae(t){return t&&t.length?Xae(t,qae,Yae):void 0}var Zae=Kae;const k_=bn(Zae);function Jae(t,e){return t<e}var Qae=Jae,eoe=VB,toe=Qae,noe=Hh;function roe(t){return t&&t.length?eoe(t,noe,toe):void 0}var ioe=roe;const U_=bn(ioe);var aoe=HT,ooe=Ul,soe=J4,loe=Vi;function uoe(t,e){var n=loe(t)?aoe:soe;return n(t,ooe(e))}var coe=uoe,foe=K4,hoe=coe;function doe(t,e){return foe(hoe(t,e),1)}var poe=doe;const moe=bn(poe);var goe=n2;function voe(t,e){return goe(t,e)}var yoe=voe;const F_=bn(yoe);var Vh=1e9,xoe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},C2,Hn=!0,Ga="[DecimalError] ",Wu=Ga+"Invalid argument: ",P2=Ga+"Exponent out of range: ",Wh=Math.floor,bu=Math.pow,_oe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,sa,kr=1e7,Nn=7,WB=9007199254740991,px=Wh(WB/Nn),_t={};_t.absoluteValue=_t.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};_t.comparedTo=_t.cmp=function(t){var e,n,r,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(r=a.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};_t.decimalPlaces=_t.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};_t.dividedBy=_t.div=function(t){return bs(this,new this.constructor(t))};_t.dividedToIntegerBy=_t.idiv=function(t){var e=this,n=e.constructor;return An(bs(e,new n(t),0,1),n.precision)};_t.equals=_t.eq=function(t){return!this.cmp(t)};_t.exponent=function(){return yr(this)};_t.greaterThan=_t.gt=function(t){return this.cmp(t)>0};_t.greaterThanOrEqualTo=_t.gte=function(t){return this.cmp(t)>=0};_t.isInteger=_t.isint=function(){return this.e>this.d.length-2};_t.isNegative=_t.isneg=function(){return this.s<0};_t.isPositive=_t.ispos=function(){return this.s>0};_t.isZero=function(){return this.s===0};_t.lessThan=_t.lt=function(t){return this.cmp(t)<0};_t.lessThanOrEqualTo=_t.lte=function(t){return this.cmp(t)<1};_t.logarithm=_t.log=function(t){var e,n=this,r=n.constructor,i=r.precision,a=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(sa))throw Error(Ga+"NaN");if(n.s<1)throw Error(Ga+(n.s?"NaN":"-Infinity"));return n.eq(sa)?new r(0):(Hn=!1,e=bs(sm(n,a),sm(t,a),a),Hn=!0,An(e,i))};_t.minus=_t.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?YB(e,t):$B(e,(t.s=-t.s,t))};_t.modulo=_t.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(Ga+"NaN");return n.s?(Hn=!1,e=bs(n,t,0,1).times(t),Hn=!0,n.minus(e)):An(new r(n),i)};_t.naturalExponential=_t.exp=function(){return XB(this)};_t.naturalLogarithm=_t.ln=function(){return sm(this)};_t.negated=_t.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};_t.plus=_t.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?$B(e,t):YB(e,(t.s=-t.s,t))};_t.precision=_t.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Wu+t);if(e=yr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};_t.squareRoot=_t.sqrt=function(){var t,e,n,r,i,a,o,s=this,l=s.constructor;if(s.s<1){if(!s.s)return new l(0);throw Error(Ga+"NaN")}for(t=yr(s),Hn=!1,i=Math.sqrt(+s),i==0||i==1/0?(e=Co(s.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Wh((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=o=n+3;;)if(a=r,r=a.plus(bs(s,a,o+2)).times(.5),Co(a.d).slice(0,o)===(e=Co(r.d)).slice(0,o)){if(e=e.slice(o-3,o+1),i==o&&e=="4999"){if(An(a,n+1,0),a.times(a).eq(s)){r=a;break}}else if(e!="9999")break;o+=4}return Hn=!0,An(r,n)};_t.times=_t.mul=function(t){var e,n,r,i,a,o,s,l,u,c=this,f=c.constructor,h=c.d,m=(t=new f(t)).d;if(!c.s||!t.s)return new f(0);for(t.s*=c.s,n=c.e+t.e,l=h.length,u=m.length,l<u&&(a=h,h=m,m=a,o=l,l=u,u=o),a=[],o=l+u,r=o;r--;)a.push(0);for(r=u;--r>=0;){for(e=0,i=l+r;i>r;)s=a[i]+m[r]*h[i-r-1]+e,a[i--]=s%kr|0,e=s/kr|0;a[i]=(a[i]+e)%kr|0}for(;!a[--o];)a.pop();return e?++n:a.shift(),t.d=a,t.e=n,Hn?An(t,f.precision):t};_t.toDecimalPlaces=_t.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(zo(t,0,Vh),e===void 0?e=r.rounding:zo(e,0,8),An(n,t+yr(n)+1,e))};_t.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=oc(r,!0):(zo(t,0,Vh),e===void 0?e=i.rounding:zo(e,0,8),r=An(new i(r),t+1,e),n=oc(r,!0,t+1)),n};_t.toFixed=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?oc(i):(zo(t,0,Vh),e===void 0?e=a.rounding:zo(e,0,8),r=An(new a(i),t+yr(i)+1,e),n=oc(r.abs(),!1,t+yr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};_t.toInteger=_t.toint=function(){var t=this,e=t.constructor;return An(new e(t),yr(t)+1,e.rounding)};_t.toNumber=function(){return+this};_t.toPower=_t.pow=function(t){var e,n,r,i,a,o,s=this,l=s.constructor,u=12,c=+(t=new l(t));if(!t.s)return new l(sa);if(s=new l(s),!s.s){if(t.s<1)throw Error(Ga+"Infinity");return s}if(s.eq(sa))return s;if(r=l.precision,t.eq(sa))return An(s,r);if(e=t.e,n=t.d.length-1,o=e>=n,a=s.s,o){if((n=c<0?-c:c)<=WB){for(i=new l(sa),e=Math.ceil(r/Nn+4),Hn=!1;n%2&&(i=i.times(s),NI(i.d,e)),n=Wh(n/2),n!==0;)s=s.times(s),NI(s.d,e);return Hn=!0,t.s<0?new l(sa).div(i):An(i,r)}}else if(a<0)throw Error(Ga+"NaN");return a=a<0&&t.d[Math.max(e,n)]&1?-1:1,s.s=1,Hn=!1,i=t.times(sm(s,r+u)),Hn=!0,i=XB(i),i.s=a,i};_t.toPrecision=function(t,e){var n,r,i=this,a=i.constructor;return t===void 0?(n=yr(i),r=oc(i,n<=a.toExpNeg||n>=a.toExpPos)):(zo(t,1,Vh),e===void 0?e=a.rounding:zo(e,0,8),i=An(new a(i),t,e),n=yr(i),r=oc(i,t<=n||n<=a.toExpNeg,t)),r};_t.toSignificantDigits=_t.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(zo(t,1,Vh),e===void 0?e=r.rounding:zo(e,0,8)),An(new r(n),t,e)};_t.toString=_t.valueOf=_t.val=_t.toJSON=_t[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yr(t),n=t.constructor;return oc(t,e<=n.toExpNeg||e>=n.toExpPos)};function $B(t,e){var n,r,i,a,o,s,l,u,c=t.constructor,f=c.precision;if(!t.s||!e.s)return e.s||(e=new c(t)),Hn?An(e,f):e;if(l=t.d,u=e.d,o=t.e,i=e.e,l=l.slice(),a=o-i,a){for(a<0?(r=l,a=-a,s=u.length):(r=u,i=o,s=l.length),o=Math.ceil(f/Nn),s=o>s?o+1:s+1,a>s&&(a=s,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(s=l.length,a=u.length,s-a<0&&(a=s,r=u,u=l,l=r),n=0;a;)n=(l[--a]=l[a]+u[a]+n)/kr|0,l[a]%=kr;for(n&&(l.unshift(n),++i),s=l.length;l[--s]==0;)l.pop();return e.d=l,e.e=i,Hn?An(e,f):e}function zo(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Wu+t)}function Co(t){var e,n,r,i=t.length-1,a="",o=t[0];if(i>0){for(a+=o,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(a+=sl(n)),a+=r;o=t[e],r=o+"",n=Nn-r.length,n&&(a+=sl(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return a+o}var bs=function(){function t(r,i){var a,o=0,s=r.length;for(r=r.slice();s--;)a=r[s]*i+o,r[s]=a%kr|0,o=a/kr|0;return o&&r.unshift(o),r}function e(r,i,a,o){var s,l;if(a!=o)l=a>o?1:-1;else for(s=l=0;s<a;s++)if(r[s]!=i[s]){l=r[s]>i[s]?1:-1;break}return l}function n(r,i,a){for(var o=0;a--;)r[a]-=o,o=r[a]<i[a]?1:0,r[a]=o*kr+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,o){var s,l,u,c,f,h,m,g,y,x,v,S,_,b,E,M,T,C,P=r.constructor,O=r.s==i.s?1:-1,I=r.d,D=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(Ga+"Division by zero");for(l=r.e-i.e,T=D.length,E=I.length,m=new P(O),g=m.d=[],u=0;D[u]==(I[u]||0);)++u;if(D[u]>(I[u]||0)&&--l,a==null?S=a=P.precision:o?S=a+(yr(r)-yr(i))+1:S=a,S<0)return new P(0);if(S=S/Nn+2|0,u=0,T==1)for(c=0,D=D[0],S++;(u<E||c)&&S--;u++)_=c*kr+(I[u]||0),g[u]=_/D|0,c=_%D|0;else{for(c=kr/(D[0]+1)|0,c>1&&(D=t(D,c),I=t(I,c),T=D.length,E=I.length),b=T,y=I.slice(0,T),x=y.length;x<T;)y[x++]=0;C=D.slice(),C.unshift(0),M=D[0],D[1]>=kr/2&&++M;do c=0,s=e(D,y,T,x),s<0?(v=y[0],T!=x&&(v=v*kr+(y[1]||0)),c=v/M|0,c>1?(c>=kr&&(c=kr-1),f=t(D,c),h=f.length,x=y.length,s=e(f,y,h,x),s==1&&(c--,n(f,T<h?C:D,h))):(c==0&&(s=c=1),f=D.slice()),h=f.length,h<x&&f.unshift(0),n(y,f,x),s==-1&&(x=y.length,s=e(D,y,T,x),s<1&&(c++,n(y,T<x?C:D,x))),x=y.length):s===0&&(c++,y=[0]),g[u++]=c,s&&y[0]?y[x++]=I[b]||0:(y=[I[b]],x=1);while((b++<E||y[0]!==void 0)&&S--)}return g[0]||g.shift(),m.e=l,An(m,o?a+yr(m)+1:a)}}();function XB(t,e){var n,r,i,a,o,s,l=0,u=0,c=t.constructor,f=c.precision;if(yr(t)>16)throw Error(P2+yr(t));if(!t.s)return new c(sa);for(Hn=!1,s=f,o=new c(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(r=Math.log(bu(2,u))/Math.LN10*2+5|0,s+=r,n=i=a=new c(sa),c.precision=s;;){if(i=An(i.times(t),s),n=n.times(++l),o=a.plus(bs(i,n,s)),Co(o.d).slice(0,s)===Co(a.d).slice(0,s)){for(;u--;)a=An(a.times(a),s);return c.precision=f,e==null?(Hn=!0,An(a,f)):a}a=o}}function yr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function mw(t,e,n){if(e>t.LN10.sd())throw Hn=!0,n&&(t.precision=n),Error(Ga+"LN10 precision limit exceeded");return An(new t(t.LN10),e)}function sl(t){for(var e="";t--;)e+="0";return e}function sm(t,e){var n,r,i,a,o,s,l,u,c,f=1,h=10,m=t,g=m.d,y=m.constructor,x=y.precision;if(m.s<1)throw Error(Ga+(m.s?"NaN":"-Infinity"));if(m.eq(sa))return new y(0);if(e==null?(Hn=!1,u=x):u=e,m.eq(10))return e==null&&(Hn=!0),mw(y,u);if(u+=h,y.precision=u,n=Co(g),r=n.charAt(0),a=yr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(t),n=Co(m.d),r=n.charAt(0),f++;a=yr(m),r>1?(m=new y("0."+n),a++):m=new y(r+"."+n.slice(1))}else return l=mw(y,u+2,x).times(a+""),m=sm(new y(r+"."+n.slice(1)),u-h).plus(l),y.precision=x,e==null?(Hn=!0,An(m,x)):m;for(s=o=m=bs(m.minus(sa),m.plus(sa),u),c=An(m.times(m),u),i=3;;){if(o=An(o.times(c),u),l=s.plus(bs(o,new y(i),u)),Co(l.d).slice(0,u)===Co(s.d).slice(0,u))return s=s.times(2),a!==0&&(s=s.plus(mw(y,u+2,x).times(a+""))),s=bs(s,new y(f),u),y.precision=x,e==null?(Hn=!0,An(s,x)):s;s=l,i+=2}}function DI(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Wh(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Hn&&(t.e>px||t.e<-px))throw Error(P2+n)}else t.s=0,t.e=0,t.d=[0];return t}function An(t,e,n){var r,i,a,o,s,l,u,c,f=t.d;for(o=1,a=f[0];a>=10;a/=10)o++;if(r=e-o,r<0)r+=Nn,i=e,u=f[c=0];else{if(c=Math.ceil((r+1)/Nn),a=f.length,c>=a)return t;for(u=a=f[c],o=1;a>=10;a/=10)o++;r%=Nn,i=r-Nn+o}if(n!==void 0&&(a=bu(10,o-i-1),s=u/a%10|0,l=e<0||f[c+1]!==void 0||u%a,l=n<4?(s||l)&&(n==0||n==(t.s<0?3:2)):s>5||s==5&&(n==4||l||n==6&&(r>0?i>0?u/bu(10,o-i):0:f[c-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(a=yr(t),f.length=1,e=e-a-1,f[0]=bu(10,(Nn-e%Nn)%Nn),t.e=Wh(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=c,a=1,c--):(f.length=c+1,a=bu(10,Nn-r),f[c]=i>0?(u/bu(10,o-i)%bu(10,i)|0)*a:0),l)for(;;)if(c==0){(f[0]+=a)==kr&&(f[0]=1,++t.e);break}else{if(f[c]+=a,f[c]!=kr)break;f[c--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(Hn&&(t.e>px||t.e<-px))throw Error(P2+yr(t));return t}function YB(t,e){var n,r,i,a,o,s,l,u,c,f,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new h(t),Hn?An(e,m):e;if(l=t.d,f=e.d,r=e.e,u=t.e,l=l.slice(),o=u-r,o){for(c=o<0,c?(n=l,o=-o,s=f.length):(n=f,r=u,s=l.length),i=Math.max(Math.ceil(m/Nn),s)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=l.length,s=f.length,c=i<s,c&&(s=i),i=0;i<s;i++)if(l[i]!=f[i]){c=l[i]<f[i];break}o=0}for(c&&(n=l,l=f,f=n,e.s=-e.s),s=l.length,i=f.length-s;i>0;--i)l[s++]=0;for(i=f.length;i>o;){if(l[--i]<f[i]){for(a=i;a&&l[--a]===0;)l[a]=kr-1;--l[a],l[i]+=kr}l[i]-=f[i]}for(;l[--s]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Hn?An(e,m):e):new h(0)}function oc(t,e,n){var r,i=yr(t),a=Co(t.d),o=a.length;return e?(n&&(r=n-o)>0?a=a.charAt(0)+"."+a.slice(1)+sl(r):o>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+sl(-i-1)+a,n&&(r=n-o)>0&&(a+=sl(r))):i>=o?(a+=sl(i+1-o),n&&(r=n-i-1)>0&&(a=a+"."+sl(r))):((r=i+1)<o&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(a+="."),a+=sl(r))),t.s<0?"-"+a:a}function NI(t,e){if(t.length>e)return t.length=e,!0}function qB(t){var e,n,r;function i(a){var o=this;if(!(o instanceof i))return new i(a);if(o.constructor=i,a instanceof i){o.s=a.s,o.e=a.e,o.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(Wu+a);if(a>0)o.s=1;else if(a<0)a=-a,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(a===~~a&&a<1e7){o.e=0,o.d=[a];return}return DI(o,a.toString())}else if(typeof a!="string")throw Error(Wu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),o.s=-1):o.s=1,_oe.test(a))DI(o,a);else throw Error(Wu+a)}if(i.prototype=_t,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=qB,i.config=i.set=Soe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function Soe(t){if(!t||typeof t!="object")throw Error(Ga+"Object expected");var e,n,r,i=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Wh(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Wu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Wu+n+": "+r);return this}var C2=qB(xoe);sa=new C2(1);const wn=C2;function woe(t){return Aoe(t)||Eoe(t)||Moe(t)||boe()}function boe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Moe(t,e){if(t){if(typeof t=="string")return JM(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JM(t,e)}}function Eoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Aoe(t){if(Array.isArray(t))return JM(t)}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Toe=function(e){return e},KB={},ZB=function(e){return e===KB},kI=function(e){return function n(){return arguments.length===0||arguments.length===1&&ZB(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Poe=function t(e,n){return e===1?n:kI(function(){for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];var o=i.filter(function(s){return s!==KB}).length;return o>=e?n.apply(void 0,i):t(e-o,kI(function(){for(var s=arguments.length,l=new Array(s),u=0;u<s;u++)l[u]=arguments[u];var c=i.map(function(f){return ZB(f)?l.shift():f});return n.apply(void 0,woe(c).concat(l))}))})},B_=function(e){return Poe(e.length,e)},QM=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Coe=B_(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Ooe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Toe;var i=n.reverse(),a=i[0],o=i.slice(1);return function(){return o.reduce(function(s,l){return l(s)},a.apply(void 0,arguments))}},eE=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},JB=function(e){var n=null,r=null;return function(){for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return n&&a.every(function(s,l){return s===n[l]})||(n=a,r=e.apply(void 0,a)),r}};function Roe(t){var e;return t===0?e=1:e=Math.floor(new wn(t).abs().log(10).toNumber())+1,e}function Ioe(t,e,n){for(var r=new wn(t),i=0,a=[];r.lt(e)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var Loe=B_(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Doe=B_(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),Noe=B_(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const z_={rangeStep:Ioe,getDigitCount:Roe,interpolateNumber:Loe,uninterpolateNumber:Doe,uninterpolateTruncation:Noe};function tE(t){return Foe(t)||Uoe(t)||QB(t)||koe()}function koe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uoe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Foe(t){if(Array.isArray(t))return nE(t)}function lm(t,e){return Hoe(t)||zoe(t,e)||QB(t,e)||Boe()}function Boe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QB(t,e){if(t){if(typeof t=="string")return nE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nE(t,e)}}function nE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zoe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,a=void 0;try{for(var o=t[Symbol.iterator](),s;!(r=(s=o.next()).done)&&(n.push(s.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,a=l}finally{try{!r&&o.return!=null&&o.return()}finally{if(i)throw a}}return n}}function Hoe(t){if(Array.isArray(t))return t}function ez(t){var e=lm(t,2),n=e[0],r=e[1],i=n,a=r;return n>r&&(i=r,a=n),[i,a]}function tz(t,e,n){if(t.lte(0))return new wn(0);var r=z_.getDigitCount(t.toNumber()),i=new wn(10).pow(r),a=t.div(i),o=r!==1?.05:.1,s=new wn(Math.ceil(a.div(o).toNumber())).add(n).mul(o),l=s.mul(i);return e?l:new wn(Math.ceil(l))}function joe(t,e,n){var r=1,i=new wn(t);if(!i.isint()&&n){var a=Math.abs(t);a<1?(r=new wn(10).pow(z_.getDigitCount(t)-1),i=new wn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new wn(Math.floor(t)))}else t===0?i=new wn(Math.floor((e-1)/2)):n||(i=new wn(Math.floor(t)));var o=Math.floor((e-1)/2),s=Ooe(Coe(function(l){return i.add(new wn(l-o).mul(r)).toNumber()}),QM);return s(0,e)}function nz(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new wn(0),tickMin:new wn(0),tickMax:new wn(0)};var a=tz(new wn(e).sub(t).div(n-1),r,i),o;t<=0&&e>=0?o=new wn(0):(o=new wn(t).add(e).div(2),o=o.sub(new wn(o).mod(a)));var s=Math.ceil(o.sub(t).div(a).toNumber()),l=Math.ceil(new wn(e).sub(o).div(a).toNumber()),u=s+l+1;return u>n?nz(t,e,n,r,i+1):(u<n&&(l=e>0?l+(n-u):l,s=e>0?s:s+(n-u)),{step:a,tickMin:o.sub(new wn(s).mul(a)),tickMax:o.add(new wn(l).mul(a))})}function Goe(t){var e=lm(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(i,2),s=ez([n,r]),l=lm(s,2),u=l[0],c=l[1];if(u===-1/0||c===1/0){var f=c===1/0?[u].concat(tE(QM(0,i-1).map(function(){return 1/0}))):[].concat(tE(QM(0,i-1).map(function(){return-1/0})),[c]);return n>r?eE(f):f}if(u===c)return joe(u,i,a);var h=nz(u,c,o,a),m=h.step,g=h.tickMin,y=h.tickMax,x=z_.rangeStep(g,y.add(new wn(.1).mul(m)),m);return n>r?eE(x):x}function Voe(t,e){var n=lm(t,2),r=n[0],i=n[1],a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=ez([r,i]),s=lm(o,2),l=s[0],u=s[1];if(l===-1/0||u===1/0)return[r,i];if(l===u)return[l];var c=Math.max(e,2),f=tz(new wn(u).sub(l).div(c-1),a,0),h=[].concat(tE(z_.rangeStep(new wn(l),new wn(u).sub(new wn(.99).mul(f)),f)),[u]);return r>i?eE(h):h}var Woe=JB(Goe),$oe=JB(Voe),Xoe="Invariant failed";function sc(t,e){throw new Error(Xoe)}var Yoe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function mx(){return mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mx.apply(this,arguments)}function qoe(t,e){return Qoe(t)||Joe(t,e)||Zoe(t,e)||Koe()}function Koe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zoe(t,e){if(t){if(typeof t=="string")return UI(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UI(t,e)}}function UI(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Joe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Qoe(t){if(Array.isArray(t))return t}function ese(t,e){if(t==null)return{};var n=tse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function tse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function nse(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rse(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,az(r.key),r)}}function ise(t,e,n){return e&&rse(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ase(t,e,n){return e=gx(e),ose(t,rz()?Reflect.construct(e,n||[],gx(t).constructor):e.apply(t,n))}function ose(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sse(t)}function sse(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rz=function(){return!!t})()}function gx(t){return gx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gx(t)}function lse(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rE(t,e)}function rE(t,e){return rE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rE(t,e)}function iz(t,e,n){return e=az(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function az(t){var e=use(t,"string");return fh(e)=="symbol"?e:e+""}function use(t,e){if(fh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var hg=function(t){function e(){return nse(this,e),ase(this,e,arguments)}return lse(e,t),ise(e,[{key:"render",value:function(){var r=this.props,i=r.offset,a=r.layout,o=r.width,s=r.dataKey,l=r.data,u=r.dataPointFormatter,c=r.xAxis,f=r.yAxis,h=ese(r,Yoe),m=nn(h,!1);this.props.direction==="x"&&c.type!=="number"&&sc();var g=l.map(function(y){var x=u(y,s),v=x.x,S=x.y,_=x.value,b=x.errorVal;if(!b)return null;var E=[],M,T;if(Array.isArray(b)){var C=qoe(b,2);M=C[0],T=C[1]}else M=T=b;if(a==="vertical"){var P=c.scale,O=S+i,I=O+o,D=O-o,F=P(_-M),B=P(_+T);E.push({x1:B,y1:I,x2:B,y2:D}),E.push({x1:F,y1:O,x2:B,y2:O}),E.push({x1:F,y1:I,x2:F,y2:D})}else if(a==="horizontal"){var W=f.scale,V=v+i,Q=V-o,N=V+o,j=W(_-M),G=W(_+T);E.push({x1:Q,y1:G,x2:N,y2:G}),E.push({x1:V,y1:j,x2:V,y2:G}),E.push({x1:Q,y1:j,x2:N,y2:j})}return Se.createElement(ur,mx({className:"recharts-errorBar",key:"bar-".concat(E.map(function(H){return"".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))},m),E.map(function(H){return Se.createElement("line",mx({},H,{key:"line-".concat(H.x1,"-").concat(H.x2,"-").concat(H.y1,"-").concat(H.y2)}))}))});return Se.createElement(ur,{className:"recharts-errorBars"},g)}}])}(Se.Component);iz(hg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});iz(hg,"displayName","ErrorBar");function um(t){"@babel/helpers - typeof";return um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},um(t)}function FI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function au(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FI(Object(n),!0).forEach(function(r){cse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cse(t,e,n){return e=fse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function fse(t){var e=hse(t,"string");return um(e)=="symbol"?e:e+""}function hse(t,e){if(um(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oz=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,a=e.legendContent,o=aa(n,Wf);if(!o)return null;var s=Wf.defaultProps,l=s!==void 0?au(au({},s),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:a==="children"?u=(r||[]).reduce(function(c,f){var h=f.item,m=f.props,g=m.sectors||m.data||[];return c.concat(g.map(function(y){return{type:o.props.iconType||h.props.legendType,value:y.name,color:y.fill,payload:y}}))},[]):u=(r||[]).map(function(c){var f=c.item,h=f.type.defaultProps,m=h!==void 0?au(au({},h),f.props):{},g=m.dataKey,y=m.name,x=m.legendType,v=m.hide;return{inactive:v,dataKey:g,type:l.iconType||x||"square",color:O2(f),value:y||g,payload:m}}),au(au(au({},l),Wf.getWithHeight(o,i)),{},{payload:u,item:o})};function cm(t){"@babel/helpers - typeof";return cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cm(t)}function BI(t){return gse(t)||mse(t)||pse(t)||dse()}function dse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pse(t,e){if(t){if(typeof t=="string")return iE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iE(t,e)}}function mse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gse(t){if(Array.isArray(t))return iE(t)}function iE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zI(Object(n),!0).forEach(function(r){Xf(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xf(t,e,n){return e=vse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vse(t){var e=yse(t,"string");return cm(e)=="symbol"?e:e+""}function yse(t,e){if(cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(t,e,n){return Qt(t)||Qt(e)?n:Ar(e)?Ba(t,e,n):Xt(e)?e(t):n}function Sp(t,e,n,r){var i=moe(t,function(s){return pa(s,e)});if(n==="number"){var a=i.filter(function(s){return st(s)||parseFloat(s)});return a.length?[U_(a),k_(a)]:[1/0,-1/0]}var o=r?i.filter(function(s){return!Qt(s)}):i;return o.map(function(s){return Ar(s)||s instanceof Date?s:""})}var xse=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,a=arguments.length>3?arguments[3]:void 0,o=-1,s=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(s<=1)return 0;if(a&&a.axisType==="angleAxis"&&Math.abs(Math.abs(a.range[1]-a.range[0])-360)<=1e-6)for(var l=a.range,u=0;u<s;u++){var c=u>0?i[u-1].coordinate:i[s-1].coordinate,f=i[u].coordinate,h=u>=s-1?i[0].coordinate:i[u+1].coordinate,m=void 0;if(co(f-c)!==co(h-f)){var g=[];if(co(h-f)===co(l[1]-l[0])){m=h;var y=f+l[1]-l[0];g[0]=Math.min(y,(y+c)/2),g[1]=Math.max(y,(y+c)/2)}else{m=c;var x=h+l[1]-l[0];g[0]=Math.min(f,(x+f)/2),g[1]=Math.max(f,(x+f)/2)}var v=[Math.min(f,(m+f)/2),Math.max(f,(m+f)/2)];if(e>v[0]&&e<=v[1]||e>=g[0]&&e<=g[1]){o=i[u].index;break}}else{var S=Math.min(c,h),_=Math.max(c,h);if(e>(S+f)/2&&e<=(_+f)/2){o=i[u].index;break}}}else for(var b=0;b<s;b++)if(b===0&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b>0&&b<s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2&&e<=(r[b].coordinate+r[b+1].coordinate)/2||b===s-1&&e>(r[b].coordinate+r[b-1].coordinate)/2){o=r[b].index;break}return o},O2=function(e){var n,r=e,i=r.type.displayName,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,o=a.stroke,s=a.fill,l;switch(i){case"Line":l=o;break;case"Area":case"Radar":l=o&&o!=="none"?o:s;break;default:l=s;break}return l},_se=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,a=i===void 0?{}:i;if(!a)return{};for(var o={},s=Object.keys(a),l=0,u=s.length;l<u;l++)for(var c=a[s[l]].stackGroups,f=Object.keys(c),h=0,m=f.length;h<m;h++){var g=c[f[h]],y=g.items,x=g.cateAxisId,v=y.filter(function(T){return Ss(T.type).indexOf("Bar")>=0});if(v&&v.length){var S=v[0].type.defaultProps,_=S!==void 0?Qn(Qn({},S),v[0].props):v[0].props,b=_.barSize,E=_[x];o[E]||(o[E]=[]);var M=Qt(b)?n:b;o[E].push({item:v[0],stackList:v.slice(1),barSize:Qt(M)?void 0:ac(M,r,0)})}}return o},Sse=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,a=e.sizeList,o=a===void 0?[]:a,s=e.maxBarSize,l=o.length;if(l<1)return null;var u=ac(n,i,0,!0),c,f=[];if(o[0].barSize===+o[0].barSize){var h=!1,m=i/l,g=o.reduce(function(b,E){return b+E.barSize||0},0);g+=(l-1)*u,g>=i&&(g-=(l-1)*u,u=0),g>=i&&m>0&&(h=!0,m*=.9,g=l*m);var y=(i-g)/2>>0,x={offset:y-u,size:0};c=o.reduce(function(b,E){var M={item:E.item,position:{offset:x.offset+x.size+u,size:h?m:E.barSize}},T=[].concat(BI(b),[M]);return x=T[T.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:x})}),T},f)}else{var v=ac(r,i,0,!0);i-2*v-(l-1)*u<=0&&(u=0);var S=(i-2*v-(l-1)*u)/l;S>1&&(S>>=0);var _=s===+s?Math.min(S,s):S;c=o.reduce(function(b,E,M){var T=[].concat(BI(b),[{item:E.item,position:{offset:v+(S+u)*M+(S-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(C){T.push({item:C,position:T[T.length-1].position})}),T},f)}return c},wse=function(e,n,r,i){var a=r.children,o=r.width,s=r.margin,l=o-(s.left||0)-(s.right||0),u=oz({children:a,legendWidth:l});if(u){var c=i||{},f=c.width,h=c.height,m=u.align,g=u.verticalAlign,y=u.layout;if((y==="vertical"||y==="horizontal"&&g==="middle")&&m!=="center"&&st(e[m]))return Qn(Qn({},e),{},Xf({},m,e[m]+(f||0)));if((y==="horizontal"||y==="vertical"&&m==="center")&&g!=="middle"&&st(e[g]))return Qn(Qn({},e),{},Xf({},g,e[g]+(h||0)))}return e},bse=function(e,n,r){return Qt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},sz=function(e,n,r,i,a){var o=n.props.children,s=za(o,hg).filter(function(u){return bse(i,a,u.props.direction)});if(s&&s.length){var l=s.map(function(u){return u.props.dataKey});return e.reduce(function(u,c){var f=pa(c,r);if(Qt(f))return u;var h=Array.isArray(f)?[U_(f),k_(f)]:[f,f],m=l.reduce(function(g,y){var x=pa(c,y,0),v=h[0]-Math.abs(Array.isArray(x)?x[0]:x),S=h[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(v,g[0]),Math.max(S,g[1])]},[1/0,-1/0]);return[Math.min(m[0],u[0]),Math.max(m[1],u[1])]},[1/0,-1/0])}return null},Mse=function(e,n,r,i,a){var o=n.map(function(s){return sz(e,s,r,a,i)}).filter(function(s){return!Qt(s)});return o&&o.length?o.reduce(function(s,l){return[Math.min(s[0],l[0]),Math.max(s[1],l[1])]},[1/0,-1/0]):null},lz=function(e,n,r,i,a){var o=n.map(function(l){var u=l.props.dataKey;return r==="number"&&u&&sz(e,l,u,i)||Sp(e,u,r,a)});if(r==="number")return o.reduce(function(l,u){return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);var s={};return o.reduce(function(l,u){for(var c=0,f=u.length;c<f;c++)s[u[c]]||(s[u[c]]=!0,l.push(u[c]));return l},[])},uz=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},cz=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var a,o,s=e.map(function(l){return l.coordinate===n&&(a=!0),l.coordinate===r&&(o=!0),l.coordinate});return a||s.push(n),o||s.push(r),s},ys=function(e,n,r){if(!e)return null;var i=e.scale,a=e.duplicateDomain,o=e.type,s=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,u=(n||r)&&o==="category"&&i.bandwidth?i.bandwidth()/l:0;if(u=e.axisType==="angleAxis"&&(s==null?void 0:s.length)>=2?co(s[0]-s[1])*2*u:u,n&&(e.ticks||e.niceTicks)){var c=(e.ticks||e.niceTicks).map(function(f){var h=a?a.indexOf(f):f;return{coordinate:i(h)+u,value:f,offset:u}});return c.filter(function(f){return!ag(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,h){return{coordinate:i(f)+u,value:f,index:h,offset:u}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+u,value:f,offset:u}}):i.domain().map(function(f,h){return{coordinate:i(f)+u,value:a?a[f]:f,index:h,offset:u}})},gw=new WeakMap,Vv=function(e,n){if(typeof n!="function")return e;gw.has(e)||gw.set(e,new WeakMap);var r=gw.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},Ese=function(e,n,r){var i=e.scale,a=e.type,o=e.layout,s=e.axisType;if(i==="auto")return o==="radial"&&s==="radiusAxis"?{scale:nm(),realScaleType:"band"}:o==="radial"&&s==="angleAxis"?{scale:cx(),realScaleType:"linear"}:a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:_p(),realScaleType:"point"}:a==="category"?{scale:nm(),realScaleType:"band"}:{scale:cx(),realScaleType:"linear"};if(ic(i)){var l="scale".concat(b_(i));return{scale:(LI[l]||_p)(),realScaleType:LI[l]?l:"point"}}return Xt(i)?{scale:i}:{scale:_p(),realScaleType:"point"}},HI=1e-4,Ase=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),a=Math.min(i[0],i[1])-HI,o=Math.max(i[0],i[1])+HI,s=e(n[0]),l=e(n[r-1]);(s<a||s>o||l<a||l>o)&&e.domain([n[0],n[r-1]])}},Tse=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Pse=function(e,n){if(!n||n.length!==2||!st(n[0])||!st(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),a=[e[0],e[1]];return(!st(e[0])||e[0]<r)&&(a[0]=r),(!st(e[1])||e[1]>i)&&(a[1]=i),a[0]>i&&(a[0]=i),a[1]<r&&(a[1]=r),a},Cse=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0,s=0;s<n;++s){var l=ag(e[s][r][1])?e[s][r][0]:e[s][r][1];l>=0?(e[s][r][0]=a,e[s][r][1]=a+l,a=e[s][r][1]):(e[s][r][0]=o,e[s][r][1]=o+l,o=e[s][r][1])}},Ose=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var a=0,o=0;o<n;++o){var s=ag(e[o][r][1])?e[o][r][0]:e[o][r][1];s>=0?(e[o][r][0]=a,e[o][r][1]=a+s,a=e[o][r][1]):(e[o][r][0]=0,e[o][r][1]=0)}},Rse={sign:Cse,expand:WX,none:rh,silhouette:$X,wiggle:XX,positive:Ose},Ise=function(e,n,r){var i=n.map(function(s){return s.props.dataKey}),a=Rse[r],o=VX().keys(i).value(function(s,l){return+pa(s,l,0)}).order(CM).offset(a);return o(e)},Lse=function(e,n,r,i,a,o){if(!e)return null;var s=o?n.reverse():n,l={},u=s.reduce(function(f,h){var m,g=(m=h.type)!==null&&m!==void 0&&m.defaultProps?Qn(Qn({},h.type.defaultProps),h.props):h.props,y=g.stackId,x=g.hide;if(x)return f;var v=g[r],S=f[v]||{hasStack:!1,stackGroups:{}};if(Ar(y)){var _=S.stackGroups[y]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(h),S.hasStack=!0,S.stackGroups[y]=_}else S.stackGroups[og("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[h]};return Qn(Qn({},f),{},Xf({},v,S))},l),c={};return Object.keys(u).reduce(function(f,h){var m=u[h];if(m.hasStack){var g={};m.stackGroups=Object.keys(m.stackGroups).reduce(function(y,x){var v=m.stackGroups[x];return Qn(Qn({},y),{},Xf({},x,{numericAxisId:r,cateAxisId:i,items:v.items,stackedData:Ise(e,v.items,a)}))},g)}return Qn(Qn({},f),{},Xf({},h,m))},c)},Dse=function(e,n){var r=n.realScaleType,i=n.type,a=n.tickCount,o=n.originalDomain,s=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(a&&i==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var c=Woe(u,a,s);return e.domain([U_(c),k_(c)]),{niceTicks:c}}if(a&&i==="number"){var f=e.domain(),h=$oe(f,a,s);return{niceTicks:h}}return null};function jI(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,a=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Qt(i[e.dataKey])){var s=H0(n,"value",i[e.dataKey]);if(s)return s.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var l=pa(i,Qt(o)?e.dataKey:o);return Qt(l)?null:e.scale(l)}var GI=function(e){var n=e.axis,r=e.ticks,i=e.offset,a=e.bandSize,o=e.entry,s=e.index;if(n.type==="category")return r[s]?r[s].coordinate+i:null;var l=pa(o,n.dataKey,n.domain[s]);return Qt(l)?null:n.scale(l)-a/2+i},Nse=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]);return i<=0&&a>=0?0:a<0?a:i}return r[0]},kse=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,a=i.stackId;if(Ar(a)){var o=n[a];if(o){var s=o.items.indexOf(e);return s>=0?o.stackedData[s]:null}}return null},Use=function(e){return e.reduce(function(n,r){return[U_(r.concat([n[0]]).filter(st)),k_(r.concat([n[1]]).filter(st))]},[1/0,-1/0])},fz=function(e,n,r){return Object.keys(e).reduce(function(i,a){var o=e[a],s=o.stackedData,l=s.reduce(function(u,c){var f=Use(c.slice(n,r+1));return[Math.min(u[0],f[0]),Math.max(u[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},VI=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WI=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,aE=function(e,n,r){if(Xt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(st(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(VI.test(e[0])){var a=+VI.exec(e[0])[1];i[0]=n[0]-a}else Xt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(st(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(WI.test(e[1])){var o=+WI.exec(e[1])[1];i[1]=n[1]+o}else Xt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},vx=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var a=i2(n,function(f){return f.coordinate}),o=1/0,s=1,l=a.length;s<l;s++){var u=a[s],c=a[s-1];o=Math.min((u.coordinate||0)-(c.coordinate||0),o)}return o===1/0?0:o}return r?void 0:0},$I=function(e,n,r){return!e||!e.length||F_(e,Ba(r,"type.defaultProps.domain"))?n:e},hz=function(e,n){var r=e.type.defaultProps?Qn(Qn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,a=r.name,o=r.unit,s=r.formatter,l=r.tooltipType,u=r.chartType,c=r.hide;return Qn(Qn({},nn(e,!1)),{},{dataKey:i,unit:o,formatter:s,name:a||i,color:O2(e),value:pa(n,i),type:l,payload:n,chartType:u,hide:c})};function fm(t){"@babel/helpers - typeof";return fm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fm(t)}function XI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XI(Object(n),!0).forEach(function(r){Fse(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fse(t,e,n){return e=Bse(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bse(t){var e=zse(t,"string");return fm(e)=="symbol"?e:e+""}function zse(t,e){if(fm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(fm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var yx=Math.PI/180,Hse=function(e){return e*180/Math.PI},Wr=function(e,n,r,i){return{x:e+Math.cos(-yx*i)*r,y:n+Math.sin(-yx*i)*r}},jse=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return Math.sqrt(Math.pow(r-a,2)+Math.pow(i-o,2))},Gse=function(e,n){var r=e.x,i=e.y,a=n.cx,o=n.cy,s=jse({x:r,y:i},{x:a,y:o});if(s<=0)return{radius:s};var l=(r-a)/s,u=Math.acos(l);return i>o&&(u=2*Math.PI-u),{radius:s,angle:Hse(u),angleInRadian:u}},Vse=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),a=Math.floor(r/360),o=Math.min(i,a);return{startAngle:n-o*360,endAngle:r-o*360}},Wse=function(e,n){var r=n.startAngle,i=n.endAngle,a=Math.floor(r/360),o=Math.floor(i/360),s=Math.min(a,o);return e+s*360},qI=function(e,n){var r=e.x,i=e.y,a=Gse({x:r,y:i},n),o=a.radius,s=a.angle,l=n.innerRadius,u=n.outerRadius;if(o<l||o>u)return!1;if(o===0)return!0;var c=Vse(n),f=c.startAngle,h=c.endAngle,m=s,g;if(f<=h){for(;m>h;)m-=360;for(;m<f;)m+=360;g=m>=f&&m<=h}else{for(;m>f;)m-=360;for(;m<h;)m+=360;g=m>=h&&m<=f}return g?YI(YI({},n),{},{radius:o,angle:Wse(m,n)}):null};function hm(t){"@babel/helpers - typeof";return hm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hm(t)}var $se=["offset"];function Xse(t){return Zse(t)||Kse(t)||qse(t)||Yse()}function Yse(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qse(t,e){if(t){if(typeof t=="string")return oE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oE(t,e)}}function Kse(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zse(t){if(Array.isArray(t))return oE(t)}function oE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Jse(t,e){if(t==null)return{};var n=Qse(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Qse(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function br(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KI(Object(n),!0).forEach(function(r){ele(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ele(t,e,n){return e=tle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tle(t){var e=nle(t,"string");return hm(e)=="symbol"?e:e+""}function nle(t,e){if(hm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dm(){return dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dm.apply(this,arguments)}var rle=function(e){var n=e.value,r=e.formatter,i=Qt(e.children)?n:e.children;return Xt(r)?r(i):i},ile=function(e,n){var r=co(n-e),i=Math.min(Math.abs(n-e),360);return r*i},ale=function(e,n,r){var i=e.position,a=e.viewBox,o=e.offset,s=e.className,l=a,u=l.cx,c=l.cy,f=l.innerRadius,h=l.outerRadius,m=l.startAngle,g=l.endAngle,y=l.clockWise,x=(f+h)/2,v=ile(m,g),S=v>=0?1:-1,_,b;i==="insideStart"?(_=m+S*o,b=y):i==="insideEnd"?(_=g-S*o,b=!y):i==="end"&&(_=g+S*o,b=y),b=v<=0?b:!b;var E=Wr(u,c,x,_),M=Wr(u,c,x,_+(b?1:-1)*359),T="M".concat(E.x,",").concat(E.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(b?0:1,`,
    `).concat(M.x,",").concat(M.y),C=Qt(e.id)?og("recharts-radial-line-"):e.id;return Se.createElement("text",dm({},r,{dominantBaseline:"central",className:ln("recharts-radial-bar-label",s)}),Se.createElement("defs",null,Se.createElement("path",{id:C,d:T})),Se.createElement("textPath",{xlinkHref:"#".concat(C)},n))},ole=function(e){var n=e.viewBox,r=e.offset,i=e.position,a=n,o=a.cx,s=a.cy,l=a.innerRadius,u=a.outerRadius,c=a.startAngle,f=a.endAngle,h=(c+f)/2;if(i==="outside"){var m=Wr(o,s,u+r,h),g=m.x,y=m.y;return{x:g,y,textAnchor:g>=o?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:o,y:s,textAnchor:"middle",verticalAnchor:"end"};var x=(l+u)/2,v=Wr(o,s,x,h),S=v.x,_=v.y;return{x:S,y:_,textAnchor:"middle",verticalAnchor:"middle"}},sle=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,a=e.position,o=n,s=o.x,l=o.y,u=o.width,c=o.height,f=c>=0?1:-1,h=f*i,m=f>0?"end":"start",g=f>0?"start":"end",y=u>=0?1:-1,x=y*i,v=y>0?"end":"start",S=y>0?"start":"end";if(a==="top"){var _={x:s+u/2,y:l-f*i,textAnchor:"middle",verticalAnchor:m};return br(br({},_),r?{height:Math.max(l-r.y,0),width:u}:{})}if(a==="bottom"){var b={x:s+u/2,y:l+c+h,textAnchor:"middle",verticalAnchor:g};return br(br({},b),r?{height:Math.max(r.y+r.height-(l+c),0),width:u}:{})}if(a==="left"){var E={x:s-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"};return br(br({},E),r?{width:Math.max(E.x-r.x,0),height:c}:{})}if(a==="right"){var M={x:s+u+x,y:l+c/2,textAnchor:S,verticalAnchor:"middle"};return br(br({},M),r?{width:Math.max(r.x+r.width-M.x,0),height:c}:{})}var T=r?{width:u,height:c}:{};return a==="insideLeft"?br({x:s+x,y:l+c/2,textAnchor:S,verticalAnchor:"middle"},T):a==="insideRight"?br({x:s+u-x,y:l+c/2,textAnchor:v,verticalAnchor:"middle"},T):a==="insideTop"?br({x:s+u/2,y:l+h,textAnchor:"middle",verticalAnchor:g},T):a==="insideBottom"?br({x:s+u/2,y:l+c-h,textAnchor:"middle",verticalAnchor:m},T):a==="insideTopLeft"?br({x:s+x,y:l+h,textAnchor:S,verticalAnchor:g},T):a==="insideTopRight"?br({x:s+u-x,y:l+h,textAnchor:v,verticalAnchor:g},T):a==="insideBottomLeft"?br({x:s+x,y:l+c-h,textAnchor:S,verticalAnchor:m},T):a==="insideBottomRight"?br({x:s+u-x,y:l+c-h,textAnchor:v,verticalAnchor:m},T):Nh(a)&&(st(a.x)||Iu(a.x))&&(st(a.y)||Iu(a.y))?br({x:s+ac(a.x,u),y:l+ac(a.y,c),textAnchor:"end",verticalAnchor:"end"},T):br({x:s+u/2,y:l+c/2,textAnchor:"middle",verticalAnchor:"middle"},T)},lle=function(e){return"cx"in e&&st(e.cx)};function li(t){var e=t.offset,n=e===void 0?5:e,r=Jse(t,$se),i=br({offset:n},r),a=i.viewBox,o=i.position,s=i.value,l=i.children,u=i.content,c=i.className,f=c===void 0?"":c,h=i.textBreakAll;if(!a||Qt(s)&&Qt(l)&&!he.isValidElement(u)&&!Xt(u))return null;if(he.isValidElement(u))return he.cloneElement(u,i);var m;if(Xt(u)){if(m=he.createElement(u,i),he.isValidElement(m))return m}else m=rle(i);var g=lle(a),y=nn(i,!0);if(g&&(o==="insideStart"||o==="insideEnd"||o==="end"))return ale(i,m,y);var x=g?ole(i):sle(i);return Se.createElement(rx,dm({className:ln("recharts-label",f)},y,x,{breakAll:h}),m)}li.displayName="Label";var dz=function(e){var n=e.cx,r=e.cy,i=e.angle,a=e.startAngle,o=e.endAngle,s=e.r,l=e.radius,u=e.innerRadius,c=e.outerRadius,f=e.x,h=e.y,m=e.top,g=e.left,y=e.width,x=e.height,v=e.clockWise,S=e.labelViewBox;if(S)return S;if(st(y)&&st(x)){if(st(f)&&st(h))return{x:f,y:h,width:y,height:x};if(st(m)&&st(g))return{x:m,y:g,width:y,height:x}}return st(f)&&st(h)?{x:f,y:h,width:0,height:0}:st(n)&&st(r)?{cx:n,cy:r,startAngle:a||i||0,endAngle:o||i||0,innerRadius:u||0,outerRadius:c||l||s||0,clockWise:v}:e.viewBox?e.viewBox:{}},ule=function(e,n){return e?e===!0?Se.createElement(li,{key:"label-implicit",viewBox:n}):Ar(e)?Se.createElement(li,{key:"label-implicit",viewBox:n,value:e}):he.isValidElement(e)?e.type===li?he.cloneElement(e,{key:"label-implicit",viewBox:n}):Se.createElement(li,{key:"label-implicit",content:e,viewBox:n}):Xt(e)?Se.createElement(li,{key:"label-implicit",content:e,viewBox:n}):Nh(e)?Se.createElement(li,dm({viewBox:n},e,{key:"label-implicit"})):null:null},cle=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,a=dz(e),o=za(i,li).map(function(l,u){return he.cloneElement(l,{viewBox:n||a,key:"label-".concat(u)})});if(!r)return o;var s=ule(e.label,n||a);return[s].concat(Xse(o))};li.parseViewBox=dz;li.renderCallByParent=cle;function fle(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var hle=fle;const dle=bn(hle);function pm(t){"@babel/helpers - typeof";return pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pm(t)}var ple=["valueAccessor"],mle=["data","dataKey","clockWise","id","textBreakAll"];function gle(t){return _le(t)||xle(t)||yle(t)||vle()}function vle(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yle(t,e){if(t){if(typeof t=="string")return sE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sE(t,e)}}function xle(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _le(t){if(Array.isArray(t))return sE(t)}function sE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function xx(){return xx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xx.apply(this,arguments)}function ZI(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JI(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZI(Object(n),!0).forEach(function(r){Sle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZI(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Sle(t,e,n){return e=wle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wle(t){var e=ble(t,"string");return pm(e)=="symbol"?e:e+""}function ble(t,e){if(pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function QI(t,e){if(t==null)return{};var n=Mle(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mle(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Ele=function(e){return Array.isArray(e.value)?dle(e.value):e.value};function Al(t){var e=t.valueAccessor,n=e===void 0?Ele:e,r=QI(t,ple),i=r.data,a=r.dataKey,o=r.clockWise,s=r.id,l=r.textBreakAll,u=QI(r,mle);return!i||!i.length?null:Se.createElement(ur,{className:"recharts-label-list"},i.map(function(c,f){var h=Qt(a)?n(c,f):pa(c&&c.payload,a),m=Qt(s)?{}:{id:"".concat(s,"-").concat(f)};return Se.createElement(li,xx({},nn(c,!0),u,m,{parentViewBox:c.parentViewBox,value:h,textBreakAll:l,viewBox:li.parseViewBox(Qt(o)?c:JI(JI({},c),{},{clockWise:o})),key:"label-".concat(f),index:f}))}))}Al.displayName="LabelList";function Ale(t,e){return t?t===!0?Se.createElement(Al,{key:"labelList-implicit",data:e}):Se.isValidElement(t)||Xt(t)?Se.createElement(Al,{key:"labelList-implicit",data:e,content:t}):Nh(t)?Se.createElement(Al,xx({data:e},t,{key:"labelList-implicit"})):null:null}function Tle(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=za(r,Al).map(function(o,s){return he.cloneElement(o,{data:e,key:"labelList-".concat(s)})});if(!n)return i;var a=Ale(t.label,e);return[a].concat(gle(i))}Al.renderCallByParent=Tle;function mm(t){"@babel/helpers - typeof";return mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mm(t)}function lE(){return lE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lE.apply(this,arguments)}function eL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function tL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?eL(Object(n),!0).forEach(function(r){Ple(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):eL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ple(t,e,n){return e=Cle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cle(t){var e=Ole(t,"string");return mm(e)=="symbol"?e:e+""}function Ole(t,e){if(mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Rle=function(e,n){var r=co(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},Wv=function(e){var n=e.cx,r=e.cy,i=e.radius,a=e.angle,o=e.sign,s=e.isExternal,l=e.cornerRadius,u=e.cornerIsExternal,c=l*(s?1:-1)+i,f=Math.asin(l/c)/yx,h=u?a:a+o*f,m=Wr(n,r,c,h),g=Wr(n,r,i,h),y=u?a-o*f:a,x=Wr(n,r,c*Math.cos(f*yx),y);return{center:m,circleTangency:g,lineTangency:x,theta:f}},pz=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.startAngle,s=e.endAngle,l=Rle(o,s),u=o+l,c=Wr(n,r,a,o),f=Wr(n,r,a,u),h="M ".concat(c.x,",").concat(c.y,`
    A `).concat(a,",").concat(a,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(o>u),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var m=Wr(n,r,i,o),g=Wr(n,r,i,u);h+="L ".concat(g.x,",").concat(g.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(o<=u),`,
            `).concat(m.x,",").concat(m.y," Z")}else h+="L ".concat(n,",").concat(r," Z");return h},Ile=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,a=e.outerRadius,o=e.cornerRadius,s=e.forceCornerRadius,l=e.cornerIsExternal,u=e.startAngle,c=e.endAngle,f=co(c-u),h=Wv({cx:n,cy:r,radius:a,angle:u,sign:f,cornerRadius:o,cornerIsExternal:l}),m=h.circleTangency,g=h.lineTangency,y=h.theta,x=Wv({cx:n,cy:r,radius:a,angle:c,sign:-f,cornerRadius:o,cornerIsExternal:l}),v=x.circleTangency,S=x.lineTangency,_=x.theta,b=l?Math.abs(u-c):Math.abs(u-c)-y-_;if(b<0)return s?"M ".concat(g.x,",").concat(g.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pz({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:c});var E="M ".concat(g.x,",").concat(g.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,").concat(+(b>180),",").concat(+(f<0),",").concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(S.x,",").concat(S.y,`
  `);if(i>0){var M=Wv({cx:n,cy:r,radius:i,angle:u,sign:f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),T=M.circleTangency,C=M.lineTangency,P=M.theta,O=Wv({cx:n,cy:r,radius:i,angle:c,sign:-f,isExternal:!0,cornerRadius:o,cornerIsExternal:l}),I=O.circleTangency,D=O.lineTangency,F=O.theta,B=l?Math.abs(u-c):Math.abs(u-c)-P-F;if(B<0&&o===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(D.x,",").concat(D.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(I.x,",").concat(I.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(B>180),",").concat(+(f>0),",").concat(T.x,",").concat(T.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},Lle={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},mz=function(e){var n=tL(tL({},Lle),e),r=n.cx,i=n.cy,a=n.innerRadius,o=n.outerRadius,s=n.cornerRadius,l=n.forceCornerRadius,u=n.cornerIsExternal,c=n.startAngle,f=n.endAngle,h=n.className;if(o<a||c===f)return null;var m=ln("recharts-sector",h),g=o-a,y=ac(s,g,0,!0),x;return y>0&&Math.abs(c-f)<360?x=Ile({cx:r,cy:i,innerRadius:a,outerRadius:o,cornerRadius:Math.min(y,g/2),forceCornerRadius:l,cornerIsExternal:u,startAngle:c,endAngle:f}):x=pz({cx:r,cy:i,innerRadius:a,outerRadius:o,startAngle:c,endAngle:f}),Se.createElement("path",lE({},nn(n,!0),{className:m,d:x,role:"img"}))};function gm(t){"@babel/helpers - typeof";return gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gm(t)}function uE(){return uE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uE.apply(this,arguments)}function nL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nL(Object(n),!0).forEach(function(r){Dle(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dle(t,e,n){return e=Nle(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nle(t){var e=kle(t,"string");return gm(e)=="symbol"?e:e+""}function kle(t,e){if(gm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iL={curveBasisClosed:LX,curveBasisOpen:DX,curveBasis:IX,curveBumpX:yX,curveBumpY:xX,curveLinearClosed:NX,curveLinear:E_,curveMonotoneX:kX,curveMonotoneY:UX,curveNatural:FX,curveStep:BX,curveStepAfter:HX,curveStepBefore:zX},$v=function(e){return e.x===+e.x&&e.y===+e.y},Nd=function(e){return e.x},kd=function(e){return e.y},Ule=function(e,n){if(Xt(e))return e;var r="curve".concat(b_(e));return(r==="curveMonotone"||r==="curveBump")&&n?iL["".concat(r).concat(n==="vertical"?"Y":"X")]:iL[r]||E_},Fle=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,a=i===void 0?[]:i,o=e.baseLine,s=e.layout,l=e.connectNulls,u=l===void 0?!1:l,c=Ule(r,s),f=u?a.filter(function(y){return $v(y)}):a,h;if(Array.isArray(o)){var m=u?o.filter(function(y){return $v(y)}):o,g=f.map(function(y,x){return rL(rL({},y),{},{base:m[x]})});return s==="vertical"?h=kv().y(kd).x1(Nd).x0(function(y){return y.base.x}):h=kv().x(Nd).y1(kd).y0(function(y){return y.base.y}),h.defined($v).curve(c),h(g)}return s==="vertical"&&st(o)?h=kv().y(kd).x1(Nd).x0(o):st(o)?h=kv().x(Nd).y1(kd).y0(o):h=m4().x(Nd).y(kd),h.defined($v).curve(c),h(f)},cE=function(e){var n=e.className,r=e.points,i=e.path,a=e.pathRef;if((!r||!r.length)&&!i)return null;var o=r&&r.length?Fle(e):i;return he.createElement("path",uE({},nn(e,!1),j0(e),{className:ln("recharts-curve",n),d:o,ref:a}))},gz={exports:{}},Ble="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zle=Ble,Hle=zle;function vz(){}function yz(){}yz.resetWarningCache=vz;var jle=function(){function t(r,i,a,o,s,l){if(l!==Hle){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:yz,resetWarningCache:vz};return n.PropTypes=n,n};gz.exports=jle();var Gle=gz.exports;const gn=bn(Gle);var Vle=Object.getOwnPropertyNames,Wle=Object.getOwnPropertySymbols,$le=Object.prototype.hasOwnProperty;function aL(t,e){return function(r,i,a){return t(r,i,a)&&e(r,i,a)}}function Xv(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var a=i.cache,o=a.get(n),s=a.get(r);if(o&&s)return o===r&&s===n;a.set(n,r),a.set(r,n);var l=t(n,r,i);return a.delete(n),a.delete(r),l}}function Xle(t){return t!=null?t[Symbol.toStringTag]:void 0}function oL(t){return Vle(t).concat(Wle(t))}var Yle=Object.hasOwn||function(t,e){return $le.call(t,e)};function xc(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var qle="__v",Kle="__o",Zle="_owner",sL=Object.getOwnPropertyDescriptor,lL=Object.keys;function Jle(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Qle(t,e){return xc(t.getTime(),e.getTime())}function eue(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tue(t,e){return t===e}function uL(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.entries(),o,s,l=0;(o=a.next())&&!o.done;){for(var u=e.entries(),c=!1,f=0;(s=u.next())&&!s.done;){if(i[f]){f++;continue}var h=o.value,m=s.value;if(n.equals(h[0],m[0],l,f,t,e,n)&&n.equals(h[1],m[1],h[0],m[0],t,e,n)){c=i[f]=!0;break}f++}if(!c)return!1;l++}return!0}var nue=xc;function rue(t,e,n){var r=lL(t),i=r.length;if(lL(e).length!==i)return!1;for(;i-- >0;)if(!xz(t,e,n,r[i]))return!1;return!0}function Ud(t,e,n){var r=oL(t),i=r.length;if(oL(e).length!==i)return!1;for(var a,o,s;i-- >0;)if(a=r[i],!xz(t,e,n,a)||(o=sL(t,a),s=sL(e,a),(o||s)&&(!o||!s||o.configurable!==s.configurable||o.enumerable!==s.enumerable||o.writable!==s.writable)))return!1;return!0}function iue(t,e){return xc(t.valueOf(),e.valueOf())}function aue(t,e){return t.source===e.source&&t.flags===e.flags}function cL(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),a=t.values(),o,s;(o=a.next())&&!o.done;){for(var l=e.values(),u=!1,c=0;(s=l.next())&&!s.done;){if(!i[c]&&n.equals(o.value,s.value,o.value,s.value,t,e,n)){u=i[c]=!0;break}c++}if(!u)return!1}return!0}function oue(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function sue(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xz(t,e,n,r){return(r===Zle||r===Kle||r===qle)&&(t.$$typeof||e.$$typeof)?!0:Yle(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var lue="[object Arguments]",uue="[object Boolean]",cue="[object Date]",fue="[object Error]",hue="[object Map]",due="[object Number]",pue="[object Object]",mue="[object RegExp]",gue="[object Set]",vue="[object String]",yue="[object URL]",xue=Array.isArray,fL=typeof ArrayBuffer<"u"&&typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView:null,hL=Object.assign,_ue=Object.prototype.toString.call.bind(Object.prototype.toString);function Sue(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,a=t.areMapsEqual,o=t.areNumbersEqual,s=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,c=t.areSetsEqual,f=t.areTypedArraysEqual,h=t.areUrlsEqual,m=t.unknownTagComparators;return function(y,x,v){if(y===x)return!0;if(y==null||x==null)return!1;var S=typeof y;if(S!==typeof x)return!1;if(S!=="object")return S==="number"?o(y,x,v):S==="function"?i(y,x,v):!1;var _=y.constructor;if(_!==x.constructor)return!1;if(_===Object)return s(y,x,v);if(xue(y))return e(y,x,v);if(fL!=null&&fL(y))return f(y,x,v);if(_===Date)return n(y,x,v);if(_===RegExp)return u(y,x,v);if(_===Map)return a(y,x,v);if(_===Set)return c(y,x,v);var b=_ue(y);if(b===cue)return n(y,x,v);if(b===mue)return u(y,x,v);if(b===hue)return a(y,x,v);if(b===gue)return c(y,x,v);if(b===pue)return typeof y.then!="function"&&typeof x.then!="function"&&s(y,x,v);if(b===yue)return h(y,x,v);if(b===fue)return r(y,x,v);if(b===lue)return s(y,x,v);if(b===uue||b===due||b===vue)return l(y,x,v);if(m){var E=m[b];if(!E){var M=Xle(y);M&&(E=m[M])}if(E)return E(y,x,v)}return!1}}function wue(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Ud:Jle,areDatesEqual:Qle,areErrorsEqual:eue,areFunctionsEqual:tue,areMapsEqual:r?aL(uL,Ud):uL,areNumbersEqual:nue,areObjectsEqual:r?Ud:rue,arePrimitiveWrappersEqual:iue,areRegExpsEqual:aue,areSetsEqual:r?aL(cL,Ud):cL,areTypedArraysEqual:r?Ud:oue,areUrlsEqual:sue,unknownTagComparators:void 0};if(n&&(i=hL({},i,n(i))),e){var a=Xv(i.areArraysEqual),o=Xv(i.areMapsEqual),s=Xv(i.areObjectsEqual),l=Xv(i.areSetsEqual);i=hL({},i,{areArraysEqual:a,areMapsEqual:o,areObjectsEqual:s,areSetsEqual:l})}return i}function bue(t){return function(e,n,r,i,a,o,s){return t(e,n,s)}}function Mue(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,a=t.strict;if(r)return function(l,u){var c=r(),f=c.cache,h=f===void 0?e?new WeakMap:void 0:f,m=c.meta;return n(l,u,{cache:h,equals:i,meta:m,strict:a})};if(e)return function(l,u){return n(l,u,{cache:new WeakMap,equals:i,meta:void 0,strict:a})};var o={cache:void 0,equals:i,meta:void 0,strict:a};return function(l,u){return n(l,u,o)}}var Eue=zl();zl({strict:!0});zl({circular:!0});zl({circular:!0,strict:!0});zl({createInternalComparator:function(){return xc}});zl({strict:!0,createInternalComparator:function(){return xc}});zl({circular:!0,createInternalComparator:function(){return xc}});zl({circular:!0,createInternalComparator:function(){return xc},strict:!0});function zl(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,a=t.strict,o=a===void 0?!1:a,s=wue(t),l=Sue(s),u=r?r(l):bue(l);return Mue({circular:n,comparator:l,createState:i,equals:u,strict:o})}function Aue(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function dL(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(a){n<0&&(n=a),a-n>e?(t(a),n=-1):Aue(i)};requestAnimationFrame(r)}function fE(t){"@babel/helpers - typeof";return fE=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fE(t)}function Tue(t){return Rue(t)||Oue(t)||Cue(t)||Pue()}function Pue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cue(t,e){if(t){if(typeof t=="string")return pL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(t,e)}}function pL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Oue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Rue(t){if(Array.isArray(t))return t}function Iue(){var t={},e=function(){return null},n=!1,r=function i(a){if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,s=Tue(o),l=s[0],u=s.slice(1);if(typeof l=="number"){dL(i.bind(null,u),l);return}i(l),dL(i.bind(null,u));return}fE(a)==="object"&&(t=a,e(t)),typeof a=="function"&&a()}};return{stop:function(){n=!0},start:function(a){n=!1,r(a)},subscribe:function(a){return e=a,function(){e=function(){return null}}}}}function vm(t){"@babel/helpers - typeof";return vm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vm(t)}function mL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mL(Object(n),!0).forEach(function(r){_z(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _z(t,e,n){return e=Lue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lue(t){var e=Due(t,"string");return vm(e)==="symbol"?e:String(e)}function Due(t,e){if(vm(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nue=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(a){return i.includes(a)})})},kue=function(e){return e},Uue=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},wp=function(e,n){return Object.keys(n).reduce(function(r,i){return gL(gL({},r),{},_z({},i,e(i,n[i])))},{})},vL=function(e,n,r){return e.map(function(i){return"".concat(Uue(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fue(t,e){return Hue(t)||zue(t,e)||Sz(t,e)||Bue()}function Bue(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zue(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Hue(t){if(Array.isArray(t))return t}function jue(t){return Wue(t)||Vue(t)||Sz(t)||Gue()}function Gue(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sz(t,e){if(t){if(typeof t=="string")return hE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hE(t,e)}}function Vue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wue(t){if(Array.isArray(t))return hE(t)}function hE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var _x=1e-4,wz=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},bz=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},yL=function(e,n){return function(r){var i=wz(e,n);return bz(i,r)}},$ue=function(e,n){return function(r){var i=wz(e,n),a=[].concat(jue(i.map(function(o,s){return o*s}).slice(1)),[0]);return bz(a,r)}},xL=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,a=0,o=1,s=1;break;case"ease":i=.25,a=.1,o=.25,s=1;break;case"ease-in":i=.42,a=0,o=1,s=1;break;case"ease-out":i=.42,a=0,o=.58,s=1;break;case"ease-in-out":i=0,a=0,o=.58,s=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var u=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),c=Fue(u,4);i=c[0],a=c[1],o=c[2],s=c[3]}}}var f=yL(i,o),h=yL(a,s),m=$ue(i,o),g=function(v){return v>1?1:v<0?0:v},y=function(v){for(var S=v>1?1:v,_=S,b=0;b<8;++b){var E=f(_)-S,M=m(_);if(Math.abs(E-S)<_x||M<_x)return h(_);_=g(_-E/M)}return h(_)};return y.isStepper=!1,y},Xue=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,a=i===void 0?8:i,o=e.dt,s=o===void 0?17:o,l=function(c,f,h){var m=-(c-f)*r,g=h*a,y=h+(m-g)*s/1e3,x=h*s/1e3+c;return Math.abs(x-f)<_x&&Math.abs(y)<_x?[f,0]:[x,y]};return l.isStepper=!0,l.dt=s,l},Yue=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return xL(i);case"spring":return Xue();default:if(i.split("(")[0]==="cubic-bezier")return xL(i)}return typeof i=="function"?i:null};function ym(t){"@babel/helpers - typeof";return ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ym(t)}function _L(t){return Zue(t)||Kue(t)||Mz(t)||que()}function que(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Kue(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zue(t){if(Array.isArray(t))return pE(t)}function SL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?SL(Object(n),!0).forEach(function(r){dE(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):SL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dE(t,e,n){return e=Jue(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jue(t){var e=Que(t,"string");return ym(e)==="symbol"?e:String(e)}function Que(t,e){if(ym(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ym(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ece(t,e){return rce(t)||nce(t,e)||Mz(t,e)||tce()}function tce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mz(t,e){if(t){if(typeof t=="string")return pE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pE(t,e)}}function pE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function rce(t){if(Array.isArray(t))return t}var Sx=function(e,n,r){return e+(n-e)*r},mE=function(e){var n=e.from,r=e.to;return n!==r},ice=function t(e,n,r){var i=wp(function(a,o){if(mE(o)){var s=e(o.from,o.to,o.velocity),l=ece(s,2),u=l[0],c=l[1];return Gr(Gr({},o),{},{from:u,velocity:c})}return o},n);return r<1?wp(function(a,o){return mE(o)?Gr(Gr({},o),{},{velocity:Sx(o.velocity,i[a].velocity,r),from:Sx(o.from,i[a].from,r)}):o},n):t(e,i,r-1)};const ace=function(t,e,n,r,i){var a=Nue(t,e),o=a.reduce(function(x,v){return Gr(Gr({},x),{},dE({},v,[t[v],e[v]]))},{}),s=a.reduce(function(x,v){return Gr(Gr({},x),{},dE({},v,{from:t[v],velocity:0,to:e[v]}))},{}),l=-1,u,c,f=function(){return null},h=function(){return wp(function(v,S){return S.from},s)},m=function(){return!Object.values(s).filter(mE).length},g=function(v){u||(u=v);var S=v-u,_=S/n.dt;s=ice(n,s,_),i(Gr(Gr(Gr({},t),e),h())),u=v,m()||(l=requestAnimationFrame(f))},y=function(v){c||(c=v);var S=(v-c)/r,_=wp(function(E,M){return Sx.apply(void 0,_L(M).concat([n(S)]))},o);if(i(Gr(Gr(Gr({},t),e),_)),S<1)l=requestAnimationFrame(f);else{var b=wp(function(E,M){return Sx.apply(void 0,_L(M).concat([n(1)]))},o);i(Gr(Gr(Gr({},t),e),b))}};return f=n.isStepper?g:y,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}var oce=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function sce(t,e){if(t==null)return{};var n=lce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lce(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function vw(t){return hce(t)||fce(t)||cce(t)||uce()}function uce(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function cce(t,e){if(t){if(typeof t=="string")return gE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return gE(t,e)}}function fce(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function hce(t){if(Array.isArray(t))return gE(t)}function gE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function wL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ka(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wL(Object(n),!0).forEach(function(r){op(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function op(t,e,n){return e=Ez(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dce(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pce(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ez(r.key),r)}}function mce(t,e,n){return e&&pce(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ez(t){var e=gce(t,"string");return hh(e)==="symbol"?e:String(e)}function gce(t,e){if(hh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(hh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vce(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vE(t,e)}function vE(t,e){return vE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vE(t,e)}function yce(t){var e=xce();return function(){var r=wx(t),i;if(e){var a=wx(this).constructor;i=Reflect.construct(r,arguments,a)}else i=r.apply(this,arguments);return yE(this,i)}}function yE(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xE(t)}function xE(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function wx(t){return wx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wx(t)}var Is=function(t){vce(n,t);var e=yce(n);function n(r,i){var a;dce(this,n),a=e.call(this,r,i);var o=a.props,s=o.isActive,l=o.attributeName,u=o.from,c=o.to,f=o.steps,h=o.children,m=o.duration;if(a.handleStyleChange=a.handleStyleChange.bind(xE(a)),a.changeStyle=a.changeStyle.bind(xE(a)),!s||m<=0)return a.state={style:{}},typeof h=="function"&&(a.state={style:c}),yE(a);if(f&&f.length)a.state={style:f[0].style};else if(u){if(typeof h=="function")return a.state={style:u},yE(a);a.state={style:l?op({},l,u):u}}else a.state={style:{}};return a}return mce(n,[{key:"componentDidMount",value:function(){var i=this.props,a=i.isActive,o=i.canBegin;this.mounted=!0,!(!a||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var a=this.props,o=a.isActive,s=a.canBegin,l=a.attributeName,u=a.shouldReAnimate,c=a.to,f=a.from,h=this.state.style;if(s){if(!o){var m={style:l?op({},l,c):c};this.state&&h&&(l&&h[l]!==c||!l&&h!==c)&&this.setState(m);return}if(!(Eue(i.to,c)&&i.canBegin&&i.isActive)){var g=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var y=g||u?f:i.to;if(this.state&&h){var x={style:l?op({},l,y):y};(l&&h[l]!==y||!l&&h!==y)&&this.setState(x)}this.runAnimation(Ka(Ka({},this.props),{},{from:y,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var a=this,o=i.from,s=i.to,l=i.duration,u=i.easing,c=i.begin,f=i.onAnimationEnd,h=i.onAnimationStart,m=ace(o,s,Yue(u),l,this.changeStyle),g=function(){a.stopJSAnimation=m()};this.manager.start([h,c,g,l,f])}},{key:"runStepAnimation",value:function(i){var a=this,o=i.steps,s=i.begin,l=i.onAnimationStart,u=o[0],c=u.style,f=u.duration,h=f===void 0?0:f,m=function(y,x,v){if(v===0)return y;var S=x.duration,_=x.easing,b=_===void 0?"ease":_,E=x.style,M=x.properties,T=x.onAnimationEnd,C=v>0?o[v-1]:x,P=M||Object.keys(E);if(typeof b=="function"||b==="spring")return[].concat(vw(y),[a.runJSAnimation.bind(a,{from:C.style,to:E,duration:S,easing:b}),S]);var O=vL(P,S,b),I=Ka(Ka(Ka({},C.style),E),{},{transition:O});return[].concat(vw(y),[I,S,T]).filter(kue)};return this.manager.start([l].concat(vw(o.reduce(m,[c,Math.max(h,s)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Iue());var a=i.begin,o=i.duration,s=i.attributeName,l=i.to,u=i.easing,c=i.onAnimationStart,f=i.onAnimationEnd,h=i.steps,m=i.children,g=this.manager;if(this.unSubscribe=g.subscribe(this.handleStyleChange),typeof u=="function"||typeof m=="function"||u==="spring"){this.runJSAnimation(i);return}if(h.length>1){this.runStepAnimation(i);return}var y=s?op({},s,l):l,x=vL(Object.keys(y),o,u);g.start([c,a,Ka(Ka({},y),{},{transition:x}),o,f])}},{key:"render",value:function(){var i=this.props,a=i.children;i.begin;var o=i.duration;i.attributeName,i.easing;var s=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=sce(i,oce),u=he.Children.count(a),c=this.state.style;if(typeof a=="function")return a(c);if(!s||u===0||o<=0)return a;var f=function(m){var g=m.props,y=g.style,x=y===void 0?{}:y,v=g.className,S=he.cloneElement(m,Ka(Ka({},l),{},{style:Ka(Ka({},x),c),className:v}));return S};return u===1?f(he.Children.only(a)):Se.createElement("div",null,he.Children.map(a,function(h){return f(h)}))}}]),n}(he.PureComponent);Is.displayName="Animate";Is.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Is.propTypes={from:gn.oneOfType([gn.object,gn.string]),to:gn.oneOfType([gn.object,gn.string]),attributeName:gn.string,duration:gn.number,begin:gn.number,easing:gn.oneOfType([gn.string,gn.func]),steps:gn.arrayOf(gn.shape({duration:gn.number.isRequired,style:gn.object.isRequired,easing:gn.oneOfType([gn.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),gn.func]),properties:gn.arrayOf("string"),onAnimationEnd:gn.func})),children:gn.oneOfType([gn.node,gn.func]),isActive:gn.bool,canBegin:gn.bool,onAnimationEnd:gn.func,shouldReAnimate:gn.bool,onAnimationStart:gn.func,onAnimationReStart:gn.func};function dh(){return dh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dh.apply(null,arguments)}function xm(t){"@babel/helpers - typeof";return xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xm(t)}function bx(){return bx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bx.apply(this,arguments)}function _ce(t,e){return Mce(t)||bce(t,e)||wce(t,e)||Sce()}function Sce(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wce(t,e){if(t){if(typeof t=="string")return bL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bL(t,e)}}function bL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function bce(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Mce(t){if(Array.isArray(t))return t}function ML(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function EL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ML(Object(n),!0).forEach(function(r){Ece(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ML(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ece(t,e,n){return e=Ace(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ace(t){var e=Tce(t,"string");return xm(e)=="symbol"?e:e+""}function Tce(t,e){if(xm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var AL=function(e,n,r,i,a){var o=Math.min(Math.abs(r)/2,Math.abs(i)/2),s=i>=0?1:-1,l=r>=0?1:-1,u=i>=0&&r>=0||i<0&&r<0?1:0,c;if(o>0&&a instanceof Array){for(var f=[0,0,0,0],h=0,m=4;h<m;h++)f[h]=a[h]>o?o:a[h];c="M".concat(e,",").concat(n+s*f[0]),f[0]>0&&(c+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(u,",").concat(e+l*f[0],",").concat(n)),c+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(c+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(u,`,
        `).concat(e+r,",").concat(n+s*f[1])),c+="L ".concat(e+r,",").concat(n+i-s*f[2]),f[2]>0&&(c+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(u,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),c+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(c+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(n+i-s*f[3])),c+="Z"}else if(o>0&&a===+a&&a>0){var g=Math.min(o,a);c="M ".concat(e,",").concat(n+s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+l*g,",").concat(n,`
            L `).concat(e+r-l*g,",").concat(n,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r,",").concat(n+s*g,`
            L `).concat(e+r,",").concat(n+i-s*g,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e+r-l*g,",").concat(n+i,`
            L `).concat(e+l*g,",").concat(n+i,`
            A `).concat(g,",").concat(g,",0,0,").concat(u,",").concat(e,",").concat(n+i-s*g," Z")}else c="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return c},Pce=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,a=n.x,o=n.y,s=n.width,l=n.height;if(Math.abs(s)>0&&Math.abs(l)>0){var u=Math.min(a,a+s),c=Math.max(a,a+s),f=Math.min(o,o+l),h=Math.max(o,o+l);return r>=u&&r<=c&&i>=f&&i<=h}return!1},Cce={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},R2=function(e){var n=EL(EL({},Cce),e),r=he.useRef(),i=he.useState(-1),a=_ce(i,2),o=a[0],s=a[1];he.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var b=r.current.getTotalLength();b&&s(b)}catch{}},[]);var l=n.x,u=n.y,c=n.width,f=n.height,h=n.radius,m=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,v=n.isAnimationActive,S=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||c===0||f===0)return null;var _=ln("recharts-rectangle",m);return S?Se.createElement(Is,{canBegin:o>0,from:{width:c,height:f,x:l,y:u},to:{width:c,height:f,x:l,y:u},duration:y,animationEasing:g,isActive:S},function(b){var E=b.width,M=b.height,T=b.x,C=b.y;return Se.createElement(Is,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,isActive:v,easing:g},Se.createElement("path",bx({},nn(n,!0),{className:_,d:AL(T,C,E,M,h),ref:r})))}):Se.createElement("path",bx({},nn(n,!0),{className:_,d:AL(l,u,c,f,h)}))};function _E(){return _E=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_E.apply(this,arguments)}var I2=function(e){var n=e.cx,r=e.cy,i=e.r,a=e.className,o=ln("recharts-dot",a);return n===+n&&r===+r&&i===+i?he.createElement("circle",_E({},nn(e,!1),j0(e),{className:o,cx:n,cy:r,r:i})):null};function _m(t){"@babel/helpers - typeof";return _m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_m(t)}var Oce=["x","y","top","left","width","height","className"];function SE(){return SE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SE.apply(this,arguments)}function TL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rce(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TL(Object(n),!0).forEach(function(r){Ice(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ice(t,e,n){return e=Lce(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Lce(t){var e=Dce(t,"string");return _m(e)=="symbol"?e:e+""}function Dce(t,e){if(_m(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nce(t,e){if(t==null)return{};var n=kce(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kce(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Uce=function(e,n,r,i,a,o){return"M".concat(e,",").concat(a,"v").concat(i,"M").concat(o,",").concat(n,"h").concat(r)},Fce=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,a=i===void 0?0:i,o=e.top,s=o===void 0?0:o,l=e.left,u=l===void 0?0:l,c=e.width,f=c===void 0?0:c,h=e.height,m=h===void 0?0:h,g=e.className,y=Nce(e,Oce),x=Rce({x:r,y:a,top:s,left:u,width:f,height:m},y);return!st(r)||!st(a)||!st(f)||!st(m)||!st(s)||!st(u)?null:Se.createElement("path",SE({},nn(x,!0),{className:ln("recharts-cross",g),d:Uce(r,a,f,m,s,u)}))},Bce=B4,zce=Bce(Object.getPrototypeOf,Object),Hce=zce,jce=Ns,Gce=Hce,Vce=ks,Wce="[object Object]",$ce=Function.prototype,Xce=Object.prototype,Az=$ce.toString,Yce=Xce.hasOwnProperty,qce=Az.call(Object);function Kce(t){if(!Vce(t)||jce(t)!=Wce)return!1;var e=Gce(t);if(e===null)return!0;var n=Yce.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Az.call(n)==qce}var Zce=Kce;const Jce=bn(Zce);var Qce=Ns,efe=ks,tfe="[object Boolean]";function nfe(t){return t===!0||t===!1||efe(t)&&Qce(t)==tfe}var rfe=nfe;const ife=bn(rfe);function Sm(t){"@babel/helpers - typeof";return Sm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sm(t)}function Mx(){return Mx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Mx.apply(this,arguments)}function afe(t,e){return ufe(t)||lfe(t,e)||sfe(t,e)||ofe()}function ofe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sfe(t,e){if(t){if(typeof t=="string")return PL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PL(t,e)}}function PL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function lfe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function ufe(t){if(Array.isArray(t))return t}function CL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CL(Object(n),!0).forEach(function(r){cfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cfe(t,e,n){return e=ffe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ffe(t){var e=hfe(t,"string");return Sm(e)=="symbol"?e:e+""}function hfe(t,e){if(Sm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RL=function(e,n,r,i,a){var o=r-i,s;return s="M ".concat(e,",").concat(n),s+="L ".concat(e+r,",").concat(n),s+="L ".concat(e+r-o/2,",").concat(n+a),s+="L ".concat(e+r-o/2-i,",").concat(n+a),s+="L ".concat(e,",").concat(n," Z"),s},dfe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},pfe=function(e){var n=OL(OL({},dfe),e),r=he.useRef(),i=he.useState(-1),a=afe(i,2),o=a[0],s=a[1];he.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&s(_)}catch{}},[]);var l=n.x,u=n.y,c=n.upperWidth,f=n.lowerWidth,h=n.height,m=n.className,g=n.animationEasing,y=n.animationDuration,x=n.animationBegin,v=n.isUpdateAnimationActive;if(l!==+l||u!==+u||c!==+c||f!==+f||h!==+h||c===0&&f===0||h===0)return null;var S=ln("recharts-trapezoid",m);return v?Se.createElement(Is,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:h,x:l,y:u},to:{upperWidth:c,lowerWidth:f,height:h,x:l,y:u},duration:y,animationEasing:g,isActive:v},function(_){var b=_.upperWidth,E=_.lowerWidth,M=_.height,T=_.x,C=_.y;return Se.createElement(Is,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:y,easing:g},Se.createElement("path",Mx({},nn(n,!0),{className:S,d:RL(T,C,b,E,M),ref:r})))}):Se.createElement("g",null,Se.createElement("path",Mx({},nn(n,!0),{className:S,d:RL(l,u,c,f,h)})))},mfe=["option","shapeType","propTransformer","activeClassName","isActive"];function wm(t){"@babel/helpers - typeof";return wm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wm(t)}function gfe(t,e){if(t==null)return{};var n=vfe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function vfe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ex(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?IL(Object(n),!0).forEach(function(r){yfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):IL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yfe(t,e,n){return e=xfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xfe(t){var e=_fe(t,"string");return wm(e)=="symbol"?e:e+""}function _fe(t,e){if(wm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sfe(t,e){return Ex(Ex({},e),t)}function wfe(t,e){return t==="symbols"}function LL(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return Se.createElement(R2,n);case"trapezoid":return Se.createElement(pfe,n);case"sector":return Se.createElement(mz,n);case"symbols":if(wfe(e))return Se.createElement(KT,n);break;default:return null}}function bfe(t){return he.isValidElement(t)?t.props:t}function Mfe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?Sfe:r,a=t.activeClassName,o=a===void 0?"recharts-active-shape":a,s=t.isActive,l=gfe(t,mfe),u;if(he.isValidElement(e))u=he.cloneElement(e,Ex(Ex({},l),bfe(e)));else if(Xt(e))u=e(l);else if(Jce(e)&&!ife(e)){var c=i(e,l);u=Se.createElement(LL,{shapeType:n,elementProps:c})}else{var f=l;u=Se.createElement(LL,{shapeType:n,elementProps:f})}return s?Se.createElement(ur,{className:o},u):u}function H_(t,e){return e!=null&&"trapezoids"in t.props}function j_(t,e){return e!=null&&"sectors"in t.props}function bm(t,e){return e!=null&&"points"in t.props}function Efe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,a=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&a}function Afe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function Tfe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function Pfe(t,e){var n;return H_(t,e)?n=Efe:j_(t,e)?n=Afe:bm(t,e)&&(n=Tfe),n}function Cfe(t,e){var n;return H_(t,e)?n="trapezoids":j_(t,e)?n="sectors":bm(t,e)&&(n="points"),n}function Ofe(t,e){if(H_(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(j_(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return bm(t,e)?e.payload:{}}function Rfe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=Cfe(n,e),a=Ofe(n,e),o=r.filter(function(l,u){var c=F_(a,l),f=n.props[i].filter(function(g){var y=Pfe(n,e);return y(g,e)}),h=n.props[i].indexOf(f[f.length-1]),m=u===h;return c&&m}),s=r.indexOf(o[o.length-1]);return s}var Ife=Math.ceil,Lfe=Math.max;function Dfe(t,e,n,r){for(var i=-1,a=Lfe(Ife((e-t)/(n||1)),0),o=Array(a);a--;)o[r?a:++i]=t,t+=n;return o}var Nfe=Dfe,kfe=iB,DL=1/0,Ufe=17976931348623157e292;function Ffe(t){if(!t)return t===0?t:0;if(t=kfe(t),t===DL||t===-DL){var e=t<0?-1:1;return e*Ufe}return t===t?t:0}var Tz=Ffe,Bfe=Nfe,zfe=C_,yw=Tz;function Hfe(t){return function(e,n,r){return r&&typeof r!="number"&&zfe(e,n,r)&&(n=r=void 0),e=yw(e),n===void 0?(n=e,e=0):n=yw(n),r=r===void 0?e<n?1:-1:yw(r),Bfe(e,n,r,t)}}var jfe=Hfe,Gfe=jfe,Vfe=Gfe(),Wfe=Vfe;const Ax=bn(Wfe);function Mm(t){"@babel/helpers - typeof";return Mm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mm(t)}function NL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?NL(Object(n),!0).forEach(function(r){Pz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):NL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Pz(t,e,n){return e=$fe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $fe(t){var e=Xfe(t,"string");return Mm(e)=="symbol"?e:e+""}function Xfe(t,e){if(Mm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yfe=["Webkit","Moz","O","ms"],qfe=function(e,n){var r=e.replace(/(\w)/,function(a){return a.toUpperCase()}),i=Yfe.reduce(function(a,o){return kL(kL({},a),{},Pz({},o+r,n))},{});return i[e]=n,i};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function Tx(){return Tx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Tx.apply(this,arguments)}function UL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xw(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?UL(Object(n),!0).forEach(function(r){ra(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):UL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Kfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function FL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Oz(r.key),r)}}function Zfe(t,e,n){return e&&FL(t.prototype,e),n&&FL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jfe(t,e,n){return e=Px(e),Qfe(t,Cz()?Reflect.construct(e,n||[],Px(t).constructor):e.apply(t,n))}function Qfe(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ehe(t)}function ehe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cz=function(){return!!t})()}function Px(t){return Px=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Px(t)}function the(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wE(t,e)}function wE(t,e){return wE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wE(t,e)}function ra(t,e,n){return e=Oz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Oz(t){var e=nhe(t,"string");return ph(e)=="symbol"?e:e+""}function nhe(t,e){if(ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rhe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,a=e.x,o=e.width,s=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,u=_p().domain(Ax(0,l)).range([a,a+o-s]),c=u.domain().map(function(f){return u(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(r),endX:u(i),scale:u,scaleValues:c}},BL=function(e){return e.changedTouches&&!!e.changedTouches.length},mh=function(t){function e(n){var r;return Kfe(this,e),r=Jfe(this,e,[n]),ra(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ra(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ra(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,a=i.endIndex,o=i.onDragEnd,s=i.startIndex;o==null||o({endIndex:a,startIndex:s})}),r.detachDragEndListener()}),ra(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ra(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ra(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ra(r,"handleSlideDragStart",function(i){var a=BL(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:a.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return the(e,t),Zfe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,a=r.endX,o=this.state.scaleValues,s=this.props,l=s.gap,u=s.data,c=u.length-1,f=Math.min(i,a),h=Math.max(i,a),m=e.getIndexInRange(o,f),g=e.getIndexInRange(o,h);return{startIndex:m-m%l,endIndex:g===c?c:g-g%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,a=i.data,o=i.tickFormatter,s=i.dataKey,l=pa(a[r],s,r);return Xt(o)?o(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,a=i.slideMoveStartX,o=i.startX,s=i.endX,l=this.props,u=l.x,c=l.width,f=l.travellerWidth,h=l.startIndex,m=l.endIndex,g=l.onChange,y=r.pageX-a;y>0?y=Math.min(y,u+c-f-s,u+c-f-o):y<0&&(y=Math.max(y,u-o,u-s));var x=this.getIndex({startX:o+y,endX:s+y});(x.startIndex!==h||x.endIndex!==m)&&g&&g(x),this.setState({startX:o+y,endX:s+y,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var a=BL(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:a.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,a=i.brushMoveStartX,o=i.movingTravellerId,s=i.endX,l=i.startX,u=this.state[o],c=this.props,f=c.x,h=c.width,m=c.travellerWidth,g=c.onChange,y=c.gap,x=c.data,v={startX:this.state.startX,endX:this.state.endX},S=r.pageX-a;S>0?S=Math.min(S,f+h-m-u):S<0&&(S=Math.max(S,f-u)),v[o]=u+S;var _=this.getIndex(v),b=_.startIndex,E=_.endIndex,M=function(){var C=x.length-1;return o==="startX"&&(s>l?b%y===0:E%y===0)||s<l&&E===C||o==="endX"&&(s>l?E%y===0:b%y===0)||s>l&&E===C};this.setState(ra(ra({},o,u+S),"brushMoveStartX",r.pageX),function(){g&&M()&&g(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var a=this,o=this.state,s=o.scaleValues,l=o.startX,u=o.endX,c=this.state[i],f=s.indexOf(c);if(f!==-1){var h=f+r;if(!(h===-1||h>=s.length)){var m=s[h];i==="startX"&&m>=u||i==="endX"&&m<=l||this.setState(ra({},i,m),function(){a.props.onChange(a.getIndex({startX:a.state.startX,endX:a.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.fill,u=r.stroke;return Se.createElement("rect",{stroke:u,fill:l,x:i,y:a,width:o,height:s})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.data,u=r.children,c=r.padding,f=he.Children.only(u);return f?Se.cloneElement(f,{x:i,y:a,width:o,height:s,margin:c,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var a,o,s=this,l=this.props,u=l.y,c=l.travellerWidth,f=l.height,h=l.traveller,m=l.ariaLabel,g=l.data,y=l.startIndex,x=l.endIndex,v=Math.max(r,this.props.x),S=xw(xw({},nn(this.props,!1)),{},{x:v,y:u,width:c,height:f}),_=m||"Min value: ".concat((a=g[y])===null||a===void 0?void 0:a.name,", Max value: ").concat((o=g[x])===null||o===void 0?void 0:o.name);return Se.createElement(ur,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),s.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){s.setState({isTravellerFocused:!0})},onBlur:function(){s.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(h,S))}},{key:"renderSlide",value:function(r,i){var a=this.props,o=a.y,s=a.height,l=a.stroke,u=a.travellerWidth,c=Math.min(r,i)+u,f=Math.max(Math.abs(i-r)-u,0);return Se.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:c,y:o,width:f,height:s})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,a=r.endIndex,o=r.y,s=r.height,l=r.travellerWidth,u=r.stroke,c=this.state,f=c.startX,h=c.endX,m=5,g={pointerEvents:"none",fill:u};return Se.createElement(ur,{className:"recharts-brush-texts"},Se.createElement(rx,Tx({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,h)-m,y:o+s/2},g),this.getTextOfTick(i)),Se.createElement(rx,Tx({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,h)+l+m,y:o+s/2},g),this.getTextOfTick(a)))}},{key:"render",value:function(){var r=this.props,i=r.data,a=r.className,o=r.children,s=r.x,l=r.y,u=r.width,c=r.height,f=r.alwaysShowText,h=this.state,m=h.startX,g=h.endX,y=h.isTextActive,x=h.isSlideMoving,v=h.isTravellerMoving,S=h.isTravellerFocused;if(!i||!i.length||!st(s)||!st(l)||!st(u)||!st(c)||u<=0||c<=0)return null;var _=ln("recharts-brush",a),b=Se.Children.count(o)===1,E=qfe("userSelect","none");return Se.createElement(ur,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),b&&this.renderPanorama(),this.renderSlide(m,g),this.renderTravellerLayer(m,"startX"),this.renderTravellerLayer(g,"endX"),(y||x||v||S||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,a=r.y,o=r.width,s=r.height,l=r.stroke,u=Math.floor(a+s/2)-1;return Se.createElement(Se.Fragment,null,Se.createElement("rect",{x:i,y:a,width:o,height:s,fill:l,stroke:"none"}),Se.createElement("line",{x1:i+1,y1:u,x2:i+o-1,y2:u,fill:"none",stroke:"#fff"}),Se.createElement("line",{x1:i+1,y1:u+2,x2:i+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var a;return Se.isValidElement(r)?a=Se.cloneElement(r,i):Xt(r)?a=r(i):a=e.renderDefaultTraveller(i),a}},{key:"getDerivedStateFromProps",value:function(r,i){var a=r.data,o=r.width,s=r.x,l=r.travellerWidth,u=r.updateId,c=r.startIndex,f=r.endIndex;if(a!==i.prevData||u!==i.prevUpdateId)return xw({prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o},a&&a.length?rhe({data:a,width:o,x:s,travellerWidth:l,startIndex:c,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(o!==i.prevWidth||s!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([s,s+o-l]);var h=i.scale.domain().map(function(m){return i.scale(m)});return{prevData:a,prevTravellerWidth:l,prevUpdateId:u,prevX:s,prevWidth:o,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:h}}return null}},{key:"getIndexInRange",value:function(r,i){for(var a=r.length,o=0,s=a-1;s-o>1;){var l=Math.floor((o+s)/2);r[l]>i?s=l:o=l}return i>=r[s]?s:o}}])}(he.PureComponent);ra(mh,"displayName","Brush");ra(mh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var ihe=r2;function ahe(t,e){var n;return ihe(t,function(r,i,a){return n=e(r,i,a),!n}),!!n}var ohe=ahe,she=R4,lhe=Ul,uhe=ohe,che=Vi,fhe=C_;function hhe(t,e,n){var r=che(t)?she:uhe;return n&&fhe(t,e,n)&&(e=void 0),r(t,lhe(e))}var dhe=hhe;const phe=bn(dhe);var No=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},zL=Q4;function mhe(t,e,n){e=="__proto__"&&zL?zL(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var ghe=mhe,vhe=ghe,yhe=Z4,xhe=Ul;function _he(t,e){var n={};return e=xhe(e),yhe(t,function(r,i,a){vhe(n,i,e(r,i,a))}),n}var She=_he;const whe=bn(She);function bhe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var Mhe=bhe,Ehe=r2;function Ahe(t,e){var n=!0;return Ehe(t,function(r,i,a){return n=!!e(r,i,a),n}),n}var The=Ahe,Phe=Mhe,Che=The,Ohe=Ul,Rhe=Vi,Ihe=C_;function Lhe(t,e,n){var r=Rhe(t)?Phe:Che;return n&&Ihe(t,e,n)&&(e=void 0),r(t,Ohe(e))}var Dhe=Lhe;const Rz=bn(Dhe);var Nhe=["x","y"];function Em(t){"@babel/helpers - typeof";return Em=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Em(t)}function bE(){return bE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bE.apply(this,arguments)}function HL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?HL(Object(n),!0).forEach(function(r){khe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):HL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function khe(t,e,n){return e=Uhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Uhe(t){var e=Fhe(t,"string");return Em(e)=="symbol"?e:e+""}function Fhe(t,e){if(Em(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Em(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bhe(t,e){if(t==null)return{};var n=zhe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zhe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Hhe(t,e){var n=t.x,r=t.y,i=Bhe(t,Nhe),a="".concat(n),o=parseInt(a,10),s="".concat(r),l=parseInt(s,10),u="".concat(e.height||i.height),c=parseInt(u,10),f="".concat(e.width||i.width),h=parseInt(f,10);return Fd(Fd(Fd(Fd(Fd({},e),i),o?{x:o}:{}),l?{y:l}:{}),{},{height:c,width:h,name:e.name,radius:e.radius})}function jL(t){return Se.createElement(Mfe,bE({shapeType:"rectangle",propTransformer:Hhe,activeClassName:"recharts-active-bar"},t))}var jhe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var a=st(r)||r7(r);return a?e(r,i):(a||sc(),n)}},Ghe=["value","background"],Iz;function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function Vhe(t,e){if(t==null)return{};var n=Whe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Whe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Cx(){return Cx=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cx.apply(this,arguments)}function GL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GL(Object(n),!0).forEach(function(r){ml(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $he(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Dz(r.key),r)}}function Xhe(t,e,n){return e&&VL(t.prototype,e),n&&VL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Yhe(t,e,n){return e=Ox(e),qhe(t,Lz()?Reflect.construct(e,n||[],Ox(t).constructor):e.apply(t,n))}function qhe(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Khe(t)}function Khe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lz=function(){return!!t})()}function Ox(t){return Ox=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ox(t)}function Zhe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ME(t,e)}function ME(t,e){return ME=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ME(t,e)}function ml(t,e,n){return e=Dz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dz(t){var e=Jhe(t,"string");return gh(e)=="symbol"?e:e+""}function Jhe(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var dg=function(t){function e(){var n;$he(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Yhe(this,e,[].concat(i)),ml(n,"state",{isAnimationFinished:!1}),ml(n,"id",og("recharts-bar-")),ml(n,"handleAnimationEnd",function(){var o=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),o&&o()}),ml(n,"handleAnimationStart",function(){var o=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),o&&o()}),n}return Zhe(e,t),Xhe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,a=this.props,o=a.shape,s=a.dataKey,l=a.activeIndex,u=a.activeBar,c=nn(this.props,!1);return r&&r.map(function(f,h){var m=h===l,g=m?u:o,y=pr(pr(pr({},c),f),{},{isActive:m,option:g,index:h,dataKey:s,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return Se.createElement(ur,Cx({className:"recharts-bar-rectangle"},G0(i.props,f,h),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(h)}),Se.createElement(jL,y))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,a=i.data,o=i.layout,s=i.isAnimationActive,l=i.animationBegin,u=i.animationDuration,c=i.animationEasing,f=i.animationId,h=this.state.prevData;return Se.createElement(Is,{begin:l,duration:u,isActive:s,easing:c,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(m){var g=m.t,y=a.map(function(x,v){var S=h&&h[v];if(S){var _=so(S.x,x.x),b=so(S.y,x.y),E=so(S.width,x.width),M=so(S.height,x.height);return pr(pr({},x),{},{x:_(g),y:b(g),width:E(g),height:M(g)})}if(o==="horizontal"){var T=so(0,x.height),C=T(g);return pr(pr({},x),{},{y:x.y+x.height-C,height:C})}var P=so(0,x.width),O=P(g);return pr(pr({},x),{},{width:O})});return Se.createElement(ur,null,r.renderRectanglesStatically(y))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,a=r.isAnimationActive,o=this.state.prevData;return a&&i&&i.length&&(!o||!F_(o,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,a=i.data,o=i.dataKey,s=i.activeIndex,l=nn(this.props.background,!1);return a.map(function(u,c){u.value;var f=u.background,h=Vhe(u,Ghe);if(!f)return null;var m=pr(pr(pr(pr(pr({},h),{},{fill:"#eee"},f),l),G0(r.props,u,c)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:o,index:c,className:"recharts-bar-background-rectangle"});return Se.createElement(jL,Cx({key:"background-bar-".concat(c),option:r.props.background,isActive:c===s},m))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.data,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=za(c,hg);if(!f)return null;var h=u==="vertical"?o[0].height/2:o[0].width/2,m=function(x,v){var S=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:S,errorVal:pa(x,v)}},g={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Se.createElement(ur,g,f.map(function(y){return Se.cloneElement(y,{key:"error-bar-".concat(i,"-").concat(y.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,offset:h,dataPointFormatter:m})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,a=r.data,o=r.className,s=r.xAxis,l=r.yAxis,u=r.left,c=r.top,f=r.width,h=r.height,m=r.isAnimationActive,g=r.background,y=r.id;if(i||!a||!a.length)return null;var x=this.state.isAnimationFinished,v=ln("recharts-bar",o),S=s&&s.allowDataOverflow,_=l&&l.allowDataOverflow,b=S||_,E=Qt(y)?this.id:y;return Se.createElement(ur,{className:v},S||_?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(E)},Se.createElement("rect",{x:S?u:u-f/2,y:_?c:c-h/2,width:S?f:f*2,height:_?h:h*2}))):null,Se.createElement(ur,{className:"recharts-bar-rectangles",clipPath:b?"url(#clipPath-".concat(E,")"):null},g?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(b,E),(!m||x)&&Al.renderCallByParent(this.props,a))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(he.PureComponent);Iz=dg;ml(dg,"displayName","Bar");ml(dg,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!jh.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ml(dg,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,a=t.xAxis,o=t.yAxis,s=t.xAxisTicks,l=t.yAxisTicks,u=t.stackedData,c=t.dataStartIndex,f=t.displayedData,h=t.offset,m=Tse(r,n);if(!m)return null;var g=e.layout,y=n.type.defaultProps,x=y!==void 0?pr(pr({},y),n.props):n.props,v=x.dataKey,S=x.children,_=x.minPointSize,b=g==="horizontal"?o:a,E=u?b.scale.domain():null,M=Nse({numericAxis:b}),T=za(S,oB),C=f.map(function(P,O){var I,D,F,B,W,V;u?I=Pse(u[c+O],E):(I=pa(P,v),Array.isArray(I)||(I=[M,I]));var Q=jhe(_,Iz.defaultProps.minPointSize)(I[1],O);if(g==="horizontal"){var N,j=[o.scale(I[0]),o.scale(I[1])],G=j[0],H=j[1];D=GI({axis:a,ticks:s,bandSize:i,offset:m.offset,entry:P,index:O}),F=(N=H??G)!==null&&N!==void 0?N:void 0,B=m.size;var $=G-H;if(W=Number.isNaN($)?0:$,V={x:D,y:o.y,width:B,height:o.height},Math.abs(Q)>0&&Math.abs(W)<Math.abs(Q)){var ie=co(W||Q)*(Math.abs(Q)-Math.abs(W));F-=ie,W+=ie}}else{var Z=[a.scale(I[0]),a.scale(I[1])],ae=Z[0],ce=Z[1];if(D=ae,F=GI({axis:o,ticks:l,bandSize:i,offset:m.offset,entry:P,index:O}),B=ce-ae,W=m.size,V={x:a.x,y:F,width:a.width,height:W},Math.abs(Q)>0&&Math.abs(B)<Math.abs(Q)){var fe=co(B||Q)*(Math.abs(Q)-Math.abs(B));B+=fe}}return pr(pr(pr({},P),{},{x:D,y:F,width:B,height:W,value:u?I:I[1],payload:P,background:V},T&&T[O]&&T[O].props),{},{tooltipPayload:[hz(n,P)],tooltipPosition:{x:D+B/2,y:F+W/2}})});return pr({data:C,layout:g},h)});function Am(t){"@babel/helpers - typeof";return Am=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Am(t)}function Qhe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WL(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Nz(r.key),r)}}function ede(t,e,n){return e&&WL(t.prototype,e),n&&WL(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function $L(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function io(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$L(Object(n),!0).forEach(function(r){G_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$L(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function G_(t,e,n){return e=Nz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Nz(t){var e=tde(t,"string");return Am(e)=="symbol"?e:e+""}function tde(t,e){if(Am(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Am(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nde=function(e,n,r,i,a){var o=e.width,s=e.height,l=e.layout,u=e.children,c=Object.keys(n),f={left:r.left,leftMirror:r.left,right:o-r.right,rightMirror:o-r.right,top:r.top,topMirror:r.top,bottom:s-r.bottom,bottomMirror:s-r.bottom},h=!!aa(u,dg);return c.reduce(function(m,g){var y=n[g],x=y.orientation,v=y.domain,S=y.padding,_=S===void 0?{}:S,b=y.mirror,E=y.reversed,M="".concat(x).concat(b?"Mirror":""),T,C,P,O,I;if(y.type==="number"&&(y.padding==="gap"||y.padding==="no-gap")){var D=v[1]-v[0],F=1/0,B=y.categoricalDomain.sort(o7);if(B.forEach(function(Z,ae){ae>0&&(F=Math.min((Z||0)-(B[ae-1]||0),F))}),Number.isFinite(F)){var W=F/D,V=y.layout==="vertical"?r.height:r.width;if(y.padding==="gap"&&(T=W*V/2),y.padding==="no-gap"){var Q=ac(e.barCategoryGap,W*V),N=W*V/2;T=N-Q-(N-Q)/V*Q}}}i==="xAxis"?C=[r.left+(_.left||0)+(T||0),r.left+r.width-(_.right||0)-(T||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(T||0),r.top+r.height-(_.bottom||0)-(T||0)]:C=y.range,E&&(C=[C[1],C[0]]);var j=Ese(y,a,h),G=j.scale,H=j.realScaleType;G.domain(v).range(C),Ase(G);var $=Dse(G,io(io({},y),{},{realScaleType:H}));i==="xAxis"?(I=x==="top"&&!b||x==="bottom"&&b,P=r.left,O=f[M]-I*y.height):i==="yAxis"&&(I=x==="left"&&!b||x==="right"&&b,P=f[M]-I*y.width,O=r.top);var ie=io(io(io({},y),$),{},{realScaleType:H,x:P,y:O,scale:G,width:i==="xAxis"?r.width:y.width,height:i==="yAxis"?r.height:y.height});return ie.bandSize=vx(ie,$),!y.hide&&i==="xAxis"?f[M]+=(I?-1:1)*ie.height:y.hide||(f[M]+=(I?-1:1)*ie.width),io(io({},m),{},G_({},g,ie))},{})},kz=function(e,n){var r=e.x,i=e.y,a=n.x,o=n.y;return{x:Math.min(r,a),y:Math.min(i,o),width:Math.abs(a-r),height:Math.abs(o-i)}},rde=function(e){var n=e.x1,r=e.y1,i=e.x2,a=e.y2;return kz({x:n,y:r},{x:i,y:a})},Uz=function(){function t(e){Qhe(this,t),this.scale=e}return ede(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,a=r.position;if(n!==void 0){if(a)switch(a){case"start":return this.scale(n);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+o}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(n)+s}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],a=r[r.length-1];return i<=a?n>=i&&n<=a:n>=a&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();G_(Uz,"EPS",1e-4);var L2=function(e){var n=Object.keys(e).reduce(function(r,i){return io(io({},r),{},G_({},i,Uz.create(e[i])))},{});return io(io({},n),{},{apply:function(i){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=a.bandAware,s=a.position;return whe(i,function(l,u){return n[u].apply(l,{bandAware:o,position:s})})},isInRange:function(i){return Rz(i,function(a,o){return n[o].isInRange(a)})}})};function ide(t){return(t%180+180)%180}var ade=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=ide(i),o=a*Math.PI/180,s=Math.atan(r/n),l=o>s&&o<Math.PI-s?r/Math.sin(o):n/Math.cos(o);return Math.abs(l)},ode=Ul,sde=sg,lde=T_;function ude(t){return function(e,n,r){var i=Object(e);if(!sde(e)){var a=ode(n);e=lde(e),n=function(s){return a(i[s],s,i)}}var o=t(e,n,r);return o>-1?i[a?e[o]:o]:void 0}}var cde=ude,fde=Tz;function hde(t){var e=fde(t),n=e%1;return e===e?n?e-n:e:0}var dde=hde,pde=W4,mde=Ul,gde=dde,vde=Math.max;function yde(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:gde(n);return i<0&&(i=vde(r+i,0)),pde(t,mde(e),i)}var xde=yde,_de=cde,Sde=xde,wde=_de(Sde),bde=wde;const Mde=bn(bde);var Ede=u9(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),D2=he.createContext(void 0),N2=he.createContext(void 0),Fz=he.createContext(void 0),Bz=he.createContext({}),zz=he.createContext(void 0),Hz=he.createContext(0),jz=he.createContext(0),XL=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,a=n.offset,o=e.clipPathId,s=e.children,l=e.width,u=e.height,c=Ede(a);return Se.createElement(D2.Provider,{value:r},Se.createElement(N2.Provider,{value:i},Se.createElement(Bz.Provider,{value:a},Se.createElement(Fz.Provider,{value:c},Se.createElement(zz.Provider,{value:o},Se.createElement(Hz.Provider,{value:u},Se.createElement(jz.Provider,{value:l},s)))))))},Ade=function(){return he.useContext(zz)},Gz=function(e){var n=he.useContext(D2);n==null&&sc();var r=n[e];return r==null&&sc(),r},Tde=function(){var e=he.useContext(D2);return fl(e)},Pde=function(){var e=he.useContext(N2),n=Mde(e,function(r){return Rz(r.domain,Number.isFinite)});return n||fl(e)},Vz=function(e){var n=he.useContext(N2);n==null&&sc();var r=n[e];return r==null&&sc(),r},Cde=function(){var e=he.useContext(Fz);return e},Ode=function(){return he.useContext(Bz)},k2=function(){return he.useContext(jz)},U2=function(){return he.useContext(Hz)};function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function Rde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ide(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$z(r.key),r)}}function Lde(t,e,n){return e&&Ide(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Dde(t,e,n){return e=Rx(e),Nde(t,Wz()?Reflect.construct(e,n||[],Rx(t).constructor):e.apply(t,n))}function Nde(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kde(t)}function kde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wz=function(){return!!t})()}function Rx(t){return Rx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Rx(t)}function Ude(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EE(t,e)}function EE(t,e){return EE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},EE(t,e)}function YL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function qL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YL(Object(n),!0).forEach(function(r){F2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function F2(t,e,n){return e=$z(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $z(t){var e=Fde(t,"string");return vh(e)=="symbol"?e:e+""}function Fde(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Bde(t,e){return Gde(t)||jde(t,e)||Hde(t,e)||zde()}function zde(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Hde(t,e){if(t){if(typeof t=="string")return KL(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return KL(t,e)}}function KL(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function jde(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Gde(t){if(Array.isArray(t))return t}function AE(){return AE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AE.apply(this,arguments)}var Vde=function(e,n){var r;return Se.isValidElement(e)?r=Se.cloneElement(e,n):Xt(e)?r=e(n):r=Se.createElement("line",AE({},n,{className:"recharts-reference-line-line"})),r},Wde=function(e,n,r,i,a,o,s,l,u){var c=a.x,f=a.y,h=a.width,m=a.height;if(r){var g=u.y,y=e.y.apply(g,{position:o});if(No(u,"discard")&&!e.y.isInRange(y))return null;var x=[{x:c+h,y},{x:c,y}];return l==="left"?x.reverse():x}if(n){var v=u.x,S=e.x.apply(v,{position:o});if(No(u,"discard")&&!e.x.isInRange(S))return null;var _=[{x:S,y:f+m},{x:S,y:f}];return s==="top"?_.reverse():_}if(i){var b=u.segment,E=b.map(function(M){return e.apply(M,{position:o})});return No(u,"discard")&&phe(E,function(M){return!e.isInRange(M)})?null:E}return null};function $de(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,a=t.yAxisId,o=t.shape,s=t.className,l=t.alwaysShow,u=Ade(),c=Gz(i),f=Vz(a),h=Cde();if(!u||!h)return null;ws(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=L2({x:c.scale,y:f.scale}),g=Ar(e),y=Ar(n),x=r&&r.length===2,v=Wde(m,g,y,x,h,t.position,c.orientation,f.orientation,t);if(!v)return null;var S=Bde(v,2),_=S[0],b=_.x,E=_.y,M=S[1],T=M.x,C=M.y,P=No(t,"hidden")?"url(#".concat(u,")"):void 0,O=qL(qL({clipPath:P},nn(t,!0)),{},{x1:b,y1:E,x2:T,y2:C});return Se.createElement(ur,{className:ln("recharts-reference-line",s)},Vde(o,O),li.renderCallByParent(t,rde({x1:b,y1:E,x2:T,y2:C})))}var V_=function(t){function e(){return Rde(this,e),Dde(this,e,arguments)}return Ude(e,t),Lde(e,[{key:"render",value:function(){return Se.createElement($de,this.props)}}])}(Se.Component);F2(V_,"displayName","ReferenceLine");F2(V_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function TE(){return TE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},TE.apply(this,arguments)}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function ZL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JL(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZL(Object(n),!0).forEach(function(r){W_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xde(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Yde(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yz(r.key),r)}}function qde(t,e,n){return e&&Yde(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Kde(t,e,n){return e=Ix(e),Zde(t,Xz()?Reflect.construct(e,n||[],Ix(t).constructor):e.apply(t,n))}function Zde(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jde(t)}function Jde(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xz=function(){return!!t})()}function Ix(t){return Ix=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ix(t)}function Qde(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PE(t,e)}function PE(t,e){return PE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PE(t,e)}function W_(t,e,n){return e=Yz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yz(t){var e=epe(t,"string");return yh(e)=="symbol"?e:e+""}function epe(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var tpe=function(e){var n=e.x,r=e.y,i=e.xAxis,a=e.yAxis,o=L2({x:i.scale,y:a.scale}),s=o.apply({x:n,y:r},{bandAware:!0});return No(e,"discard")&&!o.isInRange(s)?null:s},$_=function(t){function e(){return Xde(this,e),Kde(this,e,arguments)}return Qde(e,t),qde(e,[{key:"render",value:function(){var r=this.props,i=r.x,a=r.y,o=r.r,s=r.alwaysShow,l=r.clipPathId,u=Ar(i),c=Ar(a);if(ws(s===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!c)return null;var f=tpe(this.props);if(!f)return null;var h=f.x,m=f.y,g=this.props,y=g.shape,x=g.className,v=No(this.props,"hidden")?"url(#".concat(l,")"):void 0,S=JL(JL({clipPath:v},nn(this.props,!0)),{},{cx:h,cy:m});return Se.createElement(ur,{className:ln("recharts-reference-dot",x)},e.renderDot(y,S),li.renderCallByParent(this.props,{x:h-o,y:m-o,width:2*o,height:2*o}))}}])}(Se.Component);W_($_,"displayName","ReferenceDot");W_($_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});W_($_,"renderDot",function(t,e){var n;return Se.isValidElement(t)?n=Se.cloneElement(t,e):Xt(t)?n=t(e):n=Se.createElement(I2,TE({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function CE(){return CE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CE.apply(this,arguments)}function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function QL(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function eD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QL(Object(n),!0).forEach(function(r){X_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QL(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function npe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rpe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Kz(r.key),r)}}function ipe(t,e,n){return e&&rpe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e,n){return e=Lx(e),ope(t,qz()?Reflect.construct(e,n||[],Lx(t).constructor):e.apply(t,n))}function ope(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return spe(t)}function spe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qz=function(){return!!t})()}function Lx(t){return Lx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Lx(t)}function lpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OE(t,e)}function OE(t,e){return OE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OE(t,e)}function X_(t,e,n){return e=Kz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Kz(t){var e=upe(t,"string");return xh(e)=="symbol"?e:e+""}function upe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cpe=function(e,n,r,i,a){var o=a.x1,s=a.x2,l=a.y1,u=a.y2,c=a.xAxis,f=a.yAxis;if(!c||!f)return null;var h=L2({x:c.scale,y:f.scale}),m={x:e?h.x.apply(o,{position:"start"}):h.x.rangeMin,y:r?h.y.apply(l,{position:"start"}):h.y.rangeMin},g={x:n?h.x.apply(s,{position:"end"}):h.x.rangeMax,y:i?h.y.apply(u,{position:"end"}):h.y.rangeMax};return No(a,"discard")&&(!h.isInRange(m)||!h.isInRange(g))?null:kz(m,g)},Y_=function(t){function e(){return npe(this,e),ape(this,e,arguments)}return lpe(e,t),ipe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,a=r.x2,o=r.y1,s=r.y2,l=r.className,u=r.alwaysShow,c=r.clipPathId;ws(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Ar(i),h=Ar(a),m=Ar(o),g=Ar(s),y=this.props.shape;if(!f&&!h&&!m&&!g&&!y)return null;var x=cpe(f,h,m,g,this.props);if(!x&&!y)return null;var v=No(this.props,"hidden")?"url(#".concat(c,")"):void 0;return Se.createElement(ur,{className:ln("recharts-reference-area",l)},e.renderRect(y,eD(eD({clipPath:v},nn(this.props,!0)),x)),li.renderCallByParent(this.props,x))}}])}(Se.Component);X_(Y_,"displayName","ReferenceArea");X_(Y_,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});X_(Y_,"renderRect",function(t,e){var n;return Se.isValidElement(t)?n=Se.cloneElement(t,e):Xt(t)?n=t(e):n=Se.createElement(R2,CE({},e,{className:"recharts-reference-area-rect"})),n});function Zz(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function fpe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return ade(r,n)}function hpe(t,e,n){var r=n==="width",i=t.x,a=t.y,o=t.width,s=t.height;return e===1?{start:r?i:a,end:r?i+o:a+s}:{start:r?i+o:a+s,end:r?i:a}}function Dx(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var a=n();return t*(e-t*a/2-r)>=0&&t*(e+t*a/2-i)<=0}function dpe(t,e){return Zz(t,e+1)}function ppe(t,e,n,r,i){for(var a=(r||[]).slice(),o=e.start,s=e.end,l=0,u=1,c=o,f=function(){var g=r==null?void 0:r[l];if(g===void 0)return{v:Zz(r,u)};var y=l,x,v=function(){return x===void 0&&(x=n(g,y)),x},S=g.coordinate,_=l===0||Dx(t,S,v,c,s);_||(l=0,c=o,u+=1),_&&(c=S+t*(v()/2+i),l+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Tm(t){"@babel/helpers - typeof";return Tm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tm(t)}function tD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function oi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tD(Object(n),!0).forEach(function(r){mpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mpe(t,e,n){return e=gpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gpe(t){var e=vpe(t,"string");return Tm(e)=="symbol"?e:e+""}function vpe(t,e){if(Tm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Tm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ype(t,e,n,r,i){for(var a=(r||[]).slice(),o=a.length,s=e.start,l=e.end,u=function(h){var m=a[h],g,y=function(){return g===void 0&&(g=n(m,h)),g};if(h===o-1){var x=t*(m.coordinate+t*y()/2-l);a[h]=m=oi(oi({},m),{},{tickCoord:x>0?m.coordinate-x*t:m.coordinate})}else a[h]=m=oi(oi({},m),{},{tickCoord:m.coordinate});var v=Dx(t,m.tickCoord,y,s,l);v&&(l=m.tickCoord-t*(y()/2+i),a[h]=oi(oi({},m),{},{isShow:!0}))},c=o-1;c>=0;c--)u(c);return a}function xpe(t,e,n,r,i,a){var o=(r||[]).slice(),s=o.length,l=e.start,u=e.end;if(a){var c=r[s-1],f=n(c,s-1),h=t*(c.coordinate+t*f/2-u);o[s-1]=c=oi(oi({},c),{},{tickCoord:h>0?c.coordinate-h*t:c.coordinate});var m=Dx(t,c.tickCoord,function(){return f},l,u);m&&(u=c.tickCoord-t*(f/2+i),o[s-1]=oi(oi({},c),{},{isShow:!0}))}for(var g=a?s-1:s,y=function(S){var _=o[S],b,E=function(){return b===void 0&&(b=n(_,S)),b};if(S===0){var M=t*(_.coordinate-t*E()/2-l);o[S]=_=oi(oi({},_),{},{tickCoord:M<0?_.coordinate-M*t:_.coordinate})}else o[S]=_=oi(oi({},_),{},{tickCoord:_.coordinate});var T=Dx(t,_.tickCoord,E,l,u);T&&(l=_.tickCoord+t*(E()/2+i),o[S]=oi(oi({},_),{},{isShow:!0}))},x=0;x<g;x++)y(x);return o}function B2(t,e,n){var r=t.tick,i=t.ticks,a=t.viewBox,o=t.minTickGap,s=t.orientation,l=t.interval,u=t.tickFormatter,c=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(st(l)||jh.isSsr)return dpe(i,typeof l=="number"&&st(l)?l:0);var h=[],m=s==="top"||s==="bottom"?"width":"height",g=c&&m==="width"?xp(c,{fontSize:e,letterSpacing:n}):{width:0,height:0},y=function(_,b){var E=Xt(u)?u(_.value,b):_.value;return m==="width"?fpe(xp(E,{fontSize:e,letterSpacing:n}),g,f):xp(E,{fontSize:e,letterSpacing:n})[m]},x=i.length>=2?co(i[1].coordinate-i[0].coordinate):1,v=hpe(a,x,m);return l==="equidistantPreserveStart"?ppe(x,v,y,i,o):(l==="preserveStart"||l==="preserveStartEnd"?h=xpe(x,v,y,i,o,l==="preserveStartEnd"):h=ype(x,v,y,i,o),h.filter(function(S){return S.isShow}))}var _pe=["viewBox"],Spe=["viewBox"],wpe=["ticks"];function _h(t){"@babel/helpers - typeof";return _h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_h(t)}function Of(){return Of=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Of.apply(this,arguments)}function nD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nD(Object(n),!0).forEach(function(r){z2(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _w(t,e){if(t==null)return{};var n=bpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function bpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Mpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qz(r.key),r)}}function Epe(t,e,n){return e&&rD(t.prototype,e),n&&rD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ape(t,e,n){return e=Nx(e),Tpe(t,Jz()?Reflect.construct(e,n||[],Nx(t).constructor):e.apply(t,n))}function Tpe(t,e){if(e&&(_h(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ppe(t)}function Ppe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jz(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jz=function(){return!!t})()}function Nx(t){return Nx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Nx(t)}function Cpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RE(t,e)}function RE(t,e){return RE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RE(t,e)}function z2(t,e,n){return e=Qz(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qz(t){var e=Ope(t,"string");return _h(e)=="symbol"?e:e+""}function Ope(t,e){if(_h(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(_h(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $h=function(t){function e(n){var r;return Mpe(this,e),r=Ape(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return Cpe(e,t),Epe(e,[{key:"shouldComponentUpdate",value:function(r,i){var a=r.viewBox,o=_w(r,_pe),s=this.props,l=s.viewBox,u=_w(s,Spe);return!Vf(a,l)||!Vf(o,u)||!Vf(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,a=i.x,o=i.y,s=i.width,l=i.height,u=i.orientation,c=i.tickSize,f=i.mirror,h=i.tickMargin,m,g,y,x,v,S,_=f?-1:1,b=r.tickSize||c,E=st(r.tickCoord)?r.tickCoord:r.coordinate;switch(u){case"top":m=g=r.coordinate,x=o+ +!f*l,y=x-_*b,S=y-_*h,v=E;break;case"left":y=x=r.coordinate,g=a+ +!f*s,m=g-_*b,v=m-_*h,S=E;break;case"right":y=x=r.coordinate,g=a+ +f*s,m=g+_*b,v=m+_*h,S=E;break;default:m=g=r.coordinate,x=o+ +f*l,y=x+_*b,S=y+_*h,v=E;break}return{line:{x1:m,y1:y,x2:g,y2:x},tick:{x:v,y:S}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o;switch(i){case"left":o=a?"start":"end";break;case"right":o=a?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,a=r.mirror,o="end";switch(i){case"left":case"right":o="middle";break;case"top":o=a?"start":"end";break;default:o=a?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,a=r.y,o=r.width,s=r.height,l=r.orientation,u=r.mirror,c=r.axisLine,f=wr(wr(wr({},nn(this.props,!1)),nn(c,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var h=+(l==="top"&&!u||l==="bottom"&&u);f=wr(wr({},f),{},{x1:i,y1:a+h*s,x2:i+o,y2:a+h*s})}else{var m=+(l==="left"&&!u||l==="right"&&u);f=wr(wr({},f),{},{x1:i+m*o,y1:a,x2:i+m*o,y2:a+s})}return Se.createElement("line",Of({},f,{className:ln("recharts-cartesian-axis-line",Ba(c,"className"))}))}},{key:"renderTicks",value:function(r,i,a){var o=this,s=this.props,l=s.tickLine,u=s.stroke,c=s.tick,f=s.tickFormatter,h=s.unit,m=B2(wr(wr({},this.props),{},{ticks:r}),i,a),g=this.getTickTextAnchor(),y=this.getTickVerticalAnchor(),x=nn(this.props,!1),v=nn(c,!1),S=wr(wr({},x),{},{fill:"none"},nn(l,!1)),_=m.map(function(b,E){var M=o.getTickLineCoord(b),T=M.line,C=M.tick,P=wr(wr(wr(wr({textAnchor:g,verticalAnchor:y},x),{},{stroke:"none",fill:u},v),C),{},{index:E,payload:b,visibleTicksCount:m.length,tickFormatter:f});return Se.createElement(ur,Of({className:"recharts-cartesian-axis-tick",key:"tick-".concat(b.value,"-").concat(b.coordinate,"-").concat(b.tickCoord)},G0(o.props,b,E)),l&&Se.createElement("line",Of({},S,T,{className:ln("recharts-cartesian-axis-tick-line",Ba(l,"className"))})),c&&e.renderTickItem(c,P,"".concat(Xt(f)?f(b.value,E):b.value).concat(h||"")))});return Se.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,a=i.axisLine,o=i.width,s=i.height,l=i.ticksGenerator,u=i.className,c=i.hide;if(c)return null;var f=this.props,h=f.ticks,m=_w(f,wpe),g=h;return Xt(l)&&(g=h&&h.length>0?l(this.props):l(m)),o<=0||s<=0||!g||!g.length?null:Se.createElement(ur,{className:ln("recharts-cartesian-axis",u),ref:function(x){r.layerReference=x}},a&&this.renderAxisLine(),this.renderTicks(g,this.state.fontSize,this.state.letterSpacing),li.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,a){var o,s=ln(i.className,"recharts-cartesian-axis-tick-value");return Se.isValidElement(r)?o=Se.cloneElement(r,wr(wr({},i),{},{className:s})):Xt(r)?o=r(wr(wr({},i),{},{className:s})):o=Se.createElement(rx,Of({},i,{className:"recharts-cartesian-axis-tick-value"}),a),o}}])}(he.Component);z2($h,"displayName","CartesianAxis");z2($h,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var Rpe=["x1","y1","x2","y2","key"],Ipe=["offset"];function lc(t){"@babel/helpers - typeof";return lc=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lc(t)}function iD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ui(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iD(Object(n),!0).forEach(function(r){Lpe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lpe(t,e,n){return e=Dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Dpe(t){var e=Npe(t,"string");return lc(e)=="symbol"?e:e+""}function Npe(t,e){if(lc(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(lc(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function aD(t,e){if(t==null)return{};var n=kpe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function kpe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Upe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,a=e.y,o=e.width,s=e.height,l=e.ry;return Se.createElement("rect",{x:i,y:a,ry:l,width:o,height:s,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function e5(t,e){var n;if(Se.isValidElement(t))n=Se.cloneElement(t,e);else if(Xt(t))n=t(e);else{var r=e.x1,i=e.y1,a=e.x2,o=e.y2,s=e.key,l=aD(e,Rpe),u=nn(l,!1);u.offset;var c=aD(u,Ipe);n=Se.createElement("line",Nu({},c,{x1:r,y1:i,x2:a,y2:o,fill:"none",key:s}))}return n}function Fpe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,a=t.horizontalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=ui(ui({},t),{},{x1:e,y1:s,x2:e+n,y2:s,key:"line-".concat(l),index:l});return e5(i,u)});return Se.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Bpe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,a=t.verticalPoints;if(!i||!a||!a.length)return null;var o=a.map(function(s,l){var u=ui(ui({},t),{},{x1:s,y1:e,x2:s,y2:e+n,key:"line-".concat(l),index:l});return e5(i,u)});return Se.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function zpe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,a=t.width,o=t.height,s=t.horizontalPoints,l=t.horizontal,u=l===void 0?!0:l;if(!u||!e||!e.length)return null;var c=s.map(function(h){return Math.round(h+i-i)}).sort(function(h,m){return h-m});i!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],y=g?i+o-h:c[m+1]-h;if(y<=0)return null;var x=m%e.length;return Se.createElement("rect",{key:"react-".concat(m),y:h,x:r,height:y,width:a,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function Hpe(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,a=t.x,o=t.y,s=t.width,l=t.height,u=t.verticalPoints;if(!n||!r||!r.length)return null;var c=u.map(function(h){return Math.round(h+a-a)}).sort(function(h,m){return h-m});a!==c[0]&&c.unshift(0);var f=c.map(function(h,m){var g=!c[m+1],y=g?a+s-h:c[m+1]-h;if(y<=0)return null;var x=m%r.length;return Se.createElement("rect",{key:"react-".concat(m),x:h,y:o,width:y,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return Se.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var jpe=function(e,n){var r=e.xAxis,i=e.width,a=e.height,o=e.offset;return cz(B2(ui(ui(ui({},$h.defaultProps),r),{},{ticks:ys(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.left,o.left+o.width,n)},Gpe=function(e,n){var r=e.yAxis,i=e.width,a=e.height,o=e.offset;return cz(B2(ui(ui(ui({},$h.defaultProps),r),{},{ticks:ys(r,!0),viewBox:{x:0,y:0,width:i,height:a}})),o.top,o.top+o.height,n)},jc={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function t5(t){var e,n,r,i,a,o,s=k2(),l=U2(),u=Ode(),c=ui(ui({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:jc.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:jc.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:jc.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:jc.horizontalFill,vertical:(a=t.vertical)!==null&&a!==void 0?a:jc.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:jc.verticalFill,x:st(t.x)?t.x:u.left,y:st(t.y)?t.y:u.top,width:st(t.width)?t.width:u.width,height:st(t.height)?t.height:u.height}),f=c.x,h=c.y,m=c.width,g=c.height,y=c.syncWithTicks,x=c.horizontalValues,v=c.verticalValues,S=Tde(),_=Pde();if(!st(m)||m<=0||!st(g)||g<=0||!st(f)||f!==+f||!st(h)||h!==+h)return null;var b=c.verticalCoordinatesGenerator||jpe,E=c.horizontalCoordinatesGenerator||Gpe,M=c.horizontalPoints,T=c.verticalPoints;if((!M||!M.length)&&Xt(E)){var C=x&&x.length,P=E({yAxis:_?ui(ui({},_),{},{ticks:C?x:_.ticks}):void 0,width:s,height:l,offset:u},C?!0:y);ws(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lc(P),"]")),Array.isArray(P)&&(M=P)}if((!T||!T.length)&&Xt(b)){var O=v&&v.length,I=b({xAxis:S?ui(ui({},S),{},{ticks:O?v:S.ticks}):void 0,width:s,height:l,offset:u},O?!0:y);ws(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lc(I),"]")),Array.isArray(I)&&(T=I)}return Se.createElement("g",{className:"recharts-cartesian-grid"},Se.createElement(Upe,{fill:c.fill,fillOpacity:c.fillOpacity,x:c.x,y:c.y,width:c.width,height:c.height,ry:c.ry}),Se.createElement(Fpe,Nu({},c,{offset:u,horizontalPoints:M,xAxis:S,yAxis:_})),Se.createElement(Bpe,Nu({},c,{offset:u,verticalPoints:T,xAxis:S,yAxis:_})),Se.createElement(zpe,Nu({},c,{horizontalPoints:M})),Se.createElement(Hpe,Nu({},c,{verticalPoints:T})))}t5.displayName="CartesianGrid";var Vpe=["type","layout","connectNulls","ref"],Wpe=["key"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function oD(t,e){if(t==null)return{};var n=$pe(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function $pe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function bp(){return bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bp.apply(this,arguments)}function sD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function na(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sD(Object(n),!0).forEach(function(r){ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Gc(t){return Kpe(t)||qpe(t)||Ype(t)||Xpe()}function Xpe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ype(t,e){if(t){if(typeof t=="string")return IE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return IE(t,e)}}function qpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Kpe(t){if(Array.isArray(t))return IE(t)}function IE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zpe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function lD(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r5(r.key),r)}}function Jpe(t,e,n){return e&&lD(t.prototype,e),n&&lD(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qpe(t,e,n){return e=kx(e),eme(t,n5()?Reflect.construct(e,n||[],kx(t).constructor):e.apply(t,n))}function eme(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tme(t)}function tme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function n5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(n5=function(){return!!t})()}function kx(t){return kx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kx(t)}function nme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LE(t,e)}function LE(t,e){return LE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},LE(t,e)}function ao(t,e,n){return e=r5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r5(t){var e=rme(t,"string");return Sh(e)=="symbol"?e:e+""}function rme(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $u=function(t){function e(){var n;Zpe(this,e);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=Qpe(this,e,[].concat(i)),ao(n,"state",{isAnimationFinished:!0,totalLength:0}),ao(n,"generateSimpleStrokeDasharray",function(o,s){return"".concat(s,"px ").concat(o-s,"px")}),ao(n,"getStrokeDasharray",function(o,s,l){var u=l.reduce(function(v,S){return v+S});if(!u)return n.generateSimpleStrokeDasharray(s,o);for(var c=Math.floor(o/u),f=o%u,h=s-o,m=[],g=0,y=0;g<l.length;y+=l[g],++g)if(y+l[g]>f){m=[].concat(Gc(l.slice(0,g)),[f-y]);break}var x=m.length%2===0?[0,h]:[h];return[].concat(Gc(e.repeat(l,c)),Gc(m),x).map(function(v){return"".concat(v,"px")}).join(", ")}),ao(n,"id",og("recharts-line-")),ao(n,"pathRef",function(o){n.mainCurve=o}),ao(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),ao(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return nme(e,t),Jpe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var a=this.props,o=a.points,s=a.xAxis,l=a.yAxis,u=a.layout,c=a.children,f=za(c,hg);if(!f)return null;var h=function(y,x){return{x:y.x,y:y.y,value:y.value,errorVal:pa(y.payload,x)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return Se.createElement(ur,m,f.map(function(g){return Se.cloneElement(g,{key:"bar-".concat(g.props.dataKey),data:o,xAxis:s,yAxis:l,layout:u,dataPointFormatter:h})}))}},{key:"renderDots",value:function(r,i,a){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var s=this.props,l=s.dot,u=s.points,c=s.dataKey,f=nn(this.props,!1),h=nn(l,!0),m=u.map(function(y,x){var v=na(na(na({key:"dot-".concat(x),r:3},f),h),{},{index:x,cx:y.x,cy:y.y,value:y.value,dataKey:c,payload:y.payload,points:u});return e.renderDotItem(l,v)}),g={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(a,")"):null};return Se.createElement(ur,bp({className:"recharts-line-dots",key:"dots"},g),m)}},{key:"renderCurveStatically",value:function(r,i,a,o){var s=this.props,l=s.type,u=s.layout,c=s.connectNulls;s.ref;var f=oD(s,Vpe),h=na(na(na({},nn(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(a,")"):null,points:r},o),{},{type:l,layout:u,connectNulls:c});return Se.createElement(cE,bp({},h,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var a=this,o=this.props,s=o.points,l=o.strokeDasharray,u=o.isAnimationActive,c=o.animationBegin,f=o.animationDuration,h=o.animationEasing,m=o.animationId,g=o.animateNewValues,y=o.width,x=o.height,v=this.state,S=v.prevPoints,_=v.totalLength;return Se.createElement(Is,{begin:c,duration:f,isActive:u,easing:h,from:{t:0},to:{t:1},key:"line-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var E=b.t;if(S){var M=S.length/s.length,T=s.map(function(D,F){var B=Math.floor(F*M);if(S[B]){var W=S[B],V=so(W.x,D.x),Q=so(W.y,D.y);return na(na({},D),{},{x:V(E),y:Q(E)})}if(g){var N=so(y*2,D.x),j=so(x/2,D.y);return na(na({},D),{},{x:N(E),y:j(E)})}return na(na({},D),{},{x:D.x,y:D.y})});return a.renderCurveStatically(T,r,i)}var C=so(0,_),P=C(E),O;if(l){var I="".concat(l).split(/[,\s]+/gim).map(function(D){return parseFloat(D)});O=a.getStrokeDasharray(P,_,I)}else O=a.generateSimpleStrokeDasharray(_,P);return a.renderCurveStatically(s,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var a=this.props,o=a.points,s=a.isAnimationActive,l=this.state,u=l.prevPoints,c=l.totalLength;return s&&o&&o.length&&(!u&&c>0||!F_(u,o))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(o,r,i)}},{key:"render",value:function(){var r,i=this.props,a=i.hide,o=i.dot,s=i.points,l=i.className,u=i.xAxis,c=i.yAxis,f=i.top,h=i.left,m=i.width,g=i.height,y=i.isAnimationActive,x=i.id;if(a||!s||!s.length)return null;var v=this.state.isAnimationFinished,S=s.length===1,_=ln("recharts-line",l),b=u&&u.allowDataOverflow,E=c&&c.allowDataOverflow,M=b||E,T=Qt(x)?this.id:x,C=(r=nn(o,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=C.r,O=P===void 0?3:P,I=C.strokeWidth,D=I===void 0?2:I,F=m7(o)?o:{},B=F.clipDot,W=B===void 0?!0:B,V=O*2+D;return Se.createElement(ur,{className:_},b||E?Se.createElement("defs",null,Se.createElement("clipPath",{id:"clipPath-".concat(T)},Se.createElement("rect",{x:b?h:h-m/2,y:E?f:f-g/2,width:b?m:m*2,height:E?g:g*2})),!W&&Se.createElement("clipPath",{id:"clipPath-dots-".concat(T)},Se.createElement("rect",{x:h-V/2,y:f-V/2,width:m+V,height:g+V}))):null,!S&&this.renderCurve(M,T),this.renderErrorBar(M,T),(S||o)&&this.renderDots(M,W,T),(!y||v)&&Al.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var a=r.length%2!==0?[].concat(Gc(r),[0]):r,o=[],s=0;s<i;++s)o=[].concat(Gc(o),Gc(a));return o}},{key:"renderDotItem",value:function(r,i){var a;if(Se.isValidElement(r))a=Se.cloneElement(r,i);else if(Xt(r))a=r(i);else{var o=i.key,s=oD(i,Wpe),l=ln("recharts-line-dot",typeof r!="boolean"?r.className:"");a=Se.createElement(I2,bp({key:o},s,{className:l}))}return a}}])}(he.PureComponent);ao($u,"displayName","Line");ao($u,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!jh.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ao($u,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,a=t.yAxisTicks,o=t.dataKey,s=t.bandSize,l=t.displayedData,u=t.offset,c=e.layout,f=l.map(function(h,m){var g=pa(h,o);return c==="horizontal"?{x:jI({axis:n,ticks:i,bandSize:s,entry:h,index:m}),y:Qt(g)?null:r.scale(g),value:g,payload:h}:{x:Qt(g)?null:n.scale(g),y:jI({axis:r,ticks:a,bandSize:s,entry:h,index:m}),value:g,payload:h}});return na({points:f,layout:c},u)});function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function ime(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ame(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,o5(r.key),r)}}function ome(t,e,n){return e&&ame(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function sme(t,e,n){return e=Ux(e),lme(t,i5()?Reflect.construct(e,n||[],Ux(t).constructor):e.apply(t,n))}function lme(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ume(t)}function ume(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function i5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(i5=function(){return!!t})()}function Ux(t){return Ux=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ux(t)}function cme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DE(t,e)}function DE(t,e){return DE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DE(t,e)}function a5(t,e,n){return e=o5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o5(t){var e=fme(t,"string");return wh(e)=="symbol"?e:e+""}function fme(t,e){if(wh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(wh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function NE(){return NE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NE.apply(this,arguments)}function hme(t){var e=t.xAxisId,n=k2(),r=U2(),i=Gz(e);return i==null?null:he.createElement($h,NE({},i,{className:ln("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(o){return ys(o,!0)}}))}var q_=function(t){function e(){return ime(this,e),sme(this,e,arguments)}return cme(e,t),ome(e,[{key:"render",value:function(){return he.createElement(hme,this.props)}}])}(he.Component);a5(q_,"displayName","XAxis");a5(q_,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function dme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function pme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,u5(r.key),r)}}function mme(t,e,n){return e&&pme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function gme(t,e,n){return e=Fx(e),vme(t,s5()?Reflect.construct(e,n||[],Fx(t).constructor):e.apply(t,n))}function vme(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return yme(t)}function yme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function s5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(s5=function(){return!!t})()}function Fx(t){return Fx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fx(t)}function xme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kE(t,e)}function kE(t,e){return kE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kE(t,e)}function l5(t,e,n){return e=u5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function u5(t){var e=_me(t,"string");return bh(e)=="symbol"?e:e+""}function _me(t,e){if(bh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(bh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function UE(){return UE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UE.apply(this,arguments)}var Sme=function(e){var n=e.yAxisId,r=k2(),i=U2(),a=Vz(n);return a==null?null:he.createElement($h,UE({},a,{className:ln("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(s){return ys(s,!0)}}))},K_=function(t){function e(){return dme(this,e),gme(this,e,arguments)}return xme(e,t),mme(e,[{key:"render",value:function(){return he.createElement(Sme,this.props)}}])}(he.Component);l5(K_,"displayName","YAxis");l5(K_,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function uD(t){return Eme(t)||Mme(t)||bme(t)||wme()}function wme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bme(t,e){if(t){if(typeof t=="string")return FE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FE(t,e)}}function Mme(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Eme(t){if(Array.isArray(t))return FE(t)}function FE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var BE=function(e,n,r,i,a){var o=za(e,V_),s=za(e,$_),l=[].concat(uD(o),uD(s)),u=za(e,Y_),c="".concat(i,"Id"),f=i[0],h=n;if(l.length&&(h=l.reduce(function(y,x){if(x.props[c]===r&&No(x.props,"extendDomain")&&st(x.props[f])){var v=x.props[f];return[Math.min(y[0],v),Math.max(y[1],v)]}return y},h)),u.length){var m="".concat(f,"1"),g="".concat(f,"2");h=u.reduce(function(y,x){if(x.props[c]===r&&No(x.props,"extendDomain")&&st(x.props[m])&&st(x.props[g])){var v=x.props[m],S=x.props[g];return[Math.min(y[0],v,S),Math.max(y[1],v,S)]}return y},h)}return a&&a.length&&(h=a.reduce(function(y,x){return st(x)?[Math.min(y[0],x),Math.max(y[1],x)]:y},h)),h},c5={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,u,c){this.fn=l,this.context=u,this.once=c||!1}function a(l,u,c,f,h){if(typeof c!="function")throw new TypeError("The listener must be a function");var m=new i(c,f||l,h),g=n?n+u:u;return l._events[g]?l._events[g].fn?l._events[g]=[l._events[g],m]:l._events[g].push(m):(l._events[g]=m,l._eventsCount++),l}function o(l,u){--l._eventsCount===0?l._events=new r:delete l._events[u]}function s(){this._events=new r,this._eventsCount=0}s.prototype.eventNames=function(){var u=[],c,f;if(this._eventsCount===0)return u;for(f in c=this._events)e.call(c,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},s.prototype.listeners=function(u){var c=n?n+u:u,f=this._events[c];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,g=new Array(m);h<m;h++)g[h]=f[h].fn;return g},s.prototype.listenerCount=function(u){var c=n?n+u:u,f=this._events[c];return f?f.fn?1:f.length:0},s.prototype.emit=function(u,c,f,h,m,g){var y=n?n+u:u;if(!this._events[y])return!1;var x=this._events[y],v=arguments.length,S,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),v){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,f),!0;case 4:return x.fn.call(x.context,c,f,h),!0;case 5:return x.fn.call(x.context,c,f,h,m),!0;case 6:return x.fn.call(x.context,c,f,h,m,g),!0}for(_=1,S=new Array(v-1);_<v;_++)S[_-1]=arguments[_];x.fn.apply(x.context,S)}else{var b=x.length,E;for(_=0;_<b;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),v){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,f);break;case 4:x[_].fn.call(x[_].context,c,f,h);break;default:if(!S)for(E=1,S=new Array(v-1);E<v;E++)S[E-1]=arguments[E];x[_].fn.apply(x[_].context,S)}}return!0},s.prototype.on=function(u,c,f){return a(this,u,c,f,!1)},s.prototype.once=function(u,c,f){return a(this,u,c,f,!0)},s.prototype.removeListener=function(u,c,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!h||g.once)&&(!f||g.context===f)&&o(this,m);else{for(var y=0,x=[],v=g.length;y<v;y++)(g[y].fn!==c||h&&!g[y].once||f&&g[y].context!==f)&&x.push(g[y]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},s.prototype.removeAllListeners=function(u){var c;return u?(c=n?n+u:u,this._events[c]&&o(this,c)):(this._events=new r,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prefixed=n,s.EventEmitter=s,t.exports=s})(c5);var Ame=c5.exports;const Tme=bn(Ame);var Sw=new Tme,ww="recharts.syncMouseEvents";function Pm(t){"@babel/helpers - typeof";return Pm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pm(t)}function Pme(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Cme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f5(r.key),r)}}function Ome(t,e,n){return e&&Cme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function bw(t,e,n){return e=f5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f5(t){var e=Rme(t,"string");return Pm(e)=="symbol"?e:e+""}function Rme(t,e){if(Pm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Pm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ime=function(){function t(){Pme(this,t),bw(this,"activeIndex",0),bw(this,"coordinateList",[]),bw(this,"layout","horizontal")}return Ome(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,a=i===void 0?null:i,o=n.container,s=o===void 0?null:o,l=n.layout,u=l===void 0?null:l,c=n.offset,f=c===void 0?null:c,h=n.mouseHandlerCallback,m=h===void 0?null:h;this.coordinateList=(r=a??this.coordinateList)!==null&&r!==void 0?r:[],this.container=s??this.container,this.layout=u??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=m??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),a=i.x,o=i.y,s=i.height,l=this.coordinateList[this.activeIndex].coordinate,u=((n=window)===null||n===void 0?void 0:n.scrollX)||0,c=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=a+l+u,h=o+this.offset.top+s/2+c;this.mouseHandlerCallback({pageX:f,pageY:h})}}}])}();function Lme(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&st(r)&&st(i))return!0}return!1}function Dme(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function h5(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,a=t.endAngle,o=Wr(e,n,r,i),s=Wr(e,n,r,a);return{points:[o,s],cx:e,cy:n,radius:r,startAngle:i,endAngle:a}}function Nme(t,e,n){var r,i,a,o;if(t==="horizontal")r=e.x,a=r,i=n.top,o=n.top+n.height;else if(t==="vertical")i=e.y,o=i,r=n.left,a=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var s=e.cx,l=e.cy,u=e.innerRadius,c=e.outerRadius,f=e.angle,h=Wr(s,l,u,f),m=Wr(s,l,c,f);r=h.x,i=h.y,a=m.x,o=m.y}else return h5(e);return[{x:r,y:i},{x:a,y:o}]}function Cm(t){"@babel/helpers - typeof";return Cm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cm(t)}function cD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cD(Object(n),!0).forEach(function(r){kme(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kme(t,e,n){return e=Ume(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ume(t){var e=Fme(t,"string");return Cm(e)=="symbol"?e:e+""}function Fme(t,e){if(Cm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Cm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bme(t){var e,n,r=t.element,i=t.tooltipEventType,a=t.isActive,o=t.activeCoordinate,s=t.activePayload,l=t.offset,u=t.activeTooltipIndex,c=t.tooltipAxisBandSize,f=t.layout,h=t.chartName,m=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!m||!a||!o||h!=="ScatterChart"&&i!=="axis")return null;var g,y=cE;if(h==="ScatterChart")g=o,y=Fce;else if(h==="BarChart")g=Dme(f,o,l,c),y=R2;else if(f==="radial"){var x=h5(o),v=x.cx,S=x.cy,_=x.radius,b=x.startAngle,E=x.endAngle;g={cx:v,cy:S,startAngle:b,endAngle:E,innerRadius:_,outerRadius:_},y=mz}else g={points:Nme(f,o,l)},y=cE;var M=Yv(Yv(Yv(Yv({stroke:"#ccc",pointerEvents:"none"},l),g),nn(m,!1)),{},{payload:s,payloadIndex:u,className:ln("recharts-tooltip-cursor",m.className)});return he.isValidElement(m)?he.cloneElement(m,M):he.createElement(y,M)}var zme=["item"],Hme=["children","className","width","height","style","compact","title","desc"];function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rf.apply(this,arguments)}function fD(t,e){return Vme(t)||Gme(t,e)||p5(t,e)||jme()}function jme(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Gme(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,a,o,s=[],l=!0,u=!1;try{if(a=(n=n.call(t)).next,e!==0)for(;!(l=(r=a.call(n)).done)&&(s.push(r.value),s.length!==e);l=!0);}catch(c){u=!0,i=c}finally{try{if(!l&&n.return!=null&&(o=n.return(),Object(o)!==o))return}finally{if(u)throw i}}return s}}function Vme(t){if(Array.isArray(t))return t}function hD(t,e){if(t==null)return{};var n=Wme(t,e),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(i=0;i<a.length;i++)r=a[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function $me(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Xme(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m5(r.key),r)}}function Yme(t,e,n){return e&&Xme(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qme(t,e,n){return e=Bx(e),Kme(t,d5()?Reflect.construct(e,n||[],Bx(t).constructor):e.apply(t,n))}function Kme(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Zme(t)}function Zme(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function d5(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(d5=function(){return!!t})()}function Bx(t){return Bx=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bx(t)}function Jme(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zE(t,e)}function zE(t,e){return zE=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zE(t,e)}function Eh(t){return tge(t)||ege(t)||p5(t)||Qme()}function Qme(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function p5(t,e){if(t){if(typeof t=="string")return HE(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return HE(t,e)}}function ege(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function tge(t){if(Array.isArray(t))return HE(t)}function HE(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dD(Object(n),!0).forEach(function(r){Lt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Lt(t,e,n){return e=m5(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m5(t){var e=nge(t,"string");return Mh(e)=="symbol"?e:e+""}function nge(t,e){if(Mh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(Mh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rge={xAxis:["bottom","top"],yAxis:["left","right"]},ige={width:"100%",height:"100%"},g5={x:0,y:0};function qv(t){return t}var age=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},oge=function(e,n,r,i){var a=n.find(function(c){return c&&c.index===r});if(a){if(e==="horizontal")return{x:a.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:a.coordinate};if(e==="centric"){var o=a.coordinate,s=i.radius;return $e($e($e({},i),Wr(i.cx,i.cy,s,o)),{},{angle:o,radius:s})}var l=a.coordinate,u=i.angle;return $e($e($e({},i),Wr(i.cx,i.cy,l,u)),{},{angle:u,radius:l})}return g5},Z_=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,a=n.dataEndIndex,o=(r??[]).reduce(function(s,l){var u=l.props.data;return u&&u.length?[].concat(Eh(s),Eh(u)):s},[]);return o.length>0?o:e&&e.length&&st(i)&&st(a)?e.slice(i,a+1):[]};function v5(t){return t==="number"?[0,"auto"]:void 0}var jE=function(e,n,r,i){var a=e.graphicalItems,o=e.tooltipAxis,s=Z_(n,e);return r<0||!a||!a.length||r>=s.length?null:a.reduce(function(l,u){var c,f=(c=u.props.data)!==null&&c!==void 0?c:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var h;if(o.dataKey&&!o.allowDuplicatedCategory){var m=f===void 0?s:f;h=H0(m,o.dataKey,i)}else h=f&&f[r]||s[r];return h?[].concat(Eh(l),[hz(u,h)]):l},[])},pD=function(e,n,r,i){var a=i||{x:e.chartX,y:e.chartY},o=age(a,r),s=e.orderedTooltipTicks,l=e.tooltipAxis,u=e.tooltipTicks,c=xse(o,s,u,l);if(c>=0&&u){var f=u[c]&&u[c].value,h=jE(e,n,c,f),m=oge(r,s,c,a);return{activeTooltipIndex:c,activeLabel:f,activePayload:h,activeCoordinate:m}}return null},sge=function(e,n){var r=n.axes,i=n.graphicalItems,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=e.stackOffset,m=uz(c,a);return r.reduce(function(g,y){var x,v=y.type.defaultProps!==void 0?$e($e({},y.type.defaultProps),y.props):y.props,S=v.type,_=v.dataKey,b=v.allowDataOverflow,E=v.allowDuplicatedCategory,M=v.scale,T=v.ticks,C=v.includeHidden,P=v[o];if(g[P])return g;var O=Z_(e.data,{graphicalItems:i.filter(function($){var ie,Z=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o];return Z===P}),dataStartIndex:l,dataEndIndex:u}),I=O.length,D,F,B;Lme(v.domain,b,S)&&(D=aE(v.domain,null,b),m&&(S==="number"||M!=="auto")&&(B=Sp(O,_,"category")));var W=v5(S);if(!D||D.length===0){var V,Q=(V=v.domain)!==null&&V!==void 0?V:W;if(_){if(D=Sp(O,_,S),S==="category"&&m){var N=a7(D);E&&N?(F=D,D=Ax(0,I)):E||(D=$I(Q,D,y).reduce(function($,ie){return $.indexOf(ie)>=0?$:[].concat(Eh($),[ie])},[]))}else if(S==="category")E?D=D.filter(function($){return $!==""&&!Qt($)}):D=$I(Q,D,y).reduce(function($,ie){return $.indexOf(ie)>=0||ie===""||Qt(ie)?$:[].concat(Eh($),[ie])},[]);else if(S==="number"){var j=Mse(O,i.filter(function($){var ie,Z,ae=o in $.props?$.props[o]:(ie=$.type.defaultProps)===null||ie===void 0?void 0:ie[o],ce="hide"in $.props?$.props.hide:(Z=$.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ae===P&&(C||!ce)}),_,a,c);j&&(D=j)}m&&(S==="number"||M!=="auto")&&(B=Sp(O,_,"category"))}else m?D=Ax(0,I):s&&s[P]&&s[P].hasStack&&S==="number"?D=h==="expand"?[0,1]:fz(s[P].stackGroups,l,u):D=lz(O,i.filter(function($){var ie=o in $.props?$.props[o]:$.type.defaultProps[o],Z="hide"in $.props?$.props.hide:$.type.defaultProps.hide;return ie===P&&(C||!Z)}),S,c,!0);if(S==="number")D=BE(f,D,P,a,T),Q&&(D=aE(Q,D,b));else if(S==="category"&&Q){var G=Q,H=D.every(function($){return G.indexOf($)>=0});H&&(D=G)}}return $e($e({},g),{},Lt({},P,$e($e({},v),{},{axisType:a,domain:D,categoricalDomain:B,duplicateDomain:F,originalDomain:(x=v.domain)!==null&&x!==void 0?x:W,isCategorical:m,layout:c})))},{})},lge=function(e,n){var r=n.graphicalItems,i=n.Axis,a=n.axisType,o=n.axisIdKey,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.layout,f=e.children,h=Z_(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:u}),m=h.length,g=uz(c,a),y=-1;return r.reduce(function(x,v){var S=v.type.defaultProps!==void 0?$e($e({},v.type.defaultProps),v.props):v.props,_=S[o],b=v5("number");if(!x[_]){y++;var E;return g?E=Ax(0,m):s&&s[_]&&s[_].hasStack?(E=fz(s[_].stackGroups,l,u),E=BE(f,E,_,a)):(E=aE(b,lz(h,r.filter(function(M){var T,C,P=o in M.props?M.props[o]:(T=M.type.defaultProps)===null||T===void 0?void 0:T[o],O="hide"in M.props?M.props.hide:(C=M.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===_&&!O}),"number",c),i.defaultProps.allowDataOverflow),E=BE(f,E,_,a)),$e($e({},x),{},Lt({},_,$e($e({axisType:a},i.defaultProps),{},{hide:!0,orientation:Ba(rge,"".concat(a,".").concat(y%2),null),domain:E,originalDomain:b,isCategorical:g,layout:c})))}return x},{})},uge=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,a=n.AxisComp,o=n.graphicalItems,s=n.stackGroups,l=n.dataStartIndex,u=n.dataEndIndex,c=e.children,f="".concat(i,"Id"),h=za(c,a),m={};return h&&h.length?m=sge(e,{axes:h,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u}):o&&o.length&&(m=lge(e,{Axis:a,graphicalItems:o,axisType:i,axisIdKey:f,stackGroups:s,dataStartIndex:l,dataEndIndex:u})),m},cge=function(e){var n=fl(e),r=ys(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:i2(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:vx(n,r)}},mD=function(e){var n=e.children,r=e.defaultShowTooltip,i=aa(n,mh),a=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(a=i.props.startIndex),i.props.endIndex>=0&&(o=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:a,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!r}},fge=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ss(n&&n.type);return r&&r.indexOf("Bar")>=0})},gD=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},hge=function(e,n){var r=e.props,i=e.graphicalItems,a=e.xAxisMap,o=a===void 0?{}:a,s=e.yAxisMap,l=s===void 0?{}:s,u=r.width,c=r.height,f=r.children,h=r.margin||{},m=aa(f,mh),g=aa(f,Wf),y=Object.keys(l).reduce(function(E,M){var T=l[M],C=T.orientation;return!T.mirror&&!T.hide?$e($e({},E),{},Lt({},C,E[C]+T.width)):E},{left:h.left||0,right:h.right||0}),x=Object.keys(o).reduce(function(E,M){var T=o[M],C=T.orientation;return!T.mirror&&!T.hide?$e($e({},E),{},Lt({},C,Ba(E,"".concat(C))+T.height)):E},{top:h.top||0,bottom:h.bottom||0}),v=$e($e({},x),y),S=v.bottom;m&&(v.bottom+=m.props.height||mh.defaultProps.height),g&&n&&(v=wse(v,i,r,n));var _=u-v.left-v.right,b=c-v.top-v.bottom;return $e($e({brushBottom:S},v),{},{width:Math.max(_,0),height:Math.max(b,0)})},dge=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},pge=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,a=i===void 0?"axis":i,o=e.validateTooltipEventTypes,s=o===void 0?["axis"]:o,l=e.axisComponents,u=e.legendContent,c=e.formatAxisMap,f=e.defaultProps,h=function(v,S){var _=S.graphicalItems,b=S.stackGroups,E=S.offset,M=S.updateId,T=S.dataStartIndex,C=S.dataEndIndex,P=v.barSize,O=v.layout,I=v.barGap,D=v.barCategoryGap,F=v.maxBarSize,B=gD(O),W=B.numericAxisName,V=B.cateAxisName,Q=fge(_),N=[];return _.forEach(function(j,G){var H=Z_(v.data,{graphicalItems:[j],dataStartIndex:T,dataEndIndex:C}),$=j.type.defaultProps!==void 0?$e($e({},j.type.defaultProps),j.props):j.props,ie=$.dataKey,Z=$.maxBarSize,ae=$["".concat(W,"Id")],ce=$["".concat(V,"Id")],fe={},Ae=l.reduce(function(U,de){var pe=S["".concat(de.axisType,"Map")],we=$["".concat(de.axisType,"Id")];pe&&pe[we]||de.axisType==="zAxis"||sc();var Ee=pe[we];return $e($e({},U),{},Lt(Lt({},de.axisType,Ee),"".concat(de.axisType,"Ticks"),ys(Ee)))},fe),ve=Ae[V],Ie=Ae["".concat(V,"Ticks")],X=b&&b[ae]&&b[ae].hasStack&&kse(j,b[ae].stackGroups),J=Ss(j.type).indexOf("Bar")>=0,_e=vx(ve,Ie),Me=[],Te=Q&&_se({barSize:P,stackGroups:b,totalSize:dge(Ae,V)});if(J){var Ce,He,Pe=Qt(Z)?F:Z,Xe=(Ce=(He=vx(ve,Ie,!0))!==null&&He!==void 0?He:Pe)!==null&&Ce!==void 0?Ce:0;Me=Sse({barGap:I,barCategoryGap:D,bandSize:Xe!==_e?Xe:_e,sizeList:Te[ce],maxBarSize:Pe}),Xe!==_e&&(Me=Me.map(function(U){return $e($e({},U),{},{position:$e($e({},U.position),{},{offset:U.position.offset-Xe/2})})}))}var q=j&&j.type&&j.type.getComposedData;q&&N.push({props:$e($e({},q($e($e({},Ae),{},{displayedData:H,props:v,dataKey:ie,item:j,bandSize:_e,barPosition:Me,offset:E,stackedData:X,layout:O,dataStartIndex:T,dataEndIndex:C}))),{},Lt(Lt(Lt({key:j.key||"item-".concat(G)},W,Ae[W]),V,Ae[V]),"animationId",M)),childIndex:y7(j,v.children),item:j})}),N},m=function(v,S){var _=v.props,b=v.dataStartIndex,E=v.dataEndIndex,M=v.updateId;if(!BR({props:_}))return null;var T=_.children,C=_.layout,P=_.stackOffset,O=_.data,I=_.reverseStackOrder,D=gD(C),F=D.numericAxisName,B=D.cateAxisName,W=za(T,r),V=Lse(O,W,"".concat(F,"Id"),"".concat(B,"Id"),P,I),Q=l.reduce(function($,ie){var Z="".concat(ie.axisType,"Map");return $e($e({},$),{},Lt({},Z,uge(_,$e($e({},ie),{},{graphicalItems:W,stackGroups:ie.axisType===F&&V,dataStartIndex:b,dataEndIndex:E}))))},{}),N=hge($e($e({},Q),{},{props:_,graphicalItems:W}),S==null?void 0:S.legendBBox);Object.keys(Q).forEach(function($){Q[$]=c(_,Q[$],N,$.replace("Map",""),n)});var j=Q["".concat(B,"Map")],G=cge(j),H=h(_,$e($e({},Q),{},{dataStartIndex:b,dataEndIndex:E,updateId:M,graphicalItems:W,stackGroups:V,offset:N}));return $e($e({formattedGraphicalItems:H,graphicalItems:W,offset:N,stackGroups:V},G),Q)},g=function(x){function v(S){var _,b,E;return $me(this,v),E=qme(this,v,[S]),Lt(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Lt(E,"accessibilityManager",new Ime),Lt(E,"handleLegendBBoxUpdate",function(M){if(M){var T=E.state,C=T.dataStartIndex,P=T.dataEndIndex,O=T.updateId;E.setState($e({legendBBox:M},m({props:E.props,dataStartIndex:C,dataEndIndex:P,updateId:O},$e($e({},E.state),{},{legendBBox:M}))))}}),Lt(E,"handleReceiveSyncEvent",function(M,T,C){if(E.props.syncId===M){if(C===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(T)}}),Lt(E,"handleBrushChange",function(M){var T=M.startIndex,C=M.endIndex;if(T!==E.state.dataStartIndex||C!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return $e({dataStartIndex:T,dataEndIndex:C},m({props:E.props,dataStartIndex:T,dataEndIndex:C,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:T,dataEndIndex:C})}}),Lt(E,"handleMouseEnter",function(M){var T=E.getMouseInfo(M);if(T){var C=$e($e({},T),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var P=E.props.onMouseEnter;Xt(P)&&P(C,M)}}),Lt(E,"triggeredAfterMouseMove",function(M){var T=E.getMouseInfo(M),C=T?$e($e({},T),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(C),E.triggerSyncEvent(C);var P=E.props.onMouseMove;Xt(P)&&P(C,M)}),Lt(E,"handleItemMouseEnter",function(M){E.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Lt(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),Lt(E,"handleMouseMove",function(M){M.persist(),E.throttleTriggeredAfterMouseMove(M)}),Lt(E,"handleMouseLeave",function(M){E.throttleTriggeredAfterMouseMove.cancel();var T={isTooltipActive:!1};E.setState(T),E.triggerSyncEvent(T);var C=E.props.onMouseLeave;Xt(C)&&C(T,M)}),Lt(E,"handleOuterEvent",function(M){var T=v7(M),C=Ba(E.props,"".concat(T));if(T&&Xt(C)){var P,O;/.*touch.*/i.test(T)?O=E.getMouseInfo(M.changedTouches[0]):O=E.getMouseInfo(M),C((P=O)!==null&&P!==void 0?P:{},M)}}),Lt(E,"handleClick",function(M){var T=E.getMouseInfo(M);if(T){var C=$e($e({},T),{},{isTooltipActive:!0});E.setState(C),E.triggerSyncEvent(C);var P=E.props.onClick;Xt(P)&&P(C,M)}}),Lt(E,"handleMouseDown",function(M){var T=E.props.onMouseDown;if(Xt(T)){var C=E.getMouseInfo(M);T(C,M)}}),Lt(E,"handleMouseUp",function(M){var T=E.props.onMouseUp;if(Xt(T)){var C=E.getMouseInfo(M);T(C,M)}}),Lt(E,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Lt(E,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseDown(M.changedTouches[0])}),Lt(E,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&E.handleMouseUp(M.changedTouches[0])}),Lt(E,"handleDoubleClick",function(M){var T=E.props.onDoubleClick;if(Xt(T)){var C=E.getMouseInfo(M);T(C,M)}}),Lt(E,"handleContextMenu",function(M){var T=E.props.onContextMenu;if(Xt(T)){var C=E.getMouseInfo(M);T(C,M)}}),Lt(E,"triggerSyncEvent",function(M){E.props.syncId!==void 0&&Sw.emit(ww,E.props.syncId,M,E.eventEmitterSymbol)}),Lt(E,"applySyncEvent",function(M){var T=E.props,C=T.layout,P=T.syncMethod,O=E.state.updateId,I=M.dataStartIndex,D=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)E.setState($e({dataStartIndex:I,dataEndIndex:D},m({props:E.props,dataStartIndex:I,dataEndIndex:D,updateId:O},E.state)));else if(M.activeTooltipIndex!==void 0){var F=M.chartX,B=M.chartY,W=M.activeTooltipIndex,V=E.state,Q=V.offset,N=V.tooltipTicks;if(!Q)return;if(typeof P=="function")W=P(N,M);else if(P==="value"){W=-1;for(var j=0;j<N.length;j++)if(N[j].value===M.activeLabel){W=j;break}}var G=$e($e({},Q),{},{x:Q.left,y:Q.top}),H=Math.min(F,G.x+G.width),$=Math.min(B,G.y+G.height),ie=N[W]&&N[W].value,Z=jE(E.state,E.props.data,W),ae=N[W]?{x:C==="horizontal"?N[W].coordinate:H,y:C==="horizontal"?$:N[W].coordinate}:g5;E.setState($e($e({},M),{},{activeLabel:ie,activeCoordinate:ae,activePayload:Z,activeTooltipIndex:W}))}else E.setState(M)}),Lt(E,"renderCursor",function(M){var T,C=E.state,P=C.isTooltipActive,O=C.activeCoordinate,I=C.activePayload,D=C.offset,F=C.activeTooltipIndex,B=C.tooltipAxisBandSize,W=E.getTooltipEventType(),V=(T=M.props.active)!==null&&T!==void 0?T:P,Q=E.props.layout,N=M.key||"_recharts-cursor";return Se.createElement(Bme,{key:N,activeCoordinate:O,activePayload:I,activeTooltipIndex:F,chartName:n,element:M,isActive:V,layout:Q,offset:D,tooltipAxisBandSize:B,tooltipEventType:W})}),Lt(E,"renderPolarAxis",function(M,T,C){var P=Ba(M,"type.axisType"),O=Ba(E.state,"".concat(P,"Map")),I=M.type.defaultProps,D=I!==void 0?$e($e({},I),M.props):M.props,F=O&&O[D["".concat(P,"Id")]];return he.cloneElement(M,$e($e({},F),{},{className:ln(P,F.className),key:M.key||"".concat(T,"-").concat(C),ticks:ys(F,!0)}))}),Lt(E,"renderPolarGrid",function(M){var T=M.props,C=T.radialLines,P=T.polarAngles,O=T.polarRadius,I=E.state,D=I.radiusAxisMap,F=I.angleAxisMap,B=fl(D),W=fl(F),V=W.cx,Q=W.cy,N=W.innerRadius,j=W.outerRadius;return he.cloneElement(M,{polarAngles:Array.isArray(P)?P:ys(W,!0).map(function(G){return G.coordinate}),polarRadius:Array.isArray(O)?O:ys(B,!0).map(function(G){return G.coordinate}),cx:V,cy:Q,innerRadius:N,outerRadius:j,key:M.key||"polar-grid",radialLines:C})}),Lt(E,"renderLegend",function(){var M=E.state.formattedGraphicalItems,T=E.props,C=T.children,P=T.width,O=T.height,I=E.props.margin||{},D=P-(I.left||0)-(I.right||0),F=oz({children:C,formattedGraphicalItems:M,legendWidth:D,legendContent:u});if(!F)return null;var B=F.item,W=hD(F,zme);return he.cloneElement(B,$e($e({},W),{},{chartWidth:P,chartHeight:O,margin:I,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),Lt(E,"renderTooltip",function(){var M,T=E.props,C=T.children,P=T.accessibilityLayer,O=aa(C,To);if(!O)return null;var I=E.state,D=I.isTooltipActive,F=I.activeCoordinate,B=I.activePayload,W=I.activeLabel,V=I.offset,Q=(M=O.props.active)!==null&&M!==void 0?M:D;return he.cloneElement(O,{viewBox:$e($e({},V),{},{x:V.left,y:V.top}),active:Q,label:W,payload:Q?B:[],coordinate:F,accessibilityLayer:P})}),Lt(E,"renderBrush",function(M){var T=E.props,C=T.margin,P=T.data,O=E.state,I=O.offset,D=O.dataStartIndex,F=O.dataEndIndex,B=O.updateId;return he.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Vv(E.handleBrushChange,M.props.onChange),data:P,x:st(M.props.x)?M.props.x:I.left,y:st(M.props.y)?M.props.y:I.top+I.height+I.brushBottom-(C.bottom||0),width:st(M.props.width)?M.props.width:I.width,startIndex:D,endIndex:F,updateId:"brush-".concat(B)})}),Lt(E,"renderReferenceElement",function(M,T,C){if(!M)return null;var P=E,O=P.clipPathId,I=E.state,D=I.xAxisMap,F=I.yAxisMap,B=I.offset,W=M.type.defaultProps||{},V=M.props,Q=V.xAxisId,N=Q===void 0?W.xAxisId:Q,j=V.yAxisId,G=j===void 0?W.yAxisId:j;return he.cloneElement(M,{key:M.key||"".concat(T,"-").concat(C),xAxis:D[N],yAxis:F[G],viewBox:{x:B.left,y:B.top,width:B.width,height:B.height},clipPathId:O})}),Lt(E,"renderActivePoints",function(M){var T=M.item,C=M.activePoint,P=M.basePoint,O=M.childIndex,I=M.isRange,D=[],F=T.props.key,B=T.item.type.defaultProps!==void 0?$e($e({},T.item.type.defaultProps),T.item.props):T.item.props,W=B.activeDot,V=B.dataKey,Q=$e($e({index:O,dataKey:V,cx:C.x,cy:C.y,r:4,fill:O2(T.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},nn(W,!1)),j0(W));return D.push(v.renderActiveDot(W,Q,"".concat(F,"-activePoint-").concat(O))),P?D.push(v.renderActiveDot(W,$e($e({},Q),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(O))):I&&D.push(null),D}),Lt(E,"renderGraphicChild",function(M,T,C){var P=E.filterFormatItem(M,T,C);if(!P)return null;var O=E.getTooltipEventType(),I=E.state,D=I.isTooltipActive,F=I.tooltipAxis,B=I.activeTooltipIndex,W=I.activeLabel,V=E.props.children,Q=aa(V,To),N=P.props,j=N.points,G=N.isRange,H=N.baseLine,$=P.item.type.defaultProps!==void 0?$e($e({},P.item.type.defaultProps),P.item.props):P.item.props,ie=$.activeDot,Z=$.hide,ae=$.activeBar,ce=$.activeShape,fe=!!(!Z&&D&&Q&&(ie||ae||ce)),Ae={};O!=="axis"&&Q&&Q.props.trigger==="click"?Ae={onClick:Vv(E.handleItemMouseEnter,M.props.onClick)}:O!=="axis"&&(Ae={onMouseLeave:Vv(E.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Vv(E.handleItemMouseEnter,M.props.onMouseEnter)});var ve=he.cloneElement(M,$e($e({},P.props),Ae));function Ie(de){return typeof F.dataKey=="function"?F.dataKey(de.payload):null}if(fe)if(B>=0){var X,J;if(F.dataKey&&!F.allowDuplicatedCategory){var _e=typeof F.dataKey=="function"?Ie:"payload.".concat(F.dataKey.toString());X=H0(j,_e,W),J=G&&H&&H0(H,_e,W)}else X=j==null?void 0:j[B],J=G&&H&&H[B];if(ce||ae){var Me=M.props.activeIndex!==void 0?M.props.activeIndex:B;return[he.cloneElement(M,$e($e($e({},P.props),Ae),{},{activeIndex:Me})),null,null]}if(!Qt(X))return[ve].concat(Eh(E.renderActivePoints({item:P,activePoint:X,basePoint:J,childIndex:B,isRange:G})))}else{var Te,Ce=(Te=E.getItemByXY(E.state.activeCoordinate))!==null&&Te!==void 0?Te:{graphicalItem:ve},He=Ce.graphicalItem,Pe=He.item,Xe=Pe===void 0?M:Pe,q=He.childIndex,U=$e($e($e({},P.props),Ae),{},{activeIndex:q});return[he.cloneElement(Xe,U),null,null]}return G?[ve,null,null]:[ve,null]}),Lt(E,"renderCustomized",function(M,T,C){return he.cloneElement(M,$e($e({key:"recharts-customized-".concat(C)},E.props),E.state))}),Lt(E,"renderMap",{CartesianGrid:{handler:qv,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:qv},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:qv},YAxis:{handler:qv},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=S.id)!==null&&_!==void 0?_:og("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=aB(E.triggeredAfterMouseMove,(b=S.throttleDelay)!==null&&b!==void 0?b:1e3/60),E.state={},E}return Jme(v,x),Yme(v,[{key:"componentDidMount",value:function(){var _,b;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(b=this.props.margin.top)!==null&&b!==void 0?b:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,b=_.children,E=_.data,M=_.height,T=_.layout,C=aa(b,To);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,I=jE(this.state,E,P,O),D=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+M)/2,B=T==="horizontal",W=B?{x:D,y:F}:{y:D,x:F},V=this.state.formattedGraphicalItems.find(function(N){var j=N.item;return j.type.name==="Scatter"});V&&(W=$e($e({},W),V.props.points[P].tooltipPosition),I=V.props.points[P].tooltipPayload);var Q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:I,activeCoordinate:W};this.setState(Q),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,b){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==b.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,M;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(_){_M([aa(_.children,To)],[aa(this.props.children,To)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=aa(this.props.children,To);if(_&&typeof _.props.shared=="boolean"){var b=_.props.shared?"axis":"item";return s.indexOf(b)>=0?b:a}return a}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var b=this.container,E=b.getBoundingClientRect(),M=Wne(E),T={chartX:Math.round(_.pageX-M.left),chartY:Math.round(_.pageY-M.top)},C=E.width/b.offsetWidth||1,P=this.inRange(T.chartX,T.chartY,C);if(!P)return null;var O=this.state,I=O.xAxisMap,D=O.yAxisMap,F=this.getTooltipEventType(),B=pD(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&I&&D){var W=fl(I).scale,V=fl(D).scale,Q=W&&W.invert?W.invert(T.chartX):null,N=V&&V.invert?V.invert(T.chartY):null;return $e($e({},T),{},{xValue:Q,yValue:N},B)}return B?$e($e({},T),B):null}},{key:"inRange",value:function(_,b){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,T=_/E,C=b/E;if(M==="horizontal"||M==="vertical"){var P=this.state.offset,O=T>=P.left&&T<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return O?{x:T,y:C}:null}var I=this.state,D=I.angleAxisMap,F=I.radiusAxisMap;if(D&&F){var B=fl(D);return qI({x:T,y:C},B)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,b=this.getTooltipEventType(),E=aa(_,To),M={};E&&b==="axis"&&(E.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var T=j0(this.props,this.handleOuterEvent);return $e($e({},T),M)}},{key:"addListener",value:function(){Sw.on(ww,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Sw.removeListener(ww,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,b,E){for(var M=this.state.formattedGraphicalItems,T=0,C=M.length;T<C;T++){var P=M[T];if(P.item===_||P.props.key===_.key||b===Ss(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,b=this.state.offset,E=b.left,M=b.top,T=b.height,C=b.width;return Se.createElement("defs",null,Se.createElement("clipPath",{id:_},Se.createElement("rect",{x:E,y:M,height:T,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(b,E){var M=fD(E,2),T=M[0],C=M[1];return $e($e({},b),{},Lt({},T,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(b,E){var M=fD(E,2),T=M[0],C=M[1];return $e($e({},b),{},Lt({},T,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var b;return(b=this.state.xAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getYScaleByAxisId",value:function(_){var b;return(b=this.state.yAxisMap)===null||b===void 0||(b=b[_])===null||b===void 0?void 0:b.scale}},{key:"getItemByXY",value:function(_){var b=this.state,E=b.formattedGraphicalItems,M=b.activeItem;if(E&&E.length)for(var T=0,C=E.length;T<C;T++){var P=E[T],O=P.props,I=P.item,D=I.type.defaultProps!==void 0?$e($e({},I.type.defaultProps),I.props):I.props,F=Ss(I.type);if(F==="Bar"){var B=(O.data||[]).find(function(N){return Pce(_,N)});if(B)return{graphicalItem:P,payload:B}}else if(F==="RadialBar"){var W=(O.data||[]).find(function(N){return qI(_,N)});if(W)return{graphicalItem:P,payload:W}}else if(H_(P,M)||j_(P,M)||bm(P,M)){var V=Rfe({graphicalItem:P,activeTooltipItem:M,itemData:D.data}),Q=D.activeIndex===void 0?V:D.activeIndex;return{graphicalItem:$e($e({},P),{},{childIndex:Q}),payload:bm(P,M)?D.data[V]:P.props.data[V]}}}return null}},{key:"render",value:function(){var _=this;if(!BR(this))return null;var b=this.props,E=b.children,M=b.className,T=b.width,C=b.height,P=b.style,O=b.compact,I=b.title,D=b.desc,F=hD(b,Hme),B=nn(F,!1);if(O)return Se.createElement(XL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement(wM,Rf({},B,{width:T,height:C,title:I,desc:D}),this.renderClipPath(),HR(E,this.renderMap)));if(this.props.accessibilityLayer){var W,V;B.tabIndex=(W=this.props.tabIndex)!==null&&W!==void 0?W:0,B.role=(V=this.props.role)!==null&&V!==void 0?V:"application",B.onKeyDown=function(N){_.accessibilityManager.keyboardEvent(N)},B.onFocus=function(){_.accessibilityManager.focus()}}var Q=this.parseEventsOfWrapper();return Se.createElement(XL,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},Se.createElement("div",Rf({className:ln("recharts-wrapper",M),style:$e({position:"relative",cursor:"default",width:T,height:C},P)},Q,{ref:function(j){_.container=j}}),Se.createElement(wM,Rf({},B,{width:T,height:C,title:I,desc:D,style:ige}),this.renderClipPath(),HR(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(he.Component);Lt(g,"displayName",n),Lt(g,"defaultProps",$e({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Lt(g,"getDerivedStateFromProps",function(x,v){var S=x.dataKey,_=x.data,b=x.children,E=x.width,M=x.height,T=x.layout,C=x.stackOffset,P=x.margin,O=v.dataStartIndex,I=v.dataEndIndex;if(v.updateId===void 0){var D=mD(x);return $e($e($e({},D),{},{updateId:0},m($e($e({props:x},D),{},{updateId:0}),v)),{},{prevDataKey:S,prevData:_,prevWidth:E,prevHeight:M,prevLayout:T,prevStackOffset:C,prevMargin:P,prevChildren:b})}if(S!==v.prevDataKey||_!==v.prevData||E!==v.prevWidth||M!==v.prevHeight||T!==v.prevLayout||C!==v.prevStackOffset||!Vf(P,v.prevMargin)){var F=mD(x),B={chartX:v.chartX,chartY:v.chartY,isTooltipActive:v.isTooltipActive},W=$e($e({},pD(v,_,T)),{},{updateId:v.updateId+1}),V=$e($e($e({},F),B),W);return $e($e($e({},V),m($e({props:x},V),v)),{},{prevDataKey:S,prevData:_,prevWidth:E,prevHeight:M,prevLayout:T,prevStackOffset:C,prevMargin:P,prevChildren:b})}if(!_M(b,v.prevChildren)){var Q,N,j,G,H=aa(b,mh),$=H&&(Q=(N=H.props)===null||N===void 0?void 0:N.startIndex)!==null&&Q!==void 0?Q:O,ie=H&&(j=(G=H.props)===null||G===void 0?void 0:G.endIndex)!==null&&j!==void 0?j:I,Z=$!==O||ie!==I,ae=!Qt(_),ce=ae&&!Z?v.updateId:v.updateId+1;return $e($e({updateId:ce},m($e($e({props:x},v),{},{updateId:ce,dataStartIndex:$,dataEndIndex:ie}),v)),{},{prevChildren:b,dataStartIndex:$,dataEndIndex:ie})}return null}),Lt(g,"renderActiveDot",function(x,v,S){var _;return he.isValidElement(x)?_=he.cloneElement(x,v):Xt(x)?_=x(v):_=Se.createElement(I2,v),Se.createElement(ur,{className:"recharts-active-dot",key:S},_)});var y=he.forwardRef(function(v,S){return Se.createElement(g,Rf({},v,{ref:S}))});return y.displayName=g.displayName,y},mge=pge({chartName:"LineChart",GraphicalChild:$u,axisComponents:[{axisType:"xAxis",AxisComp:q_},{axisType:"yAxis",AxisComp:K_}],formatAxisMap:nde});/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var gge={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vge=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),J_=(t,e)=>{const n=he.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:o,className:s="",children:l,...u},c)=>he.createElement("svg",{ref:c,...gge,width:i,height:i,stroke:r,strokeWidth:o?Number(a)*24/Number(i):a,className:["lucide",`lucide-${vge(t)}`,s].join(" "),...u},[...e.map(([f,h])=>he.createElement(f,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yge=J_("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xge=J_("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ge=J_("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sge=J_("RotateCw",[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]]),wge=()=>{const t=[];for(let r=0;r<=100;r++){const i=r/100*.8;let a,o,s,l="";if(i<.1?s=5+5*Math.sin(i/.1*Math.PI):s=2+6*(i/.8),i<.1)o=5+3*Math.sin(i/.1*Math.PI);else if(i<.35){const f=i-.1;o=120*Math.sin(f/.25*Math.PI),o<8&&(o=8)}else o=0+5*(i/.8);i<.13?a=80-10*(i/.13):i<.38?o>80?a=o-2:a=80:(a=100-20*((i-.38)/.42),a<80&&(a=80)),i>=.1&&i<=.12&&(o=Math.max(o,s+2)),i>=.13&&i<=.35&&(o>a?a=o-1:o>80&&(a=o)),i>.38&&i<.42&&(a+=5),i<.1?l="Atrial Systole":i<.14?l="Isovolumetric Contraction":i<.38?l="Ventricular Ejection":i<.46?l="Isovolumetric Relaxation":l="Ventricular Diastole";let u=120;if(i<.1)u=100+20*(i/.1);else if(i<.14)u=120;else if(i<.38){const c=i-.14,f=.38-.14;u=120-70*(c/f)}else if(i<.46)u=50;else{const c=i-.46,f=.8-.46;u=50+50*(c/f)}t.push({time:Number(i.toFixed(3)),pressureAorta:Math.max(0,a),pressureVentricle:Math.max(0,o),pressureAtrium:Math.max(0,s),volume:Math.max(50,u),phase:l})}return t},GE=wge(),bge=t=>{const e=he.useMemo(()=>{const i=GE.find(a=>Math.abs(a.time-t)<.005);return i||GE.reduce((a,o)=>Math.abs(o.time-t)<Math.abs(a.time-t)?o:a)},[t]),n=e.pressureAtrium>e.pressureVentricle,r=e.pressureVentricle>e.pressureAorta;return e.phase,{...e,isBicuspidOpen:n,isAorticOpen:r}};/**
 * @license
 * Copyright 2010-2024 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const pg="165",Mu={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Eu={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},y5=0,VE=1,x5=2,Mge=3,_5=0,Q_=1,Mp=2,no=3,Ls=0,Ei=1,Da=2,ko=0,Xu=1,WE=2,$E=3,XE=4,S5=5,hl=100,w5=101,b5=102,M5=103,E5=104,A5=200,T5=201,P5=202,C5=203,zx=204,Hx=205,O5=206,R5=207,I5=208,L5=209,D5=210,N5=211,k5=212,U5=213,F5=214,B5=0,z5=1,H5=2,Om=3,j5=4,G5=5,V5=6,W5=7,mg=0,$5=1,X5=2,Uo=0,Y5=1,q5=2,K5=3,H2=4,Z5=5,J5=6,Q5=7,YE="attached",e6="detached",Cl=300,Ho=301,Ol=302,Ah=303,Rm=304,Xh=306,Im=1e3,gr=1001,Lm=1002,Fr=1003,j2=1004,Ege=1004,If=1005,Age=1005,hn=1006,Ep=1007,Tge=1007,Oo=1008,qE=1008,ma=1009,G2=1010,V2=1011,Dm=1012,e1=1013,Rl=1014,tr=1015,$r=1016,W2=1017,$2=1018,uc=1020,t6=35902,n6=1021,r6=1022,vr=1023,i6=1024,a6=1025,Yu=1026,cc=1027,t1=1028,X2=1029,o6=1030,Y2=1031,q2=1033,s0=33776,l0=33777,u0=33778,c0=33779,KE=35840,ZE=35841,JE=35842,QE=35843,eA=36196,tA=37492,nA=37496,rA=37808,iA=37809,aA=37810,oA=37811,sA=37812,lA=37813,uA=37814,cA=37815,fA=37816,hA=37817,dA=37818,pA=37819,mA=37820,gA=37821,f0=36492,vA=36494,yA=36495,s6=36283,xA=36284,_A=36285,SA=36286,l6=2200,u6=2201,c6=2202,Nm=2300,jx=2301,h0=2302,ku=2400,Uu=2401,km=2402,n1=2500,K2=2501,Pge=0,Cge=1,Oge=2,f6=3200,Z2=3201,Hl=0,h6=1,hs="",oa="srgb",Va="srgb-linear",r1="display-p3",gg="display-p3-linear",Um="linear",Pn="srgb",Fm="rec709",Bm="p3",Rge=0,Au=7680,Ige=7681,Lge=7682,Dge=7683,Nge=34055,kge=34056,Uge=5386,Fge=512,Bge=513,zge=514,Hge=515,jge=516,Gge=517,Vge=518,wA=519,d6=512,p6=513,m6=514,J2=515,g6=516,v6=517,y6=518,x6=519,zm=35044,Wge=35048,$ge=35040,Xge=35045,Yge=35049,qge=35041,Kge=35046,Zge=35050,Jge=35042,Qge="100",bA="300 es",Ro=2e3,Hm=2001;let Fs=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}};const ri=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let vD=1234567;const qu=Math.PI/180,Th=180/Math.PI;function fa(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(ri[t&255]+ri[t>>8&255]+ri[t>>16&255]+ri[t>>24&255]+"-"+ri[e&255]+ri[e>>8&255]+"-"+ri[e>>16&15|64]+ri[e>>24&255]+"-"+ri[n&63|128]+ri[n>>8&255]+"-"+ri[n>>16&255]+ri[n>>24&255]+ri[r&255]+ri[r>>8&255]+ri[r>>16&255]+ri[r>>24&255]).toLowerCase()}function er(t,e,n){return Math.max(e,Math.min(n,t))}function Q2(t,e){return(t%e+e)%e}function eve(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function tve(t,e,n){return t!==e?(n-t)/(e-t):0}function Ap(t,e,n){return(1-n)*t+n*e}function nve(t,e,n,r){return Ap(t,e,1-Math.exp(-n*r))}function rve(t,e=1){return e-Math.abs(Q2(t,e*2)-e)}function ive(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function ave(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function ove(t,e){return t+Math.floor(Math.random()*(e-t+1))}function sve(t,e){return t+Math.random()*(e-t)}function lve(t){return t*(.5-Math.random())}function uve(t){t!==void 0&&(vD=t);let e=vD+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function cve(t){return t*qu}function fve(t){return t*Th}function hve(t){return(t&t-1)===0&&t!==0}function dve(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function pve(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function mve(t,e,n,r,i){const a=Math.cos,o=Math.sin,s=a(n/2),l=o(n/2),u=a((e+r)/2),c=o((e+r)/2),f=a((e-r)/2),h=o((e-r)/2),m=a((r-e)/2),g=o((r-e)/2);switch(i){case"XYX":t.set(s*c,l*f,l*h,s*u);break;case"YZY":t.set(l*h,s*c,l*f,s*u);break;case"ZXZ":t.set(l*f,l*h,s*c,s*u);break;case"XZX":t.set(s*c,l*g,l*m,s*u);break;case"YXY":t.set(l*m,s*c,l*g,s*u);break;case"ZYZ":t.set(l*g,l*m,s*c,s*u);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function wi(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function jt(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const gve={DEG2RAD:qu,RAD2DEG:Th,generateUUID:fa,clamp:er,euclideanModulo:Q2,mapLinear:eve,inverseLerp:tve,lerp:Ap,damp:nve,pingpong:rve,smoothstep:ive,smootherstep:ave,randInt:ove,randFloat:sve,randFloatSpread:lve,seededRandom:uve,degToRad:cve,radToDeg:fve,isPowerOfTwo:hve,ceilPowerOfTwo:dve,floorPowerOfTwo:pve,setQuaternionFromProperEuler:mve,normalize:jt,denormalize:wi};class We{constructor(e=0,n=0){We.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(er(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),a=this.x-e.x,o=this.y-e.y;return this.x=a*r-o*i+e.x,this.y=a*i+o*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class zt{constructor(e,n,r,i,a,o,s,l,u){zt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u)}set(e,n,r,i,a,o,s,l,u){const c=this.elements;return c[0]=e,c[1]=i,c[2]=s,c[3]=n,c[4]=a,c[5]=l,c[6]=r,c[7]=o,c[8]=u,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[3],l=r[6],u=r[1],c=r[4],f=r[7],h=r[2],m=r[5],g=r[8],y=i[0],x=i[3],v=i[6],S=i[1],_=i[4],b=i[7],E=i[2],M=i[5],T=i[8];return a[0]=o*y+s*S+l*E,a[3]=o*x+s*_+l*M,a[6]=o*v+s*b+l*T,a[1]=u*y+c*S+f*E,a[4]=u*x+c*_+f*M,a[7]=u*v+c*b+f*T,a[2]=h*y+m*S+g*E,a[5]=h*x+m*_+g*M,a[8]=h*v+m*b+g*T,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8];return n*o*c-n*s*u-r*a*c+r*s*l+i*a*u-i*o*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=c*o-s*u,h=s*l-c*a,m=u*a-o*l,g=n*f+r*h+i*m;if(g===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/g;return e[0]=f*y,e[1]=(i*u-c*r)*y,e[2]=(s*r-i*o)*y,e[3]=h*y,e[4]=(c*n-i*l)*y,e[5]=(i*a-s*n)*y,e[6]=m*y,e[7]=(r*l-u*n)*y,e[8]=(o*n-r*a)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,a,o,s){const l=Math.cos(a),u=Math.sin(a);return this.set(r*l,r*u,-r*(l*o+u*s)+o+e,-i*u,i*l,-i*(-u*o+l*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(Mw.makeScale(e,n)),this}rotate(e){return this.premultiply(Mw.makeRotation(-e)),this}translate(e,n){return this.premultiply(Mw.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Mw=new zt;function _6(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const vve={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Lf(t,e){return new vve[t](e)}function jm(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function S6(){const t=jm("canvas");return t.style.display="block",t}const yD={};function eP(t){t in yD||(yD[t]=!0,console.warn(t))}function yve(t,e,n){return new Promise(function(r,i){function a(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(a,n);break;default:r()}}setTimeout(a,n)})}const xD=new zt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),_D=new zt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),Kv={[Va]:{transfer:Um,primaries:Fm,toReference:t=>t,fromReference:t=>t},[oa]:{transfer:Pn,primaries:Fm,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[gg]:{transfer:Um,primaries:Bm,toReference:t=>t.applyMatrix3(_D),fromReference:t=>t.applyMatrix3(xD)},[r1]:{transfer:Pn,primaries:Bm,toReference:t=>t.convertSRGBToLinear().applyMatrix3(_D),fromReference:t=>t.applyMatrix3(xD).convertLinearToSRGB()}},xve=new Set([Va,gg]),pn={enabled:!0,_workingColorSpace:Va,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!xve.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=Kv[e].toReference,i=Kv[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return Kv[t].primaries},getTransfer:function(t){return t===hs?Um:Kv[t].transfer}};function Yf(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function Ew(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Vc;class w6{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Vc===void 0&&(Vc=jm("canvas")),Vc.width=e.width,Vc.height=e.height;const r=Vc.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Vc}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=jm("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),a=i.data;for(let o=0;o<a.length;o++)a[o]=Yf(a[o]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Yf(n[r]/255)*255):n[r]=Yf(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let _ve=0;class Fu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:_ve++}),this.uuid=fa(),this.data=e,this.dataReady=!0,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let a;if(Array.isArray(i)){a=[];for(let o=0,s=i.length;o<s;o++)i[o].isDataTexture?a.push(Aw(i[o].image)):a.push(Aw(i[o]))}else a=Aw(i);r.url=a}return n||(e.images[this.uuid]=r),r}}function Aw(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?w6.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sve=0;class yn extends Fs{constructor(e=yn.DEFAULT_IMAGE,n=yn.DEFAULT_MAPPING,r=gr,i=gr,a=hn,o=Oo,s=vr,l=ma,u=yn.DEFAULT_ANISOTROPY,c=hs){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sve++}),this.uuid=fa(),this.name="",this.source=new Fu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=a,this.minFilter=o,this.anisotropy=u,this.format=s,this.internalFormat=null,this.type=l,this.offset=new We(0,0),this.repeat=new We(1,1),this.center=new We(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new zt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=c,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.pmremVersion=0}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Cl)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Im:e.x=e.x-Math.floor(e.x);break;case gr:e.x=e.x<0?0:1;break;case Lm:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Im:e.y=e.y-Math.floor(e.y);break;case gr:e.y=e.y<0?0:1;break;case Lm:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}yn.DEFAULT_IMAGE=null;yn.DEFAULT_MAPPING=Cl;yn.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,n=0,r=0,i=1){mn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=this.w,o=e.elements;return this.x=o[0]*n+o[4]*r+o[8]*i+o[12]*a,this.y=o[1]*n+o[5]*r+o[9]*i+o[13]*a,this.z=o[2]*n+o[6]*r+o[10]*i+o[14]*a,this.w=o[3]*n+o[7]*r+o[11]*i+o[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,a;const l=e.elements,u=l[0],c=l[4],f=l[8],h=l[1],m=l[5],g=l[9],y=l[2],x=l[6],v=l[10];if(Math.abs(c-h)<.01&&Math.abs(f-y)<.01&&Math.abs(g-x)<.01){if(Math.abs(c+h)<.1&&Math.abs(f+y)<.1&&Math.abs(g+x)<.1&&Math.abs(u+m+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(u+1)/2,b=(m+1)/2,E=(v+1)/2,M=(c+h)/4,T=(f+y)/4,C=(g+x)/4;return _>b&&_>E?_<.01?(r=0,i=.707106781,a=.707106781):(r=Math.sqrt(_),i=M/r,a=T/r):b>E?b<.01?(r=.707106781,i=0,a=.707106781):(i=Math.sqrt(b),r=M/i,a=C/i):E<.01?(r=.707106781,i=.707106781,a=0):(a=Math.sqrt(E),r=T/a,i=C/a),this.set(r,i,a,n),this}let S=Math.sqrt((x-g)*(x-g)+(f-y)*(f-y)+(h-c)*(h-c));return Math.abs(S)<.001&&(S=1),this.x=(x-g)/S,this.y=(f-y)/S,this.z=(h-c)/S,this.w=Math.acos((u+m+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class b6 extends Fs{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new mn(0,0,e,n),this.scissorTest=!1,this.viewport=new mn(0,0,e,n);const i={width:e,height:n,depth:1};r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:hn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1},r);const a=new yn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace);a.flipY=!1,a.generateMipmaps=r.generateMipmaps,a.internalFormat=r.internalFormat,this.textures=[];const o=r.count;for(let s=0;s<o;s++)this.textures[s]=a.clone(),this.textures[s].isRenderTargetTexture=!0;this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,a=this.textures.length;i<a;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let r=0,i=e.textures.length;r<i;r++)this.textures[r]=e.textures[r].clone(),this.textures[r].isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Fu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class ga extends b6{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class i1 extends yn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Fr,this.minFilter=Fr,this.wrapR=gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class wve extends ga{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new i1(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class tP extends yn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Fr,this.minFilter=Fr,this.wrapR=gr,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class bve extends ga{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new tP(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class ci{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,a,o,s){let l=r[i+0],u=r[i+1],c=r[i+2],f=r[i+3];const h=a[o+0],m=a[o+1],g=a[o+2],y=a[o+3];if(s===0){e[n+0]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f;return}if(s===1){e[n+0]=h,e[n+1]=m,e[n+2]=g,e[n+3]=y;return}if(f!==y||l!==h||u!==m||c!==g){let x=1-s;const v=l*h+u*m+c*g+f*y,S=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const E=Math.sqrt(_),M=Math.atan2(E,v*S);x=Math.sin(x*M)/E,s=Math.sin(s*M)/E}const b=s*S;if(l=l*x+h*b,u=u*x+m*b,c=c*x+g*b,f=f*x+y*b,x===1-s){const E=1/Math.sqrt(l*l+u*u+c*c+f*f);l*=E,u*=E,c*=E,f*=E}}e[n]=l,e[n+1]=u,e[n+2]=c,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,a,o){const s=r[i],l=r[i+1],u=r[i+2],c=r[i+3],f=a[o],h=a[o+1],m=a[o+2],g=a[o+3];return e[n]=s*g+c*f+l*m-u*h,e[n+1]=l*g+c*h+u*f-s*m,e[n+2]=u*g+c*m+s*h-l*f,e[n+3]=c*g-s*f-l*h-u*m,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,a=e._z,o=e._order,s=Math.cos,l=Math.sin,u=s(r/2),c=s(i/2),f=s(a/2),h=l(r/2),m=l(i/2),g=l(a/2);switch(o){case"XYZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"YXZ":this._x=h*c*f+u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"ZXY":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f-h*m*g;break;case"ZYX":this._x=h*c*f-u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f+h*m*g;break;case"YZX":this._x=h*c*f+u*m*g,this._y=u*m*f+h*c*g,this._z=u*c*g-h*m*f,this._w=u*c*f-h*m*g;break;case"XZY":this._x=h*c*f-u*m*g,this._y=u*m*f-h*c*g,this._z=u*c*g+h*m*f,this._w=u*c*f+h*m*g;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+o)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],a=n[8],o=n[1],s=n[5],l=n[9],u=n[2],c=n[6],f=n[10],h=r+s+f;if(h>0){const m=.5/Math.sqrt(h+1);this._w=.25/m,this._x=(c-l)*m,this._y=(a-u)*m,this._z=(o-i)*m}else if(r>s&&r>f){const m=2*Math.sqrt(1+r-s-f);this._w=(c-l)/m,this._x=.25*m,this._y=(i+o)/m,this._z=(a+u)/m}else if(s>f){const m=2*Math.sqrt(1+s-r-f);this._w=(a-u)/m,this._x=(i+o)/m,this._y=.25*m,this._z=(l+c)/m}else{const m=2*Math.sqrt(1+f-r-s);this._w=(o-i)/m,this._x=(a+u)/m,this._y=(l+c)/m,this._z=.25*m}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(er(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,a=e._z,o=e._w,s=n._x,l=n._y,u=n._z,c=n._w;return this._x=r*c+o*s+i*u-a*l,this._y=i*c+o*l+a*s-r*u,this._z=a*c+o*u+r*l-i*s,this._w=o*c-r*s-i*l-a*u,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,a=this._z,o=this._w;let s=o*e._w+r*e._x+i*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=o,this._x=r,this._y=i,this._z=a,this;const l=1-s*s;if(l<=Number.EPSILON){const m=1-n;return this._w=m*o+n*this._w,this._x=m*r+n*this._x,this._y=m*i+n*this._y,this._z=m*a+n*this._z,this.normalize(),this}const u=Math.sqrt(l),c=Math.atan2(u,s),f=Math.sin((1-n)*c)/u,h=Math.sin(n*c)/u;return this._w=o*f+this._w*h,this._x=r*f+this._x*h,this._y=i*f+this._y*h,this._z=a*f+this._z*h,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),a=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),a*Math.sin(n),a*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class ee{constructor(e=0,n=0,r=0){ee.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(SD.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(SD.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[3]*r+a[6]*i,this.y=a[1]*n+a[4]*r+a[7]*i,this.z=a[2]*n+a[5]*r+a[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,a=e.elements,o=1/(a[3]*n+a[7]*r+a[11]*i+a[15]);return this.x=(a[0]*n+a[4]*r+a[8]*i+a[12])*o,this.y=(a[1]*n+a[5]*r+a[9]*i+a[13])*o,this.z=(a[2]*n+a[6]*r+a[10]*i+a[14])*o,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,a=e.x,o=e.y,s=e.z,l=e.w,u=2*(o*i-s*r),c=2*(s*n-a*i),f=2*(a*r-o*n);return this.x=n+l*u+o*f-s*c,this.y=r+l*c+s*u-a*f,this.z=i+l*f+a*c-o*u,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i,this.y=a[1]*n+a[5]*r+a[9]*i,this.z=a[2]*n+a[6]*r+a[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,a=e.z,o=n.x,s=n.y,l=n.z;return this.x=i*l-a*s,this.y=a*o-r*l,this.z=r*s-i*o,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return Tw.copy(this).projectOnVector(e),this.sub(Tw)}reflect(e){return this.sub(Tw.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(er(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const Tw=new ee,SD=new ci;class Yr{constructor(e=new ee(1/0,1/0,1/0),n=new ee(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Za.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Za.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Za.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const a=r.getAttribute("position");if(n===!0&&a!==void 0&&e.isInstancedMesh!==!0)for(let o=0,s=a.count;o<s;o++)e.isMesh===!0?e.getVertexPosition(o,Za):Za.fromBufferAttribute(a,o),Za.applyMatrix4(e.matrixWorld),this.expandByPoint(Za);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),Zv.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),Zv.copy(r.boundingBox)),Zv.applyMatrix4(e.matrixWorld),this.union(Zv)}const i=e.children;for(let a=0,o=i.length;a<o;a++)this.expandByObject(i[a],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Za),Za.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Bd),Jv.subVectors(this.max,Bd),Wc.subVectors(e.a,Bd),$c.subVectors(e.b,Bd),Xc.subVectors(e.c,Bd),Ks.subVectors($c,Wc),Zs.subVectors(Xc,$c),ou.subVectors(Wc,Xc);let n=[0,-Ks.z,Ks.y,0,-Zs.z,Zs.y,0,-ou.z,ou.y,Ks.z,0,-Ks.x,Zs.z,0,-Zs.x,ou.z,0,-ou.x,-Ks.y,Ks.x,0,-Zs.y,Zs.x,0,-ou.y,ou.x,0];return!Pw(n,Wc,$c,Xc,Jv)||(n=[1,0,0,0,1,0,0,0,1],!Pw(n,Wc,$c,Xc,Jv))?!1:(Qv.crossVectors(Ks,Zs),n=[Qv.x,Qv.y,Qv.z],Pw(n,Wc,$c,Xc,Jv))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Za).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Za).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(ns[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),ns[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),ns[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),ns[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),ns[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),ns[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),ns[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),ns[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(ns),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const ns=[new ee,new ee,new ee,new ee,new ee,new ee,new ee,new ee],Za=new ee,Zv=new Yr,Wc=new ee,$c=new ee,Xc=new ee,Ks=new ee,Zs=new ee,ou=new ee,Bd=new ee,Jv=new ee,Qv=new ee,su=new ee;function Pw(t,e,n,r,i){for(let a=0,o=t.length-3;a<=o;a+=3){su.fromArray(t,a);const s=i.x*Math.abs(su.x)+i.y*Math.abs(su.y)+i.z*Math.abs(su.z),l=e.dot(su),u=n.dot(su),c=r.dot(su);if(Math.max(-Math.max(l,u,c),Math.min(l,u,c))>s)return!1}return!0}const Mve=new Yr,zd=new ee,Cw=new ee;class qr{constructor(e=new ee,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Mve.setFromPoints(e).getCenter(r);let i=0;for(let a=0,o=e.length;a<o;a++)i=Math.max(i,r.distanceToSquared(e[a]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;zd.subVectors(e,this.center);const n=zd.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(zd,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(Cw.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(zd.copy(e.center).add(Cw)),this.expandByPoint(zd.copy(e.center).sub(Cw))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const rs=new ee,Ow=new ee,ey=new ee,Js=new ee,Rw=new ee,ty=new ee,Iw=new ee;class _c{constructor(e=new ee,n=new ee(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,rs)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=rs.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(rs.copy(this.origin).addScaledVector(this.direction,n),rs.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){Ow.copy(e).add(n).multiplyScalar(.5),ey.copy(n).sub(e).normalize(),Js.copy(this.origin).sub(Ow);const a=e.distanceTo(n)*.5,o=-this.direction.dot(ey),s=Js.dot(this.direction),l=-Js.dot(ey),u=Js.lengthSq(),c=Math.abs(1-o*o);let f,h,m,g;if(c>0)if(f=o*l-s,h=o*s-l,g=a*c,f>=0)if(h>=-g)if(h<=g){const y=1/c;f*=y,h*=y,m=f*(f+o*h+2*s)+h*(o*f+h+2*l)+u}else h=a,f=Math.max(0,-(o*h+s)),m=-f*f+h*(h+2*l)+u;else h=-a,f=Math.max(0,-(o*h+s)),m=-f*f+h*(h+2*l)+u;else h<=-g?(f=Math.max(0,-(-o*a+s)),h=f>0?-a:Math.min(Math.max(-a,-l),a),m=-f*f+h*(h+2*l)+u):h<=g?(f=0,h=Math.min(Math.max(-a,-l),a),m=h*(h+2*l)+u):(f=Math.max(0,-(o*a+s)),h=f>0?a:Math.min(Math.max(-a,-l),a),m=-f*f+h*(h+2*l)+u);else h=o>0?-a:a,f=Math.max(0,-(o*h+s)),m=-f*f+h*(h+2*l)+u;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(Ow).addScaledVector(ey,h),m}intersectSphere(e,n){rs.subVectors(e.center,this.origin);const r=rs.dot(this.direction),i=rs.dot(rs)-r*r,a=e.radius*e.radius;if(i>a)return null;const o=Math.sqrt(a-i),s=r-o,l=r+o;return l<0?null:s<0?this.at(l,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,a,o,s,l;const u=1/this.direction.x,c=1/this.direction.y,f=1/this.direction.z,h=this.origin;return u>=0?(r=(e.min.x-h.x)*u,i=(e.max.x-h.x)*u):(r=(e.max.x-h.x)*u,i=(e.min.x-h.x)*u),c>=0?(a=(e.min.y-h.y)*c,o=(e.max.y-h.y)*c):(a=(e.max.y-h.y)*c,o=(e.min.y-h.y)*c),r>o||a>i||((a>r||isNaN(r))&&(r=a),(o<i||isNaN(i))&&(i=o),f>=0?(s=(e.min.z-h.z)*f,l=(e.max.z-h.z)*f):(s=(e.max.z-h.z)*f,l=(e.min.z-h.z)*f),r>l||s>i)||((s>r||r!==r)&&(r=s),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,rs)!==null}intersectTriangle(e,n,r,i,a){Rw.subVectors(n,e),ty.subVectors(r,e),Iw.crossVectors(Rw,ty);let o=this.direction.dot(Iw),s;if(o>0){if(i)return null;s=1}else if(o<0)s=-1,o=-o;else return null;Js.subVectors(this.origin,e);const l=s*this.direction.dot(ty.crossVectors(Js,ty));if(l<0)return null;const u=s*this.direction.dot(Rw.cross(Js));if(u<0||l+u>o)return null;const c=-s*Js.dot(Iw);return c<0?null:this.at(c/o,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Rt{constructor(e,n,r,i,a,o,s,l,u,c,f,h,m,g,y,x){Rt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,a,o,s,l,u,c,f,h,m,g,y,x)}set(e,n,r,i,a,o,s,l,u,c,f,h,m,g,y,x){const v=this.elements;return v[0]=e,v[4]=n,v[8]=r,v[12]=i,v[1]=a,v[5]=o,v[9]=s,v[13]=l,v[2]=u,v[6]=c,v[10]=f,v[14]=h,v[3]=m,v[7]=g,v[11]=y,v[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Rt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Yc.setFromMatrixColumn(e,0).length(),a=1/Yc.setFromMatrixColumn(e,1).length(),o=1/Yc.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*a,n[5]=r[5]*a,n[6]=r[6]*a,n[7]=0,n[8]=r[8]*o,n[9]=r[9]*o,n[10]=r[10]*o,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,a=e.z,o=Math.cos(r),s=Math.sin(r),l=Math.cos(i),u=Math.sin(i),c=Math.cos(a),f=Math.sin(a);if(e.order==="XYZ"){const h=o*c,m=o*f,g=s*c,y=s*f;n[0]=l*c,n[4]=-l*f,n[8]=u,n[1]=m+g*u,n[5]=h-y*u,n[9]=-s*l,n[2]=y-h*u,n[6]=g+m*u,n[10]=o*l}else if(e.order==="YXZ"){const h=l*c,m=l*f,g=u*c,y=u*f;n[0]=h+y*s,n[4]=g*s-m,n[8]=o*u,n[1]=o*f,n[5]=o*c,n[9]=-s,n[2]=m*s-g,n[6]=y+h*s,n[10]=o*l}else if(e.order==="ZXY"){const h=l*c,m=l*f,g=u*c,y=u*f;n[0]=h-y*s,n[4]=-o*f,n[8]=g+m*s,n[1]=m+g*s,n[5]=o*c,n[9]=y-h*s,n[2]=-o*u,n[6]=s,n[10]=o*l}else if(e.order==="ZYX"){const h=o*c,m=o*f,g=s*c,y=s*f;n[0]=l*c,n[4]=g*u-m,n[8]=h*u+y,n[1]=l*f,n[5]=y*u+h,n[9]=m*u-g,n[2]=-u,n[6]=s*l,n[10]=o*l}else if(e.order==="YZX"){const h=o*l,m=o*u,g=s*l,y=s*u;n[0]=l*c,n[4]=y-h*f,n[8]=g*f+m,n[1]=f,n[5]=o*c,n[9]=-s*c,n[2]=-u*c,n[6]=m*f+g,n[10]=h-y*f}else if(e.order==="XZY"){const h=o*l,m=o*u,g=s*l,y=s*u;n[0]=l*c,n[4]=-f,n[8]=u*c,n[1]=h*f+y,n[5]=o*c,n[9]=m*f-g,n[2]=g*f-m,n[6]=s*c,n[10]=y*f+h}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Eve,e,Ave)}lookAt(e,n,r){const i=this.elements;return ea.subVectors(e,n),ea.lengthSq()===0&&(ea.z=1),ea.normalize(),Qs.crossVectors(r,ea),Qs.lengthSq()===0&&(Math.abs(r.z)===1?ea.x+=1e-4:ea.z+=1e-4,ea.normalize(),Qs.crossVectors(r,ea)),Qs.normalize(),ny.crossVectors(ea,Qs),i[0]=Qs.x,i[4]=ny.x,i[8]=ea.x,i[1]=Qs.y,i[5]=ny.y,i[9]=ea.y,i[2]=Qs.z,i[6]=ny.z,i[10]=ea.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,a=this.elements,o=r[0],s=r[4],l=r[8],u=r[12],c=r[1],f=r[5],h=r[9],m=r[13],g=r[2],y=r[6],x=r[10],v=r[14],S=r[3],_=r[7],b=r[11],E=r[15],M=i[0],T=i[4],C=i[8],P=i[12],O=i[1],I=i[5],D=i[9],F=i[13],B=i[2],W=i[6],V=i[10],Q=i[14],N=i[3],j=i[7],G=i[11],H=i[15];return a[0]=o*M+s*O+l*B+u*N,a[4]=o*T+s*I+l*W+u*j,a[8]=o*C+s*D+l*V+u*G,a[12]=o*P+s*F+l*Q+u*H,a[1]=c*M+f*O+h*B+m*N,a[5]=c*T+f*I+h*W+m*j,a[9]=c*C+f*D+h*V+m*G,a[13]=c*P+f*F+h*Q+m*H,a[2]=g*M+y*O+x*B+v*N,a[6]=g*T+y*I+x*W+v*j,a[10]=g*C+y*D+x*V+v*G,a[14]=g*P+y*F+x*Q+v*H,a[3]=S*M+_*O+b*B+E*N,a[7]=S*T+_*I+b*W+E*j,a[11]=S*C+_*D+b*V+E*G,a[15]=S*P+_*F+b*Q+E*H,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],a=e[12],o=e[1],s=e[5],l=e[9],u=e[13],c=e[2],f=e[6],h=e[10],m=e[14],g=e[3],y=e[7],x=e[11],v=e[15];return g*(+a*l*f-i*u*f-a*s*h+r*u*h+i*s*m-r*l*m)+y*(+n*l*m-n*u*h+a*o*h-i*o*m+i*u*c-a*l*c)+x*(+n*u*f-n*s*m-a*o*f+r*o*m+a*s*c-r*u*c)+v*(-i*s*c-n*l*f+n*s*h+i*o*f-r*o*h+r*l*c)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],u=e[7],c=e[8],f=e[9],h=e[10],m=e[11],g=e[12],y=e[13],x=e[14],v=e[15],S=f*x*u-y*h*u+y*l*m-s*x*m-f*l*v+s*h*v,_=g*h*u-c*x*u-g*l*m+o*x*m+c*l*v-o*h*v,b=c*y*u-g*f*u+g*s*m-o*y*m-c*s*v+o*f*v,E=g*f*l-c*y*l-g*s*h+o*y*h+c*s*x-o*f*x,M=n*S+r*_+i*b+a*E;if(M===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const T=1/M;return e[0]=S*T,e[1]=(y*h*a-f*x*a-y*i*m+r*x*m+f*i*v-r*h*v)*T,e[2]=(s*x*a-y*l*a+y*i*u-r*x*u-s*i*v+r*l*v)*T,e[3]=(f*l*a-s*h*a-f*i*u+r*h*u+s*i*m-r*l*m)*T,e[4]=_*T,e[5]=(c*x*a-g*h*a+g*i*m-n*x*m-c*i*v+n*h*v)*T,e[6]=(g*l*a-o*x*a-g*i*u+n*x*u+o*i*v-n*l*v)*T,e[7]=(o*h*a-c*l*a+c*i*u-n*h*u-o*i*m+n*l*m)*T,e[8]=b*T,e[9]=(g*f*a-c*y*a-g*r*m+n*y*m+c*r*v-n*f*v)*T,e[10]=(o*y*a-g*s*a+g*r*u-n*y*u-o*r*v+n*s*v)*T,e[11]=(c*s*a-o*f*a-c*r*u+n*f*u+o*r*m-n*s*m)*T,e[12]=E*T,e[13]=(c*y*i-g*f*i+g*r*h-n*y*h-c*r*x+n*f*x)*T,e[14]=(g*s*i-o*y*i-g*r*l+n*y*l+o*r*x-n*s*x)*T,e[15]=(o*f*i-c*s*i+c*r*l-n*f*l-o*r*h+n*s*h)*T,this}scale(e){const n=this.elements,r=e.x,i=e.y,a=e.z;return n[0]*=r,n[4]*=i,n[8]*=a,n[1]*=r,n[5]*=i,n[9]*=a,n[2]*=r,n[6]*=i,n[10]*=a,n[3]*=r,n[7]*=i,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),a=1-r,o=e.x,s=e.y,l=e.z,u=a*o,c=a*s;return this.set(u*o+r,u*s-i*l,u*l+i*s,0,u*s+i*l,c*s+r,c*l-i*o,0,u*l-i*s,c*l+i*o,a*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,a,o){return this.set(1,r,a,0,e,1,o,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,a=n._x,o=n._y,s=n._z,l=n._w,u=a+a,c=o+o,f=s+s,h=a*u,m=a*c,g=a*f,y=o*c,x=o*f,v=s*f,S=l*u,_=l*c,b=l*f,E=r.x,M=r.y,T=r.z;return i[0]=(1-(y+v))*E,i[1]=(m+b)*E,i[2]=(g-_)*E,i[3]=0,i[4]=(m-b)*M,i[5]=(1-(h+v))*M,i[6]=(x+S)*M,i[7]=0,i[8]=(g+_)*T,i[9]=(x-S)*T,i[10]=(1-(h+y))*T,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let a=Yc.set(i[0],i[1],i[2]).length();const o=Yc.set(i[4],i[5],i[6]).length(),s=Yc.set(i[8],i[9],i[10]).length();this.determinant()<0&&(a=-a),e.x=i[12],e.y=i[13],e.z=i[14],Ja.copy(this);const u=1/a,c=1/o,f=1/s;return Ja.elements[0]*=u,Ja.elements[1]*=u,Ja.elements[2]*=u,Ja.elements[4]*=c,Ja.elements[5]*=c,Ja.elements[6]*=c,Ja.elements[8]*=f,Ja.elements[9]*=f,Ja.elements[10]*=f,n.setFromRotationMatrix(Ja),r.x=a,r.y=o,r.z=s,this}makePerspective(e,n,r,i,a,o,s=Ro){const l=this.elements,u=2*a/(n-e),c=2*a/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let m,g;if(s===Ro)m=-(o+a)/(o-a),g=-2*o*a/(o-a);else if(s===Hm)m=-o/(o-a),g=-o*a/(o-a);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+s);return l[0]=u,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=c,l[9]=h,l[13]=0,l[2]=0,l[6]=0,l[10]=m,l[14]=g,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,a,o,s=Ro){const l=this.elements,u=1/(n-e),c=1/(r-i),f=1/(o-a),h=(n+e)*u,m=(r+i)*c;let g,y;if(s===Ro)g=(o+a)*f,y=-2*f;else if(s===Hm)g=a*f,y=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+s);return l[0]=2*u,l[4]=0,l[8]=0,l[12]=-h,l[1]=0,l[5]=2*c,l[9]=0,l[13]=-m,l[2]=0,l[6]=0,l[10]=y,l[14]=-g,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Yc=new ee,Ja=new Rt,Eve=new ee(0,0,0),Ave=new ee(1,1,1),Qs=new ee,ny=new ee,ea=new ee,wD=new Rt,bD=new ci;class va{constructor(e=0,n=0,r=0,i=va.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,a=i[0],o=i[4],s=i[8],l=i[1],u=i[5],c=i[9],f=i[2],h=i[6],m=i[10];switch(n){case"XYZ":this._y=Math.asin(er(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-c,m),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(h,u),this._z=0);break;case"YXZ":this._x=Math.asin(-er(c,-1,1)),Math.abs(c)<.9999999?(this._y=Math.atan2(s,m),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-f,a),this._z=0);break;case"ZXY":this._x=Math.asin(er(h,-1,1)),Math.abs(h)<.9999999?(this._y=Math.atan2(-f,m),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a));break;case"ZYX":this._y=Math.asin(-er(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(h,m),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u));break;case"YZX":this._z=Math.asin(er(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-c,u),this._y=Math.atan2(-f,a)):(this._x=0,this._y=Math.atan2(s,m));break;case"XZY":this._z=Math.asin(-er(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(h,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-c,m),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return wD.makeRotationFromQuaternion(e),this.setFromRotationMatrix(wD,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return bD.setFromEuler(this),this.setFromQuaternion(bD,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}va.DEFAULT_ORDER="XYZ";class Ku{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Tve=0;const MD=new ee,qc=new ci,is=new Rt,ry=new ee,Hd=new ee,Pve=new ee,Cve=new ci,ED=new ee(1,0,0),AD=new ee(0,1,0),TD=new ee(0,0,1),PD={type:"added"},Ove={type:"removed"},Kc={type:"childadded",child:null},Lw={type:"childremoved",child:null};class un extends Fs{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Tve++}),this.uuid=fa(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=un.DEFAULT_UP.clone();const e=new ee,n=new va,r=new ci,i=new ee(1,1,1);function a(){r.setFromEuler(n,!1)}function o(){n.setFromQuaternion(r,void 0,!1)}n._onChange(a),r._onChange(o),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Rt},normalMatrix:{value:new zt}}),this.matrix=new Rt,this.matrixWorld=new Rt,this.matrixAutoUpdate=un.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Ku,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return qc.setFromAxisAngle(e,n),this.quaternion.multiply(qc),this}rotateOnWorldAxis(e,n){return qc.setFromAxisAngle(e,n),this.quaternion.premultiply(qc),this}rotateX(e){return this.rotateOnAxis(ED,e)}rotateY(e){return this.rotateOnAxis(AD,e)}rotateZ(e){return this.rotateOnAxis(TD,e)}translateOnAxis(e,n){return MD.copy(e).applyQuaternion(this.quaternion),this.position.add(MD.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(ED,e)}translateY(e){return this.translateOnAxis(AD,e)}translateZ(e){return this.translateOnAxis(TD,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(is.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?ry.copy(e):ry.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Hd.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?is.lookAt(Hd,ry,this.up):is.lookAt(ry,Hd,this.up),this.quaternion.setFromRotationMatrix(is),i&&(is.extractRotation(i.matrixWorld),qc.setFromRotationMatrix(is),this.quaternion.premultiply(qc.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(PD),Kc.child=e,this.dispatchEvent(Kc),Kc.child=null):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ove),Lw.child=e,this.dispatchEvent(Lw),Lw.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),is.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),is.multiply(e.parent.matrixWorld)),e.applyMatrix4(is),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(PD),Kc.child=e,this.dispatchEvent(Kc),Kc.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const o=this.children[r].getObjectByProperty(e,n);if(o!==void 0)return o}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let a=0,o=i.length;a<o;a++)i[a].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hd,e,Pve),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Hd,Cve,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const a=n[r];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let a=0,o=i.length;a<o;a++){const s=i[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(s=>({boxInitialized:s.boxInitialized,boxMin:s.box.min.toArray(),boxMax:s.box.max.toArray(),sphereInitialized:s.sphereInitialized,sphereRadius:s.sphere.radius,sphereCenter:s.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function a(s,l){return s[l.uuid]===void 0&&(s[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const l=s.shapes;if(Array.isArray(l))for(let u=0,c=l.length;u<c;u++){const f=l[u];a(e.shapes,f)}else a(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let l=0,u=this.material.length;l<u;l++)s.push(a(e.materials,this.material[l]));i.material=s}else i.material=a(e.materials,this.material);if(this.children.length>0){i.children=[];for(let s=0;s<this.children.length;s++)i.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let s=0;s<this.animations.length;s++){const l=this.animations[s];i.animations.push(a(e.animations,l))}}if(n){const s=o(e.geometries),l=o(e.materials),u=o(e.textures),c=o(e.images),f=o(e.shapes),h=o(e.skeletons),m=o(e.animations),g=o(e.nodes);s.length>0&&(r.geometries=s),l.length>0&&(r.materials=l),u.length>0&&(r.textures=u),c.length>0&&(r.images=c),f.length>0&&(r.shapes=f),h.length>0&&(r.skeletons=h),m.length>0&&(r.animations=m),g.length>0&&(r.nodes=g)}return r.object=i,r;function o(s){const l=[];for(const u in s){const c=s[u];delete c.metadata,l.push(c)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}un.DEFAULT_UP=new ee(0,1,0);un.DEFAULT_MATRIX_AUTO_UPDATE=!0;un.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const Qa=new ee,as=new ee,Dw=new ee,os=new ee,Zc=new ee,Jc=new ee,CD=new ee,Nw=new ee,kw=new ee,Uw=new ee;class la{constructor(e=new ee,n=new ee,r=new ee){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),Qa.subVectors(e,n),i.cross(Qa);const a=i.lengthSq();return a>0?i.multiplyScalar(1/Math.sqrt(a)):i.set(0,0,0)}static getBarycoord(e,n,r,i,a){Qa.subVectors(i,n),as.subVectors(r,n),Dw.subVectors(e,n);const o=Qa.dot(Qa),s=Qa.dot(as),l=Qa.dot(Dw),u=as.dot(as),c=as.dot(Dw),f=o*u-s*s;if(f===0)return a.set(0,0,0),null;const h=1/f,m=(u*l-s*c)*h,g=(o*c-s*l)*h;return a.set(1-m-g,g,m)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,os)===null?!1:os.x>=0&&os.y>=0&&os.x+os.y<=1}static getInterpolation(e,n,r,i,a,o,s,l){return this.getBarycoord(e,n,r,i,os)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(a,os.x),l.addScaledVector(o,os.y),l.addScaledVector(s,os.z),l)}static isFrontFacing(e,n,r,i){return Qa.subVectors(r,n),as.subVectors(e,n),Qa.cross(as).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return Qa.subVectors(this.c,this.b),as.subVectors(this.a,this.b),Qa.cross(as).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return la.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return la.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,a){return la.getInterpolation(e,this.a,this.b,this.c,n,r,i,a)}containsPoint(e){return la.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return la.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,a=this.c;let o,s;Zc.subVectors(i,r),Jc.subVectors(a,r),Nw.subVectors(e,r);const l=Zc.dot(Nw),u=Jc.dot(Nw);if(l<=0&&u<=0)return n.copy(r);kw.subVectors(e,i);const c=Zc.dot(kw),f=Jc.dot(kw);if(c>=0&&f<=c)return n.copy(i);const h=l*f-c*u;if(h<=0&&l>=0&&c<=0)return o=l/(l-c),n.copy(r).addScaledVector(Zc,o);Uw.subVectors(e,a);const m=Zc.dot(Uw),g=Jc.dot(Uw);if(g>=0&&m<=g)return n.copy(a);const y=m*u-l*g;if(y<=0&&u>=0&&g<=0)return s=u/(u-g),n.copy(r).addScaledVector(Jc,s);const x=c*g-m*f;if(x<=0&&f-c>=0&&m-g>=0)return CD.subVectors(a,i),s=(f-c)/(f-c+(m-g)),n.copy(i).addScaledVector(CD,s);const v=1/(x+y+h);return o=y*v,s=h*v,n.copy(r).addScaledVector(Zc,o).addScaledVector(Jc,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const M6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},el={h:0,s:0,l:0},iy={h:0,s:0,l:0};function Fw(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class ht{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=oa){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,pn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=pn.workingColorSpace){return this.r=e,this.g=n,this.b=r,pn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=pn.workingColorSpace){if(e=Q2(e,1),n=er(n,0,1),r=er(r,0,1),n===0)this.r=this.g=this.b=r;else{const a=r<=.5?r*(1+n):r+n-r*n,o=2*r-a;this.r=Fw(o,a,e+1/3),this.g=Fw(o,a,e),this.b=Fw(o,a,e-1/3)}return pn.toWorkingColorSpace(this,i),this}setStyle(e,n=oa){function r(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const o=i[1],s=i[2];switch(o){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return r(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=i[1],o=a.length;if(o===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(o===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=oa){const r=M6[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Yf(e.r),this.g=Yf(e.g),this.b=Yf(e.b),this}copyLinearToSRGB(e){return this.r=Ew(e.r),this.g=Ew(e.g),this.b=Ew(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=oa){return pn.fromWorkingColorSpace(ii.copy(this),e),Math.round(er(ii.r*255,0,255))*65536+Math.round(er(ii.g*255,0,255))*256+Math.round(er(ii.b*255,0,255))}getHexString(e=oa){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=pn.workingColorSpace){pn.fromWorkingColorSpace(ii.copy(this),n);const r=ii.r,i=ii.g,a=ii.b,o=Math.max(r,i,a),s=Math.min(r,i,a);let l,u;const c=(s+o)/2;if(s===o)l=0,u=0;else{const f=o-s;switch(u=c<=.5?f/(o+s):f/(2-o-s),o){case r:l=(i-a)/f+(i<a?6:0);break;case i:l=(a-r)/f+2;break;case a:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=u,e.l=c,e}getRGB(e,n=pn.workingColorSpace){return pn.fromWorkingColorSpace(ii.copy(this),n),e.r=ii.r,e.g=ii.g,e.b=ii.b,e}getStyle(e=oa){pn.fromWorkingColorSpace(ii.copy(this),e);const n=ii.r,r=ii.g,i=ii.b;return e!==oa?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(el),this.setHSL(el.h+e,el.s+n,el.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(el),e.getHSL(iy);const r=Ap(el.h,iy.h,n),i=Ap(el.s,iy.s,n),a=Ap(el.l,iy.l,n);return this.setHSL(r,i,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,a=e.elements;return this.r=a[0]*n+a[3]*r+a[6]*i,this.g=a[1]*n+a[4]*r+a[7]*i,this.b=a[2]*n+a[5]*r+a[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ii=new ht;ht.NAMES=M6;let Rve=0;class hi extends Fs{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Rve++}),this.uuid=fa(),this.name="",this.type="Material",this.blending=Xu,this.side=Ls,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=zx,this.blendDst=Hx,this.blendEquation=hl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new ht(0,0,0),this.blendAlpha=0,this.depthFunc=Om,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=wA,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Au,this.stencilZFail=Au,this.stencilZPass=Au,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Xu&&(r.blending=this.blending),this.side!==Ls&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==zx&&(r.blendSrc=this.blendSrc),this.blendDst!==Hx&&(r.blendDst=this.blendDst),this.blendEquation!==hl&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Om&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==wA&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Au&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Au&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Au&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(a){const o=[];for(const s in a){const l=a[s];delete l.metadata,o.push(l)}return o}if(n){const a=i(e.textures),o=i(e.images);a.length>0&&(r.textures=a),o.length>0&&(r.images=o)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let a=0;a!==i;++a)r[a]=n[a].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Go extends hi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=mg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const ds=Ive();function Ive(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const u=l-127;u<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):u<-14?(r[l]=1024>>-u-14,r[l|256]=1024>>-u-14|32768,i[l]=-u-1,i[l|256]=-u-1):u<=15?(r[l]=u+15<<10,r[l|256]=u+15<<10|32768,i[l]=13,i[l|256]=13):u<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const a=new Uint32Array(2048),o=new Uint32Array(64),s=new Uint32Array(64);for(let l=1;l<1024;++l){let u=l<<13,c=0;for(;!(u&8388608);)u<<=1,c-=8388608;u&=-8388609,c+=947912704,a[l]=u|c}for(let l=1024;l<2048;++l)a[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)o[l]=l<<23;o[31]=1199570944,o[32]=2147483648;for(let l=33;l<63;++l)o[l]=2147483648+(l-32<<23);o[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(s[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:a,exponentTable:o,offsetTable:s}}function Ni(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=er(t,-65504,65504),ds.floatView[0]=t;const e=ds.uint32View[0],n=e>>23&511;return ds.baseTable[n]+((e&8388607)>>ds.shiftTable[n])}function sp(t){const e=t>>10;return ds.uint32View[0]=ds.mantissaTable[ds.offsetTable[e]+(t&1023)]+ds.exponentTable[e],ds.floatView[0]}const Bu={toHalfFloat:Ni,fromHalfFloat:sp},dr=new ee,ay=new We;class _n{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=zm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=tr,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return eP("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,a=this.itemSize;i<a;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)ay.fromBufferAttribute(this,n),ay.applyMatrix3(e),this.setXY(n,ay.x,ay.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyMatrix3(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyMatrix4(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.applyNormalMatrix(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)dr.fromBufferAttribute(this,n),dr.transformDirection(e),this.setXYZ(n,dr.x,dr.y,dr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=wi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jt(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=wi(n,this.array)),n}setX(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=wi(n,this.array)),n}setY(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=wi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=wi(n,this.array)),n}setW(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array),a=jt(a,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==zm&&(e.usage=this.usage),e}}class Lve extends _n{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Dve extends _n{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Nve extends _n{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class kve extends _n{constructor(e,n,r){super(new Int16Array(e),n,r)}}class nP extends _n{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Uve extends _n{constructor(e,n,r){super(new Int32Array(e),n,r)}}class rP extends _n{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Fve extends _n{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=sp(this.array[e*this.itemSize]);return this.normalized&&(n=wi(n,this.array)),n}setX(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize]=Ni(n),this}getY(e){let n=sp(this.array[e*this.itemSize+1]);return this.normalized&&(n=wi(n,this.array)),n}setY(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+1]=Ni(n),this}getZ(e){let n=sp(this.array[e*this.itemSize+2]);return this.normalized&&(n=wi(n,this.array)),n}setZ(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+2]=Ni(n),this}getW(e){let n=sp(this.array[e*this.itemSize+3]);return this.normalized&&(n=wi(n,this.array)),n}setW(e,n){return this.normalized&&(n=jt(n,this.array)),this.array[e*this.itemSize+3]=Ni(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array)),this.array[e+0]=Ni(n),this.array[e+1]=Ni(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.array[e+0]=Ni(n),this.array[e+1]=Ni(r),this.array[e+2]=Ni(i),this}setXYZW(e,n,r,i,a){return e*=this.itemSize,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array),a=jt(a,this.array)),this.array[e+0]=Ni(n),this.array[e+1]=Ni(r),this.array[e+2]=Ni(i),this.array[e+3]=Ni(a),this}}class bt extends _n{constructor(e,n,r){super(new Float32Array(e),n,r)}}let Bve=0;const Ra=new Rt,Bw=new un,Qc=new ee,ta=new Yr,jd=new Yr,Nr=new ee;class Wt extends Fs{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Bve++}),this.uuid=fa(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(_6(e)?rP:nP)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const a=new zt().getNormalMatrix(e);r.applyNormalMatrix(a),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Ra.makeRotationFromQuaternion(e),this.applyMatrix4(Ra),this}rotateX(e){return Ra.makeRotationX(e),this.applyMatrix4(Ra),this}rotateY(e){return Ra.makeRotationY(e),this.applyMatrix4(Ra),this}rotateZ(e){return Ra.makeRotationZ(e),this.applyMatrix4(Ra),this}translate(e,n,r){return Ra.makeTranslation(e,n,r),this.applyMatrix4(Ra),this}scale(e,n,r){return Ra.makeScale(e,n,r),this.applyMatrix4(Ra),this}lookAt(e){return Bw.lookAt(e),Bw.updateMatrix(),this.applyMatrix4(Bw.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Qc).negate(),this.translate(Qc.x,Qc.y,Qc.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const a=e[r];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new bt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new ee(-1/0,-1/0,-1/0),new ee(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const a=n[r];ta.setFromBufferAttribute(a),this.morphTargetsRelative?(Nr.addVectors(this.boundingBox.min,ta.min),this.boundingBox.expandByPoint(Nr),Nr.addVectors(this.boundingBox.max,ta.max),this.boundingBox.expandByPoint(Nr)):(this.boundingBox.expandByPoint(ta.min),this.boundingBox.expandByPoint(ta.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error("THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new ee,1/0);return}if(e){const r=this.boundingSphere.center;if(ta.setFromBufferAttribute(e),n)for(let a=0,o=n.length;a<o;a++){const s=n[a];jd.setFromBufferAttribute(s),this.morphTargetsRelative?(Nr.addVectors(ta.min,jd.min),ta.expandByPoint(Nr),Nr.addVectors(ta.max,jd.max),ta.expandByPoint(Nr)):(ta.expandByPoint(jd.min),ta.expandByPoint(jd.max))}ta.getCenter(r);let i=0;for(let a=0,o=e.count;a<o;a++)Nr.fromBufferAttribute(e,a),i=Math.max(i,r.distanceToSquared(Nr));if(n)for(let a=0,o=n.length;a<o;a++){const s=n[a],l=this.morphTargetsRelative;for(let u=0,c=s.count;u<c;u++)Nr.fromBufferAttribute(s,u),l&&(Qc.fromBufferAttribute(e,u),Nr.add(Qc)),i=Math.max(i,r.distanceToSquared(Nr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,a=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new _n(new Float32Array(4*r.count),4));const o=this.getAttribute("tangent"),s=[],l=[];for(let C=0;C<r.count;C++)s[C]=new ee,l[C]=new ee;const u=new ee,c=new ee,f=new ee,h=new We,m=new We,g=new We,y=new ee,x=new ee;function v(C,P,O){u.fromBufferAttribute(r,C),c.fromBufferAttribute(r,P),f.fromBufferAttribute(r,O),h.fromBufferAttribute(a,C),m.fromBufferAttribute(a,P),g.fromBufferAttribute(a,O),c.sub(u),f.sub(u),m.sub(h),g.sub(h);const I=1/(m.x*g.y-g.x*m.y);isFinite(I)&&(y.copy(c).multiplyScalar(g.y).addScaledVector(f,-m.y).multiplyScalar(I),x.copy(f).multiplyScalar(m.x).addScaledVector(c,-g.x).multiplyScalar(I),s[C].add(y),s[P].add(y),s[O].add(y),l[C].add(x),l[P].add(x),l[O].add(x))}let S=this.groups;S.length===0&&(S=[{start:0,count:e.count}]);for(let C=0,P=S.length;C<P;++C){const O=S[C],I=O.start,D=O.count;for(let F=I,B=I+D;F<B;F+=3)v(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const _=new ee,b=new ee,E=new ee,M=new ee;function T(C){E.fromBufferAttribute(i,C),M.copy(E);const P=s[C];_.copy(P),_.sub(E.multiplyScalar(E.dot(P))).normalize(),b.crossVectors(M,P);const I=b.dot(l[C])<0?-1:1;o.setXYZW(C,_.x,_.y,_.z,I)}for(let C=0,P=S.length;C<P;++C){const O=S[C],I=O.start,D=O.count;for(let F=I,B=I+D;F<B;F+=3)T(e.getX(F+0)),T(e.getX(F+1)),T(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new _n(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let h=0,m=r.count;h<m;h++)r.setXYZ(h,0,0,0);const i=new ee,a=new ee,o=new ee,s=new ee,l=new ee,u=new ee,c=new ee,f=new ee;if(e)for(let h=0,m=e.count;h<m;h+=3){const g=e.getX(h+0),y=e.getX(h+1),x=e.getX(h+2);i.fromBufferAttribute(n,g),a.fromBufferAttribute(n,y),o.fromBufferAttribute(n,x),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),s.fromBufferAttribute(r,g),l.fromBufferAttribute(r,y),u.fromBufferAttribute(r,x),s.add(c),l.add(c),u.add(c),r.setXYZ(g,s.x,s.y,s.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(x,u.x,u.y,u.z)}else for(let h=0,m=n.count;h<m;h+=3)i.fromBufferAttribute(n,h+0),a.fromBufferAttribute(n,h+1),o.fromBufferAttribute(n,h+2),c.subVectors(o,a),f.subVectors(i,a),c.cross(f),r.setXYZ(h+0,c.x,c.y,c.z),r.setXYZ(h+1,c.x,c.y,c.z),r.setXYZ(h+2,c.x,c.y,c.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Nr.fromBufferAttribute(e,n),Nr.normalize(),e.setXYZ(n,Nr.x,Nr.y,Nr.z)}toNonIndexed(){function e(s,l){const u=s.array,c=s.itemSize,f=s.normalized,h=new u.constructor(l.length*c);let m=0,g=0;for(let y=0,x=l.length;y<x;y++){s.isInterleavedBufferAttribute?m=l[y]*s.data.stride+s.offset:m=l[y]*c;for(let v=0;v<c;v++)h[g++]=u[m++]}return new _n(h,c,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Wt,r=this.index.array,i=this.attributes;for(const s in i){const l=i[s],u=e(l,r);n.setAttribute(s,u)}const a=this.morphAttributes;for(const s in a){const l=[],u=a[s];for(let c=0,f=u.length;c<f;c++){const h=u[c],m=e(h,r);l.push(m)}n.morphAttributes[s]=l}n.morphTargetsRelative=this.morphTargetsRelative;const o=this.groups;for(let s=0,l=o.length;s<l;s++){const u=o[s];n.addGroup(u.start,u.count,u.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const u in l)l[u]!==void 0&&(e[u]=l[u]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const u=r[l];e.data.attributes[l]=u.toJSON(e.data)}const i={};let a=!1;for(const l in this.morphAttributes){const u=this.morphAttributes[l],c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f];c.push(m.toJSON(e.data))}c.length>0&&(i[l]=c,a=!0)}a&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const o=this.groups;o.length>0&&(e.data.groups=JSON.parse(JSON.stringify(o)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const u in i){const c=i[u];this.setAttribute(u,c.clone(n))}const a=e.morphAttributes;for(const u in a){const c=[],f=a[u];for(let h=0,m=f.length;h<m;h++)c.push(f[h].clone(n));this.morphAttributes[u]=c}this.morphTargetsRelative=e.morphTargetsRelative;const o=e.groups;for(let u=0,c=o.length;u<c;u++){const f=o[u];this.addGroup(f.start,f.count,f.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const OD=new Rt,lu=new _c,oy=new qr,RD=new ee,ef=new ee,tf=new ee,nf=new ee,zw=new ee,sy=new ee,ly=new We,uy=new We,cy=new We,ID=new ee,LD=new ee,DD=new ee,fy=new ee,hy=new ee;class In extends un{constructor(e=new Wt,n=new Go){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,a=r.morphAttributes.position,o=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const s=this.morphTargetInfluences;if(a&&s){sy.set(0,0,0);for(let l=0,u=a.length;l<u;l++){const c=s[l],f=a[l];c!==0&&(zw.fromBufferAttribute(f,e),o?sy.addScaledVector(zw,c):sy.addScaledVector(zw.sub(n),c))}n.add(sy)}return n}raycast(e,n){const r=this.geometry,i=this.material,a=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),oy.copy(r.boundingSphere),oy.applyMatrix4(a),lu.copy(e.ray).recast(e.near),!(oy.containsPoint(lu.origin)===!1&&(lu.intersectSphere(oy,RD)===null||lu.origin.distanceToSquared(RD)>(e.far-e.near)**2))&&(OD.copy(a).invert(),lu.copy(e.ray).applyMatrix4(OD),!(r.boundingBox!==null&&lu.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,lu)))}_computeIntersections(e,n,r){let i;const a=this.geometry,o=this.material,s=a.index,l=a.attributes.position,u=a.attributes.uv,c=a.attributes.uv1,f=a.attributes.normal,h=a.groups,m=a.drawRange;if(s!==null)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const x=h[g],v=o[x.materialIndex],S=Math.max(x.start,m.start),_=Math.min(s.count,Math.min(x.start+x.count,m.start+m.count));for(let b=S,E=_;b<E;b+=3){const M=s.getX(b),T=s.getX(b+1),C=s.getX(b+2);i=dy(this,v,e,r,u,c,f,M,T,C),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(s.count,m.start+m.count);for(let x=g,v=y;x<v;x+=3){const S=s.getX(x),_=s.getX(x+1),b=s.getX(x+2);i=dy(this,o,e,r,u,c,f,S,_,b),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(o))for(let g=0,y=h.length;g<y;g++){const x=h[g],v=o[x.materialIndex],S=Math.max(x.start,m.start),_=Math.min(l.count,Math.min(x.start+x.count,m.start+m.count));for(let b=S,E=_;b<E;b+=3){const M=b,T=b+1,C=b+2;i=dy(this,v,e,r,u,c,f,M,T,C),i&&(i.faceIndex=Math.floor(b/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const g=Math.max(0,m.start),y=Math.min(l.count,m.start+m.count);for(let x=g,v=y;x<v;x+=3){const S=x,_=x+1,b=x+2;i=dy(this,o,e,r,u,c,f,S,_,b),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function zve(t,e,n,r,i,a,o,s){let l;if(e.side===Ei?l=r.intersectTriangle(o,a,i,!0,s):l=r.intersectTriangle(i,a,o,e.side===Ls,s),l===null)return null;hy.copy(s),hy.applyMatrix4(t.matrixWorld);const u=n.ray.origin.distanceTo(hy);return u<n.near||u>n.far?null:{distance:u,point:hy.clone(),object:t}}function dy(t,e,n,r,i,a,o,s,l,u){t.getVertexPosition(s,ef),t.getVertexPosition(l,tf),t.getVertexPosition(u,nf);const c=zve(t,e,n,r,ef,tf,nf,fy);if(c){i&&(ly.fromBufferAttribute(i,s),uy.fromBufferAttribute(i,l),cy.fromBufferAttribute(i,u),c.uv=la.getInterpolation(fy,ef,tf,nf,ly,uy,cy,new We)),a&&(ly.fromBufferAttribute(a,s),uy.fromBufferAttribute(a,l),cy.fromBufferAttribute(a,u),c.uv1=la.getInterpolation(fy,ef,tf,nf,ly,uy,cy,new We)),o&&(ID.fromBufferAttribute(o,s),LD.fromBufferAttribute(o,l),DD.fromBufferAttribute(o,u),c.normal=la.getInterpolation(fy,ef,tf,nf,ID,LD,DD,new ee),c.normal.dot(r.direction)>0&&c.normal.multiplyScalar(-1));const f={a:s,b:l,c:u,normal:new ee,materialIndex:0};la.getNormal(ef,tf,nf,f.normal),c.face=f}return c}class Sc extends Wt{constructor(e=1,n=1,r=1,i=1,a=1,o=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:a,depthSegments:o};const s=this;i=Math.floor(i),a=Math.floor(a),o=Math.floor(o);const l=[],u=[],c=[],f=[];let h=0,m=0;g("z","y","x",-1,-1,r,n,e,o,a,0),g("z","y","x",1,-1,r,n,-e,o,a,1),g("x","z","y",1,1,e,r,n,i,o,2),g("x","z","y",1,-1,e,r,-n,i,o,3),g("x","y","z",1,-1,e,n,r,i,a,4),g("x","y","z",-1,-1,e,n,-r,i,a,5),this.setIndex(l),this.setAttribute("position",new bt(u,3)),this.setAttribute("normal",new bt(c,3)),this.setAttribute("uv",new bt(f,2));function g(y,x,v,S,_,b,E,M,T,C,P){const O=b/T,I=E/C,D=b/2,F=E/2,B=M/2,W=T+1,V=C+1;let Q=0,N=0;const j=new ee;for(let G=0;G<V;G++){const H=G*I-F;for(let $=0;$<W;$++){const ie=$*O-D;j[y]=ie*S,j[x]=H*_,j[v]=B,u.push(j.x,j.y,j.z),j[y]=0,j[x]=0,j[v]=M>0?1:-1,c.push(j.x,j.y,j.z),f.push($/T),f.push(1-G/C),Q+=1}}for(let G=0;G<C;G++)for(let H=0;H<T;H++){const $=h+H+W*G,ie=h+H+W*(G+1),Z=h+(H+1)+W*(G+1),ae=h+(H+1)+W*G;l.push($,ie,ae),l.push(ie,Z,ae),N+=6}s.addGroup(m,N,P),m+=N,h+=Q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sc(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Ph(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function _i(t){const e={};for(let n=0;n<t.length;n++){const r=Ph(t[n]);for(const i in r)e[i]=r[i]}return e}function Hve(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function E6(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:pn.workingColorSpace}const iP={clone:Ph,merge:_i};var jve=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Gve=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Gi extends hi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=jve,this.fragmentShader=Gve,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ph(e.uniforms),this.uniformsGroups=Hve(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const o=this.uniforms[i].value;o&&o.isTexture?n.uniforms[i]={type:"t",value:o.toJSON(e).uuid}:o&&o.isColor?n.uniforms[i]={type:"c",value:o.getHex()}:o&&o.isVector2?n.uniforms[i]={type:"v2",value:o.toArray()}:o&&o.isVector3?n.uniforms[i]={type:"v3",value:o.toArray()}:o&&o.isVector4?n.uniforms[i]={type:"v4",value:o.toArray()}:o&&o.isMatrix3?n.uniforms[i]={type:"m3",value:o.toArray()}:o&&o.isMatrix4?n.uniforms[i]={type:"m4",value:o.toArray()}:n.uniforms[i]={value:o}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class vg extends un{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Rt,this.projectionMatrix=new Rt,this.projectionMatrixInverse=new Rt,this.coordinateSystem=Ro}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const tl=new ee,ND=new We,kD=new We;class lr extends vg{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=Th*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(qu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return Th*2*Math.atan(Math.tan(qu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){tl.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(tl.x,tl.y).multiplyScalar(-e/tl.z),tl.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(tl.x,tl.y).multiplyScalar(-e/tl.z)}getViewSize(e,n){return this.getViewBounds(e,ND,kD),n.subVectors(kD,ND)}setViewOffset(e,n,r,i,a,o){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(qu*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,a=-.5*i;const o=this.view;if(this.view!==null&&this.view.enabled){const l=o.fullWidth,u=o.fullHeight;a+=o.offsetX*i/l,n-=o.offsetY*r/u,i*=o.width/l,r*=o.height/u}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const rf=-90,af=1;class A6 extends un{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new lr(rf,af,e,n);i.layers=this.layers,this.add(i);const a=new lr(rf,af,e,n);a.layers=this.layers,this.add(a);const o=new lr(rf,af,e,n);o.layers=this.layers,this.add(o);const s=new lr(rf,af,e,n);s.layers=this.layers,this.add(s);const l=new lr(rf,af,e,n);l.layers=this.layers,this.add(l);const u=new lr(rf,af,e,n);u.layers=this.layers,this.add(u)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,a,o,s,l]=n;for(const u of n)this.remove(u);if(e===Ro)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),a.up.set(0,0,-1),a.lookAt(0,1,0),o.up.set(0,0,1),o.lookAt(0,-1,0),s.up.set(0,1,0),s.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Hm)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),a.up.set(0,0,1),a.lookAt(0,1,0),o.up.set(0,0,-1),o.lookAt(0,-1,0),s.up.set(0,-1,0),s.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const u of n)this.add(u),u.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[a,o,s,l,u,c]=this.children,f=e.getRenderTarget(),h=e.getActiveCubeFace(),m=e.getActiveMipmapLevel(),g=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,a),e.setRenderTarget(r,1,i),e.render(n,o),e.setRenderTarget(r,2,i),e.render(n,s),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,u),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,c),e.setRenderTarget(f,h,m),e.xr.enabled=g,r.texture.needsPMREMUpdate=!0}}class yg extends yn{constructor(e,n,r,i,a,o,s,l,u,c){e=e!==void 0?e:[],n=n!==void 0?n:Ho,super(e,n,r,i,a,o,s,l,u,c),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class aP extends ga{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new yg(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:hn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new Sc(5,5,5),a=new Gi({name:"CubemapFromEquirect",uniforms:Ph(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Ei,blending:ko});a.uniforms.tEquirect.value=n;const o=new In(i,a),s=n.minFilter;return n.minFilter===Oo&&(n.minFilter=hn),new A6(1,10,this).update(e,o),n.minFilter=s,o.geometry.dispose(),o.material.dispose(),this}clear(e,n,r,i){const a=e.getRenderTarget();for(let o=0;o<6;o++)e.setRenderTarget(this,o),e.clear(n,r,i);e.setRenderTarget(a)}}const Hw=new ee,Vve=new ee,Wve=new zt;class fs{constructor(e=new ee(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=Hw.subVectors(r,n).cross(Vve.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(Hw),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/i;return a<0||a>1?null:n.copy(e.start).addScaledVector(r,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Wve.getNormalMatrix(e),i=this.coplanarPoint(Hw).applyMatrix4(e),a=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const uu=new qr,py=new ee;class xg{constructor(e=new fs,n=new fs,r=new fs,i=new fs,a=new fs,o=new fs){this.planes=[e,n,r,i,a,o]}set(e,n,r,i,a,o){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(r),s[3].copy(i),s[4].copy(a),s[5].copy(o),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=Ro){const r=this.planes,i=e.elements,a=i[0],o=i[1],s=i[2],l=i[3],u=i[4],c=i[5],f=i[6],h=i[7],m=i[8],g=i[9],y=i[10],x=i[11],v=i[12],S=i[13],_=i[14],b=i[15];if(r[0].setComponents(l-a,h-u,x-m,b-v).normalize(),r[1].setComponents(l+a,h+u,x+m,b+v).normalize(),r[2].setComponents(l+o,h+c,x+g,b+S).normalize(),r[3].setComponents(l-o,h-c,x-g,b-S).normalize(),r[4].setComponents(l-s,h-f,x-y,b-_).normalize(),n===Ro)r[5].setComponents(l+s,h+f,x+y,b+_).normalize();else if(n===Hm)r[5].setComponents(s,f,y,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),uu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),uu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(uu)}intersectsSprite(e){return uu.center.set(0,0,0),uu.radius=.7071067811865476,uu.applyMatrix4(e.matrixWorld),this.intersectsSphere(uu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(py.x=i.normal.x>0?e.max.x:e.min.x,py.y=i.normal.y>0?e.max.y:e.min.y,py.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(py)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function T6(){let t=null,e=!1,n=null,r=null;function i(a,o){n(a,o),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function $ve(t){const e=new WeakMap;function n(s,l){const u=s.array,c=s.usage,f=u.byteLength,h=t.createBuffer();t.bindBuffer(l,h),t.bufferData(l,u,c),s.onUploadCallback();let m;if(u instanceof Float32Array)m=t.FLOAT;else if(u instanceof Uint16Array)s.isFloat16BufferAttribute?m=t.HALF_FLOAT:m=t.UNSIGNED_SHORT;else if(u instanceof Int16Array)m=t.SHORT;else if(u instanceof Uint32Array)m=t.UNSIGNED_INT;else if(u instanceof Int32Array)m=t.INT;else if(u instanceof Int8Array)m=t.BYTE;else if(u instanceof Uint8Array)m=t.UNSIGNED_BYTE;else if(u instanceof Uint8ClampedArray)m=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+u);return{buffer:h,type:m,bytesPerElement:u.BYTES_PER_ELEMENT,version:s.version,size:f}}function r(s,l,u){const c=l.array,f=l._updateRange,h=l.updateRanges;if(t.bindBuffer(u,s),f.count===-1&&h.length===0&&t.bufferSubData(u,0,c),h.length!==0){for(let m=0,g=h.length;m<g;m++){const y=h[m];t.bufferSubData(u,y.start*c.BYTES_PER_ELEMENT,c,y.start,y.count)}l.clearUpdateRanges()}f.count!==-1&&(t.bufferSubData(u,f.offset*c.BYTES_PER_ELEMENT,c,f.offset,f.count),f.count=-1),l.onUploadCallback()}function i(s){return s.isInterleavedBufferAttribute&&(s=s.data),e.get(s)}function a(s){s.isInterleavedBufferAttribute&&(s=s.data);const l=e.get(s);l&&(t.deleteBuffer(l.buffer),e.delete(s))}function o(s,l){if(s.isGLBufferAttribute){const c=e.get(s);(!c||c.version<s.version)&&e.set(s,{buffer:s.buffer,type:s.type,bytesPerElement:s.elementSize,version:s.version});return}s.isInterleavedBufferAttribute&&(s=s.data);const u=e.get(s);if(u===void 0)e.set(s,n(s,l));else if(u.version<s.version){if(u.size!==s.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(u.buffer,s,l),u.version=s.version}}return{get:i,remove:a,update:o}}class go extends Wt{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const a=e/2,o=n/2,s=Math.floor(r),l=Math.floor(i),u=s+1,c=l+1,f=e/s,h=n/l,m=[],g=[],y=[],x=[];for(let v=0;v<c;v++){const S=v*h-o;for(let _=0;_<u;_++){const b=_*f-a;g.push(b,-S,0),y.push(0,0,1),x.push(_/s),x.push(1-v/l)}}for(let v=0;v<l;v++)for(let S=0;S<s;S++){const _=S+u*v,b=S+u*(v+1),E=S+1+u*(v+1),M=S+1+u*v;m.push(_,b,M),m.push(b,E,M)}this.setIndex(m),this.setAttribute("position",new bt(g,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new go(e.width,e.height,e.widthSegments,e.heightSegments)}}var Xve=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,Yve=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,qve=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Kve=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Zve=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,Jve=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Qve=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,eye=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,tye=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,nye=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,rye=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,iye=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,aye=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,oye=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,sye=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,lye=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,uye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,cye=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,fye=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,hye=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,dye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,pye=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,mye=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( batchId );
	vColor.xyz *= batchingColor.xyz;
#endif`,gye=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,vye=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,yye=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,xye=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,_ye=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Sye=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,wye=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,bye="gl_FragColor = linearToOutputTexel( gl_FragColor );",Mye=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Eye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Aye=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Tye=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Pye=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Cye=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Oye=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Rye=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Iye=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Lye=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Dye=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,Nye=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,kye=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Uye=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Fye=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Bye=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,zye=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Hye=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,jye=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Gye=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Vye=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,Wye=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,$ye=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,Xye=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Yye=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,qye=`#if defined( USE_LOGDEPTHBUF )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Kye=`#if defined( USE_LOGDEPTHBUF )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Zye=`#ifdef USE_LOGDEPTHBUF
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Jye=`#ifdef USE_LOGDEPTHBUF
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Qye=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,e0e=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,t0e=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,n0e=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,r0e=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,i0e=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,a0e=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,o0e=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,s0e=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,l0e=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,u0e=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,c0e=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,f0e=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,h0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,d0e=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,p0e=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,m0e=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,g0e=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,v0e=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,y0e=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,x0e=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,_0e=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,S0e=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,w0e=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,b0e=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,M0e=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,E0e=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,A0e=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,T0e=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,P0e=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return shadow;
	}
#endif`,C0e=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,O0e=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,R0e=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,I0e=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,L0e=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,D0e=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,N0e=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,k0e=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,U0e=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,F0e=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,B0e=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,z0e=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,H0e=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
		
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
		
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		
		#else
		
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,j0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,G0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,V0e=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,W0e=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const $0e=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,X0e=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,Y0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,q0e=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,K0e=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Z0e=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,J0e=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Q0e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,exe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,txe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,nxe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,rxe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ixe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,axe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,oxe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,sxe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,lxe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,uxe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,cxe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fxe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,hxe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,dxe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,pxe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,mxe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,gxe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,vxe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,yxe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,xxe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_xe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Sxe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,wxe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bxe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Mxe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Exe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Ht={alphahash_fragment:Xve,alphahash_pars_fragment:Yve,alphamap_fragment:qve,alphamap_pars_fragment:Kve,alphatest_fragment:Zve,alphatest_pars_fragment:Jve,aomap_fragment:Qve,aomap_pars_fragment:eye,batching_pars_vertex:tye,batching_vertex:nye,begin_vertex:rye,beginnormal_vertex:iye,bsdfs:aye,iridescence_fragment:oye,bumpmap_pars_fragment:sye,clipping_planes_fragment:lye,clipping_planes_pars_fragment:uye,clipping_planes_pars_vertex:cye,clipping_planes_vertex:fye,color_fragment:hye,color_pars_fragment:dye,color_pars_vertex:pye,color_vertex:mye,common:gye,cube_uv_reflection_fragment:vye,defaultnormal_vertex:yye,displacementmap_pars_vertex:xye,displacementmap_vertex:_ye,emissivemap_fragment:Sye,emissivemap_pars_fragment:wye,colorspace_fragment:bye,colorspace_pars_fragment:Mye,envmap_fragment:Eye,envmap_common_pars_fragment:Aye,envmap_pars_fragment:Tye,envmap_pars_vertex:Pye,envmap_physical_pars_fragment:Bye,envmap_vertex:Cye,fog_vertex:Oye,fog_pars_vertex:Rye,fog_fragment:Iye,fog_pars_fragment:Lye,gradientmap_pars_fragment:Dye,lightmap_pars_fragment:Nye,lights_lambert_fragment:kye,lights_lambert_pars_fragment:Uye,lights_pars_begin:Fye,lights_toon_fragment:zye,lights_toon_pars_fragment:Hye,lights_phong_fragment:jye,lights_phong_pars_fragment:Gye,lights_physical_fragment:Vye,lights_physical_pars_fragment:Wye,lights_fragment_begin:$ye,lights_fragment_maps:Xye,lights_fragment_end:Yye,logdepthbuf_fragment:qye,logdepthbuf_pars_fragment:Kye,logdepthbuf_pars_vertex:Zye,logdepthbuf_vertex:Jye,map_fragment:Qye,map_pars_fragment:e0e,map_particle_fragment:t0e,map_particle_pars_fragment:n0e,metalnessmap_fragment:r0e,metalnessmap_pars_fragment:i0e,morphinstance_vertex:a0e,morphcolor_vertex:o0e,morphnormal_vertex:s0e,morphtarget_pars_vertex:l0e,morphtarget_vertex:u0e,normal_fragment_begin:c0e,normal_fragment_maps:f0e,normal_pars_fragment:h0e,normal_pars_vertex:d0e,normal_vertex:p0e,normalmap_pars_fragment:m0e,clearcoat_normal_fragment_begin:g0e,clearcoat_normal_fragment_maps:v0e,clearcoat_pars_fragment:y0e,iridescence_pars_fragment:x0e,opaque_fragment:_0e,packing:S0e,premultiplied_alpha_fragment:w0e,project_vertex:b0e,dithering_fragment:M0e,dithering_pars_fragment:E0e,roughnessmap_fragment:A0e,roughnessmap_pars_fragment:T0e,shadowmap_pars_fragment:P0e,shadowmap_pars_vertex:C0e,shadowmap_vertex:O0e,shadowmask_pars_fragment:R0e,skinbase_vertex:I0e,skinning_pars_vertex:L0e,skinning_vertex:D0e,skinnormal_vertex:N0e,specularmap_fragment:k0e,specularmap_pars_fragment:U0e,tonemapping_fragment:F0e,tonemapping_pars_fragment:B0e,transmission_fragment:z0e,transmission_pars_fragment:H0e,uv_pars_fragment:j0e,uv_pars_vertex:G0e,uv_vertex:V0e,worldpos_vertex:W0e,background_vert:$0e,background_frag:X0e,backgroundCube_vert:Y0e,backgroundCube_frag:q0e,cube_vert:K0e,cube_frag:Z0e,depth_vert:J0e,depth_frag:Q0e,distanceRGBA_vert:exe,distanceRGBA_frag:txe,equirect_vert:nxe,equirect_frag:rxe,linedashed_vert:ixe,linedashed_frag:axe,meshbasic_vert:oxe,meshbasic_frag:sxe,meshlambert_vert:lxe,meshlambert_frag:uxe,meshmatcap_vert:cxe,meshmatcap_frag:fxe,meshnormal_vert:hxe,meshnormal_frag:dxe,meshphong_vert:pxe,meshphong_frag:mxe,meshphysical_vert:gxe,meshphysical_frag:vxe,meshtoon_vert:yxe,meshtoon_frag:xxe,points_vert:_xe,points_frag:Sxe,shadow_vert:wxe,shadow_frag:bxe,sprite_vert:Mxe,sprite_frag:Exe},ct={common:{diffuse:{value:new ht(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new zt},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new zt}},envmap:{envMap:{value:null},envMapRotation:{value:new zt},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new zt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new zt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new zt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new zt},normalScale:{value:new We(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new zt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new zt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new zt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new zt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new ht(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new ht(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0},uvTransform:{value:new zt}},sprite:{diffuse:{value:new ht(16777215)},opacity:{value:1},center:{value:new We(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new zt},alphaMap:{value:null},alphaMapTransform:{value:new zt},alphaTest:{value:0}}},lo={basic:{uniforms:_i([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.fog]),vertexShader:Ht.meshbasic_vert,fragmentShader:Ht.meshbasic_frag},lambert:{uniforms:_i([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ht(0)}}]),vertexShader:Ht.meshlambert_vert,fragmentShader:Ht.meshlambert_frag},phong:{uniforms:_i([ct.common,ct.specularmap,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,ct.lights,{emissive:{value:new ht(0)},specular:{value:new ht(1118481)},shininess:{value:30}}]),vertexShader:Ht.meshphong_vert,fragmentShader:Ht.meshphong_frag},standard:{uniforms:_i([ct.common,ct.envmap,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.roughnessmap,ct.metalnessmap,ct.fog,ct.lights,{emissive:{value:new ht(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag},toon:{uniforms:_i([ct.common,ct.aomap,ct.lightmap,ct.emissivemap,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.gradientmap,ct.fog,ct.lights,{emissive:{value:new ht(0)}}]),vertexShader:Ht.meshtoon_vert,fragmentShader:Ht.meshtoon_frag},matcap:{uniforms:_i([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,ct.fog,{matcap:{value:null}}]),vertexShader:Ht.meshmatcap_vert,fragmentShader:Ht.meshmatcap_frag},points:{uniforms:_i([ct.points,ct.fog]),vertexShader:Ht.points_vert,fragmentShader:Ht.points_frag},dashed:{uniforms:_i([ct.common,ct.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Ht.linedashed_vert,fragmentShader:Ht.linedashed_frag},depth:{uniforms:_i([ct.common,ct.displacementmap]),vertexShader:Ht.depth_vert,fragmentShader:Ht.depth_frag},normal:{uniforms:_i([ct.common,ct.bumpmap,ct.normalmap,ct.displacementmap,{opacity:{value:1}}]),vertexShader:Ht.meshnormal_vert,fragmentShader:Ht.meshnormal_frag},sprite:{uniforms:_i([ct.sprite,ct.fog]),vertexShader:Ht.sprite_vert,fragmentShader:Ht.sprite_frag},background:{uniforms:{uvTransform:{value:new zt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Ht.background_vert,fragmentShader:Ht.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new zt}},vertexShader:Ht.backgroundCube_vert,fragmentShader:Ht.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Ht.cube_vert,fragmentShader:Ht.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Ht.equirect_vert,fragmentShader:Ht.equirect_frag},distanceRGBA:{uniforms:_i([ct.common,ct.displacementmap,{referencePosition:{value:new ee},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Ht.distanceRGBA_vert,fragmentShader:Ht.distanceRGBA_frag},shadow:{uniforms:_i([ct.lights,ct.fog,{color:{value:new ht(0)},opacity:{value:1}}]),vertexShader:Ht.shadow_vert,fragmentShader:Ht.shadow_frag}};lo.physical={uniforms:_i([lo.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new zt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new zt},clearcoatNormalScale:{value:new We(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new zt},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new zt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new zt},sheen:{value:0},sheenColor:{value:new ht(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new zt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new zt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new zt},transmissionSamplerSize:{value:new We},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new zt},attenuationDistance:{value:0},attenuationColor:{value:new ht(0)},specularColor:{value:new ht(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new zt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new zt},anisotropyVector:{value:new We},anisotropyMap:{value:null},anisotropyMapTransform:{value:new zt}}]),vertexShader:Ht.meshphysical_vert,fragmentShader:Ht.meshphysical_frag};const my={r:0,b:0,g:0},cu=new va,Axe=new Rt;function Txe(t,e,n,r,i,a,o){const s=new ht(0);let l=a===!0?0:1,u,c,f=null,h=0,m=null;function g(S){let _=S.isScene===!0?S.background:null;return _&&_.isTexture&&(_=(S.backgroundBlurriness>0?n:e).get(_)),_}function y(S){let _=!1;const b=g(S);b===null?v(s,l):b&&b.isColor&&(v(b,1),_=!0);const E=t.xr.getEnvironmentBlendMode();E==="additive"?r.buffers.color.setClear(0,0,0,1,o):E==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,o),(t.autoClear||_)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function x(S,_){const b=g(_);b&&(b.isCubeTexture||b.mapping===Xh)?(c===void 0&&(c=new In(new Sc(1,1,1),new Gi({name:"BackgroundCubeMaterial",uniforms:Ph(lo.backgroundCube.uniforms),vertexShader:lo.backgroundCube.vertexShader,fragmentShader:lo.backgroundCube.fragmentShader,side:Ei,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),c.geometry.deleteAttribute("uv"),c.onBeforeRender=function(E,M,T){this.matrixWorld.copyPosition(T.matrixWorld)},Object.defineProperty(c.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(c)),cu.copy(_.backgroundRotation),cu.x*=-1,cu.y*=-1,cu.z*=-1,b.isCubeTexture&&b.isRenderTargetTexture===!1&&(cu.y*=-1,cu.z*=-1),c.material.uniforms.envMap.value=b,c.material.uniforms.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,c.material.uniforms.backgroundBlurriness.value=_.backgroundBlurriness,c.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,c.material.uniforms.backgroundRotation.value.setFromMatrix4(Axe.makeRotationFromEuler(cu)),c.material.toneMapped=pn.getTransfer(b.colorSpace)!==Pn,(f!==b||h!==b.version||m!==t.toneMapping)&&(c.material.needsUpdate=!0,f=b,h=b.version,m=t.toneMapping),c.layers.enableAll(),S.unshift(c,c.geometry,c.material,0,0,null)):b&&b.isTexture&&(u===void 0&&(u=new In(new go(2,2),new Gi({name:"BackgroundMaterial",uniforms:Ph(lo.background.uniforms),vertexShader:lo.background.vertexShader,fragmentShader:lo.background.fragmentShader,side:Ls,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),Object.defineProperty(u.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(u)),u.material.uniforms.t2D.value=b,u.material.uniforms.backgroundIntensity.value=_.backgroundIntensity,u.material.toneMapped=pn.getTransfer(b.colorSpace)!==Pn,b.matrixAutoUpdate===!0&&b.updateMatrix(),u.material.uniforms.uvTransform.value.copy(b.matrix),(f!==b||h!==b.version||m!==t.toneMapping)&&(u.material.needsUpdate=!0,f=b,h=b.version,m=t.toneMapping),u.layers.enableAll(),S.unshift(u,u.geometry,u.material,0,0,null))}function v(S,_){S.getRGB(my,E6(t)),r.buffers.color.setClear(my.r,my.g,my.b,_,o)}return{getClearColor:function(){return s},setClearColor:function(S,_=1){s.set(S),l=_,v(s,l)},getClearAlpha:function(){return l},setClearAlpha:function(S){l=S,v(s,l)},render:y,addToRenderList:x}}function Pxe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=h(null);let a=i,o=!1;function s(O,I,D,F,B){let W=!1;const V=f(F,D,I);a!==V&&(a=V,u(a.object)),W=m(O,F,D,B),W&&g(O,F,D,B),B!==null&&e.update(B,t.ELEMENT_ARRAY_BUFFER),(W||o)&&(o=!1,b(O,I,D,F),B!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(B).buffer))}function l(){return t.createVertexArray()}function u(O){return t.bindVertexArray(O)}function c(O){return t.deleteVertexArray(O)}function f(O,I,D){const F=D.wireframe===!0;let B=r[O.id];B===void 0&&(B={},r[O.id]=B);let W=B[I.id];W===void 0&&(W={},B[I.id]=W);let V=W[F];return V===void 0&&(V=h(l()),W[F]=V),V}function h(O){const I=[],D=[],F=[];for(let B=0;B<n;B++)I[B]=0,D[B]=0,F[B]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:I,enabledAttributes:D,attributeDivisors:F,object:O,attributes:{},index:null}}function m(O,I,D,F){const B=a.attributes,W=I.attributes;let V=0;const Q=D.getAttributes();for(const N in Q)if(Q[N].location>=0){const G=B[N];let H=W[N];if(H===void 0&&(N==="instanceMatrix"&&O.instanceMatrix&&(H=O.instanceMatrix),N==="instanceColor"&&O.instanceColor&&(H=O.instanceColor)),G===void 0||G.attribute!==H||H&&G.data!==H.data)return!0;V++}return a.attributesNum!==V||a.index!==F}function g(O,I,D,F){const B={},W=I.attributes;let V=0;const Q=D.getAttributes();for(const N in Q)if(Q[N].location>=0){let G=W[N];G===void 0&&(N==="instanceMatrix"&&O.instanceMatrix&&(G=O.instanceMatrix),N==="instanceColor"&&O.instanceColor&&(G=O.instanceColor));const H={};H.attribute=G,G&&G.data&&(H.data=G.data),B[N]=H,V++}a.attributes=B,a.attributesNum=V,a.index=F}function y(){const O=a.newAttributes;for(let I=0,D=O.length;I<D;I++)O[I]=0}function x(O){v(O,0)}function v(O,I){const D=a.newAttributes,F=a.enabledAttributes,B=a.attributeDivisors;D[O]=1,F[O]===0&&(t.enableVertexAttribArray(O),F[O]=1),B[O]!==I&&(t.vertexAttribDivisor(O,I),B[O]=I)}function S(){const O=a.newAttributes,I=a.enabledAttributes;for(let D=0,F=I.length;D<F;D++)I[D]!==O[D]&&(t.disableVertexAttribArray(D),I[D]=0)}function _(O,I,D,F,B,W,V){V===!0?t.vertexAttribIPointer(O,I,D,B,W):t.vertexAttribPointer(O,I,D,F,B,W)}function b(O,I,D,F){y();const B=F.attributes,W=D.getAttributes(),V=I.defaultAttributeValues;for(const Q in W){const N=W[Q];if(N.location>=0){let j=B[Q];if(j===void 0&&(Q==="instanceMatrix"&&O.instanceMatrix&&(j=O.instanceMatrix),Q==="instanceColor"&&O.instanceColor&&(j=O.instanceColor)),j!==void 0){const G=j.normalized,H=j.itemSize,$=e.get(j);if($===void 0)continue;const ie=$.buffer,Z=$.type,ae=$.bytesPerElement,ce=Z===t.INT||Z===t.UNSIGNED_INT||j.gpuType===e1;if(j.isInterleavedBufferAttribute){const fe=j.data,Ae=fe.stride,ve=j.offset;if(fe.isInstancedInterleavedBuffer){for(let Ie=0;Ie<N.locationSize;Ie++)v(N.location+Ie,fe.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=fe.meshPerAttribute*fe.count)}else for(let Ie=0;Ie<N.locationSize;Ie++)x(N.location+Ie);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let Ie=0;Ie<N.locationSize;Ie++)_(N.location+Ie,H/N.locationSize,Z,G,Ae*ae,(ve+H/N.locationSize*Ie)*ae,ce)}else{if(j.isInstancedBufferAttribute){for(let fe=0;fe<N.locationSize;fe++)v(N.location+fe,j.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=j.meshPerAttribute*j.count)}else for(let fe=0;fe<N.locationSize;fe++)x(N.location+fe);t.bindBuffer(t.ARRAY_BUFFER,ie);for(let fe=0;fe<N.locationSize;fe++)_(N.location+fe,H/N.locationSize,Z,G,H*ae,H/N.locationSize*fe*ae,ce)}}else if(V!==void 0){const G=V[Q];if(G!==void 0)switch(G.length){case 2:t.vertexAttrib2fv(N.location,G);break;case 3:t.vertexAttrib3fv(N.location,G);break;case 4:t.vertexAttrib4fv(N.location,G);break;default:t.vertexAttrib1fv(N.location,G)}}}}S()}function E(){C();for(const O in r){const I=r[O];for(const D in I){const F=I[D];for(const B in F)c(F[B].object),delete F[B];delete I[D]}delete r[O]}}function M(O){if(r[O.id]===void 0)return;const I=r[O.id];for(const D in I){const F=I[D];for(const B in F)c(F[B].object),delete F[B];delete I[D]}delete r[O.id]}function T(O){for(const I in r){const D=r[I];if(D[O.id]===void 0)continue;const F=D[O.id];for(const B in F)c(F[B].object),delete F[B];delete D[O.id]}}function C(){P(),o=!0,a!==i&&(a=i,u(a.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:s,reset:C,resetDefaultState:P,dispose:E,releaseStatesOfGeometry:M,releaseStatesOfProgram:T,initAttributes:y,enableAttribute:x,disableUnusedAttributes:S}}function Cxe(t,e,n){let r;function i(u){r=u}function a(u,c){t.drawArrays(r,u,c),n.update(c,r,1)}function o(u,c,f){f!==0&&(t.drawArraysInstanced(r,u,c,f),n.update(c,r,f))}function s(u,c,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<f;m++)this.render(u[m],c[m]);else{h.multiDrawArraysWEBGL(r,u,0,c,0,f);let m=0;for(let g=0;g<f;g++)m+=c[g];n.update(m,r,1)}}function l(u,c,f,h){if(f===0)return;const m=e.get("WEBGL_multi_draw");if(m===null)for(let g=0;g<u.length;g++)o(u[g],c[g],h[g]);else{m.multiDrawArraysInstancedWEBGL(r,u,0,c,0,h,0,f);let g=0;for(let y=0;y<f;y++)g+=c[y];for(let y=0;y<h.length;y++)n.update(g,r,h[y])}}this.setMode=i,this.render=a,this.renderInstances=o,this.renderMultiDraw=s,this.renderMultiDrawInstances=l}function Oxe(t,e,n,r){let i;function a(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function o(M){return!(M!==vr&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function s(M){const T=M===$r&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==ma&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==tr&&!T)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let u=n.precision!==void 0?n.precision:"highp";const c=l(u);c!==u&&(console.warn("THREE.WebGLRenderer:",u,"not supported, using",c,"instead."),u=c);const f=n.logarithmicDepthBuffer===!0,h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),y=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),x=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),S=t.getParameter(t.MAX_VARYING_VECTORS),_=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),b=m>0,E=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:a,getMaxPrecision:l,textureFormatReadable:o,textureTypeReadable:s,precision:u,logarithmicDepthBuffer:f,maxTextures:h,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:y,maxAttributes:x,maxVertexUniforms:v,maxVaryings:S,maxFragmentUniforms:_,vertexTextures:b,maxSamples:E}}function Rxe(t){const e=this;let n=null,r=0,i=!1,a=!1;const o=new fs,s=new zt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,h){const m=f.length!==0||h||r!==0||i;return i=h,r=f.length,m},this.beginShadows=function(){a=!0,c(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(f,h){n=c(f,h,0)},this.setState=function(f,h,m){const g=f.clippingPlanes,y=f.clipIntersection,x=f.clipShadows,v=t.get(f);if(!i||g===null||g.length===0||a&&!x)a?c(null):u();else{const S=a?0:r,_=S*4;let b=v.clippingState||null;l.value=b,b=c(g,h,_,m);for(let E=0;E!==_;++E)b[E]=n[E];v.clippingState=b,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=S}};function u(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function c(f,h,m,g){const y=f!==null?f.length:0;let x=null;if(y!==0){if(x=l.value,g!==!0||x===null){const v=m+y*4,S=h.matrixWorldInverse;s.getNormalMatrix(S),(x===null||x.length<v)&&(x=new Float32Array(v));for(let _=0,b=m;_!==y;++_,b+=4)o.copy(f[_]).applyMatrix4(S,s),o.normal.toArray(x,b),x[b+3]=o.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,x}}function Ixe(t){let e=new WeakMap;function n(o,s){return s===Ah?o.mapping=Ho:s===Rm&&(o.mapping=Ol),o}function r(o){if(o&&o.isTexture){const s=o.mapping;if(s===Ah||s===Rm)if(e.has(o)){const l=e.get(o).texture;return n(l,o.mapping)}else{const l=o.image;if(l&&l.height>0){const u=new aP(l.height);return u.fromEquirectangularTexture(t,o),e.set(o,u),o.addEventListener("dispose",i),n(u.texture,o.mapping)}else return null}}return o}function i(o){const s=o.target;s.removeEventListener("dispose",i);const l=e.get(s);l!==void 0&&(e.delete(s),l.dispose())}function a(){e=new WeakMap}return{get:r,dispose:a}}class Ms extends vg{constructor(e=-1,n=1,r=1,i=-1,a=.1,o=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=a,this.far=o,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,a,o){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=a,this.view.height=o,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let a=r-e,o=r+e,s=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const u=(this.right-this.left)/this.view.fullWidth/this.zoom,c=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=u*this.view.offsetX,o=a+u*this.view.width,s-=c*this.view.offsetY,l=s-c*this.view.height}this.projectionMatrix.makeOrthographic(a,o,s,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Df=4,UD=[.125,.215,.35,.446,.526,.582],Pu=20,jw=new Ms,FD=new ht;let Gw=null,Vw=0,Ww=0,$w=!1;const Tu=(1+Math.sqrt(5))/2,of=1/Tu,BD=[new ee(-Tu,of,0),new ee(Tu,of,0),new ee(-of,0,Tu),new ee(of,0,Tu),new ee(0,Tu,-of),new ee(0,Tu,of),new ee(-1,1,-1),new ee(1,1,-1),new ee(-1,1,1),new ee(1,1,1)];class MA{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){Gw=this._renderer.getRenderTarget(),Vw=this._renderer.getActiveCubeFace(),Ww=this._renderer.getActiveMipmapLevel(),$w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,r,i,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=jD(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=HD(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(Gw,Vw,Ww),this._renderer.xr.enabled=$w,e.scissorTest=!1,gy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Ho||e.mapping===Ol?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),Gw=this._renderer.getRenderTarget(),Vw=this._renderer.getActiveCubeFace(),Ww=this._renderer.getActiveMipmapLevel(),$w=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:hn,minFilter:hn,generateMipmaps:!1,type:$r,format:vr,colorSpace:Va,depthBuffer:!1},i=zD(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=zD(e,n,r);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Lxe(a)),this._blurMaterial=Dxe(a,e,n)}return i}_compileMaterial(e){const n=new In(this._lodPlanes[0],e);this._renderer.compile(n,jw)}_sceneToCubeUV(e,n,r,i){const s=new lr(90,1,n,r),l=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],c=this._renderer,f=c.autoClear,h=c.toneMapping;c.getClearColor(FD),c.toneMapping=Uo,c.autoClear=!1;const m=new Go({name:"PMREM.Background",side:Ei,depthWrite:!1,depthTest:!1}),g=new In(new Sc,m);let y=!1;const x=e.background;x?x.isColor&&(m.color.copy(x),e.background=null,y=!0):(m.color.copy(FD),y=!0);for(let v=0;v<6;v++){const S=v%3;S===0?(s.up.set(0,l[v],0),s.lookAt(u[v],0,0)):S===1?(s.up.set(0,0,l[v]),s.lookAt(0,u[v],0)):(s.up.set(0,l[v],0),s.lookAt(0,0,u[v]));const _=this._cubeSize;gy(i,S*_,v>2?_:0,_,_),c.setRenderTarget(i),y&&c.render(g,s),c.render(e,s)}g.geometry.dispose(),g.material.dispose(),c.toneMapping=h,c.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Ho||e.mapping===Ol;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=jD()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=HD());const a=i?this._cubemapMaterial:this._equirectMaterial,o=new In(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const l=this._cubeSize;gy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(o,jw)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodPlanes.length;for(let a=1;a<i;a++){const o=Math.sqrt(this._sigmas[a]*this._sigmas[a]-this._sigmas[a-1]*this._sigmas[a-1]),s=BD[(i-a-1)%BD.length];this._blur(e,a-1,a,o,s)}n.autoClear=r}_blur(e,n,r,i,a){const o=this._pingPongRenderTarget;this._halfBlur(e,o,n,r,i,"latitudinal",a),this._halfBlur(o,e,r,r,i,"longitudinal",a)}_halfBlur(e,n,r,i,a,o,s){const l=this._renderer,u=this._blurMaterial;o!=="latitudinal"&&o!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const c=3,f=new In(this._lodPlanes[i],u),h=u.uniforms,m=this._sizeLods[r]-1,g=isFinite(a)?Math.PI/(2*m):2*Math.PI/(2*Pu-1),y=a/g,x=isFinite(a)?1+Math.floor(c*y):Pu;x>Pu&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${Pu}`);const v=[];let S=0;for(let T=0;T<Pu;++T){const C=T/y,P=Math.exp(-C*C/2);v.push(P),T===0?S+=P:T<x&&(S+=2*P)}for(let T=0;T<v.length;T++)v[T]=v[T]/S;h.envMap.value=e.texture,h.samples.value=x,h.weights.value=v,h.latitudinal.value=o==="latitudinal",s&&(h.poleAxis.value=s);const{_lodMax:_}=this;h.dTheta.value=g,h.mipInt.value=_-r;const b=this._sizeLods[i],E=3*b*(i>_-Df?i-_+Df:0),M=4*(this._cubeSize-b);gy(n,E,M,3*b,2*b),l.setRenderTarget(n),l.render(f,jw)}}function Lxe(t){const e=[],n=[],r=[];let i=t;const a=t-Df+1+UD.length;for(let o=0;o<a;o++){const s=Math.pow(2,i);n.push(s);let l=1/s;o>t-Df?l=UD[o-t+Df-1]:o===0&&(l=0),r.push(l);const u=1/(s-2),c=-u,f=1+u,h=[c,c,f,c,f,f,c,c,f,f,c,f],m=6,g=6,y=3,x=2,v=1,S=new Float32Array(y*g*m),_=new Float32Array(x*g*m),b=new Float32Array(v*g*m);for(let M=0;M<m;M++){const T=M%3*2/3-1,C=M>2?0:-1,P=[T,C,0,T+2/3,C,0,T+2/3,C+1,0,T,C,0,T+2/3,C+1,0,T,C+1,0];S.set(P,y*g*M),_.set(h,x*g*M);const O=[M,M,M,M,M,M];b.set(O,v*g*M)}const E=new Wt;E.setAttribute("position",new _n(S,y)),E.setAttribute("uv",new _n(_,x)),E.setAttribute("faceIndex",new _n(b,v)),e.push(E),i>Df&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function zD(t,e,n){const r=new ga(t,e,n);return r.texture.mapping=Xh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function gy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Dxe(t,e,n){const r=new Float32Array(Pu),i=new ee(0,1,0);return new Gi({name:"SphericalGaussianBlur",defines:{n:Pu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:oP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function HD(){return new Gi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function jD(){return new Gi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oP(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:ko,depthTest:!1,depthWrite:!1})}function oP(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Nxe(t){let e=new WeakMap,n=null;function r(s){if(s&&s.isTexture){const l=s.mapping,u=l===Ah||l===Rm,c=l===Ho||l===Ol;if(u||c){let f=e.get(s);const h=f!==void 0?f.texture.pmremVersion:0;if(s.isRenderTargetTexture&&s.pmremVersion!==h)return n===null&&(n=new MA(t)),f=u?n.fromEquirectangular(s,f):n.fromCubemap(s,f),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),f.texture;if(f!==void 0)return f.texture;{const m=s.image;return u&&m&&m.height>0||c&&m&&i(m)?(n===null&&(n=new MA(t)),f=u?n.fromEquirectangular(s):n.fromCubemap(s),f.texture.pmremVersion=s.pmremVersion,e.set(s,f),s.addEventListener("dispose",a),f.texture):null}}}return s}function i(s){let l=0;const u=6;for(let c=0;c<u;c++)s[c]!==void 0&&l++;return l===u}function a(s){const l=s.target;l.removeEventListener("dispose",a);const u=e.get(l);u!==void 0&&(e.delete(l),u.dispose())}function o(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:o}}function kxe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&eP("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Uxe(t,e,n,r){const i={},a=new WeakMap;function o(f){const h=f.target;h.index!==null&&e.remove(h.index);for(const g in h.attributes)e.remove(h.attributes[g]);for(const g in h.morphAttributes){const y=h.morphAttributes[g];for(let x=0,v=y.length;x<v;x++)e.remove(y[x])}h.removeEventListener("dispose",o),delete i[h.id];const m=a.get(h);m&&(e.remove(m),a.delete(h)),r.releaseStatesOfGeometry(h),h.isInstancedBufferGeometry===!0&&delete h._maxInstanceCount,n.memory.geometries--}function s(f,h){return i[h.id]===!0||(h.addEventListener("dispose",o),i[h.id]=!0,n.memory.geometries++),h}function l(f){const h=f.attributes;for(const g in h)e.update(h[g],t.ARRAY_BUFFER);const m=f.morphAttributes;for(const g in m){const y=m[g];for(let x=0,v=y.length;x<v;x++)e.update(y[x],t.ARRAY_BUFFER)}}function u(f){const h=[],m=f.index,g=f.attributes.position;let y=0;if(m!==null){const S=m.array;y=m.version;for(let _=0,b=S.length;_<b;_+=3){const E=S[_+0],M=S[_+1],T=S[_+2];h.push(E,M,M,T,T,E)}}else if(g!==void 0){const S=g.array;y=g.version;for(let _=0,b=S.length/3-1;_<b;_+=3){const E=_+0,M=_+1,T=_+2;h.push(E,M,M,T,T,E)}}else return;const x=new(_6(h)?rP:nP)(h,1);x.version=y;const v=a.get(f);v&&e.remove(v),a.set(f,x)}function c(f){const h=a.get(f);if(h){const m=f.index;m!==null&&h.version<m.version&&u(f)}else u(f);return a.get(f)}return{get:s,update:l,getWireframeAttribute:c}}function Fxe(t,e,n){let r;function i(h){r=h}let a,o;function s(h){a=h.type,o=h.bytesPerElement}function l(h,m){t.drawElements(r,m,a,h*o),n.update(m,r,1)}function u(h,m,g){g!==0&&(t.drawElementsInstanced(r,m,a,h*o,g),n.update(m,r,g))}function c(h,m,g){if(g===0)return;const y=e.get("WEBGL_multi_draw");if(y===null)for(let x=0;x<g;x++)this.render(h[x]/o,m[x]);else{y.multiDrawElementsWEBGL(r,m,0,a,h,0,g);let x=0;for(let v=0;v<g;v++)x+=m[v];n.update(x,r,1)}}function f(h,m,g,y){if(g===0)return;const x=e.get("WEBGL_multi_draw");if(x===null)for(let v=0;v<h.length;v++)u(h[v]/o,m[v],y[v]);else{x.multiDrawElementsInstancedWEBGL(r,m,0,a,h,0,y,0,g);let v=0;for(let S=0;S<g;S++)v+=m[S];for(let S=0;S<y.length;S++)n.update(v,r,y[S])}}this.setMode=i,this.setIndex=s,this.render=l,this.renderInstances=u,this.renderMultiDraw=c,this.renderMultiDrawInstances=f}function Bxe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(a,o,s){switch(n.calls++,o){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",o);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function zxe(t,e,n){const r=new WeakMap,i=new mn;function a(o,s,l){const u=o.morphTargetInfluences,c=s.morphAttributes.position||s.morphAttributes.normal||s.morphAttributes.color,f=c!==void 0?c.length:0;let h=r.get(s);if(h===void 0||h.count!==f){let O=function(){C.dispose(),r.delete(s),s.removeEventListener("dispose",O)};var m=O;h!==void 0&&h.texture.dispose();const g=s.morphAttributes.position!==void 0,y=s.morphAttributes.normal!==void 0,x=s.morphAttributes.color!==void 0,v=s.morphAttributes.position||[],S=s.morphAttributes.normal||[],_=s.morphAttributes.color||[];let b=0;g===!0&&(b=1),y===!0&&(b=2),x===!0&&(b=3);let E=s.attributes.position.count*b,M=1;E>e.maxTextureSize&&(M=Math.ceil(E/e.maxTextureSize),E=e.maxTextureSize);const T=new Float32Array(E*M*4*f),C=new i1(T,E,M,f);C.type=tr,C.needsUpdate=!0;const P=b*4;for(let I=0;I<f;I++){const D=v[I],F=S[I],B=_[I],W=E*M*4*I;for(let V=0;V<D.count;V++){const Q=V*P;g===!0&&(i.fromBufferAttribute(D,V),T[W+Q+0]=i.x,T[W+Q+1]=i.y,T[W+Q+2]=i.z,T[W+Q+3]=0),y===!0&&(i.fromBufferAttribute(F,V),T[W+Q+4]=i.x,T[W+Q+5]=i.y,T[W+Q+6]=i.z,T[W+Q+7]=0),x===!0&&(i.fromBufferAttribute(B,V),T[W+Q+8]=i.x,T[W+Q+9]=i.y,T[W+Q+10]=i.z,T[W+Q+11]=B.itemSize===4?i.w:1)}}h={count:f,texture:C,size:new We(E,M)},r.set(s,h),s.addEventListener("dispose",O)}if(o.isInstancedMesh===!0&&o.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",o.morphTexture,n);else{let g=0;for(let x=0;x<u.length;x++)g+=u[x];const y=s.morphTargetsRelative?1:1-g;l.getUniforms().setValue(t,"morphTargetBaseInfluence",y),l.getUniforms().setValue(t,"morphTargetInfluences",u)}l.getUniforms().setValue(t,"morphTargetsTexture",h.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",h.size)}return{update:a}}function Hxe(t,e,n,r){let i=new WeakMap;function a(l){const u=r.render.frame,c=l.geometry,f=e.get(l,c);if(i.get(f)!==u&&(e.update(f),i.set(f,u)),l.isInstancedMesh&&(l.hasEventListener("dispose",s)===!1&&l.addEventListener("dispose",s),i.get(l)!==u&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,u))),l.isSkinnedMesh){const h=l.skeleton;i.get(h)!==u&&(h.update(),i.set(h,u))}return f}function o(){i=new WeakMap}function s(l){const u=l.target;u.removeEventListener("dispose",s),n.remove(u.instanceMatrix),u.instanceColor!==null&&n.remove(u.instanceColor)}return{update:a,dispose:o}}class sP extends yn{constructor(e,n,r,i,a,o,s,l,u,c=Yu){if(c!==Yu&&c!==cc)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&c===Yu&&(r=Rl),r===void 0&&c===cc&&(r=uc),super(null,i,a,o,s,l,c,r,u),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:Fr,this.minFilter=l!==void 0?l:Fr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const P6=new yn,C6=new sP(1,1);C6.compareFunction=J2;const O6=new i1,R6=new tP,I6=new yg,GD=[],VD=[],WD=new Float32Array(16),$D=new Float32Array(9),XD=new Float32Array(4);function Yh(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let a=GD[i];if(a===void 0&&(a=new Float32Array(i),GD[i]=a),e!==0){r.toArray(a,0);for(let o=1,s=0;o!==e;++o)s+=n,t[o].toArray(a,s)}return a}function Tr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Pr(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function a1(t,e){let n=VD[e];n===void 0&&(n=new Int32Array(e),VD[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function jxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Gxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Tr(n,e))return;t.uniform2fv(this.addr,e),Pr(n,e)}}function Vxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Tr(n,e))return;t.uniform3fv(this.addr,e),Pr(n,e)}}function Wxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Tr(n,e))return;t.uniform4fv(this.addr,e),Pr(n,e)}}function $xe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Tr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Pr(n,e)}else{if(Tr(n,r))return;XD.set(r),t.uniformMatrix2fv(this.addr,!1,XD),Pr(n,r)}}function Xxe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Tr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Pr(n,e)}else{if(Tr(n,r))return;$D.set(r),t.uniformMatrix3fv(this.addr,!1,$D),Pr(n,r)}}function Yxe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Tr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Pr(n,e)}else{if(Tr(n,r))return;WD.set(r),t.uniformMatrix4fv(this.addr,!1,WD),Pr(n,r)}}function qxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Kxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Tr(n,e))return;t.uniform2iv(this.addr,e),Pr(n,e)}}function Zxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Tr(n,e))return;t.uniform3iv(this.addr,e),Pr(n,e)}}function Jxe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Tr(n,e))return;t.uniform4iv(this.addr,e),Pr(n,e)}}function Qxe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function e_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Tr(n,e))return;t.uniform2uiv(this.addr,e),Pr(n,e)}}function t_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Tr(n,e))return;t.uniform3uiv(this.addr,e),Pr(n,e)}}function n_e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Tr(n,e))return;t.uniform4uiv(this.addr,e),Pr(n,e)}}function r_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const a=this.type===t.SAMPLER_2D_SHADOW?C6:P6;n.setTexture2D(e||a,i)}function i_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||R6,i)}function a_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||I6,i)}function o_e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||O6,i)}function s_e(t){switch(t){case 5126:return jxe;case 35664:return Gxe;case 35665:return Vxe;case 35666:return Wxe;case 35674:return $xe;case 35675:return Xxe;case 35676:return Yxe;case 5124:case 35670:return qxe;case 35667:case 35671:return Kxe;case 35668:case 35672:return Zxe;case 35669:case 35673:return Jxe;case 5125:return Qxe;case 36294:return e_e;case 36295:return t_e;case 36296:return n_e;case 35678:case 36198:case 36298:case 36306:case 35682:return r_e;case 35679:case 36299:case 36307:return i_e;case 35680:case 36300:case 36308:case 36293:return a_e;case 36289:case 36303:case 36311:case 36292:return o_e}}function l_e(t,e){t.uniform1fv(this.addr,e)}function u_e(t,e){const n=Yh(e,this.size,2);t.uniform2fv(this.addr,n)}function c_e(t,e){const n=Yh(e,this.size,3);t.uniform3fv(this.addr,n)}function f_e(t,e){const n=Yh(e,this.size,4);t.uniform4fv(this.addr,n)}function h_e(t,e){const n=Yh(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function d_e(t,e){const n=Yh(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function p_e(t,e){const n=Yh(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function m_e(t,e){t.uniform1iv(this.addr,e)}function g_e(t,e){t.uniform2iv(this.addr,e)}function v_e(t,e){t.uniform3iv(this.addr,e)}function y_e(t,e){t.uniform4iv(this.addr,e)}function x_e(t,e){t.uniform1uiv(this.addr,e)}function __e(t,e){t.uniform2uiv(this.addr,e)}function S_e(t,e){t.uniform3uiv(this.addr,e)}function w_e(t,e){t.uniform4uiv(this.addr,e)}function b_e(t,e,n){const r=this.cache,i=e.length,a=a1(n,i);Tr(r,a)||(t.uniform1iv(this.addr,a),Pr(r,a));for(let o=0;o!==i;++o)n.setTexture2D(e[o]||P6,a[o])}function M_e(t,e,n){const r=this.cache,i=e.length,a=a1(n,i);Tr(r,a)||(t.uniform1iv(this.addr,a),Pr(r,a));for(let o=0;o!==i;++o)n.setTexture3D(e[o]||R6,a[o])}function E_e(t,e,n){const r=this.cache,i=e.length,a=a1(n,i);Tr(r,a)||(t.uniform1iv(this.addr,a),Pr(r,a));for(let o=0;o!==i;++o)n.setTextureCube(e[o]||I6,a[o])}function A_e(t,e,n){const r=this.cache,i=e.length,a=a1(n,i);Tr(r,a)||(t.uniform1iv(this.addr,a),Pr(r,a));for(let o=0;o!==i;++o)n.setTexture2DArray(e[o]||O6,a[o])}function T_e(t){switch(t){case 5126:return l_e;case 35664:return u_e;case 35665:return c_e;case 35666:return f_e;case 35674:return h_e;case 35675:return d_e;case 35676:return p_e;case 5124:case 35670:return m_e;case 35667:case 35671:return g_e;case 35668:case 35672:return v_e;case 35669:case 35673:return y_e;case 5125:return x_e;case 36294:return __e;case 36295:return S_e;case 36296:return w_e;case 35678:case 36198:case 36298:case 36306:case 35682:return b_e;case 35679:case 36299:case 36307:return M_e;case 35680:case 36300:case 36308:case 36293:return E_e;case 36289:case 36303:case 36311:case 36292:return A_e}}class P_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=s_e(n.type)}}class C_e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=T_e(n.type)}}class O_e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let a=0,o=i.length;a!==o;++a){const s=i[a];s.setValue(e,n[s.id],r)}}}const Xw=/(\w+)(\])?(\[|\.)?/g;function YD(t,e){t.seq.push(e),t.map[e.id]=e}function R_e(t,e,n){const r=t.name,i=r.length;for(Xw.lastIndex=0;;){const a=Xw.exec(r),o=Xw.lastIndex;let s=a[1];const l=a[2]==="]",u=a[3];if(l&&(s=s|0),u===void 0||u==="["&&o+2===i){YD(n,u===void 0?new P_e(s,t,e):new C_e(s,t,e));break}else{let f=n.map[s];f===void 0&&(f=new O_e(s),YD(n,f)),n=f}}}class d0{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const a=e.getActiveUniform(n,i),o=e.getUniformLocation(n,a.name);R_e(a,o,this)}}setValue(e,n,r,i){const a=this.map[n];a!==void 0&&a.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let a=0,o=n.length;a!==o;++a){const s=n[a],l=r[s.id];l.needsUpdate!==!1&&s.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,a=e.length;i!==a;++i){const o=e[i];o.id in n&&r.push(o)}return r}}function qD(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const I_e=37297;let L_e=0;function D_e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let o=i;o<a;o++){const s=o+1;r.push(`${s===e?">":" "} ${s}: ${n[o]}`)}return r.join(`
`)}function N_e(t){const e=pn.getPrimaries(pn.workingColorSpace),n=pn.getPrimaries(t);let r;switch(e===n?r="":e===Bm&&n===Fm?r="LinearDisplayP3ToLinearSRGB":e===Fm&&n===Bm&&(r="LinearSRGBToLinearDisplayP3"),t){case Va:case gg:return[r,"LinearTransferOETF"];case oa:case r1:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function KD(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const a=/ERROR: 0:(\d+)/.exec(i);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+i+`

`+D_e(t.getShaderSource(e),o)}else return i}function k_e(t,e){const n=N_e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function U_e(t,e){let n;switch(e){case Y5:n="Linear";break;case q5:n="Reinhard";break;case K5:n="OptimizedCineon";break;case H2:n="ACESFilmic";break;case J5:n="AgX";break;case Q5:n="Neutral";break;case Z5:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function F_e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(lp).join(`
`)}function B_e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function z_e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const a=t.getActiveAttrib(e,i),o=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[o]={type:a.type,location:t.getAttribLocation(e,o),locationSize:s}}return n}function lp(t){return t!==""}function ZD(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function JD(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const H_e=/^[ \t]*#include +<([\w\d./]+)>/gm;function EA(t){return t.replace(H_e,G_e)}const j_e=new Map;function G_e(t,e){let n=Ht[e];if(n===void 0){const r=j_e.get(e);if(r!==void 0)n=Ht[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return EA(n)}const V_e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function QD(t){return t.replace(V_e,W_e)}function W_e(t,e,n,r){let i="";for(let a=parseInt(e);a<parseInt(n);a++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return i}function eN(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function $_e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===Q_?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Mp?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===no&&(e="SHADOWMAP_TYPE_VSM"),e}function X_e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Ho:case Ol:e="ENVMAP_TYPE_CUBE";break;case Xh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Y_e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Ol:e="ENVMAP_MODE_REFRACTION";break}return e}function q_e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case mg:e="ENVMAP_BLENDING_MULTIPLY";break;case $5:e="ENVMAP_BLENDING_MIX";break;case X5:e="ENVMAP_BLENDING_ADD";break}return e}function K_e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function Z_e(t,e,n,r){const i=t.getContext(),a=n.defines;let o=n.vertexShader,s=n.fragmentShader;const l=$_e(n),u=X_e(n),c=Y_e(n),f=q_e(n),h=K_e(n),m=F_e(n),g=B_e(a),y=i.createProgram();let x,v,S=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(lp).join(`
`),x.length>0&&(x+=`
`),v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g].filter(lp).join(`
`),v.length>0&&(v+=`
`)):(x=[eN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lp).join(`
`),v=[eN(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,g,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",h?"#define CUBEUV_TEXEL_WIDTH "+h.texelWidth:"",h?"#define CUBEUV_TEXEL_HEIGHT "+h.texelHeight:"",h?"#define CUBEUV_MAX_MIP "+h.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Uo?"#define TONE_MAPPING":"",n.toneMapping!==Uo?Ht.tonemapping_pars_fragment:"",n.toneMapping!==Uo?U_e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Ht.colorspace_pars_fragment,k_e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(lp).join(`
`)),o=EA(o),o=ZD(o,n),o=JD(o,n),s=EA(s),s=ZD(s,n),s=JD(s,n),o=QD(o),s=QD(s),n.isRawShaderMaterial!==!0&&(S=`#version 300 es
`,x=[m,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,v=["#define varying in",n.glslVersion===bA?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===bA?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=S+x+o,b=S+v+s,E=qD(i,i.VERTEX_SHADER,_),M=qD(i,i.FRAGMENT_SHADER,b);i.attachShader(y,E),i.attachShader(y,M),n.index0AttributeName!==void 0?i.bindAttribLocation(y,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(y,0,"position"),i.linkProgram(y);function T(I){if(t.debug.checkShaderErrors){const D=i.getProgramInfoLog(y).trim(),F=i.getShaderInfoLog(E).trim(),B=i.getShaderInfoLog(M).trim();let W=!0,V=!0;if(i.getProgramParameter(y,i.LINK_STATUS)===!1)if(W=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,y,E,M);else{const Q=KD(i,E,"vertex"),N=KD(i,M,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(y,i.VALIDATE_STATUS)+`

Material Name: `+I.name+`
Material Type: `+I.type+`

Program Info Log: `+D+`
`+Q+`
`+N)}else D!==""?console.warn("THREE.WebGLProgram: Program Info Log:",D):(F===""||B==="")&&(V=!1);V&&(I.diagnostics={runnable:W,programLog:D,vertexShader:{log:F,prefix:x},fragmentShader:{log:B,prefix:v}})}i.deleteShader(E),i.deleteShader(M),C=new d0(i,y),P=z_e(i,y)}let C;this.getUniforms=function(){return C===void 0&&T(this),C};let P;this.getAttributes=function(){return P===void 0&&T(this),P};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(y,I_e)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(y),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=L_e++,this.cacheKey=e,this.usedTimes=1,this.program=y,this.vertexShader=E,this.fragmentShader=M,this}let J_e=0;class Q_e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),a=this._getShaderStage(r),o=this._getShaderCacheForMaterial(e);return o.has(i)===!1&&(o.add(i),i.usedTimes++),o.has(a)===!1&&(o.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new e1e(e),n.set(e,r)),r}}class e1e{constructor(e){this.id=J_e++,this.code=e,this.usedTimes=0}}function t1e(t,e,n,r,i,a,o){const s=new Ku,l=new Q_e,u=new Set,c=[],f=i.logarithmicDepthBuffer,h=i.vertexTextures;let m=i.precision;const g={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(P){return u.add(P),P===0?"uv":`uv${P}`}function x(P,O,I,D,F){const B=D.fog,W=F.geometry,V=P.isMeshStandardMaterial?D.environment:null,Q=(P.isMeshStandardMaterial?n:e).get(P.envMap||V),N=Q&&Q.mapping===Xh?Q.image.height:null,j=g[P.type];P.precision!==null&&(m=i.getMaxPrecision(P.precision),m!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",m,"instead."));const G=W.morphAttributes.position||W.morphAttributes.normal||W.morphAttributes.color,H=G!==void 0?G.length:0;let $=0;W.morphAttributes.position!==void 0&&($=1),W.morphAttributes.normal!==void 0&&($=2),W.morphAttributes.color!==void 0&&($=3);let ie,Z,ae,ce;if(j){const ot=lo[j];ie=ot.vertexShader,Z=ot.fragmentShader}else ie=P.vertexShader,Z=P.fragmentShader,l.update(P),ae=l.getVertexShaderID(P),ce=l.getFragmentShaderID(P);const fe=t.getRenderTarget(),Ae=F.isInstancedMesh===!0,ve=F.isBatchedMesh===!0,Ie=!!P.map,X=!!P.matcap,J=!!Q,_e=!!P.aoMap,Me=!!P.lightMap,Te=!!P.bumpMap,Ce=!!P.normalMap,He=!!P.displacementMap,Pe=!!P.emissiveMap,Xe=!!P.metalnessMap,q=!!P.roughnessMap,U=P.anisotropy>0,de=P.clearcoat>0,pe=P.dispersion>0,we=P.iridescence>0,Ee=P.sheen>0,rt=P.transmission>0,ke=U&&!!P.anisotropyMap,ze=de&&!!P.clearcoatMap,et=de&&!!P.clearcoatNormalMap,Ve=de&&!!P.clearcoatRoughnessMap,Je=we&&!!P.iridescenceMap,dt=we&&!!P.iridescenceThicknessMap,Qe=Ee&&!!P.sheenColorMap,Be=Ee&&!!P.sheenRoughnessMap,qe=!!P.specularMap,ue=!!P.specularColorMap,Ue=!!P.specularIntensityMap,re=rt&&!!P.transmissionMap,je=rt&&!!P.thicknessMap,le=!!P.gradientMap,Re=!!P.alphaMap,Ke=P.alphaTest>0,lt=!!P.alphaHash,ut=!!P.extensions;let Et=Uo;P.toneMapped&&(fe===null||fe.isXRRenderTarget===!0)&&(Et=t.toneMapping);const At={shaderID:j,shaderType:P.type,shaderName:P.name,vertexShader:ie,fragmentShader:Z,defines:P.defines,customVertexShaderID:ae,customFragmentShaderID:ce,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:m,batching:ve,batchingColor:ve&&F._colorsTexture!==null,instancing:Ae,instancingColor:Ae&&F.instanceColor!==null,instancingMorph:Ae&&F.morphTexture!==null,supportsVertexTextures:h,outputColorSpace:fe===null?t.outputColorSpace:fe.isXRRenderTarget===!0?fe.texture.colorSpace:Va,alphaToCoverage:!!P.alphaToCoverage,map:Ie,matcap:X,envMap:J,envMapMode:J&&Q.mapping,envMapCubeUVHeight:N,aoMap:_e,lightMap:Me,bumpMap:Te,normalMap:Ce,displacementMap:h&&He,emissiveMap:Pe,normalMapObjectSpace:Ce&&P.normalMapType===h6,normalMapTangentSpace:Ce&&P.normalMapType===Hl,metalnessMap:Xe,roughnessMap:q,anisotropy:U,anisotropyMap:ke,clearcoat:de,clearcoatMap:ze,clearcoatNormalMap:et,clearcoatRoughnessMap:Ve,dispersion:pe,iridescence:we,iridescenceMap:Je,iridescenceThicknessMap:dt,sheen:Ee,sheenColorMap:Qe,sheenRoughnessMap:Be,specularMap:qe,specularColorMap:ue,specularIntensityMap:Ue,transmission:rt,transmissionMap:re,thicknessMap:je,gradientMap:le,opaque:P.transparent===!1&&P.blending===Xu&&P.alphaToCoverage===!1,alphaMap:Re,alphaTest:Ke,alphaHash:lt,combine:P.combine,mapUv:Ie&&y(P.map.channel),aoMapUv:_e&&y(P.aoMap.channel),lightMapUv:Me&&y(P.lightMap.channel),bumpMapUv:Te&&y(P.bumpMap.channel),normalMapUv:Ce&&y(P.normalMap.channel),displacementMapUv:He&&y(P.displacementMap.channel),emissiveMapUv:Pe&&y(P.emissiveMap.channel),metalnessMapUv:Xe&&y(P.metalnessMap.channel),roughnessMapUv:q&&y(P.roughnessMap.channel),anisotropyMapUv:ke&&y(P.anisotropyMap.channel),clearcoatMapUv:ze&&y(P.clearcoatMap.channel),clearcoatNormalMapUv:et&&y(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ve&&y(P.clearcoatRoughnessMap.channel),iridescenceMapUv:Je&&y(P.iridescenceMap.channel),iridescenceThicknessMapUv:dt&&y(P.iridescenceThicknessMap.channel),sheenColorMapUv:Qe&&y(P.sheenColorMap.channel),sheenRoughnessMapUv:Be&&y(P.sheenRoughnessMap.channel),specularMapUv:qe&&y(P.specularMap.channel),specularColorMapUv:ue&&y(P.specularColorMap.channel),specularIntensityMapUv:Ue&&y(P.specularIntensityMap.channel),transmissionMapUv:re&&y(P.transmissionMap.channel),thicknessMapUv:je&&y(P.thicknessMap.channel),alphaMapUv:Re&&y(P.alphaMap.channel),vertexTangents:!!W.attributes.tangent&&(Ce||U),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!W.attributes.color&&W.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!W.attributes.uv&&(Ie||Re),fog:!!B,useFog:P.fog===!0,fogExp2:!!B&&B.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:F.isSkinnedMesh===!0,morphTargets:W.morphAttributes.position!==void 0,morphNormals:W.morphAttributes.normal!==void 0,morphColors:W.morphAttributes.color!==void 0,morphTargetsCount:H,morphTextureStride:$,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:o.numPlanes,numClipIntersection:o.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&I.length>0,shadowMapType:t.shadowMap.type,toneMapping:Et,decodeVideoTexture:Ie&&P.map.isVideoTexture===!0&&pn.getTransfer(P.map.colorSpace)===Pn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Da,flipSided:P.side===Ei,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:ut&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:ut&&P.extensions.multiDraw===!0&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return At.vertexUv1s=u.has(1),At.vertexUv2s=u.has(2),At.vertexUv3s=u.has(3),u.clear(),At}function v(P){const O=[];if(P.shaderID?O.push(P.shaderID):(O.push(P.customVertexShaderID),O.push(P.customFragmentShaderID)),P.defines!==void 0)for(const I in P.defines)O.push(I),O.push(P.defines[I]);return P.isRawShaderMaterial===!1&&(S(O,P),_(O,P),O.push(t.outputColorSpace)),O.push(P.customProgramCacheKey),O.join()}function S(P,O){P.push(O.precision),P.push(O.outputColorSpace),P.push(O.envMapMode),P.push(O.envMapCubeUVHeight),P.push(O.mapUv),P.push(O.alphaMapUv),P.push(O.lightMapUv),P.push(O.aoMapUv),P.push(O.bumpMapUv),P.push(O.normalMapUv),P.push(O.displacementMapUv),P.push(O.emissiveMapUv),P.push(O.metalnessMapUv),P.push(O.roughnessMapUv),P.push(O.anisotropyMapUv),P.push(O.clearcoatMapUv),P.push(O.clearcoatNormalMapUv),P.push(O.clearcoatRoughnessMapUv),P.push(O.iridescenceMapUv),P.push(O.iridescenceThicknessMapUv),P.push(O.sheenColorMapUv),P.push(O.sheenRoughnessMapUv),P.push(O.specularMapUv),P.push(O.specularColorMapUv),P.push(O.specularIntensityMapUv),P.push(O.transmissionMapUv),P.push(O.thicknessMapUv),P.push(O.combine),P.push(O.fogExp2),P.push(O.sizeAttenuation),P.push(O.morphTargetsCount),P.push(O.morphAttributeCount),P.push(O.numDirLights),P.push(O.numPointLights),P.push(O.numSpotLights),P.push(O.numSpotLightMaps),P.push(O.numHemiLights),P.push(O.numRectAreaLights),P.push(O.numDirLightShadows),P.push(O.numPointLightShadows),P.push(O.numSpotLightShadows),P.push(O.numSpotLightShadowsWithMaps),P.push(O.numLightProbes),P.push(O.shadowMapType),P.push(O.toneMapping),P.push(O.numClippingPlanes),P.push(O.numClipIntersection),P.push(O.depthPacking)}function _(P,O){s.disableAll(),O.supportsVertexTextures&&s.enable(0),O.instancing&&s.enable(1),O.instancingColor&&s.enable(2),O.instancingMorph&&s.enable(3),O.matcap&&s.enable(4),O.envMap&&s.enable(5),O.normalMapObjectSpace&&s.enable(6),O.normalMapTangentSpace&&s.enable(7),O.clearcoat&&s.enable(8),O.iridescence&&s.enable(9),O.alphaTest&&s.enable(10),O.vertexColors&&s.enable(11),O.vertexAlphas&&s.enable(12),O.vertexUv1s&&s.enable(13),O.vertexUv2s&&s.enable(14),O.vertexUv3s&&s.enable(15),O.vertexTangents&&s.enable(16),O.anisotropy&&s.enable(17),O.alphaHash&&s.enable(18),O.batching&&s.enable(19),O.dispersion&&s.enable(20),O.batchingColor&&s.enable(21),P.push(s.mask),s.disableAll(),O.fog&&s.enable(0),O.useFog&&s.enable(1),O.flatShading&&s.enable(2),O.logarithmicDepthBuffer&&s.enable(3),O.skinning&&s.enable(4),O.morphTargets&&s.enable(5),O.morphNormals&&s.enable(6),O.morphColors&&s.enable(7),O.premultipliedAlpha&&s.enable(8),O.shadowMapEnabled&&s.enable(9),O.doubleSided&&s.enable(10),O.flipSided&&s.enable(11),O.useDepthPacking&&s.enable(12),O.dithering&&s.enable(13),O.transmission&&s.enable(14),O.sheen&&s.enable(15),O.opaque&&s.enable(16),O.pointsUvs&&s.enable(17),O.decodeVideoTexture&&s.enable(18),O.alphaToCoverage&&s.enable(19),P.push(s.mask)}function b(P){const O=g[P.type];let I;if(O){const D=lo[O];I=iP.clone(D.uniforms)}else I=P.uniforms;return I}function E(P,O){let I;for(let D=0,F=c.length;D<F;D++){const B=c[D];if(B.cacheKey===O){I=B,++I.usedTimes;break}}return I===void 0&&(I=new Z_e(t,O,P,a),c.push(I)),I}function M(P){if(--P.usedTimes===0){const O=c.indexOf(P);c[O]=c[c.length-1],c.pop(),P.destroy()}}function T(P){l.remove(P)}function C(){l.dispose()}return{getParameters:x,getProgramCacheKey:v,getUniforms:b,acquireProgram:E,releaseProgram:M,releaseShaderCache:T,programs:c,dispose:C}}function n1e(){let t=new WeakMap;function e(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function n(a){t.delete(a)}function r(a,o,s){t.get(a)[o]=s}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function r1e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function tN(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function nN(){const t=[];let e=0;const n=[],r=[],i=[];function a(){e=0,n.length=0,r.length=0,i.length=0}function o(f,h,m,g,y,x){let v=t[e];return v===void 0?(v={id:f.id,object:f,geometry:h,material:m,groupOrder:g,renderOrder:f.renderOrder,z:y,group:x},t[e]=v):(v.id=f.id,v.object=f,v.geometry=h,v.material=m,v.groupOrder=g,v.renderOrder=f.renderOrder,v.z=y,v.group=x),e++,v}function s(f,h,m,g,y,x){const v=o(f,h,m,g,y,x);m.transmission>0?r.push(v):m.transparent===!0?i.push(v):n.push(v)}function l(f,h,m,g,y,x){const v=o(f,h,m,g,y,x);m.transmission>0?r.unshift(v):m.transparent===!0?i.unshift(v):n.unshift(v)}function u(f,h){n.length>1&&n.sort(f||r1e),r.length>1&&r.sort(h||tN),i.length>1&&i.sort(h||tN)}function c(){for(let f=e,h=t.length;f<h;f++){const m=t[f];if(m.id===null)break;m.id=null,m.object=null,m.geometry=null,m.material=null,m.group=null}}return{opaque:n,transmissive:r,transparent:i,init:a,push:s,unshift:l,finish:c,sort:u}}function i1e(){let t=new WeakMap;function e(r,i){const a=t.get(r);let o;return a===void 0?(o=new nN,t.set(r,[o])):i>=a.length?(o=new nN,a.push(o)):o=a[i],o}function n(){t=new WeakMap}return{get:e,dispose:n}}function a1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new ee,color:new ht};break;case"SpotLight":n={position:new ee,direction:new ee,color:new ht,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new ee,color:new ht,distance:0,decay:0};break;case"HemisphereLight":n={direction:new ee,skyColor:new ht,groundColor:new ht};break;case"RectAreaLight":n={color:new ht,position:new ee,halfWidth:new ee,halfHeight:new ee};break}return t[e.id]=n,n}}}function o1e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new We,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let s1e=0;function l1e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function u1e(t){const e=new a1e,n=o1e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)r.probe.push(new ee);const i=new ee,a=new Rt,o=new Rt;function s(u){let c=0,f=0,h=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let m=0,g=0,y=0,x=0,v=0,S=0,_=0,b=0,E=0,M=0,T=0;u.sort(l1e);for(let P=0,O=u.length;P<O;P++){const I=u[P],D=I.color,F=I.intensity,B=I.distance,W=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)c+=D.r*F,f+=D.g*F,h+=D.b*F;else if(I.isLightProbe){for(let V=0;V<9;V++)r.probe[V].addScaledVector(I.sh.coefficients[V],F);T++}else if(I.isDirectionalLight){const V=e.get(I);if(V.color.copy(I.color).multiplyScalar(I.intensity),I.castShadow){const Q=I.shadow,N=n.get(I);N.shadowBias=Q.bias,N.shadowNormalBias=Q.normalBias,N.shadowRadius=Q.radius,N.shadowMapSize=Q.mapSize,r.directionalShadow[m]=N,r.directionalShadowMap[m]=W,r.directionalShadowMatrix[m]=I.shadow.matrix,S++}r.directional[m]=V,m++}else if(I.isSpotLight){const V=e.get(I);V.position.setFromMatrixPosition(I.matrixWorld),V.color.copy(D).multiplyScalar(F),V.distance=B,V.coneCos=Math.cos(I.angle),V.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),V.decay=I.decay,r.spot[y]=V;const Q=I.shadow;if(I.map&&(r.spotLightMap[E]=I.map,E++,Q.updateMatrices(I),I.castShadow&&M++),r.spotLightMatrix[y]=Q.matrix,I.castShadow){const N=n.get(I);N.shadowBias=Q.bias,N.shadowNormalBias=Q.normalBias,N.shadowRadius=Q.radius,N.shadowMapSize=Q.mapSize,r.spotShadow[y]=N,r.spotShadowMap[y]=W,b++}y++}else if(I.isRectAreaLight){const V=e.get(I);V.color.copy(D).multiplyScalar(F),V.halfWidth.set(I.width*.5,0,0),V.halfHeight.set(0,I.height*.5,0),r.rectArea[x]=V,x++}else if(I.isPointLight){const V=e.get(I);if(V.color.copy(I.color).multiplyScalar(I.intensity),V.distance=I.distance,V.decay=I.decay,I.castShadow){const Q=I.shadow,N=n.get(I);N.shadowBias=Q.bias,N.shadowNormalBias=Q.normalBias,N.shadowRadius=Q.radius,N.shadowMapSize=Q.mapSize,N.shadowCameraNear=Q.camera.near,N.shadowCameraFar=Q.camera.far,r.pointShadow[g]=N,r.pointShadowMap[g]=W,r.pointShadowMatrix[g]=I.shadow.matrix,_++}r.point[g]=V,g++}else if(I.isHemisphereLight){const V=e.get(I);V.skyColor.copy(I.color).multiplyScalar(F),V.groundColor.copy(I.groundColor).multiplyScalar(F),r.hemi[v]=V,v++}}x>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=ct.LTC_FLOAT_1,r.rectAreaLTC2=ct.LTC_FLOAT_2):(r.rectAreaLTC1=ct.LTC_HALF_1,r.rectAreaLTC2=ct.LTC_HALF_2)),r.ambient[0]=c,r.ambient[1]=f,r.ambient[2]=h;const C=r.hash;(C.directionalLength!==m||C.pointLength!==g||C.spotLength!==y||C.rectAreaLength!==x||C.hemiLength!==v||C.numDirectionalShadows!==S||C.numPointShadows!==_||C.numSpotShadows!==b||C.numSpotMaps!==E||C.numLightProbes!==T)&&(r.directional.length=m,r.spot.length=y,r.rectArea.length=x,r.point.length=g,r.hemi.length=v,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=b,r.spotShadowMap.length=b,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=b+E-M,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=M,r.numLightProbes=T,C.directionalLength=m,C.pointLength=g,C.spotLength=y,C.rectAreaLength=x,C.hemiLength=v,C.numDirectionalShadows=S,C.numPointShadows=_,C.numSpotShadows=b,C.numSpotMaps=E,C.numLightProbes=T,r.version=s1e++)}function l(u,c){let f=0,h=0,m=0,g=0,y=0;const x=c.matrixWorldInverse;for(let v=0,S=u.length;v<S;v++){const _=u[v];if(_.isDirectionalLight){const b=r.directional[f];b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(x),f++}else if(_.isSpotLight){const b=r.spot[m];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),b.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),b.direction.sub(i),b.direction.transformDirection(x),m++}else if(_.isRectAreaLight){const b=r.rectArea[g];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),o.identity(),a.copy(_.matrixWorld),a.premultiply(x),o.extractRotation(a),b.halfWidth.set(_.width*.5,0,0),b.halfHeight.set(0,_.height*.5,0),b.halfWidth.applyMatrix4(o),b.halfHeight.applyMatrix4(o),g++}else if(_.isPointLight){const b=r.point[h];b.position.setFromMatrixPosition(_.matrixWorld),b.position.applyMatrix4(x),h++}else if(_.isHemisphereLight){const b=r.hemi[y];b.direction.setFromMatrixPosition(_.matrixWorld),b.direction.transformDirection(x),y++}}}return{setup:s,setupView:l,state:r}}function rN(t){const e=new u1e(t),n=[],r=[];function i(c){u.camera=c,n.length=0,r.length=0}function a(c){n.push(c)}function o(c){r.push(c)}function s(){e.setup(n)}function l(c){e.setupView(n,c)}const u={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:u,setupLights:s,setupLightsView:l,pushLight:a,pushShadow:o}}function c1e(t){let e=new WeakMap;function n(i,a=0){const o=e.get(i);let s;return o===void 0?(s=new rN(t),e.set(i,[s])):a>=o.length?(s=new rN(t),o.push(s)):s=o[a],s}function r(){e=new WeakMap}return{get:n,dispose:r}}class o1 extends hi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=f6,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class s1 extends hi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const f1e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,h1e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function d1e(t,e,n){let r=new xg;const i=new We,a=new We,o=new mn,s=new o1({depthPacking:Z2}),l=new s1,u={},c=n.maxTextureSize,f={[Ls]:Ei,[Ei]:Ls,[Da]:Da},h=new Gi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new We},radius:{value:4}},vertexShader:f1e,fragmentShader:h1e}),m=h.clone();m.defines.HORIZONTAL_PASS=1;const g=new Wt;g.setAttribute("position",new _n(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new In(g,h),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Q_;let v=this.type;this.render=function(M,T,C){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const P=t.getRenderTarget(),O=t.getActiveCubeFace(),I=t.getActiveMipmapLevel(),D=t.state;D.setBlending(ko),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const F=v!==no&&this.type===no,B=v===no&&this.type!==no;for(let W=0,V=M.length;W<V;W++){const Q=M[W],N=Q.shadow;if(N===void 0){console.warn("THREE.WebGLShadowMap:",Q,"has no shadow.");continue}if(N.autoUpdate===!1&&N.needsUpdate===!1)continue;i.copy(N.mapSize);const j=N.getFrameExtents();if(i.multiply(j),a.copy(N.mapSize),(i.x>c||i.y>c)&&(i.x>c&&(a.x=Math.floor(c/j.x),i.x=a.x*j.x,N.mapSize.x=a.x),i.y>c&&(a.y=Math.floor(c/j.y),i.y=a.y*j.y,N.mapSize.y=a.y)),N.map===null||F===!0||B===!0){const H=this.type!==no?{minFilter:Fr,magFilter:Fr}:{};N.map!==null&&N.map.dispose(),N.map=new ga(i.x,i.y,H),N.map.texture.name=Q.name+".shadowMap",N.camera.updateProjectionMatrix()}t.setRenderTarget(N.map),t.clear();const G=N.getViewportCount();for(let H=0;H<G;H++){const $=N.getViewport(H);o.set(a.x*$.x,a.y*$.y,a.x*$.z,a.y*$.w),D.viewport(o),N.updateMatrices(Q,H),r=N.getFrustum(),b(T,C,N.camera,Q,this.type)}N.isPointLightShadow!==!0&&this.type===no&&S(N,C),N.needsUpdate=!1}v=this.type,x.needsUpdate=!1,t.setRenderTarget(P,O,I)};function S(M,T){const C=e.update(y);h.defines.VSM_SAMPLES!==M.blurSamples&&(h.defines.VSM_SAMPLES=M.blurSamples,m.defines.VSM_SAMPLES=M.blurSamples,h.needsUpdate=!0,m.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new ga(i.x,i.y)),h.uniforms.shadow_pass.value=M.map.texture,h.uniforms.resolution.value=M.mapSize,h.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(T,null,C,h,y,null),m.uniforms.shadow_pass.value=M.mapPass.texture,m.uniforms.resolution.value=M.mapSize,m.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(T,null,C,m,y,null)}function _(M,T,C,P){let O=null;const I=C.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(I!==void 0)O=I;else if(O=C.isPointLight===!0?l:s,t.localClippingEnabled&&T.clipShadows===!0&&Array.isArray(T.clippingPlanes)&&T.clippingPlanes.length!==0||T.displacementMap&&T.displacementScale!==0||T.alphaMap&&T.alphaTest>0||T.map&&T.alphaTest>0){const D=O.uuid,F=T.uuid;let B=u[D];B===void 0&&(B={},u[D]=B);let W=B[F];W===void 0&&(W=O.clone(),B[F]=W,T.addEventListener("dispose",E)),O=W}if(O.visible=T.visible,O.wireframe=T.wireframe,P===no?O.side=T.shadowSide!==null?T.shadowSide:T.side:O.side=T.shadowSide!==null?T.shadowSide:f[T.side],O.alphaMap=T.alphaMap,O.alphaTest=T.alphaTest,O.map=T.map,O.clipShadows=T.clipShadows,O.clippingPlanes=T.clippingPlanes,O.clipIntersection=T.clipIntersection,O.displacementMap=T.displacementMap,O.displacementScale=T.displacementScale,O.displacementBias=T.displacementBias,O.wireframeLinewidth=T.wireframeLinewidth,O.linewidth=T.linewidth,C.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const D=t.properties.get(O);D.light=C}return O}function b(M,T,C,P,O){if(M.visible===!1)return;if(M.layers.test(T.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&O===no)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(C.matrixWorldInverse,M.matrixWorld);const F=e.update(M),B=M.material;if(Array.isArray(B)){const W=F.groups;for(let V=0,Q=W.length;V<Q;V++){const N=W[V],j=B[N.materialIndex];if(j&&j.visible){const G=_(M,j,P,O);M.onBeforeShadow(t,M,T,C,F,G,N),t.renderBufferDirect(C,null,F,G,M,N),M.onAfterShadow(t,M,T,C,F,G,N)}}}else if(B.visible){const W=_(M,B,P,O);M.onBeforeShadow(t,M,T,C,F,W,null),t.renderBufferDirect(C,null,F,W,M,null),M.onAfterShadow(t,M,T,C,F,W,null)}}const D=M.children;for(let F=0,B=D.length;F<B;F++)b(D[F],T,C,P,O)}function E(M){M.target.removeEventListener("dispose",E);for(const C in u){const P=u[C],O=M.target.uuid;O in P&&(P[O].dispose(),delete P[O])}}}function p1e(t){function e(){let re=!1;const je=new mn;let le=null;const Re=new mn(0,0,0,0);return{setMask:function(Ke){le!==Ke&&!re&&(t.colorMask(Ke,Ke,Ke,Ke),le=Ke)},setLocked:function(Ke){re=Ke},setClear:function(Ke,lt,ut,Et,At){At===!0&&(Ke*=Et,lt*=Et,ut*=Et),je.set(Ke,lt,ut,Et),Re.equals(je)===!1&&(t.clearColor(Ke,lt,ut,Et),Re.copy(je))},reset:function(){re=!1,le=null,Re.set(-1,0,0,0)}}}function n(){let re=!1,je=null,le=null,Re=null;return{setTest:function(Ke){Ke?ce(t.DEPTH_TEST):fe(t.DEPTH_TEST)},setMask:function(Ke){je!==Ke&&!re&&(t.depthMask(Ke),je=Ke)},setFunc:function(Ke){if(le!==Ke){switch(Ke){case B5:t.depthFunc(t.NEVER);break;case z5:t.depthFunc(t.ALWAYS);break;case H5:t.depthFunc(t.LESS);break;case Om:t.depthFunc(t.LEQUAL);break;case j5:t.depthFunc(t.EQUAL);break;case G5:t.depthFunc(t.GEQUAL);break;case V5:t.depthFunc(t.GREATER);break;case W5:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}le=Ke}},setLocked:function(Ke){re=Ke},setClear:function(Ke){Re!==Ke&&(t.clearDepth(Ke),Re=Ke)},reset:function(){re=!1,je=null,le=null,Re=null}}}function r(){let re=!1,je=null,le=null,Re=null,Ke=null,lt=null,ut=null,Et=null,At=null;return{setTest:function(ot){re||(ot?ce(t.STENCIL_TEST):fe(t.STENCIL_TEST))},setMask:function(ot){je!==ot&&!re&&(t.stencilMask(ot),je=ot)},setFunc:function(ot,Nt,Kt){(le!==ot||Re!==Nt||Ke!==Kt)&&(t.stencilFunc(ot,Nt,Kt),le=ot,Re=Nt,Ke=Kt)},setOp:function(ot,Nt,Kt){(lt!==ot||ut!==Nt||Et!==Kt)&&(t.stencilOp(ot,Nt,Kt),lt=ot,ut=Nt,Et=Kt)},setLocked:function(ot){re=ot},setClear:function(ot){At!==ot&&(t.clearStencil(ot),At=ot)},reset:function(){re=!1,je=null,le=null,Re=null,Ke=null,lt=null,ut=null,Et=null,At=null}}}const i=new e,a=new n,o=new r,s=new WeakMap,l=new WeakMap;let u={},c={},f=new WeakMap,h=[],m=null,g=!1,y=null,x=null,v=null,S=null,_=null,b=null,E=null,M=new ht(0,0,0),T=0,C=!1,P=null,O=null,I=null,D=null,F=null;const B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let W=!1,V=0;const Q=t.getParameter(t.VERSION);Q.indexOf("WebGL")!==-1?(V=parseFloat(/^WebGL (\d)/.exec(Q)[1]),W=V>=1):Q.indexOf("OpenGL ES")!==-1&&(V=parseFloat(/^OpenGL ES (\d)/.exec(Q)[1]),W=V>=2);let N=null,j={};const G=t.getParameter(t.SCISSOR_BOX),H=t.getParameter(t.VIEWPORT),$=new mn().fromArray(G),ie=new mn().fromArray(H);function Z(re,je,le,Re){const Ke=new Uint8Array(4),lt=t.createTexture();t.bindTexture(re,lt),t.texParameteri(re,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(re,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ut=0;ut<le;ut++)re===t.TEXTURE_3D||re===t.TEXTURE_2D_ARRAY?t.texImage3D(je,0,t.RGBA,1,1,Re,0,t.RGBA,t.UNSIGNED_BYTE,Ke):t.texImage2D(je+ut,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ke);return lt}const ae={};ae[t.TEXTURE_2D]=Z(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=Z(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=Z(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=Z(t.TEXTURE_3D,t.TEXTURE_3D,1,1),i.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ce(t.DEPTH_TEST),a.setFunc(Om),Te(!1),Ce(VE),ce(t.CULL_FACE),_e(ko);function ce(re){u[re]!==!0&&(t.enable(re),u[re]=!0)}function fe(re){u[re]!==!1&&(t.disable(re),u[re]=!1)}function Ae(re,je){return c[re]!==je?(t.bindFramebuffer(re,je),c[re]=je,re===t.DRAW_FRAMEBUFFER&&(c[t.FRAMEBUFFER]=je),re===t.FRAMEBUFFER&&(c[t.DRAW_FRAMEBUFFER]=je),!0):!1}function ve(re,je){let le=h,Re=!1;if(re){le=f.get(je),le===void 0&&(le=[],f.set(je,le));const Ke=re.textures;if(le.length!==Ke.length||le[0]!==t.COLOR_ATTACHMENT0){for(let lt=0,ut=Ke.length;lt<ut;lt++)le[lt]=t.COLOR_ATTACHMENT0+lt;le.length=Ke.length,Re=!0}}else le[0]!==t.BACK&&(le[0]=t.BACK,Re=!0);Re&&t.drawBuffers(le)}function Ie(re){return m!==re?(t.useProgram(re),m=re,!0):!1}const X={[hl]:t.FUNC_ADD,[w5]:t.FUNC_SUBTRACT,[b5]:t.FUNC_REVERSE_SUBTRACT};X[M5]=t.MIN,X[E5]=t.MAX;const J={[A5]:t.ZERO,[T5]:t.ONE,[P5]:t.SRC_COLOR,[zx]:t.SRC_ALPHA,[D5]:t.SRC_ALPHA_SATURATE,[I5]:t.DST_COLOR,[O5]:t.DST_ALPHA,[C5]:t.ONE_MINUS_SRC_COLOR,[Hx]:t.ONE_MINUS_SRC_ALPHA,[L5]:t.ONE_MINUS_DST_COLOR,[R5]:t.ONE_MINUS_DST_ALPHA,[N5]:t.CONSTANT_COLOR,[k5]:t.ONE_MINUS_CONSTANT_COLOR,[U5]:t.CONSTANT_ALPHA,[F5]:t.ONE_MINUS_CONSTANT_ALPHA};function _e(re,je,le,Re,Ke,lt,ut,Et,At,ot){if(re===ko){g===!0&&(fe(t.BLEND),g=!1);return}if(g===!1&&(ce(t.BLEND),g=!0),re!==S5){if(re!==y||ot!==C){if((x!==hl||_!==hl)&&(t.blendEquation(t.FUNC_ADD),x=hl,_=hl),ot)switch(re){case Xu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WE:t.blendFunc(t.ONE,t.ONE);break;case $E:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case XE:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}else switch(re){case Xu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case WE:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case $E:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case XE:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",re);break}v=null,S=null,b=null,E=null,M.set(0,0,0),T=0,y=re,C=ot}return}Ke=Ke||je,lt=lt||le,ut=ut||Re,(je!==x||Ke!==_)&&(t.blendEquationSeparate(X[je],X[Ke]),x=je,_=Ke),(le!==v||Re!==S||lt!==b||ut!==E)&&(t.blendFuncSeparate(J[le],J[Re],J[lt],J[ut]),v=le,S=Re,b=lt,E=ut),(Et.equals(M)===!1||At!==T)&&(t.blendColor(Et.r,Et.g,Et.b,At),M.copy(Et),T=At),y=re,C=!1}function Me(re,je){re.side===Da?fe(t.CULL_FACE):ce(t.CULL_FACE);let le=re.side===Ei;je&&(le=!le),Te(le),re.blending===Xu&&re.transparent===!1?_e(ko):_e(re.blending,re.blendEquation,re.blendSrc,re.blendDst,re.blendEquationAlpha,re.blendSrcAlpha,re.blendDstAlpha,re.blendColor,re.blendAlpha,re.premultipliedAlpha),a.setFunc(re.depthFunc),a.setTest(re.depthTest),a.setMask(re.depthWrite),i.setMask(re.colorWrite);const Re=re.stencilWrite;o.setTest(Re),Re&&(o.setMask(re.stencilWriteMask),o.setFunc(re.stencilFunc,re.stencilRef,re.stencilFuncMask),o.setOp(re.stencilFail,re.stencilZFail,re.stencilZPass)),Pe(re.polygonOffset,re.polygonOffsetFactor,re.polygonOffsetUnits),re.alphaToCoverage===!0?ce(t.SAMPLE_ALPHA_TO_COVERAGE):fe(t.SAMPLE_ALPHA_TO_COVERAGE)}function Te(re){P!==re&&(re?t.frontFace(t.CW):t.frontFace(t.CCW),P=re)}function Ce(re){re!==y5?(ce(t.CULL_FACE),re!==O&&(re===VE?t.cullFace(t.BACK):re===x5?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):fe(t.CULL_FACE),O=re}function He(re){re!==I&&(W&&t.lineWidth(re),I=re)}function Pe(re,je,le){re?(ce(t.POLYGON_OFFSET_FILL),(D!==je||F!==le)&&(t.polygonOffset(je,le),D=je,F=le)):fe(t.POLYGON_OFFSET_FILL)}function Xe(re){re?ce(t.SCISSOR_TEST):fe(t.SCISSOR_TEST)}function q(re){re===void 0&&(re=t.TEXTURE0+B-1),N!==re&&(t.activeTexture(re),N=re)}function U(re,je,le){le===void 0&&(N===null?le=t.TEXTURE0+B-1:le=N);let Re=j[le];Re===void 0&&(Re={type:void 0,texture:void 0},j[le]=Re),(Re.type!==re||Re.texture!==je)&&(N!==le&&(t.activeTexture(le),N=le),t.bindTexture(re,je||ae[re]),Re.type=re,Re.texture=je)}function de(){const re=j[N];re!==void 0&&re.type!==void 0&&(t.bindTexture(re.type,null),re.type=void 0,re.texture=void 0)}function pe(){try{t.compressedTexImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function we(){try{t.compressedTexImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ee(){try{t.texSubImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function rt(){try{t.texSubImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ke(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function ze(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function et(){try{t.texStorage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Ve(){try{t.texStorage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Je(){try{t.texImage2D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function dt(){try{t.texImage3D.apply(t,arguments)}catch(re){console.error("THREE.WebGLState:",re)}}function Qe(re){$.equals(re)===!1&&(t.scissor(re.x,re.y,re.z,re.w),$.copy(re))}function Be(re){ie.equals(re)===!1&&(t.viewport(re.x,re.y,re.z,re.w),ie.copy(re))}function qe(re,je){let le=l.get(je);le===void 0&&(le=new WeakMap,l.set(je,le));let Re=le.get(re);Re===void 0&&(Re=t.getUniformBlockIndex(je,re.name),le.set(re,Re))}function ue(re,je){const Re=l.get(je).get(re);s.get(je)!==Re&&(t.uniformBlockBinding(je,Re,re.__bindingPointIndex),s.set(je,Re))}function Ue(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},N=null,j={},c={},f=new WeakMap,h=[],m=null,g=!1,y=null,x=null,v=null,S=null,_=null,b=null,E=null,M=new ht(0,0,0),T=0,C=!1,P=null,O=null,I=null,D=null,F=null,$.set(0,0,t.canvas.width,t.canvas.height),ie.set(0,0,t.canvas.width,t.canvas.height),i.reset(),a.reset(),o.reset()}return{buffers:{color:i,depth:a,stencil:o},enable:ce,disable:fe,bindFramebuffer:Ae,drawBuffers:ve,useProgram:Ie,setBlending:_e,setMaterial:Me,setFlipSided:Te,setCullFace:Ce,setLineWidth:He,setPolygonOffset:Pe,setScissorTest:Xe,activeTexture:q,bindTexture:U,unbindTexture:de,compressedTexImage2D:pe,compressedTexImage3D:we,texImage2D:Je,texImage3D:dt,updateUBOMapping:qe,uniformBlockBinding:ue,texStorage2D:et,texStorage3D:Ve,texSubImage2D:Ee,texSubImage3D:rt,compressedTexSubImage2D:ke,compressedTexSubImage3D:ze,scissor:Qe,viewport:Be,reset:Ue}}function m1e(t,e,n,r,i,a,o){const s=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new We,c=new WeakMap;let f;const h=new WeakMap;let m=!1;try{m=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function g(q,U){return m?new OffscreenCanvas(q,U):jm("canvas")}function y(q,U,de){let pe=1;const we=Xe(q);if((we.width>de||we.height>de)&&(pe=de/Math.max(we.width,we.height)),pe<1)if(typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&q instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&q instanceof ImageBitmap||typeof VideoFrame<"u"&&q instanceof VideoFrame){const Ee=Math.floor(pe*we.width),rt=Math.floor(pe*we.height);f===void 0&&(f=g(Ee,rt));const ke=U?g(Ee,rt):f;return ke.width=Ee,ke.height=rt,ke.getContext("2d").drawImage(q,0,0,Ee,rt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+we.width+"x"+we.height+") to ("+Ee+"x"+rt+")."),ke}else return"data"in q&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+we.width+"x"+we.height+")."),q;return q}function x(q){return q.generateMipmaps&&q.minFilter!==Fr&&q.minFilter!==hn}function v(q){t.generateMipmap(q)}function S(q,U,de,pe,we=!1){if(q!==null){if(t[q]!==void 0)return t[q];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+q+"'")}let Ee=U;if(U===t.RED&&(de===t.FLOAT&&(Ee=t.R32F),de===t.HALF_FLOAT&&(Ee=t.R16F),de===t.UNSIGNED_BYTE&&(Ee=t.R8)),U===t.RED_INTEGER&&(de===t.UNSIGNED_BYTE&&(Ee=t.R8UI),de===t.UNSIGNED_SHORT&&(Ee=t.R16UI),de===t.UNSIGNED_INT&&(Ee=t.R32UI),de===t.BYTE&&(Ee=t.R8I),de===t.SHORT&&(Ee=t.R16I),de===t.INT&&(Ee=t.R32I)),U===t.RG&&(de===t.FLOAT&&(Ee=t.RG32F),de===t.HALF_FLOAT&&(Ee=t.RG16F),de===t.UNSIGNED_BYTE&&(Ee=t.RG8)),U===t.RG_INTEGER&&(de===t.UNSIGNED_BYTE&&(Ee=t.RG8UI),de===t.UNSIGNED_SHORT&&(Ee=t.RG16UI),de===t.UNSIGNED_INT&&(Ee=t.RG32UI),de===t.BYTE&&(Ee=t.RG8I),de===t.SHORT&&(Ee=t.RG16I),de===t.INT&&(Ee=t.RG32I)),U===t.RGB&&de===t.UNSIGNED_INT_5_9_9_9_REV&&(Ee=t.RGB9_E5),U===t.RGBA){const rt=we?Um:pn.getTransfer(pe);de===t.FLOAT&&(Ee=t.RGBA32F),de===t.HALF_FLOAT&&(Ee=t.RGBA16F),de===t.UNSIGNED_BYTE&&(Ee=rt===Pn?t.SRGB8_ALPHA8:t.RGBA8),de===t.UNSIGNED_SHORT_4_4_4_4&&(Ee=t.RGBA4),de===t.UNSIGNED_SHORT_5_5_5_1&&(Ee=t.RGB5_A1)}return(Ee===t.R16F||Ee===t.R32F||Ee===t.RG16F||Ee===t.RG32F||Ee===t.RGBA16F||Ee===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function _(q,U){let de;return q?U===null||U===Rl||U===uc?de=t.DEPTH24_STENCIL8:U===tr?de=t.DEPTH32F_STENCIL8:U===Dm&&(de=t.DEPTH24_STENCIL8,console.warn("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):U===null||U===Rl||U===uc?de=t.DEPTH_COMPONENT24:U===tr?de=t.DEPTH_COMPONENT32F:U===Dm&&(de=t.DEPTH_COMPONENT16),de}function b(q,U){return x(q)===!0||q.isFramebufferTexture&&q.minFilter!==Fr&&q.minFilter!==hn?Math.log2(Math.max(U.width,U.height))+1:q.mipmaps!==void 0&&q.mipmaps.length>0?q.mipmaps.length:q.isCompressedTexture&&Array.isArray(q.image)?U.mipmaps.length:1}function E(q){const U=q.target;U.removeEventListener("dispose",E),T(U),U.isVideoTexture&&c.delete(U)}function M(q){const U=q.target;U.removeEventListener("dispose",M),P(U)}function T(q){const U=r.get(q);if(U.__webglInit===void 0)return;const de=q.source,pe=h.get(de);if(pe){const we=pe[U.__cacheKey];we.usedTimes--,we.usedTimes===0&&C(q),Object.keys(pe).length===0&&h.delete(de)}r.remove(q)}function C(q){const U=r.get(q);t.deleteTexture(U.__webglTexture);const de=q.source,pe=h.get(de);delete pe[U.__cacheKey],o.memory.textures--}function P(q){const U=r.get(q);if(q.depthTexture&&q.depthTexture.dispose(),q.isWebGLCubeRenderTarget)for(let pe=0;pe<6;pe++){if(Array.isArray(U.__webglFramebuffer[pe]))for(let we=0;we<U.__webglFramebuffer[pe].length;we++)t.deleteFramebuffer(U.__webglFramebuffer[pe][we]);else t.deleteFramebuffer(U.__webglFramebuffer[pe]);U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer[pe])}else{if(Array.isArray(U.__webglFramebuffer))for(let pe=0;pe<U.__webglFramebuffer.length;pe++)t.deleteFramebuffer(U.__webglFramebuffer[pe]);else t.deleteFramebuffer(U.__webglFramebuffer);if(U.__webglDepthbuffer&&t.deleteRenderbuffer(U.__webglDepthbuffer),U.__webglMultisampledFramebuffer&&t.deleteFramebuffer(U.__webglMultisampledFramebuffer),U.__webglColorRenderbuffer)for(let pe=0;pe<U.__webglColorRenderbuffer.length;pe++)U.__webglColorRenderbuffer[pe]&&t.deleteRenderbuffer(U.__webglColorRenderbuffer[pe]);U.__webglDepthRenderbuffer&&t.deleteRenderbuffer(U.__webglDepthRenderbuffer)}const de=q.textures;for(let pe=0,we=de.length;pe<we;pe++){const Ee=r.get(de[pe]);Ee.__webglTexture&&(t.deleteTexture(Ee.__webglTexture),o.memory.textures--),r.remove(de[pe])}r.remove(q)}let O=0;function I(){O=0}function D(){const q=O;return q>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+q+" texture units while this GPU supports only "+i.maxTextures),O+=1,q}function F(q){const U=[];return U.push(q.wrapS),U.push(q.wrapT),U.push(q.wrapR||0),U.push(q.magFilter),U.push(q.minFilter),U.push(q.anisotropy),U.push(q.internalFormat),U.push(q.format),U.push(q.type),U.push(q.generateMipmaps),U.push(q.premultiplyAlpha),U.push(q.flipY),U.push(q.unpackAlignment),U.push(q.colorSpace),U.join()}function B(q,U){const de=r.get(q);if(q.isVideoTexture&&He(q),q.isRenderTargetTexture===!1&&q.version>0&&de.__version!==q.version){const pe=q.image;if(pe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(pe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ie(de,q,U);return}}n.bindTexture(t.TEXTURE_2D,de.__webglTexture,t.TEXTURE0+U)}function W(q,U){const de=r.get(q);if(q.version>0&&de.__version!==q.version){ie(de,q,U);return}n.bindTexture(t.TEXTURE_2D_ARRAY,de.__webglTexture,t.TEXTURE0+U)}function V(q,U){const de=r.get(q);if(q.version>0&&de.__version!==q.version){ie(de,q,U);return}n.bindTexture(t.TEXTURE_3D,de.__webglTexture,t.TEXTURE0+U)}function Q(q,U){const de=r.get(q);if(q.version>0&&de.__version!==q.version){Z(de,q,U);return}n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture,t.TEXTURE0+U)}const N={[Im]:t.REPEAT,[gr]:t.CLAMP_TO_EDGE,[Lm]:t.MIRRORED_REPEAT},j={[Fr]:t.NEAREST,[j2]:t.NEAREST_MIPMAP_NEAREST,[If]:t.NEAREST_MIPMAP_LINEAR,[hn]:t.LINEAR,[Ep]:t.LINEAR_MIPMAP_NEAREST,[Oo]:t.LINEAR_MIPMAP_LINEAR},G={[d6]:t.NEVER,[x6]:t.ALWAYS,[p6]:t.LESS,[J2]:t.LEQUAL,[m6]:t.EQUAL,[y6]:t.GEQUAL,[g6]:t.GREATER,[v6]:t.NOTEQUAL};function H(q,U){if(U.type===tr&&e.has("OES_texture_float_linear")===!1&&(U.magFilter===hn||U.magFilter===Ep||U.magFilter===If||U.magFilter===Oo||U.minFilter===hn||U.minFilter===Ep||U.minFilter===If||U.minFilter===Oo)&&console.warn("THREE.WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(q,t.TEXTURE_WRAP_S,N[U.wrapS]),t.texParameteri(q,t.TEXTURE_WRAP_T,N[U.wrapT]),(q===t.TEXTURE_3D||q===t.TEXTURE_2D_ARRAY)&&t.texParameteri(q,t.TEXTURE_WRAP_R,N[U.wrapR]),t.texParameteri(q,t.TEXTURE_MAG_FILTER,j[U.magFilter]),t.texParameteri(q,t.TEXTURE_MIN_FILTER,j[U.minFilter]),U.compareFunction&&(t.texParameteri(q,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(q,t.TEXTURE_COMPARE_FUNC,G[U.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(U.magFilter===Fr||U.minFilter!==If&&U.minFilter!==Oo||U.type===tr&&e.has("OES_texture_float_linear")===!1)return;if(U.anisotropy>1||r.get(U).__currentAnisotropy){const de=e.get("EXT_texture_filter_anisotropic");t.texParameterf(q,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(U.anisotropy,i.getMaxAnisotropy())),r.get(U).__currentAnisotropy=U.anisotropy}}}function $(q,U){let de=!1;q.__webglInit===void 0&&(q.__webglInit=!0,U.addEventListener("dispose",E));const pe=U.source;let we=h.get(pe);we===void 0&&(we={},h.set(pe,we));const Ee=F(U);if(Ee!==q.__cacheKey){we[Ee]===void 0&&(we[Ee]={texture:t.createTexture(),usedTimes:0},o.memory.textures++,de=!0),we[Ee].usedTimes++;const rt=we[q.__cacheKey];rt!==void 0&&(we[q.__cacheKey].usedTimes--,rt.usedTimes===0&&C(U)),q.__cacheKey=Ee,q.__webglTexture=we[Ee].texture}return de}function ie(q,U,de){let pe=t.TEXTURE_2D;(U.isDataArrayTexture||U.isCompressedArrayTexture)&&(pe=t.TEXTURE_2D_ARRAY),U.isData3DTexture&&(pe=t.TEXTURE_3D);const we=$(q,U),Ee=U.source;n.bindTexture(pe,q.__webglTexture,t.TEXTURE0+de);const rt=r.get(Ee);if(Ee.version!==rt.__version||we===!0){n.activeTexture(t.TEXTURE0+de);const ke=pn.getPrimaries(pn.workingColorSpace),ze=U.colorSpace===hs?null:pn.getPrimaries(U.colorSpace),et=U.colorSpace===hs||ke===ze?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);let Ve=y(U.image,!1,i.maxTextureSize);Ve=Pe(U,Ve);const Je=a.convert(U.format,U.colorSpace),dt=a.convert(U.type);let Qe=S(U.internalFormat,Je,dt,U.colorSpace,U.isVideoTexture);H(pe,U);let Be;const qe=U.mipmaps,ue=U.isVideoTexture!==!0,Ue=rt.__version===void 0||we===!0,re=Ee.dataReady,je=b(U,Ve);if(U.isDepthTexture)Qe=_(U.format===cc,U.type),Ue&&(ue?n.texStorage2D(t.TEXTURE_2D,1,Qe,Ve.width,Ve.height):n.texImage2D(t.TEXTURE_2D,0,Qe,Ve.width,Ve.height,0,Je,dt,null));else if(U.isDataTexture)if(qe.length>0){ue&&Ue&&n.texStorage2D(t.TEXTURE_2D,je,Qe,qe[0].width,qe[0].height);for(let le=0,Re=qe.length;le<Re;le++)Be=qe[le],ue?re&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,Be.width,Be.height,Je,dt,Be.data):n.texImage2D(t.TEXTURE_2D,le,Qe,Be.width,Be.height,0,Je,dt,Be.data);U.generateMipmaps=!1}else ue?(Ue&&n.texStorage2D(t.TEXTURE_2D,je,Qe,Ve.width,Ve.height),re&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ve.width,Ve.height,Je,dt,Ve.data)):n.texImage2D(t.TEXTURE_2D,0,Qe,Ve.width,Ve.height,0,Je,dt,Ve.data);else if(U.isCompressedTexture)if(U.isCompressedArrayTexture){ue&&Ue&&n.texStorage3D(t.TEXTURE_2D_ARRAY,je,Qe,qe[0].width,qe[0].height,Ve.depth);for(let le=0,Re=qe.length;le<Re;le++)if(Be=qe[le],U.format!==vr)if(Je!==null)if(ue){if(re)if(U.layerUpdates.size>0){for(const Ke of U.layerUpdates){const lt=Be.width*Be.height;n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,Ke,Be.width,Be.height,1,Je,Be.data.slice(lt*Ke,lt*(Ke+1)),0,0)}U.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,0,Be.width,Be.height,Ve.depth,Je,Be.data,0,0)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,le,Qe,Be.width,Be.height,Ve.depth,0,Be.data,0,0);else console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ue?re&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,le,0,0,0,Be.width,Be.height,Ve.depth,Je,dt,Be.data):n.texImage3D(t.TEXTURE_2D_ARRAY,le,Qe,Be.width,Be.height,Ve.depth,0,Je,dt,Be.data)}else{ue&&Ue&&n.texStorage2D(t.TEXTURE_2D,je,Qe,qe[0].width,qe[0].height);for(let le=0,Re=qe.length;le<Re;le++)Be=qe[le],U.format!==vr?Je!==null?ue?re&&n.compressedTexSubImage2D(t.TEXTURE_2D,le,0,0,Be.width,Be.height,Je,Be.data):n.compressedTexImage2D(t.TEXTURE_2D,le,Qe,Be.width,Be.height,0,Be.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?re&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,Be.width,Be.height,Je,dt,Be.data):n.texImage2D(t.TEXTURE_2D,le,Qe,Be.width,Be.height,0,Je,dt,Be.data)}else if(U.isDataArrayTexture)if(ue){if(Ue&&n.texStorage3D(t.TEXTURE_2D_ARRAY,je,Qe,Ve.width,Ve.height,Ve.depth),re)if(U.layerUpdates.size>0){let le;switch(dt){case t.UNSIGNED_BYTE:switch(Je){case t.ALPHA:le=1;break;case t.LUMINANCE:le=1;break;case t.LUMINANCE_ALPHA:le=2;break;case t.RGB:le=3;break;case t.RGBA:le=4;break;default:throw new Error(`Unknown texel size for format ${Je}.`)}break;case t.UNSIGNED_SHORT_4_4_4_4:case t.UNSIGNED_SHORT_5_5_5_1:case t.UNSIGNED_SHORT_5_6_5:le=1;break;default:throw new Error(`Unknown texel size for type ${dt}.`)}const Re=Ve.width*Ve.height*le;for(const Ke of U.layerUpdates)n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,Ke,Ve.width,Ve.height,1,Je,dt,Ve.data.slice(Re*Ke,Re*(Ke+1)));U.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ve.width,Ve.height,Ve.depth,Je,dt,Ve.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,Qe,Ve.width,Ve.height,Ve.depth,0,Je,dt,Ve.data);else if(U.isData3DTexture)ue?(Ue&&n.texStorage3D(t.TEXTURE_3D,je,Qe,Ve.width,Ve.height,Ve.depth),re&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ve.width,Ve.height,Ve.depth,Je,dt,Ve.data)):n.texImage3D(t.TEXTURE_3D,0,Qe,Ve.width,Ve.height,Ve.depth,0,Je,dt,Ve.data);else if(U.isFramebufferTexture){if(Ue)if(ue)n.texStorage2D(t.TEXTURE_2D,je,Qe,Ve.width,Ve.height);else{let le=Ve.width,Re=Ve.height;for(let Ke=0;Ke<je;Ke++)n.texImage2D(t.TEXTURE_2D,Ke,Qe,le,Re,0,Je,dt,null),le>>=1,Re>>=1}}else if(qe.length>0){if(ue&&Ue){const le=Xe(qe[0]);n.texStorage2D(t.TEXTURE_2D,je,Qe,le.width,le.height)}for(let le=0,Re=qe.length;le<Re;le++)Be=qe[le],ue?re&&n.texSubImage2D(t.TEXTURE_2D,le,0,0,Je,dt,Be):n.texImage2D(t.TEXTURE_2D,le,Qe,Je,dt,Be);U.generateMipmaps=!1}else if(ue){if(Ue){const le=Xe(Ve);n.texStorage2D(t.TEXTURE_2D,je,Qe,le.width,le.height)}re&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Je,dt,Ve)}else n.texImage2D(t.TEXTURE_2D,0,Qe,Je,dt,Ve);x(U)&&v(pe),rt.__version=Ee.version,U.onUpdate&&U.onUpdate(U)}q.__version=U.version}function Z(q,U,de){if(U.image.length!==6)return;const pe=$(q,U),we=U.source;n.bindTexture(t.TEXTURE_CUBE_MAP,q.__webglTexture,t.TEXTURE0+de);const Ee=r.get(we);if(we.version!==Ee.__version||pe===!0){n.activeTexture(t.TEXTURE0+de);const rt=pn.getPrimaries(pn.workingColorSpace),ke=U.colorSpace===hs?null:pn.getPrimaries(U.colorSpace),ze=U.colorSpace===hs||rt===ke?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,U.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,U.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,U.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ze);const et=U.isCompressedTexture||U.image[0].isCompressedTexture,Ve=U.image[0]&&U.image[0].isDataTexture,Je=[];for(let Re=0;Re<6;Re++)!et&&!Ve?Je[Re]=y(U.image[Re],!0,i.maxCubemapSize):Je[Re]=Ve?U.image[Re].image:U.image[Re],Je[Re]=Pe(U,Je[Re]);const dt=Je[0],Qe=a.convert(U.format,U.colorSpace),Be=a.convert(U.type),qe=S(U.internalFormat,Qe,Be,U.colorSpace),ue=U.isVideoTexture!==!0,Ue=Ee.__version===void 0||pe===!0,re=we.dataReady;let je=b(U,dt);H(t.TEXTURE_CUBE_MAP,U);let le;if(et){ue&&Ue&&n.texStorage2D(t.TEXTURE_CUBE_MAP,je,qe,dt.width,dt.height);for(let Re=0;Re<6;Re++){le=Je[Re].mipmaps;for(let Ke=0;Ke<le.length;Ke++){const lt=le[Ke];U.format!==vr?Qe!==null?ue?re&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,0,0,lt.width,lt.height,Qe,lt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,qe,lt.width,lt.height,0,lt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?re&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,0,0,lt.width,lt.height,Qe,Be,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke,qe,lt.width,lt.height,0,Qe,Be,lt.data)}}}else{if(le=U.mipmaps,ue&&Ue){le.length>0&&je++;const Re=Xe(Je[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,je,qe,Re.width,Re.height)}for(let Re=0;Re<6;Re++)if(Ve){ue?re&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,Je[Re].width,Je[Re].height,Qe,Be,Je[Re].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,qe,Je[Re].width,Je[Re].height,0,Qe,Be,Je[Re].data);for(let Ke=0;Ke<le.length;Ke++){const ut=le[Ke].image[Re].image;ue?re&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,0,0,ut.width,ut.height,Qe,Be,ut.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,qe,ut.width,ut.height,0,Qe,Be,ut.data)}}else{ue?re&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,0,0,Qe,Be,Je[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,0,qe,Qe,Be,Je[Re]);for(let Ke=0;Ke<le.length;Ke++){const lt=le[Ke];ue?re&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,0,0,Qe,Be,lt.image[Re]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Re,Ke+1,qe,Qe,Be,lt.image[Re])}}}x(U)&&v(t.TEXTURE_CUBE_MAP),Ee.__version=we.version,U.onUpdate&&U.onUpdate(U)}q.__version=U.version}function ae(q,U,de,pe,we,Ee){const rt=a.convert(de.format,de.colorSpace),ke=a.convert(de.type),ze=S(de.internalFormat,rt,ke,de.colorSpace);if(!r.get(U).__hasExternalTextures){const Ve=Math.max(1,U.width>>Ee),Je=Math.max(1,U.height>>Ee);we===t.TEXTURE_3D||we===t.TEXTURE_2D_ARRAY?n.texImage3D(we,Ee,ze,Ve,Je,U.depth,0,rt,ke,null):n.texImage2D(we,Ee,ze,Ve,Je,0,rt,ke,null)}n.bindFramebuffer(t.FRAMEBUFFER,q),Ce(U)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,pe,we,r.get(de).__webglTexture,0,Te(U)):(we===t.TEXTURE_2D||we>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&we<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,pe,we,r.get(de).__webglTexture,Ee),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ce(q,U,de){if(t.bindRenderbuffer(t.RENDERBUFFER,q),U.depthBuffer){const pe=U.depthTexture,we=pe&&pe.isDepthTexture?pe.type:null,Ee=_(U.stencilBuffer,we),rt=U.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,ke=Te(U);Ce(U)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ke,Ee,U.width,U.height):de?t.renderbufferStorageMultisample(t.RENDERBUFFER,ke,Ee,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,Ee,U.width,U.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,rt,t.RENDERBUFFER,q)}else{const pe=U.textures;for(let we=0;we<pe.length;we++){const Ee=pe[we],rt=a.convert(Ee.format,Ee.colorSpace),ke=a.convert(Ee.type),ze=S(Ee.internalFormat,rt,ke,Ee.colorSpace),et=Te(U);de&&Ce(U)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,et,ze,U.width,U.height):Ce(U)?s.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,et,ze,U.width,U.height):t.renderbufferStorage(t.RENDERBUFFER,ze,U.width,U.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function fe(q,U){if(U&&U.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,q),!(U.depthTexture&&U.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(U.depthTexture).__webglTexture||U.depthTexture.image.width!==U.width||U.depthTexture.image.height!==U.height)&&(U.depthTexture.image.width=U.width,U.depthTexture.image.height=U.height,U.depthTexture.needsUpdate=!0),B(U.depthTexture,0);const pe=r.get(U.depthTexture).__webglTexture,we=Te(U);if(U.depthTexture.format===Yu)Ce(U)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,pe,0);else if(U.depthTexture.format===cc)Ce(U)?s.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,pe,0);else throw new Error("Unknown depthTexture format")}function Ae(q){const U=r.get(q),de=q.isWebGLCubeRenderTarget===!0;if(q.depthTexture&&!U.__autoAllocateDepthBuffer){if(de)throw new Error("target.depthTexture not supported in Cube render targets");fe(U.__webglFramebuffer,q)}else if(de){U.__webglDepthbuffer=[];for(let pe=0;pe<6;pe++)n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer[pe]),U.__webglDepthbuffer[pe]=t.createRenderbuffer(),ce(U.__webglDepthbuffer[pe],q,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,U.__webglFramebuffer),U.__webglDepthbuffer=t.createRenderbuffer(),ce(U.__webglDepthbuffer,q,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function ve(q,U,de){const pe=r.get(q);U!==void 0&&ae(pe.__webglFramebuffer,q,q.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),de!==void 0&&Ae(q)}function Ie(q){const U=q.texture,de=r.get(q),pe=r.get(U);q.addEventListener("dispose",M);const we=q.textures,Ee=q.isWebGLCubeRenderTarget===!0,rt=we.length>1;if(rt||(pe.__webglTexture===void 0&&(pe.__webglTexture=t.createTexture()),pe.__version=U.version,o.memory.textures++),Ee){de.__webglFramebuffer=[];for(let ke=0;ke<6;ke++)if(U.mipmaps&&U.mipmaps.length>0){de.__webglFramebuffer[ke]=[];for(let ze=0;ze<U.mipmaps.length;ze++)de.__webglFramebuffer[ke][ze]=t.createFramebuffer()}else de.__webglFramebuffer[ke]=t.createFramebuffer()}else{if(U.mipmaps&&U.mipmaps.length>0){de.__webglFramebuffer=[];for(let ke=0;ke<U.mipmaps.length;ke++)de.__webglFramebuffer[ke]=t.createFramebuffer()}else de.__webglFramebuffer=t.createFramebuffer();if(rt)for(let ke=0,ze=we.length;ke<ze;ke++){const et=r.get(we[ke]);et.__webglTexture===void 0&&(et.__webglTexture=t.createTexture(),o.memory.textures++)}if(q.samples>0&&Ce(q)===!1){de.__webglMultisampledFramebuffer=t.createFramebuffer(),de.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,de.__webglMultisampledFramebuffer);for(let ke=0;ke<we.length;ke++){const ze=we[ke];de.__webglColorRenderbuffer[ke]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,de.__webglColorRenderbuffer[ke]);const et=a.convert(ze.format,ze.colorSpace),Ve=a.convert(ze.type),Je=S(ze.internalFormat,et,Ve,ze.colorSpace,q.isXRRenderTarget===!0),dt=Te(q);t.renderbufferStorageMultisample(t.RENDERBUFFER,dt,Je,q.width,q.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ke,t.RENDERBUFFER,de.__webglColorRenderbuffer[ke])}t.bindRenderbuffer(t.RENDERBUFFER,null),q.depthBuffer&&(de.__webglDepthRenderbuffer=t.createRenderbuffer(),ce(de.__webglDepthRenderbuffer,q,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ee){n.bindTexture(t.TEXTURE_CUBE_MAP,pe.__webglTexture),H(t.TEXTURE_CUBE_MAP,U);for(let ke=0;ke<6;ke++)if(U.mipmaps&&U.mipmaps.length>0)for(let ze=0;ze<U.mipmaps.length;ze++)ae(de.__webglFramebuffer[ke][ze],q,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,ze);else ae(de.__webglFramebuffer[ke],q,U,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+ke,0);x(U)&&v(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(rt){for(let ke=0,ze=we.length;ke<ze;ke++){const et=we[ke],Ve=r.get(et);n.bindTexture(t.TEXTURE_2D,Ve.__webglTexture),H(t.TEXTURE_2D,et),ae(de.__webglFramebuffer,q,et,t.COLOR_ATTACHMENT0+ke,t.TEXTURE_2D,0),x(et)&&v(t.TEXTURE_2D)}n.unbindTexture()}else{let ke=t.TEXTURE_2D;if((q.isWebGL3DRenderTarget||q.isWebGLArrayRenderTarget)&&(ke=q.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(ke,pe.__webglTexture),H(ke,U),U.mipmaps&&U.mipmaps.length>0)for(let ze=0;ze<U.mipmaps.length;ze++)ae(de.__webglFramebuffer[ze],q,U,t.COLOR_ATTACHMENT0,ke,ze);else ae(de.__webglFramebuffer,q,U,t.COLOR_ATTACHMENT0,ke,0);x(U)&&v(ke),n.unbindTexture()}q.depthBuffer&&Ae(q)}function X(q){const U=q.textures;for(let de=0,pe=U.length;de<pe;de++){const we=U[de];if(x(we)){const Ee=q.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,rt=r.get(we).__webglTexture;n.bindTexture(Ee,rt),v(Ee),n.unbindTexture()}}}const J=[],_e=[];function Me(q){if(q.samples>0){if(Ce(q)===!1){const U=q.textures,de=q.width,pe=q.height;let we=t.COLOR_BUFFER_BIT;const Ee=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,rt=r.get(q),ke=U.length>1;if(ke)for(let ze=0;ze<U.length;ze++)n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,rt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,rt.__webglFramebuffer);for(let ze=0;ze<U.length;ze++){if(q.resolveDepthBuffer&&(q.depthBuffer&&(we|=t.DEPTH_BUFFER_BIT),q.stencilBuffer&&q.resolveStencilBuffer&&(we|=t.STENCIL_BUFFER_BIT)),ke){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,rt.__webglColorRenderbuffer[ze]);const et=r.get(U[ze]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,et,0)}t.blitFramebuffer(0,0,de,pe,0,0,de,pe,we,t.NEAREST),l===!0&&(J.length=0,_e.length=0,J.push(t.COLOR_ATTACHMENT0+ze),q.depthBuffer&&q.resolveDepthBuffer===!1&&(J.push(Ee),_e.push(Ee),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,_e)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,J))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ke)for(let ze=0;ze<U.length;ze++){n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.RENDERBUFFER,rt.__webglColorRenderbuffer[ze]);const et=r.get(U[ze]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,rt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+ze,t.TEXTURE_2D,et,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,rt.__webglMultisampledFramebuffer)}else if(q.depthBuffer&&q.resolveDepthBuffer===!1&&l){const U=q.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[U])}}}function Te(q){return Math.min(i.maxSamples,q.samples)}function Ce(q){const U=r.get(q);return q.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&U.__useRenderToTexture!==!1}function He(q){const U=o.render.frame;c.get(q)!==U&&(c.set(q,U),q.update())}function Pe(q,U){const de=q.colorSpace,pe=q.format,we=q.type;return q.isCompressedTexture===!0||q.isVideoTexture===!0||de!==Va&&de!==hs&&(pn.getTransfer(de)===Pn?(pe!==vr||we!==ma)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",de)),U}function Xe(q){return typeof HTMLImageElement<"u"&&q instanceof HTMLImageElement?(u.width=q.naturalWidth||q.width,u.height=q.naturalHeight||q.height):typeof VideoFrame<"u"&&q instanceof VideoFrame?(u.width=q.displayWidth,u.height=q.displayHeight):(u.width=q.width,u.height=q.height),u}this.allocateTextureUnit=D,this.resetTextureUnits=I,this.setTexture2D=B,this.setTexture2DArray=W,this.setTexture3D=V,this.setTextureCube=Q,this.rebindTextures=ve,this.setupRenderTarget=Ie,this.updateRenderTargetMipmap=X,this.updateMultisampleRenderTarget=Me,this.setupDepthRenderbuffer=Ae,this.setupFrameBufferTexture=ae,this.useMultisampledRTT=Ce}function L6(t,e){function n(r,i=hs){let a;const o=pn.getTransfer(i);if(r===ma)return t.UNSIGNED_BYTE;if(r===W2)return t.UNSIGNED_SHORT_4_4_4_4;if(r===$2)return t.UNSIGNED_SHORT_5_5_5_1;if(r===t6)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===G2)return t.BYTE;if(r===V2)return t.SHORT;if(r===Dm)return t.UNSIGNED_SHORT;if(r===e1)return t.INT;if(r===Rl)return t.UNSIGNED_INT;if(r===tr)return t.FLOAT;if(r===$r)return t.HALF_FLOAT;if(r===n6)return t.ALPHA;if(r===r6)return t.RGB;if(r===vr)return t.RGBA;if(r===i6)return t.LUMINANCE;if(r===a6)return t.LUMINANCE_ALPHA;if(r===Yu)return t.DEPTH_COMPONENT;if(r===cc)return t.DEPTH_STENCIL;if(r===t1)return t.RED;if(r===X2)return t.RED_INTEGER;if(r===o6)return t.RG;if(r===Y2)return t.RG_INTEGER;if(r===q2)return t.RGBA_INTEGER;if(r===s0||r===l0||r===u0||r===c0)if(o===Pn)if(a=e.get("WEBGL_compressed_texture_s3tc_srgb"),a!==null){if(r===s0)return a.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===l0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===u0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===c0)return a.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(a=e.get("WEBGL_compressed_texture_s3tc"),a!==null){if(r===s0)return a.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===l0)return a.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===u0)return a.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===c0)return a.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===KE||r===ZE||r===JE||r===QE)if(a=e.get("WEBGL_compressed_texture_pvrtc"),a!==null){if(r===KE)return a.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===ZE)return a.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===JE)return a.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===QE)return a.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===eA||r===tA||r===nA)if(a=e.get("WEBGL_compressed_texture_etc"),a!==null){if(r===eA||r===tA)return o===Pn?a.COMPRESSED_SRGB8_ETC2:a.COMPRESSED_RGB8_ETC2;if(r===nA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:a.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===rA||r===iA||r===aA||r===oA||r===sA||r===lA||r===uA||r===cA||r===fA||r===hA||r===dA||r===pA||r===mA||r===gA)if(a=e.get("WEBGL_compressed_texture_astc"),a!==null){if(r===rA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:a.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===iA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:a.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===aA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:a.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===oA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:a.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===sA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:a.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===lA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:a.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===uA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:a.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===cA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:a.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===fA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:a.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===hA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:a.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===dA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:a.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===pA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:a.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===mA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:a.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===gA)return o===Pn?a.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:a.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===f0||r===vA||r===yA)if(a=e.get("EXT_texture_compression_bptc"),a!==null){if(r===f0)return o===Pn?a.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:a.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===vA)return a.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===yA)return a.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===s6||r===xA||r===_A||r===SA)if(a=e.get("EXT_texture_compression_rgtc"),a!==null){if(r===f0)return a.COMPRESSED_RED_RGTC1_EXT;if(r===xA)return a.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===_A)return a.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===SA)return a.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===uc?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}class D6 extends lr{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Nf extends un{constructor(){super(),this.isGroup=!0,this.type="Group"}}const g1e={type:"move"};class Yw{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Nf,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Nf,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new ee,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new ee),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Nf,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new ee,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new ee),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,a=null,o=null;const s=this._targetRay,l=this._grip,u=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(u&&e.hand){o=!0;for(const y of e.hand.values()){const x=n.getJointPose(y,r),v=this._getHandJoint(u,y);x!==null&&(v.matrix.fromArray(x.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=x.radius),v.visible=x!==null}const c=u.joints["index-finger-tip"],f=u.joints["thumb-tip"],h=c.position.distanceTo(f.position),m=.02,g=.005;u.inputState.pinching&&h>m+g?(u.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!u.inputState.pinching&&h<=m-g&&(u.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,r),a!==null&&(l.matrix.fromArray(a.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,a.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(a.linearVelocity)):l.hasLinearVelocity=!1,a.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(a.angularVelocity)):l.hasAngularVelocity=!1));s!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&a!==null&&(i=a),i!==null&&(s.matrix.fromArray(i.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,i.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(i.linearVelocity)):s.hasLinearVelocity=!1,i.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(i.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(g1e)))}return s!==null&&(s.visible=i!==null),l!==null&&(l.visible=a!==null),u!==null&&(u.visible=o!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Nf;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}const v1e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,y1e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class x1e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n,r){if(this.texture===null){const i=new yn,a=e.properties.get(i);a.__webglTexture=n.texture,(n.depthNear!=r.depthNear||n.depthFar!=r.depthFar)&&(this.depthNear=n.depthNear,this.depthFar=n.depthFar),this.texture=i}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Gi({vertexShader:v1e,fragmentShader:y1e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new In(new go(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}}class _1e extends Fs{constructor(e,n){super();const r=this;let i=null,a=1,o=null,s="local-floor",l=1,u=null,c=null,f=null,h=null,m=null,g=null;const y=new x1e,x=n.getContextAttributes();let v=null,S=null;const _=[],b=[],E=new We;let M=null;const T=new lr;T.layers.enable(1),T.viewport=new mn;const C=new lr;C.layers.enable(2),C.viewport=new mn;const P=[T,C],O=new D6;O.layers.enable(1),O.layers.enable(2);let I=null,D=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Z){let ae=_[Z];return ae===void 0&&(ae=new Yw,_[Z]=ae),ae.getTargetRaySpace()},this.getControllerGrip=function(Z){let ae=_[Z];return ae===void 0&&(ae=new Yw,_[Z]=ae),ae.getGripSpace()},this.getHand=function(Z){let ae=_[Z];return ae===void 0&&(ae=new Yw,_[Z]=ae),ae.getHandSpace()};function F(Z){const ae=b.indexOf(Z.inputSource);if(ae===-1)return;const ce=_[ae];ce!==void 0&&(ce.update(Z.inputSource,Z.frame,u||o),ce.dispatchEvent({type:Z.type,data:Z.inputSource}))}function B(){i.removeEventListener("select",F),i.removeEventListener("selectstart",F),i.removeEventListener("selectend",F),i.removeEventListener("squeeze",F),i.removeEventListener("squeezestart",F),i.removeEventListener("squeezeend",F),i.removeEventListener("end",B),i.removeEventListener("inputsourceschange",W);for(let Z=0;Z<_.length;Z++){const ae=b[Z];ae!==null&&(b[Z]=null,_[Z].disconnect(ae))}I=null,D=null,y.reset(),e.setRenderTarget(v),m=null,h=null,f=null,i=null,S=null,ie.stop(),r.isPresenting=!1,e.setPixelRatio(M),e.setSize(E.width,E.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Z){a=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Z){s=Z,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return u||o},this.setReferenceSpace=function(Z){u=Z},this.getBaseLayer=function(){return h!==null?h:m},this.getBinding=function(){return f},this.getFrame=function(){return g},this.getSession=function(){return i},this.setSession=async function(Z){if(i=Z,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",F),i.addEventListener("selectstart",F),i.addEventListener("selectend",F),i.addEventListener("squeeze",F),i.addEventListener("squeezestart",F),i.addEventListener("squeezeend",F),i.addEventListener("end",B),i.addEventListener("inputsourceschange",W),x.xrCompatible!==!0&&await n.makeXRCompatible(),M=e.getPixelRatio(),e.getSize(E),i.renderState.layers===void 0){const ae={antialias:x.antialias,alpha:!0,depth:x.depth,stencil:x.stencil,framebufferScaleFactor:a};m=new XRWebGLLayer(i,n,ae),i.updateRenderState({baseLayer:m}),e.setPixelRatio(1),e.setSize(m.framebufferWidth,m.framebufferHeight,!1),S=new ga(m.framebufferWidth,m.framebufferHeight,{format:vr,type:ma,colorSpace:e.outputColorSpace,stencilBuffer:x.stencil})}else{let ae=null,ce=null,fe=null;x.depth&&(fe=x.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ae=x.stencil?cc:Yu,ce=x.stencil?uc:Rl);const Ae={colorFormat:n.RGBA8,depthFormat:fe,scaleFactor:a};f=new XRWebGLBinding(i,n),h=f.createProjectionLayer(Ae),i.updateRenderState({layers:[h]}),e.setPixelRatio(1),e.setSize(h.textureWidth,h.textureHeight,!1),S=new ga(h.textureWidth,h.textureHeight,{format:vr,type:ma,depthTexture:new sP(h.textureWidth,h.textureHeight,ce,void 0,void 0,void 0,void 0,void 0,void 0,ae),stencilBuffer:x.stencil,colorSpace:e.outputColorSpace,samples:x.antialias?4:0,resolveDepthBuffer:h.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),u=null,o=await i.requestReferenceSpace(s),ie.setContext(i),ie.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function W(Z){for(let ae=0;ae<Z.removed.length;ae++){const ce=Z.removed[ae],fe=b.indexOf(ce);fe>=0&&(b[fe]=null,_[fe].disconnect(ce))}for(let ae=0;ae<Z.added.length;ae++){const ce=Z.added[ae];let fe=b.indexOf(ce);if(fe===-1){for(let ve=0;ve<_.length;ve++)if(ve>=b.length){b.push(ce),fe=ve;break}else if(b[ve]===null){b[ve]=ce,fe=ve;break}if(fe===-1)break}const Ae=_[fe];Ae&&Ae.connect(ce)}}const V=new ee,Q=new ee;function N(Z,ae,ce){V.setFromMatrixPosition(ae.matrixWorld),Q.setFromMatrixPosition(ce.matrixWorld);const fe=V.distanceTo(Q),Ae=ae.projectionMatrix.elements,ve=ce.projectionMatrix.elements,Ie=Ae[14]/(Ae[10]-1),X=Ae[14]/(Ae[10]+1),J=(Ae[9]+1)/Ae[5],_e=(Ae[9]-1)/Ae[5],Me=(Ae[8]-1)/Ae[0],Te=(ve[8]+1)/ve[0],Ce=Ie*Me,He=Ie*Te,Pe=fe/(-Me+Te),Xe=Pe*-Me;ae.matrixWorld.decompose(Z.position,Z.quaternion,Z.scale),Z.translateX(Xe),Z.translateZ(Pe),Z.matrixWorld.compose(Z.position,Z.quaternion,Z.scale),Z.matrixWorldInverse.copy(Z.matrixWorld).invert();const q=Ie+Pe,U=X+Pe,de=Ce-Xe,pe=He+(fe-Xe),we=J*X/U*q,Ee=_e*X/U*q;Z.projectionMatrix.makePerspective(de,pe,we,Ee,q,U),Z.projectionMatrixInverse.copy(Z.projectionMatrix).invert()}function j(Z,ae){ae===null?Z.matrixWorld.copy(Z.matrix):Z.matrixWorld.multiplyMatrices(ae.matrixWorld,Z.matrix),Z.matrixWorldInverse.copy(Z.matrixWorld).invert()}this.updateCamera=function(Z){if(i===null)return;y.texture!==null&&(Z.near=y.depthNear,Z.far=y.depthFar),O.near=C.near=T.near=Z.near,O.far=C.far=T.far=Z.far,(I!==O.near||D!==O.far)&&(i.updateRenderState({depthNear:O.near,depthFar:O.far}),I=O.near,D=O.far,T.near=I,T.far=D,C.near=I,C.far=D,T.updateProjectionMatrix(),C.updateProjectionMatrix(),Z.updateProjectionMatrix());const ae=Z.parent,ce=O.cameras;j(O,ae);for(let fe=0;fe<ce.length;fe++)j(ce[fe],ae);ce.length===2?N(O,T,C):O.projectionMatrix.copy(T.projectionMatrix),G(Z,O,ae)};function G(Z,ae,ce){ce===null?Z.matrix.copy(ae.matrixWorld):(Z.matrix.copy(ce.matrixWorld),Z.matrix.invert(),Z.matrix.multiply(ae.matrixWorld)),Z.matrix.decompose(Z.position,Z.quaternion,Z.scale),Z.updateMatrixWorld(!0),Z.projectionMatrix.copy(ae.projectionMatrix),Z.projectionMatrixInverse.copy(ae.projectionMatrixInverse),Z.isPerspectiveCamera&&(Z.fov=Th*2*Math.atan(1/Z.projectionMatrix.elements[5]),Z.zoom=1)}this.getCamera=function(){return O},this.getFoveation=function(){if(!(h===null&&m===null))return l},this.setFoveation=function(Z){l=Z,h!==null&&(h.fixedFoveation=Z),m!==null&&m.fixedFoveation!==void 0&&(m.fixedFoveation=Z)},this.hasDepthSensing=function(){return y.texture!==null},this.getDepthSensingMesh=function(){return y.getMesh(O)};let H=null;function $(Z,ae){if(c=ae.getViewerPose(u||o),g=ae,c!==null){const ce=c.views;m!==null&&(e.setRenderTargetFramebuffer(S,m.framebuffer),e.setRenderTarget(S));let fe=!1;ce.length!==O.cameras.length&&(O.cameras.length=0,fe=!0);for(let ve=0;ve<ce.length;ve++){const Ie=ce[ve];let X=null;if(m!==null)X=m.getViewport(Ie);else{const _e=f.getViewSubImage(h,Ie);X=_e.viewport,ve===0&&(e.setRenderTargetTextures(S,_e.colorTexture,h.ignoreDepthValues?void 0:_e.depthStencilTexture),e.setRenderTarget(S))}let J=P[ve];J===void 0&&(J=new lr,J.layers.enable(ve),J.viewport=new mn,P[ve]=J),J.matrix.fromArray(Ie.transform.matrix),J.matrix.decompose(J.position,J.quaternion,J.scale),J.projectionMatrix.fromArray(Ie.projectionMatrix),J.projectionMatrixInverse.copy(J.projectionMatrix).invert(),J.viewport.set(X.x,X.y,X.width,X.height),ve===0&&(O.matrix.copy(J.matrix),O.matrix.decompose(O.position,O.quaternion,O.scale)),fe===!0&&O.cameras.push(J)}const Ae=i.enabledFeatures;if(Ae&&Ae.includes("depth-sensing")){const ve=f.getDepthInformation(ce[0]);ve&&ve.isValid&&ve.texture&&y.init(e,ve,i.renderState)}}for(let ce=0;ce<_.length;ce++){const fe=b[ce],Ae=_[ce];fe!==null&&Ae!==void 0&&Ae.update(fe,ae,u||o)}H&&H(Z,ae),ae.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ae}),g=null}const ie=new T6;ie.setAnimationLoop($),this.setAnimationLoop=function(Z){H=Z},this.dispose=function(){}}}const fu=new va,S1e=new Rt;function w1e(t,e){function n(x,v){x.matrixAutoUpdate===!0&&x.updateMatrix(),v.value.copy(x.matrix)}function r(x,v){v.color.getRGB(x.fogColor.value,E6(t)),v.isFog?(x.fogNear.value=v.near,x.fogFar.value=v.far):v.isFogExp2&&(x.fogDensity.value=v.density)}function i(x,v,S,_,b){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(x,v):v.isMeshToonMaterial?(a(x,v),f(x,v)):v.isMeshPhongMaterial?(a(x,v),c(x,v)):v.isMeshStandardMaterial?(a(x,v),h(x,v),v.isMeshPhysicalMaterial&&m(x,v,b)):v.isMeshMatcapMaterial?(a(x,v),g(x,v)):v.isMeshDepthMaterial?a(x,v):v.isMeshDistanceMaterial?(a(x,v),y(x,v)):v.isMeshNormalMaterial?a(x,v):v.isLineBasicMaterial?(o(x,v),v.isLineDashedMaterial&&s(x,v)):v.isPointsMaterial?l(x,v,S,_):v.isSpriteMaterial?u(x,v):v.isShadowMaterial?(x.color.value.copy(v.color),x.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(x,v){x.opacity.value=v.opacity,v.color&&x.diffuse.value.copy(v.color),v.emissive&&x.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.bumpMap&&(x.bumpMap.value=v.bumpMap,n(v.bumpMap,x.bumpMapTransform),x.bumpScale.value=v.bumpScale,v.side===Ei&&(x.bumpScale.value*=-1)),v.normalMap&&(x.normalMap.value=v.normalMap,n(v.normalMap,x.normalMapTransform),x.normalScale.value.copy(v.normalScale),v.side===Ei&&x.normalScale.value.negate()),v.displacementMap&&(x.displacementMap.value=v.displacementMap,n(v.displacementMap,x.displacementMapTransform),x.displacementScale.value=v.displacementScale,x.displacementBias.value=v.displacementBias),v.emissiveMap&&(x.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,x.emissiveMapTransform)),v.specularMap&&(x.specularMap.value=v.specularMap,n(v.specularMap,x.specularMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest);const S=e.get(v),_=S.envMap,b=S.envMapRotation;_&&(x.envMap.value=_,fu.copy(b),fu.x*=-1,fu.y*=-1,fu.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(fu.y*=-1,fu.z*=-1),x.envMapRotation.value.setFromMatrix4(S1e.makeRotationFromEuler(fu)),x.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=v.reflectivity,x.ior.value=v.ior,x.refractionRatio.value=v.refractionRatio),v.lightMap&&(x.lightMap.value=v.lightMap,x.lightMapIntensity.value=v.lightMapIntensity,n(v.lightMap,x.lightMapTransform)),v.aoMap&&(x.aoMap.value=v.aoMap,x.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,x.aoMapTransform))}function o(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform))}function s(x,v){x.dashSize.value=v.dashSize,x.totalSize.value=v.dashSize+v.gapSize,x.scale.value=v.scale}function l(x,v,S,_){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.size.value=v.size*S,x.scale.value=_*.5,v.map&&(x.map.value=v.map,n(v.map,x.uvTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function u(x,v){x.diffuse.value.copy(v.color),x.opacity.value=v.opacity,x.rotation.value=v.rotation,v.map&&(x.map.value=v.map,n(v.map,x.mapTransform)),v.alphaMap&&(x.alphaMap.value=v.alphaMap,n(v.alphaMap,x.alphaMapTransform)),v.alphaTest>0&&(x.alphaTest.value=v.alphaTest)}function c(x,v){x.specular.value.copy(v.specular),x.shininess.value=Math.max(v.shininess,1e-4)}function f(x,v){v.gradientMap&&(x.gradientMap.value=v.gradientMap)}function h(x,v){x.metalness.value=v.metalness,v.metalnessMap&&(x.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,x.metalnessMapTransform)),x.roughness.value=v.roughness,v.roughnessMap&&(x.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,x.roughnessMapTransform)),v.envMap&&(x.envMapIntensity.value=v.envMapIntensity)}function m(x,v,S){x.ior.value=v.ior,v.sheen>0&&(x.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),x.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(x.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,x.sheenColorMapTransform)),v.sheenRoughnessMap&&(x.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,x.sheenRoughnessMapTransform))),v.clearcoat>0&&(x.clearcoat.value=v.clearcoat,x.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(x.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,x.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(x.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ei&&x.clearcoatNormalScale.value.negate())),v.dispersion>0&&(x.dispersion.value=v.dispersion),v.iridescence>0&&(x.iridescence.value=v.iridescence,x.iridescenceIOR.value=v.iridescenceIOR,x.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(x.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,x.iridescenceMapTransform)),v.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),v.transmission>0&&(x.transmission.value=v.transmission,x.transmissionSamplerMap.value=S.texture,x.transmissionSamplerSize.value.set(S.width,S.height),v.transmissionMap&&(x.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,x.transmissionMapTransform)),x.thickness.value=v.thickness,v.thicknessMap&&(x.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=v.attenuationDistance,x.attenuationColor.value.copy(v.attenuationColor)),v.anisotropy>0&&(x.anisotropyVector.value.set(v.anisotropy*Math.cos(v.anisotropyRotation),v.anisotropy*Math.sin(v.anisotropyRotation)),v.anisotropyMap&&(x.anisotropyMap.value=v.anisotropyMap,n(v.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=v.specularIntensity,x.specularColor.value.copy(v.specularColor),v.specularColorMap&&(x.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,x.specularColorMapTransform)),v.specularIntensityMap&&(x.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,x.specularIntensityMapTransform))}function g(x,v){v.matcap&&(x.matcap.value=v.matcap)}function y(x,v){const S=e.get(v).light;x.referencePosition.value.setFromMatrixPosition(S.matrixWorld),x.nearDistance.value=S.shadow.camera.near,x.farDistance.value=S.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function b1e(t,e,n,r){let i={},a={},o=[];const s=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(S,_){const b=_.program;r.uniformBlockBinding(S,b)}function u(S,_){let b=i[S.id];b===void 0&&(g(S),b=c(S),i[S.id]=b,S.addEventListener("dispose",x));const E=_.program;r.updateUBOMapping(S,E);const M=e.render.frame;a[S.id]!==M&&(h(S),a[S.id]=M)}function c(S){const _=f();S.__bindingPointIndex=_;const b=t.createBuffer(),E=S.__size,M=S.usage;return t.bindBuffer(t.UNIFORM_BUFFER,b),t.bufferData(t.UNIFORM_BUFFER,E,M),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,b),b}function f(){for(let S=0;S<s;S++)if(o.indexOf(S)===-1)return o.push(S),S;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function h(S){const _=i[S.id],b=S.uniforms,E=S.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let M=0,T=b.length;M<T;M++){const C=Array.isArray(b[M])?b[M]:[b[M]];for(let P=0,O=C.length;P<O;P++){const I=C[P];if(m(I,M,P,E)===!0){const D=I.__offset,F=Array.isArray(I.value)?I.value:[I.value];let B=0;for(let W=0;W<F.length;W++){const V=F[W],Q=y(V);typeof V=="number"||typeof V=="boolean"?(I.__data[0]=V,t.bufferSubData(t.UNIFORM_BUFFER,D+B,I.__data)):V.isMatrix3?(I.__data[0]=V.elements[0],I.__data[1]=V.elements[1],I.__data[2]=V.elements[2],I.__data[3]=0,I.__data[4]=V.elements[3],I.__data[5]=V.elements[4],I.__data[6]=V.elements[5],I.__data[7]=0,I.__data[8]=V.elements[6],I.__data[9]=V.elements[7],I.__data[10]=V.elements[8],I.__data[11]=0):(V.toArray(I.__data,B),B+=Q.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,I.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function m(S,_,b,E){const M=S.value,T=_+"_"+b;if(E[T]===void 0)return typeof M=="number"||typeof M=="boolean"?E[T]=M:E[T]=M.clone(),!0;{const C=E[T];if(typeof M=="number"||typeof M=="boolean"){if(C!==M)return E[T]=M,!0}else if(C.equals(M)===!1)return C.copy(M),!0}return!1}function g(S){const _=S.uniforms;let b=0;const E=16;for(let T=0,C=_.length;T<C;T++){const P=Array.isArray(_[T])?_[T]:[_[T]];for(let O=0,I=P.length;O<I;O++){const D=P[O],F=Array.isArray(D.value)?D.value:[D.value];for(let B=0,W=F.length;B<W;B++){const V=F[B],Q=y(V),N=b%E;N!==0&&E-N<Q.boundary&&(b+=E-N),D.__data=new Float32Array(Q.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=b,b+=Q.storage}}}const M=b%E;return M>0&&(b+=E-M),S.__size=b,S.__cache={},this}function y(S){const _={boundary:0,storage:0};return typeof S=="number"||typeof S=="boolean"?(_.boundary=4,_.storage=4):S.isVector2?(_.boundary=8,_.storage=8):S.isVector3||S.isColor?(_.boundary=16,_.storage=12):S.isVector4?(_.boundary=16,_.storage=16):S.isMatrix3?(_.boundary=48,_.storage=48):S.isMatrix4?(_.boundary=64,_.storage=64):S.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",S),_}function x(S){const _=S.target;_.removeEventListener("dispose",x);const b=o.indexOf(_.__bindingPointIndex);o.splice(b,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete a[_.id]}function v(){for(const S in i)t.deleteBuffer(i[S]);o=[],i={},a={}}return{bind:l,update:u,dispose:v}}class lP{constructor(e={}){const{canvas:n=S6(),context:r=null,depth:i=!0,stencil:a=!1,alpha:o=!1,antialias:s=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:u=!1,powerPreference:c="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=o;const m=new Uint32Array(4),g=new Int32Array(4);let y=null,x=null;const v=[],S=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=oa,this.toneMapping=Uo,this.toneMappingExposure=1;const _=this;let b=!1,E=0,M=0,T=null,C=-1,P=null;const O=new mn,I=new mn;let D=null;const F=new ht(0);let B=0,W=n.width,V=n.height,Q=1,N=null,j=null;const G=new mn(0,0,W,V),H=new mn(0,0,W,V);let $=!1;const ie=new xg;let Z=!1,ae=!1;const ce=new Rt,fe=new ee,Ae={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let ve=!1;function Ie(){return T===null?Q:1}let X=r;function J(L,Y){return n.getContext(L,Y)}try{const L={alpha:!0,depth:i,stencil:a,antialias:s,premultipliedAlpha:l,preserveDrawingBuffer:u,powerPreference:c,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${pg}`),n.addEventListener("webglcontextlost",je,!1),n.addEventListener("webglcontextrestored",le,!1),n.addEventListener("webglcontextcreationerror",Re,!1),X===null){const Y="webgl2";if(X=J(Y,L),X===null)throw J(Y)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(L){throw console.error("THREE.WebGLRenderer: "+L.message),L}let _e,Me,Te,Ce,He,Pe,Xe,q,U,de,pe,we,Ee,rt,ke,ze,et,Ve,Je,dt,Qe,Be,qe,ue;function Ue(){_e=new kxe(X),_e.init(),Be=new L6(X,_e),Me=new Oxe(X,_e,e,Be),Te=new p1e(X),Ce=new Bxe(X),He=new n1e,Pe=new m1e(X,_e,Te,He,Me,Be,Ce),Xe=new Ixe(_),q=new Nxe(_),U=new $ve(X),qe=new Pxe(X,U),de=new Uxe(X,U,Ce,qe),pe=new Hxe(X,de,U,Ce),Je=new zxe(X,Me,Pe),ze=new Rxe(He),we=new t1e(_,Xe,q,_e,Me,qe,ze),Ee=new w1e(_,He),rt=new i1e,ke=new c1e(_e),Ve=new Txe(_,Xe,q,Te,pe,h,l),et=new d1e(_,pe,Me),ue=new b1e(X,Ce,Me,Te),dt=new Cxe(X,_e,Ce),Qe=new Fxe(X,_e,Ce),Ce.programs=we.programs,_.capabilities=Me,_.extensions=_e,_.properties=He,_.renderLists=rt,_.shadowMap=et,_.state=Te,_.info=Ce}Ue();const re=new _1e(_,X);this.xr=re,this.getContext=function(){return X},this.getContextAttributes=function(){return X.getContextAttributes()},this.forceContextLoss=function(){const L=_e.get("WEBGL_lose_context");L&&L.loseContext()},this.forceContextRestore=function(){const L=_e.get("WEBGL_lose_context");L&&L.restoreContext()},this.getPixelRatio=function(){return Q},this.setPixelRatio=function(L){L!==void 0&&(Q=L,this.setSize(W,V,!1))},this.getSize=function(L){return L.set(W,V)},this.setSize=function(L,Y,te=!0){if(re.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}W=L,V=Y,n.width=Math.floor(L*Q),n.height=Math.floor(Y*Q),te===!0&&(n.style.width=L+"px",n.style.height=Y+"px"),this.setViewport(0,0,L,Y)},this.getDrawingBufferSize=function(L){return L.set(W*Q,V*Q).floor()},this.setDrawingBufferSize=function(L,Y,te){W=L,V=Y,Q=te,n.width=Math.floor(L*te),n.height=Math.floor(Y*te),this.setViewport(0,0,L,Y)},this.getCurrentViewport=function(L){return L.copy(O)},this.getViewport=function(L){return L.copy(G)},this.setViewport=function(L,Y,te,ne){L.isVector4?G.set(L.x,L.y,L.z,L.w):G.set(L,Y,te,ne),Te.viewport(O.copy(G).multiplyScalar(Q).round())},this.getScissor=function(L){return L.copy(H)},this.setScissor=function(L,Y,te,ne){L.isVector4?H.set(L.x,L.y,L.z,L.w):H.set(L,Y,te,ne),Te.scissor(I.copy(H).multiplyScalar(Q).round())},this.getScissorTest=function(){return $},this.setScissorTest=function(L){Te.setScissorTest($=L)},this.setOpaqueSort=function(L){N=L},this.setTransparentSort=function(L){j=L},this.getClearColor=function(L){return L.copy(Ve.getClearColor())},this.setClearColor=function(){Ve.setClearColor.apply(Ve,arguments)},this.getClearAlpha=function(){return Ve.getClearAlpha()},this.setClearAlpha=function(){Ve.setClearAlpha.apply(Ve,arguments)},this.clear=function(L=!0,Y=!0,te=!0){let ne=0;if(L){let se=!1;if(T!==null){const xe=T.texture.format;se=xe===q2||xe===Y2||xe===X2}if(se){const xe=T.texture.type,Oe=xe===ma||xe===Rl||xe===Dm||xe===uc||xe===W2||xe===$2,De=Ve.getClearColor(),Ne=Ve.getClearAlpha(),ge=De.r,at=De.g,Ye=De.b;Oe?(m[0]=ge,m[1]=at,m[2]=Ye,m[3]=Ne,X.clearBufferuiv(X.COLOR,0,m)):(g[0]=ge,g[1]=at,g[2]=Ye,g[3]=Ne,X.clearBufferiv(X.COLOR,0,g))}else ne|=X.COLOR_BUFFER_BIT}Y&&(ne|=X.DEPTH_BUFFER_BIT),te&&(ne|=X.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),X.clear(ne)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",je,!1),n.removeEventListener("webglcontextrestored",le,!1),n.removeEventListener("webglcontextcreationerror",Re,!1),rt.dispose(),ke.dispose(),He.dispose(),Xe.dispose(),q.dispose(),pe.dispose(),qe.dispose(),ue.dispose(),we.dispose(),re.dispose(),re.removeEventListener("sessionstart",Nt),re.removeEventListener("sessionend",Kt),rn.stop()};function je(L){L.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function le(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const L=Ce.autoReset,Y=et.enabled,te=et.autoUpdate,ne=et.needsUpdate,se=et.type;Ue(),Ce.autoReset=L,et.enabled=Y,et.autoUpdate=te,et.needsUpdate=ne,et.type=se}function Re(L){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",L.statusMessage)}function Ke(L){const Y=L.target;Y.removeEventListener("dispose",Ke),lt(Y)}function lt(L){ut(L),He.remove(L)}function ut(L){const Y=He.get(L).programs;Y!==void 0&&(Y.forEach(function(te){we.releaseProgram(te)}),L.isShaderMaterial&&we.releaseShaderCache(L))}this.renderBufferDirect=function(L,Y,te,ne,se,xe){Y===null&&(Y=Ae);const Oe=se.isMesh&&se.matrixWorld.determinant()<0,De=Wi(L,Y,te,ne,se);Te.setMaterial(ne,Oe);let Ne=te.index,ge=1;if(ne.wireframe===!0){if(Ne=de.getWireframeAttribute(te),Ne===void 0)return;ge=2}const at=te.drawRange,Ye=te.attributes.position;let tt=at.start*ge,pt=(at.start+at.count)*ge;xe!==null&&(tt=Math.max(tt,xe.start*ge),pt=Math.min(pt,(xe.start+xe.count)*ge)),Ne!==null?(tt=Math.max(tt,0),pt=Math.min(pt,Ne.count)):Ye!=null&&(tt=Math.max(tt,0),pt=Math.min(pt,Ye.count));const yt=pt-tt;if(yt<0||yt===1/0)return;qe.setup(se,ne,De,te,Ne);let Pt,gt=dt;if(Ne!==null&&(Pt=U.get(Ne),gt=Qe,gt.setIndex(Pt)),se.isMesh)ne.wireframe===!0?(Te.setLineWidth(ne.wireframeLinewidth*Ie()),gt.setMode(X.LINES)):gt.setMode(X.TRIANGLES);else if(se.isLine){let Ze=ne.linewidth;Ze===void 0&&(Ze=1),Te.setLineWidth(Ze*Ie()),se.isLineSegments?gt.setMode(X.LINES):se.isLineLoop?gt.setMode(X.LINE_LOOP):gt.setMode(X.LINE_STRIP)}else se.isPoints?gt.setMode(X.POINTS):se.isSprite&&gt.setMode(X.TRIANGLES);if(se.isBatchedMesh)se._multiDrawInstances!==null?gt.renderMultiDrawInstances(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount,se._multiDrawInstances):gt.renderMultiDraw(se._multiDrawStarts,se._multiDrawCounts,se._multiDrawCount);else if(se.isInstancedMesh)gt.renderInstances(tt,yt,se.count);else if(te.isInstancedBufferGeometry){const Ze=te._maxInstanceCount!==void 0?te._maxInstanceCount:1/0,wt=Math.min(te.instanceCount,Ze);gt.renderInstances(tt,yt,wt)}else gt.render(tt,yt)};function Et(L,Y,te){L.transparent===!0&&L.side===Da&&L.forceSinglePass===!1?(L.side=Ei,L.needsUpdate=!0,Fn(L,Y,te),L.side=Ls,L.needsUpdate=!0,Fn(L,Y,te),L.side=Da):Fn(L,Y,te)}this.compile=function(L,Y,te=null){te===null&&(te=L),x=ke.get(te),x.init(Y),S.push(x),te.traverseVisible(function(se){se.isLight&&se.layers.test(Y.layers)&&(x.pushLight(se),se.castShadow&&x.pushShadow(se))}),L!==te&&L.traverseVisible(function(se){se.isLight&&se.layers.test(Y.layers)&&(x.pushLight(se),se.castShadow&&x.pushShadow(se))}),x.setupLights();const ne=new Set;return L.traverse(function(se){const xe=se.material;if(xe)if(Array.isArray(xe))for(let Oe=0;Oe<xe.length;Oe++){const De=xe[Oe];Et(De,te,se),ne.add(De)}else Et(xe,te,se),ne.add(xe)}),S.pop(),x=null,ne},this.compileAsync=function(L,Y,te=null){const ne=this.compile(L,Y,te);return new Promise(se=>{function xe(){if(ne.forEach(function(Oe){He.get(Oe).currentProgram.isReady()&&ne.delete(Oe)}),ne.size===0){se(L);return}setTimeout(xe,10)}_e.get("KHR_parallel_shader_compile")!==null?xe():setTimeout(xe,10)})};let At=null;function ot(L){At&&At(L)}function Nt(){rn.stop()}function Kt(){rn.start()}const rn=new T6;rn.setAnimationLoop(ot),typeof self<"u"&&rn.setContext(self),this.setAnimationLoop=function(L){At=L,re.setAnimationLoop(L),L===null?rn.stop():rn.start()},re.addEventListener("sessionstart",Nt),re.addEventListener("sessionend",Kt),this.render=function(L,Y){if(Y!==void 0&&Y.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;if(L.matrixWorldAutoUpdate===!0&&L.updateMatrixWorld(),Y.parent===null&&Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),re.enabled===!0&&re.isPresenting===!0&&(re.cameraAutoUpdate===!0&&re.updateCamera(Y),Y=re.getCamera()),L.isScene===!0&&L.onBeforeRender(_,L,Y,T),x=ke.get(L,S.length),x.init(Y),S.push(x),ce.multiplyMatrices(Y.projectionMatrix,Y.matrixWorldInverse),ie.setFromProjectionMatrix(ce),ae=this.localClippingEnabled,Z=ze.init(this.clippingPlanes,ae),y=rt.get(L,v.length),y.init(),v.push(y),re.enabled===!0&&re.isPresenting===!0){const xe=_.xr.getDepthSensingMesh();xe!==null&&Mn(xe,Y,-1/0,_.sortObjects)}Mn(L,Y,0,_.sortObjects),y.finish(),_.sortObjects===!0&&y.sort(N,j),ve=re.enabled===!1||re.isPresenting===!1||re.hasDepthSensing()===!1,ve&&Ve.addToRenderList(y,L),this.info.render.frame++,Z===!0&&ze.beginShadows();const te=x.state.shadowsArray;et.render(te,L,Y),Z===!0&&ze.endShadows(),this.info.autoReset===!0&&this.info.reset();const ne=y.opaque,se=y.transmissive;if(x.setupLights(),Y.isArrayCamera){const xe=Y.cameras;if(se.length>0)for(let Oe=0,De=xe.length;Oe<De;Oe++){const Ne=xe[Oe];xr(ne,se,L,Ne)}ve&&Ve.render(L);for(let Oe=0,De=xe.length;Oe<De;Oe++){const Ne=xe[Oe];Or(y,L,Ne,Ne.viewport)}}else se.length>0&&xr(ne,se,L,Y),ve&&Ve.render(L),Or(y,L,Y);T!==null&&(Pe.updateMultisampleRenderTarget(T),Pe.updateRenderTargetMipmap(T)),L.isScene===!0&&L.onAfterRender(_,L,Y),qe.resetDefaultState(),C=-1,P=null,S.pop(),S.length>0?(x=S[S.length-1],Z===!0&&ze.setGlobalState(_.clippingPlanes,x.state.camera)):x=null,v.pop(),v.length>0?y=v[v.length-1]:y=null};function Mn(L,Y,te,ne){if(L.visible===!1)return;if(L.layers.test(Y.layers)){if(L.isGroup)te=L.renderOrder;else if(L.isLOD)L.autoUpdate===!0&&L.update(Y);else if(L.isLight)x.pushLight(L),L.castShadow&&x.pushShadow(L);else if(L.isSprite){if(!L.frustumCulled||ie.intersectsSprite(L)){ne&&fe.setFromMatrixPosition(L.matrixWorld).applyMatrix4(ce);const Oe=pe.update(L),De=L.material;De.visible&&y.push(L,Oe,De,te,fe.z,null)}}else if((L.isMesh||L.isLine||L.isPoints)&&(!L.frustumCulled||ie.intersectsObject(L))){const Oe=pe.update(L),De=L.material;if(ne&&(L.boundingSphere!==void 0?(L.boundingSphere===null&&L.computeBoundingSphere(),fe.copy(L.boundingSphere.center)):(Oe.boundingSphere===null&&Oe.computeBoundingSphere(),fe.copy(Oe.boundingSphere.center)),fe.applyMatrix4(L.matrixWorld).applyMatrix4(ce)),Array.isArray(De)){const Ne=Oe.groups;for(let ge=0,at=Ne.length;ge<at;ge++){const Ye=Ne[ge],tt=De[Ye.materialIndex];tt&&tt.visible&&y.push(L,Oe,tt,te,fe.z,Ye)}}else De.visible&&y.push(L,Oe,De,te,fe.z,null)}}const xe=L.children;for(let Oe=0,De=xe.length;Oe<De;Oe++)Mn(xe[Oe],Y,te,ne)}function Or(L,Y,te,ne){const se=L.opaque,xe=L.transmissive,Oe=L.transparent;x.setupLightsView(te),Z===!0&&ze.setGlobalState(_.clippingPlanes,te),ne&&Te.viewport(O.copy(ne)),se.length>0&&cr(se,Y,te),xe.length>0&&cr(xe,Y,te),Oe.length>0&&cr(Oe,Y,te),Te.buffers.depth.setTest(!0),Te.buffers.depth.setMask(!0),Te.buffers.color.setMask(!0),Te.setPolygonOffset(!1)}function xr(L,Y,te,ne){if((te.isScene===!0?te.overrideMaterial:null)!==null)return;x.state.transmissionRenderTarget[ne.id]===void 0&&(x.state.transmissionRenderTarget[ne.id]=new ga(1,1,{generateMipmaps:!0,type:_e.has("EXT_color_buffer_half_float")||_e.has("EXT_color_buffer_float")?$r:ma,minFilter:Oo,samples:4,stencilBuffer:a,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:pn.workingColorSpace}));const xe=x.state.transmissionRenderTarget[ne.id],Oe=ne.viewport||O;xe.setSize(Oe.z,Oe.w);const De=_.getRenderTarget();_.setRenderTarget(xe),_.getClearColor(F),B=_.getClearAlpha(),B<1&&_.setClearColor(16777215,.5),ve?Ve.render(te):_.clear();const Ne=_.toneMapping;_.toneMapping=Uo;const ge=ne.viewport;if(ne.viewport!==void 0&&(ne.viewport=void 0),x.setupLightsView(ne),Z===!0&&ze.setGlobalState(_.clippingPlanes,ne),cr(L,te,ne),Pe.updateMultisampleRenderTarget(xe),Pe.updateRenderTargetMipmap(xe),_e.has("WEBGL_multisampled_render_to_texture")===!1){let at=!1;for(let Ye=0,tt=Y.length;Ye<tt;Ye++){const pt=Y[Ye],yt=pt.object,Pt=pt.geometry,gt=pt.material,Ze=pt.group;if(gt.side===Da&&yt.layers.test(ne.layers)){const wt=gt.side;gt.side=Ei,gt.needsUpdate=!0,_r(yt,te,ne,Pt,gt,Ze),gt.side=wt,gt.needsUpdate=!0,at=!0}}at===!0&&(Pe.updateMultisampleRenderTarget(xe),Pe.updateRenderTargetMipmap(xe))}_.setRenderTarget(De),_.setClearColor(F,B),ge!==void 0&&(ne.viewport=ge),_.toneMapping=Ne}function cr(L,Y,te){const ne=Y.isScene===!0?Y.overrideMaterial:null;for(let se=0,xe=L.length;se<xe;se++){const Oe=L[se],De=Oe.object,Ne=Oe.geometry,ge=ne===null?Oe.material:ne,at=Oe.group;De.layers.test(te.layers)&&_r(De,Y,te,Ne,ge,at)}}function _r(L,Y,te,ne,se,xe){L.onBeforeRender(_,Y,te,ne,se,xe),L.modelViewMatrix.multiplyMatrices(te.matrixWorldInverse,L.matrixWorld),L.normalMatrix.getNormalMatrix(L.modelViewMatrix),se.onBeforeRender(_,Y,te,ne,L,xe),se.transparent===!0&&se.side===Da&&se.forceSinglePass===!1?(se.side=Ei,se.needsUpdate=!0,_.renderBufferDirect(te,Y,ne,se,L,xe),se.side=Ls,se.needsUpdate=!0,_.renderBufferDirect(te,Y,ne,se,L,xe),se.side=Da):_.renderBufferDirect(te,Y,ne,se,L,xe),L.onAfterRender(_,Y,te,ne,se,xe)}function Fn(L,Y,te){Y.isScene!==!0&&(Y=Ae);const ne=He.get(L),se=x.state.lights,xe=x.state.shadowsArray,Oe=se.state.version,De=we.getParameters(L,se.state,xe,Y,te),Ne=we.getProgramCacheKey(De);let ge=ne.programs;ne.environment=L.isMeshStandardMaterial?Y.environment:null,ne.fog=Y.fog,ne.envMap=(L.isMeshStandardMaterial?q:Xe).get(L.envMap||ne.environment),ne.envMapRotation=ne.environment!==null&&L.envMap===null?Y.environmentRotation:L.envMapRotation,ge===void 0&&(L.addEventListener("dispose",Ke),ge=new Map,ne.programs=ge);let at=ge.get(Ne);if(at!==void 0){if(ne.currentProgram===at&&ne.lightsStateVersion===Oe)return jn(L,De),at}else De.uniforms=we.getUniforms(L),L.onBuild(te,De,_),L.onBeforeCompile(De,_),at=we.acquireProgram(De,Ne),ge.set(Ne,at),ne.uniforms=De.uniforms;const Ye=ne.uniforms;return(!L.isShaderMaterial&&!L.isRawShaderMaterial||L.clipping===!0)&&(Ye.clippingPlanes=ze.uniform),jn(L,De),ne.needsLights=K(L),ne.lightsStateVersion=Oe,ne.needsLights&&(Ye.ambientLightColor.value=se.state.ambient,Ye.lightProbe.value=se.state.probe,Ye.directionalLights.value=se.state.directional,Ye.directionalLightShadows.value=se.state.directionalShadow,Ye.spotLights.value=se.state.spot,Ye.spotLightShadows.value=se.state.spotShadow,Ye.rectAreaLights.value=se.state.rectArea,Ye.ltc_1.value=se.state.rectAreaLTC1,Ye.ltc_2.value=se.state.rectAreaLTC2,Ye.pointLights.value=se.state.point,Ye.pointLightShadows.value=se.state.pointShadow,Ye.hemisphereLights.value=se.state.hemi,Ye.directionalShadowMap.value=se.state.directionalShadowMap,Ye.directionalShadowMatrix.value=se.state.directionalShadowMatrix,Ye.spotShadowMap.value=se.state.spotShadowMap,Ye.spotLightMatrix.value=se.state.spotLightMatrix,Ye.spotLightMap.value=se.state.spotLightMap,Ye.pointShadowMap.value=se.state.pointShadowMap,Ye.pointShadowMatrix.value=se.state.pointShadowMatrix),ne.currentProgram=at,ne.uniformsList=null,at}function It(L){if(L.uniformsList===null){const Y=L.currentProgram.getUniforms();L.uniformsList=d0.seqWithValue(Y.seq,L.uniforms)}return L.uniformsList}function jn(L,Y){const te=He.get(L);te.outputColorSpace=Y.outputColorSpace,te.batching=Y.batching,te.batchingColor=Y.batchingColor,te.instancing=Y.instancing,te.instancingColor=Y.instancingColor,te.instancingMorph=Y.instancingMorph,te.skinning=Y.skinning,te.morphTargets=Y.morphTargets,te.morphNormals=Y.morphNormals,te.morphColors=Y.morphColors,te.morphTargetsCount=Y.morphTargetsCount,te.numClippingPlanes=Y.numClippingPlanes,te.numIntersection=Y.numClipIntersection,te.vertexAlphas=Y.vertexAlphas,te.vertexTangents=Y.vertexTangents,te.toneMapping=Y.toneMapping}function Wi(L,Y,te,ne,se){Y.isScene!==!0&&(Y=Ae),Pe.resetTextureUnits();const xe=Y.fog,Oe=ne.isMeshStandardMaterial?Y.environment:null,De=T===null?_.outputColorSpace:T.isXRRenderTarget===!0?T.texture.colorSpace:Va,Ne=(ne.isMeshStandardMaterial?q:Xe).get(ne.envMap||Oe),ge=ne.vertexColors===!0&&!!te.attributes.color&&te.attributes.color.itemSize===4,at=!!te.attributes.tangent&&(!!ne.normalMap||ne.anisotropy>0),Ye=!!te.morphAttributes.position,tt=!!te.morphAttributes.normal,pt=!!te.morphAttributes.color;let yt=Uo;ne.toneMapped&&(T===null||T.isXRRenderTarget===!0)&&(yt=_.toneMapping);const Pt=te.morphAttributes.position||te.morphAttributes.normal||te.morphAttributes.color,gt=Pt!==void 0?Pt.length:0,Ze=He.get(ne),wt=x.state.lights;if(Z===!0&&(ae===!0||L!==P)){const tn=L===P&&ne.id===C;ze.setState(ne,L,tn)}let vt=!1;ne.version===Ze.__version?(Ze.needsLights&&Ze.lightsStateVersion!==wt.state.version||Ze.outputColorSpace!==De||se.isBatchedMesh&&Ze.batching===!1||!se.isBatchedMesh&&Ze.batching===!0||se.isBatchedMesh&&Ze.batchingColor===!0&&se.colorTexture===null||se.isBatchedMesh&&Ze.batchingColor===!1&&se.colorTexture!==null||se.isInstancedMesh&&Ze.instancing===!1||!se.isInstancedMesh&&Ze.instancing===!0||se.isSkinnedMesh&&Ze.skinning===!1||!se.isSkinnedMesh&&Ze.skinning===!0||se.isInstancedMesh&&Ze.instancingColor===!0&&se.instanceColor===null||se.isInstancedMesh&&Ze.instancingColor===!1&&se.instanceColor!==null||se.isInstancedMesh&&Ze.instancingMorph===!0&&se.morphTexture===null||se.isInstancedMesh&&Ze.instancingMorph===!1&&se.morphTexture!==null||Ze.envMap!==Ne||ne.fog===!0&&Ze.fog!==xe||Ze.numClippingPlanes!==void 0&&(Ze.numClippingPlanes!==ze.numPlanes||Ze.numIntersection!==ze.numIntersection)||Ze.vertexAlphas!==ge||Ze.vertexTangents!==at||Ze.morphTargets!==Ye||Ze.morphNormals!==tt||Ze.morphColors!==pt||Ze.toneMapping!==yt||Ze.morphTargetsCount!==gt)&&(vt=!0):(vt=!0,Ze.__version=ne.version);let Gt=Ze.currentProgram;vt===!0&&(Gt=Fn(ne,Y,se));let Dt=!1,Zt=!1,Tn=!1;const Ut=Gt.getUniforms(),an=Ze.uniforms;if(Te.useProgram(Gt.program)&&(Dt=!0,Zt=!0,Tn=!0),ne.id!==C&&(C=ne.id,Zt=!0),Dt||P!==L){Ut.setValue(X,"projectionMatrix",L.projectionMatrix),Ut.setValue(X,"viewMatrix",L.matrixWorldInverse);const tn=Ut.map.cameraPosition;tn!==void 0&&tn.setValue(X,fe.setFromMatrixPosition(L.matrixWorld)),Me.logarithmicDepthBuffer&&Ut.setValue(X,"logDepthBufFC",2/(Math.log(L.far+1)/Math.LN2)),(ne.isMeshPhongMaterial||ne.isMeshToonMaterial||ne.isMeshLambertMaterial||ne.isMeshBasicMaterial||ne.isMeshStandardMaterial||ne.isShaderMaterial)&&Ut.setValue(X,"isOrthographic",L.isOrthographicCamera===!0),P!==L&&(P=L,Zt=!0,Tn=!0)}if(se.isSkinnedMesh){Ut.setOptional(X,se,"bindMatrix"),Ut.setOptional(X,se,"bindMatrixInverse");const tn=se.skeleton;tn&&(tn.boneTexture===null&&tn.computeBoneTexture(),Ut.setValue(X,"boneTexture",tn.boneTexture,Pe))}se.isBatchedMesh&&(Ut.setOptional(X,se,"batchingTexture"),Ut.setValue(X,"batchingTexture",se._matricesTexture,Pe),Ut.setOptional(X,se,"batchingColorTexture"),se._colorsTexture!==null&&Ut.setValue(X,"batchingColorTexture",se._colorsTexture,Pe));const Yt=te.morphAttributes;if((Yt.position!==void 0||Yt.normal!==void 0||Yt.color!==void 0)&&Je.update(se,te,Gt),(Zt||Ze.receiveShadow!==se.receiveShadow)&&(Ze.receiveShadow=se.receiveShadow,Ut.setValue(X,"receiveShadow",se.receiveShadow)),ne.isMeshGouraudMaterial&&ne.envMap!==null&&(an.envMap.value=Ne,an.flipEnvMap.value=Ne.isCubeTexture&&Ne.isRenderTargetTexture===!1?-1:1),ne.isMeshStandardMaterial&&ne.envMap===null&&Y.environment!==null&&(an.envMapIntensity.value=Y.environmentIntensity),Zt&&(Ut.setValue(X,"toneMappingExposure",_.toneMappingExposure),Ze.needsLights&&z(an,Tn),xe&&ne.fog===!0&&Ee.refreshFogUniforms(an,xe),Ee.refreshMaterialUniforms(an,ne,Q,V,x.state.transmissionRenderTarget[L.id]),d0.upload(X,It(Ze),an,Pe)),ne.isShaderMaterial&&ne.uniformsNeedUpdate===!0&&(d0.upload(X,It(Ze),an,Pe),ne.uniformsNeedUpdate=!1),ne.isSpriteMaterial&&Ut.setValue(X,"center",se.center),Ut.setValue(X,"modelViewMatrix",se.modelViewMatrix),Ut.setValue(X,"normalMatrix",se.normalMatrix),Ut.setValue(X,"modelMatrix",se.matrixWorld),ne.isShaderMaterial||ne.isRawShaderMaterial){const tn=ne.uniformsGroups;for(let Jt=0,kt=tn.length;Jt<kt;Jt++){const vn=tn[Jt];ue.update(vn,Gt),ue.bind(vn,Gt)}}return Gt}function z(L,Y){L.ambientLightColor.needsUpdate=Y,L.lightProbe.needsUpdate=Y,L.directionalLights.needsUpdate=Y,L.directionalLightShadows.needsUpdate=Y,L.pointLights.needsUpdate=Y,L.pointLightShadows.needsUpdate=Y,L.spotLights.needsUpdate=Y,L.spotLightShadows.needsUpdate=Y,L.rectAreaLights.needsUpdate=Y,L.hemisphereLights.needsUpdate=Y}function K(L){return L.isMeshLambertMaterial||L.isMeshToonMaterial||L.isMeshPhongMaterial||L.isMeshStandardMaterial||L.isShadowMaterial||L.isShaderMaterial&&L.lights===!0}this.getActiveCubeFace=function(){return E},this.getActiveMipmapLevel=function(){return M},this.getRenderTarget=function(){return T},this.setRenderTargetTextures=function(L,Y,te){He.get(L.texture).__webglTexture=Y,He.get(L.depthTexture).__webglTexture=te;const ne=He.get(L);ne.__hasExternalTextures=!0,ne.__autoAllocateDepthBuffer=te===void 0,ne.__autoAllocateDepthBuffer||_e.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),ne.__useRenderToTexture=!1)},this.setRenderTargetFramebuffer=function(L,Y){const te=He.get(L);te.__webglFramebuffer=Y,te.__useDefaultFramebuffer=Y===void 0},this.setRenderTarget=function(L,Y=0,te=0){T=L,E=Y,M=te;let ne=!0,se=null,xe=!1,Oe=!1;if(L){const Ne=He.get(L);Ne.__useDefaultFramebuffer!==void 0?(Te.bindFramebuffer(X.FRAMEBUFFER,null),ne=!1):Ne.__webglFramebuffer===void 0?Pe.setupRenderTarget(L):Ne.__hasExternalTextures&&Pe.rebindTextures(L,He.get(L.texture).__webglTexture,He.get(L.depthTexture).__webglTexture);const ge=L.texture;(ge.isData3DTexture||ge.isDataArrayTexture||ge.isCompressedArrayTexture)&&(Oe=!0);const at=He.get(L).__webglFramebuffer;L.isWebGLCubeRenderTarget?(Array.isArray(at[Y])?se=at[Y][te]:se=at[Y],xe=!0):L.samples>0&&Pe.useMultisampledRTT(L)===!1?se=He.get(L).__webglMultisampledFramebuffer:Array.isArray(at)?se=at[te]:se=at,O.copy(L.viewport),I.copy(L.scissor),D=L.scissorTest}else O.copy(G).multiplyScalar(Q).floor(),I.copy(H).multiplyScalar(Q).floor(),D=$;if(Te.bindFramebuffer(X.FRAMEBUFFER,se)&&ne&&Te.drawBuffers(L,se),Te.viewport(O),Te.scissor(I),Te.setScissorTest(D),xe){const Ne=He.get(L.texture);X.framebufferTexture2D(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,X.TEXTURE_CUBE_MAP_POSITIVE_X+Y,Ne.__webglTexture,te)}else if(Oe){const Ne=He.get(L.texture),ge=Y||0;X.framebufferTextureLayer(X.FRAMEBUFFER,X.COLOR_ATTACHMENT0,Ne.__webglTexture,te||0,ge)}C=-1},this.readRenderTargetPixels=function(L,Y,te,ne,se,xe,Oe){if(!(L&&L.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let De=He.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Oe!==void 0&&(De=De[Oe]),De){Te.bindFramebuffer(X.FRAMEBUFFER,De);try{const Ne=L.texture,ge=Ne.format,at=Ne.type;if(!Me.textureFormatReadable(ge)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Me.textureTypeReadable(at)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Y>=0&&Y<=L.width-ne&&te>=0&&te<=L.height-se&&X.readPixels(Y,te,ne,se,Be.convert(ge),Be.convert(at),xe)}finally{const Ne=T!==null?He.get(T).__webglFramebuffer:null;Te.bindFramebuffer(X.FRAMEBUFFER,Ne)}}},this.readRenderTargetPixelsAsync=async function(L,Y,te,ne,se,xe,Oe){if(!(L&&L.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let De=He.get(L).__webglFramebuffer;if(L.isWebGLCubeRenderTarget&&Oe!==void 0&&(De=De[Oe]),De){Te.bindFramebuffer(X.FRAMEBUFFER,De);try{const Ne=L.texture,ge=Ne.format,at=Ne.type;if(!Me.textureFormatReadable(ge))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Me.textureTypeReadable(at))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");if(Y>=0&&Y<=L.width-ne&&te>=0&&te<=L.height-se){const Ye=X.createBuffer();X.bindBuffer(X.PIXEL_PACK_BUFFER,Ye),X.bufferData(X.PIXEL_PACK_BUFFER,xe.byteLength,X.STREAM_READ),X.readPixels(Y,te,ne,se,Be.convert(ge),Be.convert(at),0),X.flush();const tt=X.fenceSync(X.SYNC_GPU_COMMANDS_COMPLETE,0);await yve(X,tt,4);try{X.bindBuffer(X.PIXEL_PACK_BUFFER,Ye),X.getBufferSubData(X.PIXEL_PACK_BUFFER,0,xe)}finally{X.deleteBuffer(Ye),X.deleteSync(tt)}return xe}}finally{const Ne=T!==null?He.get(T).__webglFramebuffer:null;Te.bindFramebuffer(X.FRAMEBUFFER,Ne)}}},this.copyFramebufferToTexture=function(L,Y=null,te=0){L.isTexture!==!0&&(console.warn("WebGLRenderer: copyFramebufferToTexture function signature has changed."),Y=arguments[0]||null,L=arguments[1]);const ne=Math.pow(2,-te),se=Math.floor(L.image.width*ne),xe=Math.floor(L.image.height*ne),Oe=Y!==null?Y.x:0,De=Y!==null?Y.y:0;Pe.setTexture2D(L,0),X.copyTexSubImage2D(X.TEXTURE_2D,te,0,0,Oe,De,se,xe),Te.unbindTexture()},this.copyTextureToTexture=function(L,Y,te=null,ne=null,se=0){L.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture function signature has changed."),ne=arguments[0]||null,L=arguments[1],Y=arguments[2],se=arguments[3]||0,te=null);let xe,Oe,De,Ne,ge,at;te!==null?(xe=te.max.x-te.min.x,Oe=te.max.y-te.min.y,De=te.min.x,Ne=te.min.y):(xe=L.image.width,Oe=L.image.height,De=0,Ne=0),ne!==null?(ge=ne.x,at=ne.y):(ge=0,at=0);const Ye=Be.convert(Y.format),tt=Be.convert(Y.type);Pe.setTexture2D(Y,0),X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Y.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Y.unpackAlignment);const pt=X.getParameter(X.UNPACK_ROW_LENGTH),yt=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Pt=X.getParameter(X.UNPACK_SKIP_PIXELS),gt=X.getParameter(X.UNPACK_SKIP_ROWS),Ze=X.getParameter(X.UNPACK_SKIP_IMAGES),wt=L.isCompressedTexture?L.mipmaps[se]:L.image;X.pixelStorei(X.UNPACK_ROW_LENGTH,wt.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,wt.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,De),X.pixelStorei(X.UNPACK_SKIP_ROWS,Ne),L.isDataTexture?X.texSubImage2D(X.TEXTURE_2D,se,ge,at,xe,Oe,Ye,tt,wt.data):L.isCompressedTexture?X.compressedTexSubImage2D(X.TEXTURE_2D,se,ge,at,wt.width,wt.height,Ye,wt.data):X.texSubImage2D(X.TEXTURE_2D,se,ge,at,Ye,tt,wt),X.pixelStorei(X.UNPACK_ROW_LENGTH,pt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,yt),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Pt),X.pixelStorei(X.UNPACK_SKIP_ROWS,gt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Ze),se===0&&Y.generateMipmaps&&X.generateMipmap(X.TEXTURE_2D),Te.unbindTexture()},this.copyTextureToTexture3D=function(L,Y,te=null,ne=null,se=0){L.isTexture!==!0&&(console.warn("WebGLRenderer: copyTextureToTexture3D function signature has changed."),te=arguments[0]||null,ne=arguments[1]||null,L=arguments[2],Y=arguments[3],se=arguments[4]||0);let xe,Oe,De,Ne,ge,at,Ye,tt,pt;const yt=L.isCompressedTexture?L.mipmaps[se]:L.image;te!==null?(xe=te.max.x-te.min.x,Oe=te.max.y-te.min.y,De=te.max.z-te.min.z,Ne=te.min.x,ge=te.min.y,at=te.min.z):(xe=yt.width,Oe=yt.height,De=yt.depth,Ne=0,ge=0,at=0),ne!==null?(Ye=ne.x,tt=ne.y,pt=ne.z):(Ye=0,tt=0,pt=0);const Pt=Be.convert(Y.format),gt=Be.convert(Y.type);let Ze;if(Y.isData3DTexture)Pe.setTexture3D(Y,0),Ze=X.TEXTURE_3D;else if(Y.isDataArrayTexture||Y.isCompressedArrayTexture)Pe.setTexture2DArray(Y,0),Ze=X.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}X.pixelStorei(X.UNPACK_FLIP_Y_WEBGL,Y.flipY),X.pixelStorei(X.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Y.premultiplyAlpha),X.pixelStorei(X.UNPACK_ALIGNMENT,Y.unpackAlignment);const wt=X.getParameter(X.UNPACK_ROW_LENGTH),vt=X.getParameter(X.UNPACK_IMAGE_HEIGHT),Gt=X.getParameter(X.UNPACK_SKIP_PIXELS),Dt=X.getParameter(X.UNPACK_SKIP_ROWS),Zt=X.getParameter(X.UNPACK_SKIP_IMAGES);X.pixelStorei(X.UNPACK_ROW_LENGTH,yt.width),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,yt.height),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Ne),X.pixelStorei(X.UNPACK_SKIP_ROWS,ge),X.pixelStorei(X.UNPACK_SKIP_IMAGES,at),L.isDataTexture||L.isData3DTexture?X.texSubImage3D(Ze,se,Ye,tt,pt,xe,Oe,De,Pt,gt,yt.data):Y.isCompressedArrayTexture?X.compressedTexSubImage3D(Ze,se,Ye,tt,pt,xe,Oe,De,Pt,yt.data):X.texSubImage3D(Ze,se,Ye,tt,pt,xe,Oe,De,Pt,gt,yt),X.pixelStorei(X.UNPACK_ROW_LENGTH,wt),X.pixelStorei(X.UNPACK_IMAGE_HEIGHT,vt),X.pixelStorei(X.UNPACK_SKIP_PIXELS,Gt),X.pixelStorei(X.UNPACK_SKIP_ROWS,Dt),X.pixelStorei(X.UNPACK_SKIP_IMAGES,Zt),se===0&&Y.generateMipmaps&&X.generateMipmap(Ze),Te.unbindTexture()},this.initRenderTarget=function(L){He.get(L).__webglFramebuffer===void 0&&Pe.setupRenderTarget(L)},this.initTexture=function(L){L.isCubeTexture?Pe.setTextureCube(L,0):L.isData3DTexture?Pe.setTexture3D(L,0):L.isDataArrayTexture||L.isCompressedArrayTexture?Pe.setTexture2DArray(L,0):Pe.setTexture2D(L,0),Te.unbindTexture()},this.resetState=function(){E=0,M=0,T=null,Te.reset(),qe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return Ro}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===r1?"display-p3":"srgb",n.unpackColorSpace=pn.workingColorSpace===gg?"display-p3":"srgb"}}class l1{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new ht(e),this.density=n}clone(){return new l1(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class u1{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new ht(e),this.near=n,this.far=r}clone(){return new u1(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class _g extends un{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new va,this.environmentIntensity=1,this.environmentRotation=new va,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class c1{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=zm,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=fa()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return eP("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,a=this.stride;i<a;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=fa()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const xi=new ee;class fc{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.applyMatrix4(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.applyNormalMatrix(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)xi.fromBufferAttribute(this,n),xi.transformDirection(e),this.setXYZ(n,xi.x,xi.y,xi.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=wi(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=jt(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=jt(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=jt(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=wi(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=wi(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=wi(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=wi(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=jt(n,this.array),r=jt(r,this.array),i=jt(i,this.array),a=jt(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return new _n(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new fc(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[i+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class uP extends hi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let sf;const Gd=new ee,lf=new ee,uf=new ee,cf=new We,Vd=new We,N6=new Rt,vy=new ee,Wd=new ee,yy=new ee,iN=new We,qw=new We,aN=new We;class k6 extends un{constructor(e=new uP){if(super(),this.isSprite=!0,this.type="Sprite",sf===void 0){sf=new Wt;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new c1(n,5);sf.setIndex([0,1,2,0,2,3]),sf.setAttribute("position",new fc(r,3,0,!1)),sf.setAttribute("uv",new fc(r,2,3,!1))}this.geometry=sf,this.material=e,this.center=new We(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),lf.setFromMatrixScale(this.matrixWorld),N6.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),uf.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&lf.multiplyScalar(-uf.z);const r=this.material.rotation;let i,a;r!==0&&(a=Math.cos(r),i=Math.sin(r));const o=this.center;xy(vy.set(-.5,-.5,0),uf,o,lf,i,a),xy(Wd.set(.5,-.5,0),uf,o,lf,i,a),xy(yy.set(.5,.5,0),uf,o,lf,i,a),iN.set(0,0),qw.set(1,0),aN.set(1,1);let s=e.ray.intersectTriangle(vy,Wd,yy,!1,Gd);if(s===null&&(xy(Wd.set(-.5,.5,0),uf,o,lf,i,a),qw.set(0,1),s=e.ray.intersectTriangle(vy,yy,Wd,!1,Gd),s===null))return;const l=e.ray.origin.distanceTo(Gd);l<e.near||l>e.far||n.push({distance:l,point:Gd.clone(),uv:la.getInterpolation(Gd,vy,Wd,yy,iN,qw,aN,new We),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function xy(t,e,n,r,i,a){cf.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Vd.x=a*cf.x-i*cf.y,Vd.y=i*cf.x+a*cf.y):Vd.copy(cf),t.copy(e),t.x+=Vd.x,t.y+=Vd.y,t.applyMatrix4(N6)}const _y=new ee,oN=new ee;class U6 extends un{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const a=n[r];this.addLevel(a.object.clone(),a.distance,a.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let a;for(a=0;a<i.length&&!(n<i[a].distance);a++);return i.splice(a,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let a=n[r].distance;if(n[r].object.visible&&(a-=a*n[r].hysteresis),e<a)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){_y.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(_y);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){_y.setFromMatrixPosition(e.matrixWorld),oN.setFromMatrixPosition(this.matrixWorld);const r=_y.distanceTo(oN)/e.zoom;n[0].object.visible=!0;let i,a;for(i=1,a=n.length;i<a;i++){let o=n[i].distance;if(n[i].object.visible&&(o-=o*n[i].hysteresis),r>=o)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<a;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,a=r.length;i<a;i++){const o=r[i];n.object.levels.push({object:o.object.uuid,distance:o.distance,hysteresis:o.hysteresis})}return n}}const sN=new ee,lN=new mn,uN=new mn,M1e=new ee,cN=new Rt,Sy=new ee,Kw=new qr,fN=new Rt,Zw=new _c;class F6 extends In{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=YE,this.bindMatrix=new Rt,this.bindMatrixInverse=new Rt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Yr),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Sy),this.boundingBox.expandByPoint(Sy)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new qr),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Sy),this.boundingSphere.expandByPoint(Sy)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Kw.copy(this.boundingSphere),Kw.applyMatrix4(i),e.ray.intersectsSphere(Kw)!==!1&&(fN.copy(i).invert(),Zw.copy(e.ray).applyMatrix4(fN),!(this.boundingBox!==null&&Zw.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,Zw)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===YE?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===e6?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;lN.fromBufferAttribute(i.attributes.skinIndex,e),uN.fromBufferAttribute(i.attributes.skinWeight,e),sN.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const o=uN.getComponent(a);if(o!==0){const s=lN.getComponent(a);cN.multiplyMatrices(r.bones[s].matrixWorld,r.boneInverses[s]),n.addScaledVector(M1e.copy(sN).applyMatrix4(cN),o)}}return n.applyMatrix4(this.bindMatrixInverse)}}class cP extends un{constructor(){super(),this.isBone=!0,this.type="Bone"}}class Fo extends yn{constructor(e=null,n=1,r=1,i,a,o,s,l,u=Fr,c=Fr,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const hN=new Rt,E1e=new Rt;class f1{constructor(e=[],n=[]){this.uuid=fa(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Rt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Rt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let a=0,o=e.length;a<o;a++){const s=e[a]?e[a].matrixWorld:E1e;hN.multiplyMatrices(s,n[a]),hN.toArray(r,a*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new f1(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new Fo(n,e,e,vr,tr);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const a=e.bones[r];let o=n[a];o===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),o=new cP),this.bones.push(o),this.boneInverses.push(new Rt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,a=n.length;i<a;i++){const o=n[i];e.bones.push(o.uuid);const s=r[i];e.boneInverses.push(s.toArray())}return e}}class hc extends _n{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const ff=new Rt,dN=new Rt,wy=[],pN=new Yr,A1e=new Rt,$d=new In,Xd=new qr;class B6 extends In{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new hc(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,A1e)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Yr),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ff),pN.copy(e.boundingBox).applyMatrix4(ff),this.boundingBox.union(pN)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new qr),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,ff),Xd.copy(e.boundingSphere).applyMatrix4(ff),this.boundingSphere.union(Xd)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,a=r.length+1,o=e*a+1;for(let s=0;s<r.length;s++)r[s]=i[o+s]}raycast(e,n){const r=this.matrixWorld,i=this.count;if($d.geometry=this.geometry,$d.material=this.material,$d.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Xd.copy(this.boundingSphere),Xd.applyMatrix4(r),e.ray.intersectsSphere(Xd)!==!1))for(let a=0;a<i;a++){this.getMatrixAt(a,ff),dN.multiplyMatrices(r,ff),$d.matrixWorld=dN,$d.raycast(e,wy);for(let o=0,s=wy.length;o<s;o++){const l=wy[o];l.instanceId=a,l.object=this,n.push(l)}wy.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new hc(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new Fo(new Float32Array(i*this.count),i,this.count,t1,tr));const a=this.morphTexture.source.data.data;let o=0;for(let u=0;u<r.length;u++)o+=r[u];const s=this.geometry.morphTargetsRelative?1:1-o,l=i*e;a[l]=s,a.set(r,l+1)}updateMorphTargets(){}dispose(){return this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null),this}}function T1e(t,e){return t.z-e.z}function P1e(t,e){return e.z-t.z}class C1e{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const a=r[this.index];i.push(a),this.index++,a.start=e.start,a.count=e.count,a.z=n}reset(){this.list.length=0,this.index=0}}const hf="batchId",nl=new Rt,Jw=new Rt,O1e=new Rt,R1e=new ht(1,1,1),mN=new Rt,Qw=new xg,by=new Yr,hu=new qr,Yd=new ee,gN=new ee,I1e=new ee,eb=new C1e,ai=new In,My=[];function L1e(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let a=0;a<i;a++)for(let o=0;o<r;o++)e.setComponent(a+n,o,t.getComponent(a,o))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class z6 extends In{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new Wt,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture(),this._colorsTexture=null}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new Fo(n,e,e,vr,tr);this._matricesTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxGeometryCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new Fo(n,e,e,vr,tr);r.colorSpace=pn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,a=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const l=e.getAttribute(s),{array:u,itemSize:c,normalized:f}=l,h=new u.constructor(r*c),m=new _n(h,c,f);n.setAttribute(s,m)}if(e.getIndex()!==null){const s=r>65536?new Uint32Array(a):new Uint16Array(a);n.setIndex(new _n(s,1))}const o=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute(hf,new _n(o,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute(hf))throw new Error(`BatchedMesh: Geometry cannot use attribute "${hf}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===hf)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),a=n.getAttribute(r);if(i.itemSize!==a.itemSize||i.normalized!==a.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Yr);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,nl),this.getBoundingBoxAt(i,by).applyMatrix4(nl),n.union(by))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new qr);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,nl),this.getBoundingSphereAt(i,hu).applyMatrix4(nl),n.union(hu))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let a=null;const o=this._reservedRanges,s=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(a=o[o.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,a===null?i.vertexStart=0:i.vertexStart=a.vertexStart+a.vertexCount;const u=e.getIndex(),c=u!==null;if(c&&(r===-1?i.indexCount=u.count:i.indexCount=r,a===null?i.indexStart=0:i.indexStart=a.indexStart+a.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const f=this._visibility,h=this._active,m=this._matricesTexture,g=this._matricesTexture.image.data,y=this._colorsTexture;f.push(!0),h.push(!0);const x=this._geometryCount;this._geometryCount++,O1e.toArray(g,x*16),m.needsUpdate=!0,y!==null&&(R1e.toArray(y.image.data,x*4),y.needsUpdate=!0),o.push(i),s.push({start:c?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Yr,sphereInitialized:!1,sphere:new qr});const v=this.geometry.getAttribute(hf);for(let S=0;S<i.vertexCount;S++)v.setX(i.vertexStart+S,x);return v.needsUpdate=!0,this.setGeometryAt(x,e),x}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,a=r.getIndex(),o=n.getIndex(),s=this._reservedRanges[e];if(i&&o.count>s.indexCount||n.attributes.position.count>s.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=s.vertexStart,u=s.vertexCount;for(const m in r.attributes){if(m===hf)continue;const g=n.getAttribute(m),y=r.getAttribute(m);L1e(g,y,l);const x=g.itemSize;for(let v=g.count,S=u;v<S;v++){const _=l+v;for(let b=0;b<x;b++)y.setComponent(_,b,0)}y.needsUpdate=!0,y.addUpdateRange(l*x,u*x)}if(i){const m=s.indexStart;for(let g=0;g<o.count;g++)a.setX(m+g,l+o.getX(g));for(let g=o.count,y=s.indexCount;g<y;g++)a.setX(m+g,l);a.needsUpdate=!0,a.addUpdateRange(m,s.indexCount)}const c=this._bounds[e];n.boundingBox!==null?(c.box.copy(n.boundingBox),c.boxInitialized=!0):c.boxInitialized=!1,n.boundingSphere!==null?(c.sphere.copy(n.boundingSphere),c.sphereInitialized=!0):c.sphereInitialized=!1;const f=this._drawRanges[e],h=n.getAttribute("position");return f.count=i?o.count:h.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getInstanceCountAt(e){return this._multiDrawInstances===null?null:this._multiDrawInstances[e]}setInstanceCountAt(e,n){return this._multiDrawInstances===null&&(this._multiDrawInstances=new Int32Array(this._maxGeometryCount).fill(1)),this._multiDrawInstances[e]=n,e}getBoundingBoxAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.box,o=this.geometry;if(i.boxInitialized===!1){a.makeEmpty();const s=o.index,l=o.attributes.position,u=this._drawRanges[e];for(let c=u.start,f=u.start+u.count;c<f;c++){let h=c;s&&(h=s.getX(h)),a.expandByPoint(Yd.fromBufferAttribute(l,h))}i.boxInitialized=!0}return n.copy(a),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return null;const i=this._bounds[e],a=i.sphere,o=this.geometry;if(i.sphereInitialized===!1){a.makeEmpty(),this.getBoundingBoxAt(e,by),by.getCenter(a.center);const s=o.index,l=o.attributes.position,u=this._drawRanges[e];let c=0;for(let f=u.start,h=u.start+u.count;f<h;f++){let m=f;s&&(m=s.getX(m)),Yd.fromBufferAttribute(l,m),c=Math.max(c,a.center.distanceToSquared(Yd))}a.radius=Math.sqrt(c),i.sphereInitialized=!0}return n.copy(a),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,a=this._matricesTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(a,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:n.fromArray(i,e*16)}setColorAt(e,n){this._colorsTexture===null&&this._initColorsTexture();const r=this._active,i=this._colorsTexture,a=this._colorsTexture.image.data,o=this._geometryCount;return e>=o||r[e]===!1?this:(n.toArray(a,e*4),i.needsUpdate=!0,this)}getColorAt(e,n){const r=this._active,i=this._colorsTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?null:n.fromArray(i,e*4)}setVisibleAt(e,n){const r=this._visibility,i=this._active,a=this._geometryCount;return e>=a||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,a=this._drawRanges,o=this._geometryCount,s=this.matrixWorld,l=this.geometry;ai.material=this.material,ai.geometry.index=l.index,ai.geometry.attributes=l.attributes,ai.geometry.boundingBox===null&&(ai.geometry.boundingBox=new Yr),ai.geometry.boundingSphere===null&&(ai.geometry.boundingSphere=new qr);for(let u=0;u<o;u++){if(!r[u]||!i[u])continue;const c=a[u];ai.geometry.setDrawRange(c.start,c.count),this.getMatrixAt(u,ai.matrixWorld).premultiply(s),this.getBoundingBoxAt(u,ai.geometry.boundingBox),this.getBoundingSphereAt(u,ai.geometry.boundingSphere),ai.raycast(e,My);for(let f=0,h=My.length;f<h;f++){const m=My[f];m.object=this,m.batchId=u,n.push(m)}My.length=0}ai.material=null,ai.geometry.index=null,ai.geometry.attributes={},ai.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.slice()),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null),this}onBeforeRender(e,n,r,i,a){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const o=i.getIndex(),s=o===null?1:o.array.BYTES_PER_ELEMENT,l=this._active,u=this._visibility,c=this._multiDrawStarts,f=this._multiDrawCounts,h=this._drawRanges,m=this.perObjectFrustumCulled;m&&(mN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),Qw.setFromProjectionMatrix(mN,e.coordinateSystem));let g=0;if(this.sortObjects){Jw.copy(this.matrixWorld).invert(),Yd.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Jw),gN.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Jw);for(let v=0,S=u.length;v<S;v++)if(u[v]&&l[v]){this.getMatrixAt(v,nl),this.getBoundingSphereAt(v,hu).applyMatrix4(nl);let _=!1;if(m&&(_=!Qw.intersectsSphere(hu)),!_){const b=I1e.subVectors(hu.center,Yd).dot(gN);eb.push(h[v],b)}}const y=eb.list,x=this.customSort;x===null?y.sort(a.transparent?P1e:T1e):x.call(this,y,r);for(let v=0,S=y.length;v<S;v++){const _=y[v];c[g]=_.start*s,f[g]=_.count,g++}eb.reset()}else for(let y=0,x=u.length;y<x;y++)if(u[y]&&l[y]){let v=!1;if(m&&(this.getMatrixAt(y,nl),this.getBoundingSphereAt(y,hu).applyMatrix4(nl),v=!Qw.intersectsSphere(hu)),!v){const S=h[y];c[g]=S.start*s,f[g]=S.count,g++}}this._multiDrawCount=g,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,a,o){this.onBeforeRender(e,null,i,a,o)}}class Pi extends hi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new ht(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Gx=new ee,Vx=new ee,vN=new Rt,qd=new _c,Ey=new qr,tb=new ee,yN=new ee;class Il extends un{constructor(e=new Wt,n=new Pi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,a=n.count;i<a;i++)Gx.fromBufferAttribute(n,i-1),Vx.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Gx.distanceTo(Vx);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Line.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ey.copy(r.boundingSphere),Ey.applyMatrix4(i),Ey.radius+=a,e.ray.intersectsSphere(Ey)===!1)return;vN.copy(i).invert(),qd.copy(e.ray).applyMatrix4(vN);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=this.isLineSegments?2:1,c=r.index,h=r.attributes.position;if(c!==null){const m=Math.max(0,o.start),g=Math.min(c.count,o.start+o.count);for(let y=m,x=g-1;y<x;y+=u){const v=c.getX(y),S=c.getX(y+1),_=Ay(this,e,qd,l,v,S);_&&n.push(_)}if(this.isLineLoop){const y=c.getX(g-1),x=c.getX(m),v=Ay(this,e,qd,l,y,x);v&&n.push(v)}}else{const m=Math.max(0,o.start),g=Math.min(h.count,o.start+o.count);for(let y=m,x=g-1;y<x;y+=u){const v=Ay(this,e,qd,l,y,y+1);v&&n.push(v)}if(this.isLineLoop){const y=Ay(this,e,qd,l,g-1,m);y&&n.push(y)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function Ay(t,e,n,r,i,a){const o=t.geometry.attributes.position;if(Gx.fromBufferAttribute(o,i),Vx.fromBufferAttribute(o,a),n.distanceSqToSegment(Gx,Vx,tb,yN)>r)return;tb.applyMatrix4(t.matrixWorld);const l=e.ray.origin.distanceTo(tb);if(!(l<e.near||l>e.far))return{distance:l,point:yN.clone().applyMatrix4(t.matrixWorld),index:i,face:null,faceIndex:null,object:t}}const xN=new ee,_N=new ee;class Vo extends Il{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,a=n.count;i<a;i+=2)xN.fromBufferAttribute(n,i),_N.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+xN.distanceTo(_N);e.setAttribute("lineDistance",new bt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class H6 extends Il{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class fP extends hi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new ht(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const SN=new Rt,AA=new _c,Ty=new qr,Py=new ee;class j6 extends un{constructor(e=new Wt,n=new fP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,a=e.params.Points.threshold,o=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Ty.copy(r.boundingSphere),Ty.applyMatrix4(i),Ty.radius+=a,e.ray.intersectsSphere(Ty)===!1)return;SN.copy(i).invert(),AA.copy(e.ray).applyMatrix4(SN);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),l=s*s,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,o.start),m=Math.min(u.count,o.start+o.count);for(let g=h,y=m;g<y;g++){const x=u.getX(g);Py.fromBufferAttribute(f,x),wN(Py,x,l,i,e,n,this)}}else{const h=Math.max(0,o.start),m=Math.min(f.count,o.start+o.count);for(let g=h,y=m;g<y;g++)Py.fromBufferAttribute(f,g),wN(Py,g,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,o=i.length;a<o;a++){const s=i[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function wN(t,e,n,r,i,a,o){const s=AA.distanceSqToPoint(t);if(s<n){const l=new ee;AA.closestPointToPoint(t,l),l.applyMatrix4(r);const u=i.ray.origin.distanceTo(l);if(u<i.near||u>i.far)return;a.push({distance:u,distanceToRay:Math.sqrt(s),point:l,index:e,face:null,object:o})}}class D1e extends yn{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isVideoTexture=!0,this.minFilter=o!==void 0?o:hn,this.magFilter=a!==void 0?a:hn,this.generateMipmaps=!1;const c=this;function f(){c.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class N1e extends yn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Fr,this.minFilter=Fr,this.generateMipmaps=!1,this.needsUpdate=!0}}class h1 extends yn{constructor(e,n,r,i,a,o,s,l,u,c,f,h){super(null,o,s,l,u,c,i,a,f,h),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class k1e extends h1{constructor(e,n,r,i,a,o){super(e,n,r,a,o),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=gr,this.layerUpdates=new Set}addLayerUpdates(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class U1e extends h1{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Ho),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class F1e extends yn{constructor(e,n,r,i,a,o,s,l,u){super(e,n,r,i,a,o,s,l,u),this.isCanvasTexture=!0,this.needsUpdate=!0}}class vo{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),a=0;n.push(0);for(let o=1;o<=e;o++)r=this.getPoint(o/e),a+=r.distanceTo(i),n.push(a),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const a=r.length;let o;n?o=n:o=e*r[a-1];let s=0,l=a-1,u;for(;s<=l;)if(i=Math.floor(s+(l-s)/2),u=r[i]-o,u<0)s=i+1;else if(u>0)l=i-1;else{l=i;break}if(i=l,r[i]===o)return i/(a-1);const c=r[i],h=r[i+1]-c,m=(o-c)/h;return(i+m)/(a-1)}getTangent(e,n){let i=e-1e-4,a=e+1e-4;i<0&&(i=0),a>1&&(a=1);const o=this.getPoint(i),s=this.getPoint(a),l=n||(o.isVector2?new We:new ee);return l.copy(s).sub(o).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new ee,i=[],a=[],o=[],s=new ee,l=new Rt;for(let m=0;m<=e;m++){const g=m/e;i[m]=this.getTangentAt(g,new ee)}a[0]=new ee,o[0]=new ee;let u=Number.MAX_VALUE;const c=Math.abs(i[0].x),f=Math.abs(i[0].y),h=Math.abs(i[0].z);c<=u&&(u=c,r.set(1,0,0)),f<=u&&(u=f,r.set(0,1,0)),h<=u&&r.set(0,0,1),s.crossVectors(i[0],r).normalize(),a[0].crossVectors(i[0],s),o[0].crossVectors(i[0],a[0]);for(let m=1;m<=e;m++){if(a[m]=a[m-1].clone(),o[m]=o[m-1].clone(),s.crossVectors(i[m-1],i[m]),s.length()>Number.EPSILON){s.normalize();const g=Math.acos(er(i[m-1].dot(i[m]),-1,1));a[m].applyMatrix4(l.makeRotationAxis(s,g))}o[m].crossVectors(i[m],a[m])}if(n===!0){let m=Math.acos(er(a[0].dot(a[e]),-1,1));m/=e,i[0].dot(s.crossVectors(a[0],a[e]))>0&&(m=-m);for(let g=1;g<=e;g++)a[g].applyMatrix4(l.makeRotationAxis(i[g],m*g)),o[g].crossVectors(i[g],a[g])}return{tangents:i,normals:a,binormals:o}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}}class d1 extends vo{constructor(e=0,n=0,r=1,i=1,a=0,o=Math.PI*2,s=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=a,this.aEndAngle=o,this.aClockwise=s,this.aRotation=l}getPoint(e,n=new We){const r=n,i=Math.PI*2;let a=this.aEndAngle-this.aStartAngle;const o=Math.abs(a)<Number.EPSILON;for(;a<0;)a+=i;for(;a>i;)a-=i;a<Number.EPSILON&&(o?a=0:a=i),this.aClockwise===!0&&!o&&(a===i?a=-i:a=a-i);const s=this.aStartAngle+e*a;let l=this.aX+this.xRadius*Math.cos(s),u=this.aY+this.yRadius*Math.sin(s);if(this.aRotation!==0){const c=Math.cos(this.aRotation),f=Math.sin(this.aRotation),h=l-this.aX,m=u-this.aY;l=h*c-m*f+this.aX,u=h*f+m*c+this.aY}return r.set(l,u)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class G6 extends d1{constructor(e,n,r,i,a,o){super(e,n,r,r,i,a,o),this.isArcCurve=!0,this.type="ArcCurve"}}function hP(){let t=0,e=0,n=0,r=0;function i(a,o,s,l){t=a,e=s,n=-3*a+3*o-2*s-l,r=2*a-2*o+s+l}return{initCatmullRom:function(a,o,s,l,u){i(o,s,u*(s-a),u*(l-o))},initNonuniformCatmullRom:function(a,o,s,l,u,c,f){let h=(o-a)/u-(s-a)/(u+c)+(s-o)/c,m=(s-o)/c-(l-o)/(c+f)+(l-s)/f;h*=c,m*=c,i(o,s,h,m)},calc:function(a){const o=a*a,s=o*a;return t+e*a+n*o+r*s}}}const Cy=new ee,nb=new hP,rb=new hP,ib=new hP;class V6 extends vo{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new ee){const r=n,i=this.points,a=i.length,o=(a-(this.closed?0:1))*e;let s=Math.floor(o),l=o-s;this.closed?s+=s>0?0:(Math.floor(Math.abs(s)/a)+1)*a:l===0&&s===a-1&&(s=a-2,l=1);let u,c;this.closed||s>0?u=i[(s-1)%a]:(Cy.subVectors(i[0],i[1]).add(i[0]),u=Cy);const f=i[s%a],h=i[(s+1)%a];if(this.closed||s+2<a?c=i[(s+2)%a]:(Cy.subVectors(i[a-1],i[a-2]).add(i[a-1]),c=Cy),this.curveType==="centripetal"||this.curveType==="chordal"){const m=this.curveType==="chordal"?.5:.25;let g=Math.pow(u.distanceToSquared(f),m),y=Math.pow(f.distanceToSquared(h),m),x=Math.pow(h.distanceToSquared(c),m);y<1e-4&&(y=1),g<1e-4&&(g=y),x<1e-4&&(x=y),nb.initNonuniformCatmullRom(u.x,f.x,h.x,c.x,g,y,x),rb.initNonuniformCatmullRom(u.y,f.y,h.y,c.y,g,y,x),ib.initNonuniformCatmullRom(u.z,f.z,h.z,c.z,g,y,x)}else this.curveType==="catmullrom"&&(nb.initCatmullRom(u.x,f.x,h.x,c.x,this.tension),rb.initCatmullRom(u.y,f.y,h.y,c.y,this.tension),ib.initCatmullRom(u.z,f.z,h.z,c.z,this.tension));return r.set(nb.calc(l),rb.calc(l),ib.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new ee().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function bN(t,e,n,r,i){const a=(r-e)*.5,o=(i-n)*.5,s=t*t,l=t*s;return(2*n-2*r+a+o)*l+(-3*n+3*r-2*a-o)*s+a*t+n}function B1e(t,e){const n=1-t;return n*n*e}function z1e(t,e){return 2*(1-t)*t*e}function H1e(t,e){return t*t*e}function Tp(t,e,n,r){return B1e(t,e)+z1e(t,n)+H1e(t,r)}function j1e(t,e){const n=1-t;return n*n*n*e}function G1e(t,e){const n=1-t;return 3*n*n*t*e}function V1e(t,e){return 3*(1-t)*t*t*e}function W1e(t,e){return t*t*t*e}function Pp(t,e,n,r,i){return j1e(t,e)+G1e(t,n)+V1e(t,r)+W1e(t,i)}class dP extends vo{constructor(e=new We,n=new We,r=new We,i=new We){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new We){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Pp(e,i.x,a.x,o.x,s.x),Pp(e,i.y,a.y,o.y,s.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class W6 extends vo{constructor(e=new ee,n=new ee,r=new ee,i=new ee){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new ee){const r=n,i=this.v0,a=this.v1,o=this.v2,s=this.v3;return r.set(Pp(e,i.x,a.x,o.x,s.x),Pp(e,i.y,a.y,o.y,s.y),Pp(e,i.z,a.z,o.z,s.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class pP extends vo{constructor(e=new We,n=new We){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new We){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new We){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class $6 extends vo{constructor(e=new ee,n=new ee){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new ee){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new ee){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class mP extends vo{constructor(e=new We,n=new We,r=new We){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new We){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(Tp(e,i.x,a.x,o.x),Tp(e,i.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class gP extends vo{constructor(e=new ee,n=new ee,r=new ee){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new ee){const r=n,i=this.v0,a=this.v1,o=this.v2;return r.set(Tp(e,i.x,a.x,o.x),Tp(e,i.y,a.y,o.y),Tp(e,i.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class vP extends vo{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new We){const r=n,i=this.points,a=(i.length-1)*e,o=Math.floor(a),s=a-o,l=i[o===0?o:o-1],u=i[o],c=i[o>i.length-2?i.length-1:o+1],f=i[o>i.length-3?i.length-1:o+2];return r.set(bN(s,l.x,u.x,c.x,f.x),bN(s,l.y,u.y,c.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new We().fromArray(i))}return this}}var Wx=Object.freeze({__proto__:null,ArcCurve:G6,CatmullRomCurve3:V6,CubicBezierCurve:dP,CubicBezierCurve3:W6,EllipseCurve:d1,LineCurve:pP,LineCurve3:$6,QuadraticBezierCurve:mP,QuadraticBezierCurve3:gP,SplineCurve:vP});class X6 extends vo{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new Wx[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let a=0;for(;a<i.length;){if(i[a]>=r){const o=i[a]-r,s=this.curves[a],l=s.getLength(),u=l===0?0:1-o/l;return s.getPointAt(u,n)}a++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,a=this.curves;i<a.length;i++){const o=a[i],s=o.isEllipseCurve?e*2:o.isLineCurve||o.isLineCurve3?1:o.isSplineCurve?e*o.points.length:e,l=o.getPoints(s);for(let u=0;u<l.length;u++){const c=l[u];r&&r.equals(c)||(n.push(c),r=c)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new Wx[i.type]().fromJSON(i))}return this}}class Gm extends X6{constructor(e){super(),this.type="Path",this.currentPoint=new We,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new pP(this.currentPoint.clone(),new We(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const a=new mP(this.currentPoint.clone(),new We(e,n),new We(r,i));return this.curves.push(a),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,a,o){const s=new dP(this.currentPoint.clone(),new We(e,n),new We(r,i),new We(a,o));return this.curves.push(s),this.currentPoint.set(a,o),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new vP(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,a,o){const s=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+s,n+l,r,i,a,o),this}absarc(e,n,r,i,a,o){return this.absellipse(e,n,r,r,i,a,o),this}ellipse(e,n,r,i,a,o,s,l){const u=this.currentPoint.x,c=this.currentPoint.y;return this.absellipse(e+u,n+c,r,i,a,o,s,l),this}absellipse(e,n,r,i,a,o,s,l){const u=new d1(e,n,r,i,a,o,s,l);if(this.curves.length>0){const f=u.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(u);const c=u.getPoint(1);return this.currentPoint.copy(c),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}}class Sg extends Wt{constructor(e=[new We(0,-.5),new We(.5,0),new We(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=er(i,0,Math.PI*2);const a=[],o=[],s=[],l=[],u=[],c=1/n,f=new ee,h=new We,m=new ee,g=new ee,y=new ee;let x=0,v=0;for(let S=0;S<=e.length-1;S++)switch(S){case 0:x=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-x,m.z=v*0,y.copy(m),m.normalize(),l.push(m.x,m.y,m.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:x=e[S+1].x-e[S].x,v=e[S+1].y-e[S].y,m.x=v*1,m.y=-x,m.z=v*0,g.copy(m),m.x+=y.x,m.y+=y.y,m.z+=y.z,m.normalize(),l.push(m.x,m.y,m.z),y.copy(g)}for(let S=0;S<=n;S++){const _=r+S*c*i,b=Math.sin(_),E=Math.cos(_);for(let M=0;M<=e.length-1;M++){f.x=e[M].x*b,f.y=e[M].y,f.z=e[M].x*E,o.push(f.x,f.y,f.z),h.x=S/n,h.y=M/(e.length-1),s.push(h.x,h.y);const T=l[3*M+0]*b,C=l[3*M+1],P=l[3*M+0]*E;u.push(T,C,P)}}for(let S=0;S<n;S++)for(let _=0;_<e.length-1;_++){const b=_+S*e.length,E=b,M=b+e.length,T=b+e.length+1,C=b+1;a.push(E,M,C),a.push(T,C,M)}this.setIndex(a),this.setAttribute("position",new bt(o,3)),this.setAttribute("uv",new bt(s,2)),this.setAttribute("normal",new bt(u,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Sg(e.points,e.segments,e.phiStart,e.phiLength)}}class p1 extends Sg{constructor(e=1,n=1,r=4,i=8){const a=new Gm;a.absarc(0,-n/2,e,Math.PI*1.5,0),a.absarc(0,n/2,e,0,Math.PI*.5),super(a.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new p1(e.radius,e.length,e.capSegments,e.radialSegments)}}class m1 extends Wt{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const a=[],o=[],s=[],l=[],u=new ee,c=new We;o.push(0,0,0),s.push(0,0,1),l.push(.5,.5);for(let f=0,h=3;f<=n;f++,h+=3){const m=r+f/n*i;u.x=e*Math.cos(m),u.y=e*Math.sin(m),o.push(u.x,u.y,u.z),s.push(0,0,1),c.x=(o[h]/e+1)/2,c.y=(o[h+1]/e+1)/2,l.push(c.x,c.y)}for(let f=1;f<=n;f++)a.push(f,f+1,0);this.setIndex(a),this.setAttribute("position",new bt(o,3)),this.setAttribute("normal",new bt(s,3)),this.setAttribute("uv",new bt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new m1(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class qh extends Wt{constructor(e=1,n=1,r=1,i=32,a=1,o=!1,s=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:a,openEnded:o,thetaStart:s,thetaLength:l};const u=this;i=Math.floor(i),a=Math.floor(a);const c=[],f=[],h=[],m=[];let g=0;const y=[],x=r/2;let v=0;S(),o===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(c),this.setAttribute("position",new bt(f,3)),this.setAttribute("normal",new bt(h,3)),this.setAttribute("uv",new bt(m,2));function S(){const b=new ee,E=new ee;let M=0;const T=(n-e)/r;for(let C=0;C<=a;C++){const P=[],O=C/a,I=O*(n-e)+e;for(let D=0;D<=i;D++){const F=D/i,B=F*l+s,W=Math.sin(B),V=Math.cos(B);E.x=I*W,E.y=-O*r+x,E.z=I*V,f.push(E.x,E.y,E.z),b.set(W,T,V).normalize(),h.push(b.x,b.y,b.z),m.push(F,1-O),P.push(g++)}y.push(P)}for(let C=0;C<i;C++)for(let P=0;P<a;P++){const O=y[P][C],I=y[P+1][C],D=y[P+1][C+1],F=y[P][C+1];c.push(O,I,F),c.push(I,D,F),M+=6}u.addGroup(v,M,0),v+=M}function _(b){const E=g,M=new We,T=new ee;let C=0;const P=b===!0?e:n,O=b===!0?1:-1;for(let D=1;D<=i;D++)f.push(0,x*O,0),h.push(0,O,0),m.push(.5,.5),g++;const I=g;for(let D=0;D<=i;D++){const B=D/i*l+s,W=Math.cos(B),V=Math.sin(B);T.x=P*V,T.y=x*O,T.z=P*W,f.push(T.x,T.y,T.z),h.push(0,O,0),M.x=W*.5+.5,M.y=V*.5*O+.5,m.push(M.x,M.y),g++}for(let D=0;D<i;D++){const F=E+D,B=I+D;b===!0?c.push(B,B+1,F):c.push(B+1,B,F),C+=3}u.addGroup(v,C,b===!0?1:2),v+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new qh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class g1 extends qh{constructor(e=1,n=1,r=32,i=1,a=!1,o=0,s=Math.PI*2){super(0,e,n,r,i,a,o,s),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:a,thetaStart:o,thetaLength:s}}static fromJSON(e){return new g1(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class jl extends Wt{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const a=[],o=[];s(i),u(r),c(),this.setAttribute("position",new bt(a,3)),this.setAttribute("normal",new bt(a.slice(),3)),this.setAttribute("uv",new bt(o,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function s(S){const _=new ee,b=new ee,E=new ee;for(let M=0;M<n.length;M+=3)m(n[M+0],_),m(n[M+1],b),m(n[M+2],E),l(_,b,E,S)}function l(S,_,b,E){const M=E+1,T=[];for(let C=0;C<=M;C++){T[C]=[];const P=S.clone().lerp(b,C/M),O=_.clone().lerp(b,C/M),I=M-C;for(let D=0;D<=I;D++)D===0&&C===M?T[C][D]=P:T[C][D]=P.clone().lerp(O,D/I)}for(let C=0;C<M;C++)for(let P=0;P<2*(M-C)-1;P++){const O=Math.floor(P/2);P%2===0?(h(T[C][O+1]),h(T[C+1][O]),h(T[C][O])):(h(T[C][O+1]),h(T[C+1][O+1]),h(T[C+1][O]))}}function u(S){const _=new ee;for(let b=0;b<a.length;b+=3)_.x=a[b+0],_.y=a[b+1],_.z=a[b+2],_.normalize().multiplyScalar(S),a[b+0]=_.x,a[b+1]=_.y,a[b+2]=_.z}function c(){const S=new ee;for(let _=0;_<a.length;_+=3){S.x=a[_+0],S.y=a[_+1],S.z=a[_+2];const b=x(S)/2/Math.PI+.5,E=v(S)/Math.PI+.5;o.push(b,1-E)}g(),f()}function f(){for(let S=0;S<o.length;S+=6){const _=o[S+0],b=o[S+2],E=o[S+4],M=Math.max(_,b,E),T=Math.min(_,b,E);M>.9&&T<.1&&(_<.2&&(o[S+0]+=1),b<.2&&(o[S+2]+=1),E<.2&&(o[S+4]+=1))}}function h(S){a.push(S.x,S.y,S.z)}function m(S,_){const b=S*3;_.x=e[b+0],_.y=e[b+1],_.z=e[b+2]}function g(){const S=new ee,_=new ee,b=new ee,E=new ee,M=new We,T=new We,C=new We;for(let P=0,O=0;P<a.length;P+=9,O+=6){S.set(a[P+0],a[P+1],a[P+2]),_.set(a[P+3],a[P+4],a[P+5]),b.set(a[P+6],a[P+7],a[P+8]),M.set(o[O+0],o[O+1]),T.set(o[O+2],o[O+3]),C.set(o[O+4],o[O+5]),E.copy(S).add(_).add(b).divideScalar(3);const I=x(E);y(M,O+0,S,I),y(T,O+2,_,I),y(C,O+4,b,I)}}function y(S,_,b,E){E<0&&S.x===1&&(o[_]=S.x-1),b.x===0&&b.z===0&&(o[_]=E/2/Math.PI+.5)}function x(S){return Math.atan2(S.z,-S.x)}function v(S){return Math.atan2(-S.y,Math.sqrt(S.x*S.x+S.z*S.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new jl(e.vertices,e.indices,e.radius,e.details)}}class v1 extends jl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,a=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],o=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(a,o,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new v1(e.radius,e.detail)}}const Oy=new ee,Ry=new ee,ab=new ee,Iy=new la;class Y6 extends Wt{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),a=Math.cos(qu*n),o=e.getIndex(),s=e.getAttribute("position"),l=o?o.count:s.count,u=[0,0,0],c=["a","b","c"],f=new Array(3),h={},m=[];for(let g=0;g<l;g+=3){o?(u[0]=o.getX(g),u[1]=o.getX(g+1),u[2]=o.getX(g+2)):(u[0]=g,u[1]=g+1,u[2]=g+2);const{a:y,b:x,c:v}=Iy;if(y.fromBufferAttribute(s,u[0]),x.fromBufferAttribute(s,u[1]),v.fromBufferAttribute(s,u[2]),Iy.getNormal(ab),f[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let S=0;S<3;S++){const _=(S+1)%3,b=f[S],E=f[_],M=Iy[c[S]],T=Iy[c[_]],C=`${b}_${E}`,P=`${E}_${b}`;P in h&&h[P]?(ab.dot(h[P].normal)<=a&&(m.push(M.x,M.y,M.z),m.push(T.x,T.y,T.z)),h[P]=null):C in h||(h[C]={index0:u[S],index1:u[_],normal:ab.clone()})}}for(const g in h)if(h[g]){const{index0:y,index1:x}=h[g];Oy.fromBufferAttribute(s,y),Ry.fromBufferAttribute(s,x),m.push(Oy.x,Oy.y,Oy.z),m.push(Ry.x,Ry.y,Ry.z)}this.setAttribute("position",new bt(m,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}class Zu extends Gm{constructor(e){super(e),this.uuid=fa(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Gm().fromJSON(i))}return this}}const $1e={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let a=q6(t,0,i,n,!0);const o=[];if(!a||a.next===a.prev)return o;let s,l,u,c,f,h,m;if(r&&(a=Z1e(t,e,a,n)),t.length>80*n){s=u=t[0],l=c=t[1];for(let g=n;g<i;g+=n)f=t[g],h=t[g+1],f<s&&(s=f),h<l&&(l=h),f>u&&(u=f),h>c&&(c=h);m=Math.max(u-s,c-l),m=m!==0?32767/m:0}return Vm(a,o,n,s,l,m,0),o}};function q6(t,e,n,r,i){let a,o;if(i===lSe(t,e,n,r)>0)for(a=e;a<n;a+=r)o=MN(a,t[a],t[a+1],o);else for(a=n-r;a>=e;a-=r)o=MN(a,t[a],t[a+1],o);return o&&y1(o,o.next)&&($m(o),o=o.next),o}function dc(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(y1(n,n.next)||$n(n.prev,n,n.next)===0)){if($m(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Vm(t,e,n,r,i,a,o){if(!t)return;!o&&a&&nSe(t,r,i,a);let s=t,l,u;for(;t.prev!==t.next;){if(l=t.prev,u=t.next,a?Y1e(t,r,i,a):X1e(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(u.i/n|0),$m(t),t=u.next,s=u.next;continue}if(t=u,t===s){o?o===1?(t=q1e(dc(t),e,n),Vm(t,e,n,r,i,a,2)):o===2&&K1e(t,e,n,r,i,a):Vm(dc(t),e,n,r,i,a,1);break}}}function X1e(t){const e=t.prev,n=t,r=t.next;if($n(e,n,r)>=0)return!1;const i=e.x,a=n.x,o=r.x,s=e.y,l=n.y,u=r.y,c=i<a?i<o?i:o:a<o?a:o,f=s<l?s<u?s:u:l<u?l:u,h=i>a?i>o?i:o:a>o?a:o,m=s>l?s>u?s:u:l>u?l:u;let g=r.next;for(;g!==e;){if(g.x>=c&&g.x<=h&&g.y>=f&&g.y<=m&&kf(i,s,a,l,o,u,g.x,g.y)&&$n(g.prev,g,g.next)>=0)return!1;g=g.next}return!0}function Y1e(t,e,n,r){const i=t.prev,a=t,o=t.next;if($n(i,a,o)>=0)return!1;const s=i.x,l=a.x,u=o.x,c=i.y,f=a.y,h=o.y,m=s<l?s<u?s:u:l<u?l:u,g=c<f?c<h?c:h:f<h?f:h,y=s>l?s>u?s:u:l>u?l:u,x=c>f?c>h?c:h:f>h?f:h,v=TA(m,g,e,n,r),S=TA(y,x,e,n,r);let _=t.prevZ,b=t.nextZ;for(;_&&_.z>=v&&b&&b.z<=S;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==o&&kf(s,c,l,f,u,h,_.x,_.y)&&$n(_.prev,_,_.next)>=0||(_=_.prevZ,b.x>=m&&b.x<=y&&b.y>=g&&b.y<=x&&b!==i&&b!==o&&kf(s,c,l,f,u,h,b.x,b.y)&&$n(b.prev,b,b.next)>=0))return!1;b=b.nextZ}for(;_&&_.z>=v;){if(_.x>=m&&_.x<=y&&_.y>=g&&_.y<=x&&_!==i&&_!==o&&kf(s,c,l,f,u,h,_.x,_.y)&&$n(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=S;){if(b.x>=m&&b.x<=y&&b.y>=g&&b.y<=x&&b!==i&&b!==o&&kf(s,c,l,f,u,h,b.x,b.y)&&$n(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function q1e(t,e,n){let r=t;do{const i=r.prev,a=r.next.next;!y1(i,a)&&K6(i,r,r.next,a)&&Wm(i,a)&&Wm(a,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(a.i/n|0),$m(r),$m(r.next),r=t=a),r=r.next}while(r!==t);return dc(r)}function K1e(t,e,n,r,i,a){let o=t;do{let s=o.next.next;for(;s!==o.prev;){if(o.i!==s.i&&aSe(o,s)){let l=Z6(o,s);o=dc(o,o.next),l=dc(l,l.next),Vm(o,e,n,r,i,a,0),Vm(l,e,n,r,i,a,0);return}s=s.next}o=o.next}while(o!==t)}function Z1e(t,e,n,r){const i=[];let a,o,s,l,u;for(a=0,o=e.length;a<o;a++)s=e[a]*r,l=a<o-1?e[a+1]*r:t.length,u=q6(t,s,l,r,!1),u===u.next&&(u.steiner=!0),i.push(iSe(u));for(i.sort(J1e),a=0;a<i.length;a++)n=Q1e(i[a],n);return n}function J1e(t,e){return t.x-e.x}function Q1e(t,e){const n=eSe(t,e);if(!n)return e;const r=Z6(n,t);return dc(r,r.next),dc(n,n.next)}function eSe(t,e){let n=e,r=-1/0,i;const a=t.x,o=t.y;do{if(o<=n.y&&o>=n.next.y&&n.next.y!==n.y){const h=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(h<=a&&h>r&&(r=h,i=n.x<n.next.x?n:n.next,h===a))return i}n=n.next}while(n!==e);if(!i)return null;const s=i,l=i.x,u=i.y;let c=1/0,f;n=i;do a>=n.x&&n.x>=l&&a!==n.x&&kf(o<u?a:r,o,l,u,o<u?r:a,o,n.x,n.y)&&(f=Math.abs(o-n.y)/(a-n.x),Wm(n,t)&&(f<c||f===c&&(n.x>i.x||n.x===i.x&&tSe(i,n)))&&(i=n,c=f)),n=n.next;while(n!==s);return i}function tSe(t,e){return $n(t.prev,t,e.prev)<0&&$n(e.next,t,t.next)<0}function nSe(t,e,n,r){let i=t;do i.z===0&&(i.z=TA(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,rSe(i)}function rSe(t){let e,n,r,i,a,o,s,l,u=1;do{for(n=t,t=null,a=null,o=0;n;){for(o++,r=n,s=0,e=0;e<u&&(s++,r=r.nextZ,!!r);e++);for(l=u;s>0||l>0&&r;)s!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,s--):(i=r,r=r.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;n=r}a.nextZ=null,u*=2}while(o>1);return t}function TA(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function iSe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function kf(t,e,n,r,i,a,o,s){return(i-o)*(e-s)>=(t-o)*(a-s)&&(t-o)*(r-s)>=(n-o)*(e-s)&&(n-o)*(a-s)>=(i-o)*(r-s)}function aSe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!oSe(t,e)&&(Wm(t,e)&&Wm(e,t)&&sSe(t,e)&&($n(t.prev,t,e.prev)||$n(t,e.prev,e))||y1(t,e)&&$n(t.prev,t,t.next)>0&&$n(e.prev,e,e.next)>0)}function $n(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function y1(t,e){return t.x===e.x&&t.y===e.y}function K6(t,e,n,r){const i=Dy($n(t,e,n)),a=Dy($n(t,e,r)),o=Dy($n(n,r,t)),s=Dy($n(n,r,e));return!!(i!==a&&o!==s||i===0&&Ly(t,n,e)||a===0&&Ly(t,r,e)||o===0&&Ly(n,t,r)||s===0&&Ly(n,e,r))}function Ly(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Dy(t){return t>0?1:t<0?-1:0}function oSe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&K6(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Wm(t,e){return $n(t.prev,t,t.next)<0?$n(t,e,t.next)>=0&&$n(t,t.prev,e)>=0:$n(t,e,t.prev)<0||$n(t,t.next,e)<0}function sSe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,a=(t.y+e.y)/2;do n.y>a!=n.next.y>a&&n.next.y!==n.y&&i<(n.next.x-n.x)*(a-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function Z6(t,e){const n=new PA(t.i,t.x,t.y),r=new PA(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,a.next=r,r.prev=a,r}function MN(t,e,n,r){const i=new PA(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function $m(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function PA(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function lSe(t,e,n,r){let i=0;for(let a=e,o=n-r;a<n;a+=r)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}class Bo{static area(e){const n=e.length;let r=0;for(let i=n-1,a=0;a<n;i=a++)r+=e[i].x*e[a].y-e[a].x*e[i].y;return r*.5}static isClockWise(e){return Bo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],a=[];EN(e),AN(r,e);let o=e.length;n.forEach(EN);for(let l=0;l<n.length;l++)i.push(o),o+=n[l].length,AN(r,n[l]);const s=$1e.triangulate(r,i);for(let l=0;l<s.length;l+=3)a.push(s.slice(l,l+3));return a}}function EN(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function AN(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class x1 extends Wt{constructor(e=new Zu([new We(.5,.5),new We(-.5,.5),new We(-.5,-.5),new We(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],a=[];for(let s=0,l=e.length;s<l;s++){const u=e[s];o(u)}this.setAttribute("position",new bt(i,3)),this.setAttribute("uv",new bt(a,2)),this.computeVertexNormals();function o(s){const l=[],u=n.curveSegments!==void 0?n.curveSegments:12,c=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let h=n.bevelEnabled!==void 0?n.bevelEnabled:!0,m=n.bevelThickness!==void 0?n.bevelThickness:.2,g=n.bevelSize!==void 0?n.bevelSize:m-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const v=n.extrudePath,S=n.UVGenerator!==void 0?n.UVGenerator:uSe;let _,b=!1,E,M,T,C;v&&(_=v.getSpacedPoints(c),b=!0,h=!1,E=v.computeFrenetFrames(c,!1),M=new ee,T=new ee,C=new ee),h||(x=0,m=0,g=0,y=0);const P=s.extractPoints(u);let O=P.shape;const I=P.holes;if(!Bo.isClockWise(O)){O=O.reverse();for(let J=0,_e=I.length;J<_e;J++){const Me=I[J];Bo.isClockWise(Me)&&(I[J]=Me.reverse())}}const F=Bo.triangulateShape(O,I),B=O;for(let J=0,_e=I.length;J<_e;J++){const Me=I[J];O=O.concat(Me)}function W(J,_e,Me){return _e||console.error("THREE.ExtrudeGeometry: vec does not exist"),J.clone().addScaledVector(_e,Me)}const V=O.length,Q=F.length;function N(J,_e,Me){let Te,Ce,He;const Pe=J.x-_e.x,Xe=J.y-_e.y,q=Me.x-J.x,U=Me.y-J.y,de=Pe*Pe+Xe*Xe,pe=Pe*U-Xe*q;if(Math.abs(pe)>Number.EPSILON){const we=Math.sqrt(de),Ee=Math.sqrt(q*q+U*U),rt=_e.x-Xe/we,ke=_e.y+Pe/we,ze=Me.x-U/Ee,et=Me.y+q/Ee,Ve=((ze-rt)*U-(et-ke)*q)/(Pe*U-Xe*q);Te=rt+Pe*Ve-J.x,Ce=ke+Xe*Ve-J.y;const Je=Te*Te+Ce*Ce;if(Je<=2)return new We(Te,Ce);He=Math.sqrt(Je/2)}else{let we=!1;Pe>Number.EPSILON?q>Number.EPSILON&&(we=!0):Pe<-Number.EPSILON?q<-Number.EPSILON&&(we=!0):Math.sign(Xe)===Math.sign(U)&&(we=!0),we?(Te=-Xe,Ce=Pe,He=Math.sqrt(de)):(Te=Pe,Ce=Xe,He=Math.sqrt(de/2))}return new We(Te/He,Ce/He)}const j=[];for(let J=0,_e=B.length,Me=_e-1,Te=J+1;J<_e;J++,Me++,Te++)Me===_e&&(Me=0),Te===_e&&(Te=0),j[J]=N(B[J],B[Me],B[Te]);const G=[];let H,$=j.concat();for(let J=0,_e=I.length;J<_e;J++){const Me=I[J];H=[];for(let Te=0,Ce=Me.length,He=Ce-1,Pe=Te+1;Te<Ce;Te++,He++,Pe++)He===Ce&&(He=0),Pe===Ce&&(Pe=0),H[Te]=N(Me[Te],Me[He],Me[Pe]);G.push(H),$=$.concat(H)}for(let J=0;J<x;J++){const _e=J/x,Me=m*Math.cos(_e*Math.PI/2),Te=g*Math.sin(_e*Math.PI/2)+y;for(let Ce=0,He=B.length;Ce<He;Ce++){const Pe=W(B[Ce],j[Ce],Te);fe(Pe.x,Pe.y,-Me)}for(let Ce=0,He=I.length;Ce<He;Ce++){const Pe=I[Ce];H=G[Ce];for(let Xe=0,q=Pe.length;Xe<q;Xe++){const U=W(Pe[Xe],H[Xe],Te);fe(U.x,U.y,-Me)}}}const ie=g+y;for(let J=0;J<V;J++){const _e=h?W(O[J],$[J],ie):O[J];b?(T.copy(E.normals[0]).multiplyScalar(_e.x),M.copy(E.binormals[0]).multiplyScalar(_e.y),C.copy(_[0]).add(T).add(M),fe(C.x,C.y,C.z)):fe(_e.x,_e.y,0)}for(let J=1;J<=c;J++)for(let _e=0;_e<V;_e++){const Me=h?W(O[_e],$[_e],ie):O[_e];b?(T.copy(E.normals[J]).multiplyScalar(Me.x),M.copy(E.binormals[J]).multiplyScalar(Me.y),C.copy(_[J]).add(T).add(M),fe(C.x,C.y,C.z)):fe(Me.x,Me.y,f/c*J)}for(let J=x-1;J>=0;J--){const _e=J/x,Me=m*Math.cos(_e*Math.PI/2),Te=g*Math.sin(_e*Math.PI/2)+y;for(let Ce=0,He=B.length;Ce<He;Ce++){const Pe=W(B[Ce],j[Ce],Te);fe(Pe.x,Pe.y,f+Me)}for(let Ce=0,He=I.length;Ce<He;Ce++){const Pe=I[Ce];H=G[Ce];for(let Xe=0,q=Pe.length;Xe<q;Xe++){const U=W(Pe[Xe],H[Xe],Te);b?fe(U.x,U.y+_[c-1].y,_[c-1].x+Me):fe(U.x,U.y,f+Me)}}}Z(),ae();function Z(){const J=i.length/3;if(h){let _e=0,Me=V*_e;for(let Te=0;Te<Q;Te++){const Ce=F[Te];Ae(Ce[2]+Me,Ce[1]+Me,Ce[0]+Me)}_e=c+x*2,Me=V*_e;for(let Te=0;Te<Q;Te++){const Ce=F[Te];Ae(Ce[0]+Me,Ce[1]+Me,Ce[2]+Me)}}else{for(let _e=0;_e<Q;_e++){const Me=F[_e];Ae(Me[2],Me[1],Me[0])}for(let _e=0;_e<Q;_e++){const Me=F[_e];Ae(Me[0]+V*c,Me[1]+V*c,Me[2]+V*c)}}r.addGroup(J,i.length/3-J,0)}function ae(){const J=i.length/3;let _e=0;ce(B,_e),_e+=B.length;for(let Me=0,Te=I.length;Me<Te;Me++){const Ce=I[Me];ce(Ce,_e),_e+=Ce.length}r.addGroup(J,i.length/3-J,1)}function ce(J,_e){let Me=J.length;for(;--Me>=0;){const Te=Me;let Ce=Me-1;Ce<0&&(Ce=J.length-1);for(let He=0,Pe=c+x*2;He<Pe;He++){const Xe=V*He,q=V*(He+1),U=_e+Te+Xe,de=_e+Ce+Xe,pe=_e+Ce+q,we=_e+Te+q;ve(U,de,pe,we)}}}function fe(J,_e,Me){l.push(J),l.push(_e),l.push(Me)}function Ae(J,_e,Me){Ie(J),Ie(_e),Ie(Me);const Te=i.length/3,Ce=S.generateTopUV(r,i,Te-3,Te-2,Te-1);X(Ce[0]),X(Ce[1]),X(Ce[2])}function ve(J,_e,Me,Te){Ie(J),Ie(_e),Ie(Te),Ie(_e),Ie(Me),Ie(Te);const Ce=i.length/3,He=S.generateSideWallUV(r,i,Ce-6,Ce-3,Ce-2,Ce-1);X(He[0]),X(He[1]),X(He[3]),X(He[1]),X(He[2]),X(He[3])}function Ie(J){i.push(l[J*3+0]),i.push(l[J*3+1]),i.push(l[J*3+2])}function X(J){a.push(J.x),a.push(J.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return cSe(n,r,e)}static fromJSON(e,n){const r=[];for(let a=0,o=e.shapes.length;a<o;a++){const s=n[e.shapes[a]];r.push(s)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new Wx[i.type]().fromJSON(i)),new x1(r,e.options)}}const uSe={generateTopUV:function(t,e,n,r,i){const a=e[n*3],o=e[n*3+1],s=e[r*3],l=e[r*3+1],u=e[i*3],c=e[i*3+1];return[new We(a,o),new We(s,l),new We(u,c)]},generateSideWallUV:function(t,e,n,r,i,a){const o=e[n*3],s=e[n*3+1],l=e[n*3+2],u=e[r*3],c=e[r*3+1],f=e[r*3+2],h=e[i*3],m=e[i*3+1],g=e[i*3+2],y=e[a*3],x=e[a*3+1],v=e[a*3+2];return Math.abs(s-c)<Math.abs(o-u)?[new We(o,1-l),new We(u,1-f),new We(h,1-g),new We(y,1-v)]:[new We(s,1-l),new We(c,1-f),new We(m,1-g),new We(x,1-v)]}};function cSe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const a=t[r];n.shapes.push(a.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class wg extends jl{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],a=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,a,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new wg(e.radius,e.detail)}}class bg extends jl{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new bg(e.radius,e.detail)}}class _1 extends Wt{constructor(e=.5,n=1,r=32,i=1,a=0,o=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:a,thetaLength:o},r=Math.max(3,r),i=Math.max(1,i);const s=[],l=[],u=[],c=[];let f=e;const h=(n-e)/i,m=new ee,g=new We;for(let y=0;y<=i;y++){for(let x=0;x<=r;x++){const v=a+x/r*o;m.x=f*Math.cos(v),m.y=f*Math.sin(v),l.push(m.x,m.y,m.z),u.push(0,0,1),g.x=(m.x/n+1)/2,g.y=(m.y/n+1)/2,c.push(g.x,g.y)}f+=h}for(let y=0;y<i;y++){const x=y*(r+1);for(let v=0;v<r;v++){const S=v+x,_=S,b=S+r+1,E=S+r+2,M=S+1;s.push(_,b,M),s.push(b,E,M)}}this.setIndex(s),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _1(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class S1 extends Wt{constructor(e=new Zu([new We(0,.5),new We(-.5,-.5),new We(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],a=[],o=[];let s=0,l=0;if(Array.isArray(e)===!1)u(e);else for(let c=0;c<e.length;c++)u(e[c]),this.addGroup(s,l,c),s+=l,l=0;this.setIndex(r),this.setAttribute("position",new bt(i,3)),this.setAttribute("normal",new bt(a,3)),this.setAttribute("uv",new bt(o,2));function u(c){const f=i.length/3,h=c.extractPoints(n);let m=h.shape;const g=h.holes;Bo.isClockWise(m)===!1&&(m=m.reverse());for(let x=0,v=g.length;x<v;x++){const S=g[x];Bo.isClockWise(S)===!0&&(g[x]=S.reverse())}const y=Bo.triangulateShape(m,g);for(let x=0,v=g.length;x<v;x++){const S=g[x];m=m.concat(S)}for(let x=0,v=m.length;x<v;x++){const S=m[x];i.push(S.x,S.y,0),a.push(0,0,1),o.push(S.x,S.y)}for(let x=0,v=y.length;x<v;x++){const S=y[x],_=S[0]+f,b=S[1]+f,E=S[2]+f;r.push(_,b,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return fSe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,a=e.shapes.length;i<a;i++){const o=n[e.shapes[i]];r.push(o)}return new S1(r,e.curveSegments)}}function fSe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class Mg extends Wt{constructor(e=1,n=32,r=16,i=0,a=Math.PI*2,o=0,s=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:a,thetaStart:o,thetaLength:s},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(o+s,Math.PI);let u=0;const c=[],f=new ee,h=new ee,m=[],g=[],y=[],x=[];for(let v=0;v<=r;v++){const S=[],_=v/r;let b=0;v===0&&o===0?b=.5/n:v===r&&l===Math.PI&&(b=-.5/n);for(let E=0;E<=n;E++){const M=E/n;f.x=-e*Math.cos(i+M*a)*Math.sin(o+_*s),f.y=e*Math.cos(o+_*s),f.z=e*Math.sin(i+M*a)*Math.sin(o+_*s),g.push(f.x,f.y,f.z),h.copy(f).normalize(),y.push(h.x,h.y,h.z),x.push(M+b,1-_),S.push(u++)}c.push(S)}for(let v=0;v<r;v++)for(let S=0;S<n;S++){const _=c[v][S+1],b=c[v][S],E=c[v+1][S],M=c[v+1][S+1];(v!==0||o>0)&&m.push(_,b,M),(v!==r-1||l<Math.PI)&&m.push(b,E,M)}this.setIndex(m),this.setAttribute("position",new bt(g,3)),this.setAttribute("normal",new bt(y,3)),this.setAttribute("uv",new bt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mg(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class w1 extends jl{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new w1(e.radius,e.detail)}}class b1 extends Wt{constructor(e=1,n=.4,r=12,i=48,a=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:a},r=Math.floor(r),i=Math.floor(i);const o=[],s=[],l=[],u=[],c=new ee,f=new ee,h=new ee;for(let m=0;m<=r;m++)for(let g=0;g<=i;g++){const y=g/i*a,x=m/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(y),f.y=(e+n*Math.cos(x))*Math.sin(y),f.z=n*Math.sin(x),s.push(f.x,f.y,f.z),c.x=e*Math.cos(y),c.y=e*Math.sin(y),h.subVectors(f,c).normalize(),l.push(h.x,h.y,h.z),u.push(g/i),u.push(m/r)}for(let m=1;m<=r;m++)for(let g=1;g<=i;g++){const y=(i+1)*m+g-1,x=(i+1)*(m-1)+g-1,v=(i+1)*(m-1)+g,S=(i+1)*m+g;o.push(y,x,S),o.push(x,v,S)}this.setIndex(o),this.setAttribute("position",new bt(s,3)),this.setAttribute("normal",new bt(l,3)),this.setAttribute("uv",new bt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new b1(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class M1 extends Wt{constructor(e=1,n=.4,r=64,i=8,a=2,o=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:a,q:o},r=Math.floor(r),i=Math.floor(i);const s=[],l=[],u=[],c=[],f=new ee,h=new ee,m=new ee,g=new ee,y=new ee,x=new ee,v=new ee;for(let _=0;_<=r;++_){const b=_/r*a*Math.PI*2;S(b,a,o,e,m),S(b+.01,a,o,e,g),x.subVectors(g,m),v.addVectors(g,m),y.crossVectors(x,v),v.crossVectors(y,x),y.normalize(),v.normalize();for(let E=0;E<=i;++E){const M=E/i*Math.PI*2,T=-n*Math.cos(M),C=n*Math.sin(M);f.x=m.x+(T*v.x+C*y.x),f.y=m.y+(T*v.y+C*y.y),f.z=m.z+(T*v.z+C*y.z),l.push(f.x,f.y,f.z),h.subVectors(f,m).normalize(),u.push(h.x,h.y,h.z),c.push(_/r),c.push(E/i)}}for(let _=1;_<=r;_++)for(let b=1;b<=i;b++){const E=(i+1)*(_-1)+(b-1),M=(i+1)*_+(b-1),T=(i+1)*_+b,C=(i+1)*(_-1)+b;s.push(E,M,C),s.push(M,T,C)}this.setIndex(s),this.setAttribute("position",new bt(l,3)),this.setAttribute("normal",new bt(u,3)),this.setAttribute("uv",new bt(c,2));function S(_,b,E,M,T){const C=Math.cos(_),P=Math.sin(_),O=E/b*_,I=Math.cos(O);T.x=M*(2+I)*.5*C,T.y=M*(2+I)*P*.5,T.z=M*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new M1(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class E1 extends Wt{constructor(e=new gP(new ee(-1,-1,0),new ee(-1,1,0),new ee(1,1,0)),n=64,r=1,i=8,a=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:a};const o=e.computeFrenetFrames(n,a);this.tangents=o.tangents,this.normals=o.normals,this.binormals=o.binormals;const s=new ee,l=new ee,u=new We;let c=new ee;const f=[],h=[],m=[],g=[];y(),this.setIndex(g),this.setAttribute("position",new bt(f,3)),this.setAttribute("normal",new bt(h,3)),this.setAttribute("uv",new bt(m,2));function y(){for(let _=0;_<n;_++)x(_);x(a===!1?n:0),S(),v()}function x(_){c=e.getPointAt(_/n,c);const b=o.normals[_],E=o.binormals[_];for(let M=0;M<=i;M++){const T=M/i*Math.PI*2,C=Math.sin(T),P=-Math.cos(T);l.x=P*b.x+C*E.x,l.y=P*b.y+C*E.y,l.z=P*b.z+C*E.z,l.normalize(),h.push(l.x,l.y,l.z),s.x=c.x+r*l.x,s.y=c.y+r*l.y,s.z=c.z+r*l.z,f.push(s.x,s.y,s.z)}}function v(){for(let _=1;_<=n;_++)for(let b=1;b<=i;b++){const E=(i+1)*(_-1)+(b-1),M=(i+1)*_+(b-1),T=(i+1)*_+b,C=(i+1)*(_-1)+b;g.push(E,M,C),g.push(M,T,C)}}function S(){for(let _=0;_<=n;_++)for(let b=0;b<=i;b++)u.x=_/n,u.y=b/i,m.push(u.x,u.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new E1(new Wx[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class J6 extends Wt{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new ee,a=new ee;if(e.index!==null){const o=e.attributes.position,s=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:s.count,materialIndex:0}]);for(let u=0,c=l.length;u<c;++u){const f=l[u],h=f.start,m=f.count;for(let g=h,y=h+m;g<y;g+=3)for(let x=0;x<3;x++){const v=s.getX(g+x),S=s.getX(g+(x+1)%3);i.fromBufferAttribute(o,v),a.fromBufferAttribute(o,S),TN(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}}else{const o=e.attributes.position;for(let s=0,l=o.count/3;s<l;s++)for(let u=0;u<3;u++){const c=3*s+u,f=3*s+(u+1)%3;i.fromBufferAttribute(o,c),a.fromBufferAttribute(o,f),TN(i,a,r)===!0&&(n.push(i.x,i.y,i.z),n.push(a.x,a.y,a.z))}}this.setAttribute("position",new bt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function TN(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var PN=Object.freeze({__proto__:null,BoxGeometry:Sc,CapsuleGeometry:p1,CircleGeometry:m1,ConeGeometry:g1,CylinderGeometry:qh,DodecahedronGeometry:v1,EdgesGeometry:Y6,ExtrudeGeometry:x1,IcosahedronGeometry:wg,LatheGeometry:Sg,OctahedronGeometry:bg,PlaneGeometry:go,PolyhedronGeometry:jl,RingGeometry:_1,ShapeGeometry:S1,SphereGeometry:Mg,TetrahedronGeometry:w1,TorusGeometry:b1,TorusKnotGeometry:M1,TubeGeometry:E1,WireframeGeometry:J6});class Q6 extends hi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new ht(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class e8 extends Gi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class yP extends hi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new ht(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class xP extends yP{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new We(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return er(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new ht(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new ht(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new ht(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class t8 extends hi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new ht(16777215),this.specular=new ht(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=mg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class n8 extends hi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new ht(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class r8 extends hi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class i8 extends hi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new ht(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new ht(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new va,this.combine=mg,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class a8 extends hi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new ht(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Hl,this.normalScale=new We(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class o8 extends Pi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function zu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function s8(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function l8(t){function e(i,a){return t[i]-t[a]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function CA(t,e,n){const r=t.length,i=new t.constructor(r);for(let a=0,o=0;o!==r;++a){const s=n[a]*e;for(let l=0;l!==e;++l)i[o++]=t[s+l]}return i}function _P(t,e,n,r){let i=1,a=t[0];for(;a!==void 0&&a[r]===void 0;)a=t[i++];if(a===void 0)return;let o=a[r];if(o!==void 0)if(Array.isArray(o))do o=a[r],o!==void 0&&(e.push(a.time),n.push.apply(n,o)),a=t[i++];while(a!==void 0);else if(o.toArray!==void 0)do o=a[r],o!==void 0&&(e.push(a.time),o.toArray(n,n.length)),a=t[i++];while(a!==void 0);else do o=a[r],o!==void 0&&(e.push(a.time),n.push(o)),a=t[i++];while(a!==void 0)}function hSe(t,e,n,r,i=30){const a=t.clone();a.name=e;const o=[];for(let l=0;l<a.tracks.length;++l){const u=a.tracks[l],c=u.getValueSize(),f=[],h=[];for(let m=0;m<u.times.length;++m){const g=u.times[m]*i;if(!(g<n||g>=r)){f.push(u.times[m]);for(let y=0;y<c;++y)h.push(u.values[m*c+y])}}f.length!==0&&(u.times=zu(f,u.times.constructor),u.values=zu(h,u.values.constructor),o.push(u))}a.tracks=o;let s=1/0;for(let l=0;l<a.tracks.length;++l)s>a.tracks[l].times[0]&&(s=a.tracks[l].times[0]);for(let l=0;l<a.tracks.length;++l)a.tracks[l].shift(-1*s);return a.resetDuration(),a}function dSe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,a=e/r;for(let o=0;o<i;++o){const s=n.tracks[o],l=s.ValueTypeName;if(l==="bool"||l==="string")continue;const u=t.tracks.find(function(v){return v.name===s.name&&v.ValueTypeName===l});if(u===void 0)continue;let c=0;const f=s.getValueSize();s.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(c=f/3);let h=0;const m=u.getValueSize();u.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(h=m/3);const g=s.times.length-1;let y;if(a<=s.times[0]){const v=c,S=f-c;y=s.values.slice(v,S)}else if(a>=s.times[g]){const v=g*f+c,S=v+f-c;y=s.values.slice(v,S)}else{const v=s.createInterpolant(),S=c,_=f-c;v.evaluate(a),y=v.resultBuffer.slice(S,_)}l==="quaternion"&&new ci().fromArray(y).normalize().conjugate().toArray(y);const x=u.times.length;for(let v=0;v<x;++v){const S=v*m+h;if(l==="quaternion")ci.multiplyQuaternionsFlat(u.values,S,y,0,u.values,S);else{const _=m-h*2;for(let b=0;b<_;++b)u.values[S+b]-=y[b]}}}return t.blendMode=K2,t}const pSe={convertArray:zu,isTypedArray:s8,getKeyframeOrder:l8,sortedArray:CA,flattenJSON:_P,subclip:hSe,makeClipAdditive:dSe};class Eg{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],a=n[r-1];e:{t:{let o;n:{r:if(!(e<i)){for(let s=r+2;;){if(i===void 0){if(e<a)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===s)break;if(a=i,i=n[++r],e<i)break t}o=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(r=2,a=s);for(let l=r-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=a,a=n[--r-1],e>=a)break t}o=r,r=0;break n}break e}for(;r<o;){const s=r+o>>>1;e<n[s]?o=s:r=s+1}if(i=n[r],a=n[r-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,a,i)}return this.interpolate_(r,a,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,a=e*i;for(let o=0;o!==i;++o)n[o]=r[a+o];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class u8 extends Eg{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ku,endingEnd:ku}}intervalChanged_(e,n,r){const i=this.parameterPositions;let a=e-2,o=e+1,s=i[a],l=i[o];if(s===void 0)switch(this.getSettings_().endingStart){case Uu:a=e,s=2*n-r;break;case km:a=i.length-2,s=n+i[a]-i[a+1];break;default:a=e,s=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Uu:o=e,l=2*r-n;break;case km:o=1,l=r+i[1]-i[0];break;default:o=e-1,l=n}const u=(r-n)*.5,c=this.valueSize;this._weightPrev=u/(n-s),this._weightNext=u/(l-r),this._offsetPrev=a*c,this._offsetNext=o*c}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=this._offsetPrev,f=this._offsetNext,h=this._weightPrev,m=this._weightNext,g=(r-n)/(i-n),y=g*g,x=y*g,v=-h*x+2*h*y-h*g,S=(1+h)*x+(-1.5-2*h)*y+(-.5+h)*g+1,_=(-1-m)*x+(1.5+m)*y+.5*g,b=m*x-m*y;for(let E=0;E!==s;++E)a[E]=v*o[c+E]+S*o[u+E]+_*o[l+E]+b*o[f+E];return a}}class SP extends Eg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=e*s,u=l-s,c=(r-n)/(i-n),f=1-c;for(let h=0;h!==s;++h)a[h]=o[u+h]*f+o[l+h]*c;return a}}class c8 extends Eg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class yo{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=zu(n,this.TimeBufferType),this.values=zu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:zu(e.times,Array),values:zu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new c8(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new SP(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new u8(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Nm:n=this.InterpolantFactoryMethodDiscrete;break;case jx:n=this.InterpolantFactoryMethodLinear;break;case h0:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Nm;case this.InterpolantFactoryMethodLinear:return jx;case this.InterpolantFactoryMethodSmooth:return h0}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let a=0,o=i-1;for(;a!==i&&r[a]<e;)++a;for(;o!==-1&&r[o]>n;)--o;if(++o,a!==0||o!==i){a>=o&&(o=Math.max(o,1),a=o-1);const s=this.getValueSize();this.times=r.slice(a,o),this.values=this.values.slice(a*s,o*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,a=r.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let o=null;for(let s=0;s!==a;s++){const l=r[s];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,l),e=!1;break}if(o!==null&&o>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,l,o),e=!1;break}o=l}if(i!==void 0&&s8(i))for(let s=0,l=i.length;s!==l;++s){const u=i[s];if(isNaN(u)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,u),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===h0,a=e.length-1;let o=1;for(let s=1;s<a;++s){let l=!1;const u=e[s],c=e[s+1];if(u!==c&&(s!==1||u!==e[0]))if(i)l=!0;else{const f=s*r,h=f-r,m=f+r;for(let g=0;g!==r;++g){const y=n[f+g];if(y!==n[h+g]||y!==n[m+g]){l=!0;break}}}if(l){if(s!==o){e[o]=e[s];const f=s*r,h=o*r;for(let m=0;m!==r;++m)n[h+m]=n[f+m]}++o}}if(a>0){e[o]=e[a];for(let s=a*r,l=o*r,u=0;u!==r;++u)n[l+u]=n[s+u];++o}return o!==e.length?(this.times=e.slice(0,o),this.values=n.slice(0,o*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}yo.prototype.TimeBufferType=Float32Array;yo.prototype.ValueBufferType=Float32Array;yo.prototype.DefaultInterpolation=jx;class wc extends yo{constructor(e,n,r){super(e,n,r)}}wc.prototype.ValueTypeName="bool";wc.prototype.ValueBufferType=Array;wc.prototype.DefaultInterpolation=Nm;wc.prototype.InterpolantFactoryMethodLinear=void 0;wc.prototype.InterpolantFactoryMethodSmooth=void 0;class wP extends yo{}wP.prototype.ValueTypeName="color";class Xm extends yo{}Xm.prototype.ValueTypeName="number";class f8 extends Eg{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const a=this.resultBuffer,o=this.sampleValues,s=this.valueSize,l=(r-n)/(i-n);let u=e*s;for(let c=u+s;u!==c;u+=4)ci.slerpFlat(a,0,o,u-s,o,u,l);return a}}class Ag extends yo{InterpolantFactoryMethodLinear(e){return new f8(this.times,this.values,this.getValueSize(),e)}}Ag.prototype.ValueTypeName="quaternion";Ag.prototype.InterpolantFactoryMethodSmooth=void 0;class bc extends yo{constructor(e,n,r){super(e,n,r)}}bc.prototype.ValueTypeName="string";bc.prototype.ValueBufferType=Array;bc.prototype.DefaultInterpolation=Nm;bc.prototype.InterpolantFactoryMethodLinear=void 0;bc.prototype.InterpolantFactoryMethodSmooth=void 0;class Ym extends yo{}Ym.prototype.ValueTypeName="vector";class qm{constructor(e="",n=-1,r=[],i=n1){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=fa(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let o=0,s=r.length;o!==s;++o)n.push(gSe(r[o]).scale(i));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,o=r.length;a!==o;++a)n.push(yo.toJSON(r[a]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const a=n.length,o=[];for(let s=0;s<a;s++){let l=[],u=[];l.push((s+a-1)%a,s,(s+1)%a),u.push(0,1,0);const c=l8(l);l=CA(l,1,c),u=CA(u,1,c),!i&&l[0]===0&&(l.push(a),u.push(u[0])),o.push(new Xm(".morphTargetInfluences["+n[s].name+"]",l,u).scale(1/r))}return new this(e,-1,o)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,l=e.length;s<l;s++){const u=e[s],c=u.name.match(a);if(c&&c.length>1){const f=c[1];let h=i[f];h||(i[f]=h=[]),h.push(u)}}const o=[];for(const s in i)o.push(this.CreateFromMorphTargetSequence(s,i[s],n,r));return o}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,h,m,g,y){if(m.length!==0){const x=[],v=[];_P(m,x,v,g),x.length!==0&&y.push(new f(h,x,v))}},i=[],a=e.name||"default",o=e.fps||30,s=e.blendMode;let l=e.length||-1;const u=e.hierarchy||[];for(let f=0;f<u.length;f++){const h=u[f].keys;if(!(!h||h.length===0))if(h[0].morphTargets){const m={};let g;for(g=0;g<h.length;g++)if(h[g].morphTargets)for(let y=0;y<h[g].morphTargets.length;y++)m[h[g].morphTargets[y]]=-1;for(const y in m){const x=[],v=[];for(let S=0;S!==h[g].morphTargets.length;++S){const _=h[g];x.push(_.time),v.push(_.morphTarget===y?1:0)}i.push(new Xm(".morphTargetInfluence["+y+"]",x,v))}l=m.length*o}else{const m=".bones["+n[f].name+"]";r(Ym,m+".position",h,"pos",i),r(Ag,m+".quaternion",h,"rot",i),r(Ym,m+".scale",h,"scl",i)}}return i.length===0?null:new this(a,l,i,s)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const a=this.tracks[r];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function mSe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Xm;case"vector":case"vector2":case"vector3":case"vector4":return Ym;case"color":return wP;case"quaternion":return Ag;case"bool":case"boolean":return wc;case"string":return bc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function gSe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=mSe(t.type);if(t.times===void 0){const n=[],r=[];_P(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const xs={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class A1{constructor(e,n,r){const i=this;let a=!1,o=0,s=0,l;const u=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(c){s++,a===!1&&i.onStart!==void 0&&i.onStart(c,o,s),a=!0},this.itemEnd=function(c){o++,i.onProgress!==void 0&&i.onProgress(c,o,s),o===s&&(a=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(c){i.onError!==void 0&&i.onError(c)},this.resolveURL=function(c){return l?l(c):c},this.setURLModifier=function(c){return l=c,this},this.addHandler=function(c,f){return u.push(c,f),this},this.removeHandler=function(c){const f=u.indexOf(c);return f!==-1&&u.splice(f,2),this},this.getHandler=function(c){for(let f=0,h=u.length;f<h;f+=2){const m=u[f],g=u[f+1];if(m.global&&(m.lastIndex=0),m.test(c))return g}return null}}}const h8=new A1;class Ci{constructor(e){this.manager=e!==void 0?e:h8,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,a){r.load(e,i,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Ci.DEFAULT_MATERIAL_NAME="__DEFAULT";const ss={};class vSe extends Error{constructor(e,n){super(e),this.response=n}}class ha extends Ci{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=xs.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(ss[e]!==void 0){ss[e].push({onLoad:n,onProgress:r,onError:i});return}ss[e]=[],ss[e].push({onLoad:n,onProgress:r,onError:i});const o=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,l=this.responseType;fetch(o).then(u=>{if(u.status===200||u.status===0){if(u.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||u.body===void 0||u.body.getReader===void 0)return u;const c=ss[e],f=u.body.getReader(),h=u.headers.get("X-File-Size")||u.headers.get("Content-Length"),m=h?parseInt(h):0,g=m!==0;let y=0;const x=new ReadableStream({start(v){S();function S(){f.read().then(({done:_,value:b})=>{if(_)v.close();else{y+=b.byteLength;const E=new ProgressEvent("progress",{lengthComputable:g,loaded:y,total:m});for(let M=0,T=c.length;M<T;M++){const C=c[M];C.onProgress&&C.onProgress(E)}v.enqueue(b),S()}},_=>{v.error(_)})}}});return new Response(x)}else throw new vSe(`fetch for "${u.url}" responded with ${u.status}: ${u.statusText}`,u)}).then(u=>{switch(l){case"arraybuffer":return u.arrayBuffer();case"blob":return u.blob();case"document":return u.text().then(c=>new DOMParser().parseFromString(c,s));case"json":return u.json();default:if(s===void 0)return u.text();{const f=/charset="?([^;"\s]*)"?/i.exec(s),h=f&&f[1]?f[1].toLowerCase():void 0,m=new TextDecoder(h);return u.arrayBuffer().then(g=>m.decode(g))}}}).then(u=>{xs.add(e,u);const c=ss[e];delete ss[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onLoad&&m.onLoad(u)}}).catch(u=>{const c=ss[e];if(c===void 0)throw this.manager.itemError(e),u;delete ss[e];for(let f=0,h=c.length;f<h;f++){const m=c[f];m.onError&&m.onError(u)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class ySe extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ha(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=qm.parse(e[r]);n.push(i)}return n}}class xSe extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=[],s=new h1,l=new ha(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(a.withCredentials);let u=0;function c(f){l.load(e[f],function(h){const m=a.parse(h,!0);o[f]={width:m.width,height:m.height,format:m.format,mipmaps:m.mipmaps},u+=1,u===6&&(m.mipmapCount===1&&(s.minFilter=hn),s.image=o,s.format=m.format,s.needsUpdate=!0,n&&n(s))},r,i)}if(Array.isArray(e))for(let f=0,h=e.length;f<h;++f)c(f);else l.load(e,function(f){const h=a.parse(f,!0);if(h.isCubemap){const m=h.mipmaps.length/h.mipmapCount;for(let g=0;g<m;g++){o[g]={mipmaps:[]};for(let y=0;y<h.mipmapCount;y++)o[g].mipmaps.push(h.mipmaps[g*h.mipmapCount+y]),o[g].format=h.format,o[g].width=h.width,o[g].height=h.height}s.image=o}else s.image.width=h.width,s.image.height=h.height,s.mipmaps=h.mipmaps;h.mipmapCount===1&&(s.minFilter=hn),s.format=h.format,s.needsUpdate=!0,n&&n(s)},r,i);return s}}class Km extends Ci{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=xs.get(e);if(o!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o;const s=jm("img");function l(){c(),xs.add(e,this),n&&n(this),a.manager.itemEnd(e)}function u(f){c(),i&&i(f),a.manager.itemError(e),a.manager.itemEnd(e)}function c(){s.removeEventListener("load",l,!1),s.removeEventListener("error",u,!1)}return s.addEventListener("load",l,!1),s.addEventListener("error",u,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class d8 extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=new yg;a.colorSpace=oa;const o=new Km(this.manager);o.setCrossOrigin(this.crossOrigin),o.setPath(this.path);let s=0;function l(u){o.load(e[u],function(c){a.images[u]=c,s++,s===6&&(a.needsUpdate=!0,n&&n(a))},void 0,i)}for(let u=0;u<e.length;++u)l(u);return a}}class bP extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new Fo,s=new ha(this.manager);return s.setResponseType("arraybuffer"),s.setRequestHeader(this.requestHeader),s.setPath(this.path),s.setWithCredentials(a.withCredentials),s.load(e,function(l){let u;try{u=a.parse(l)}catch(c){if(i!==void 0)i(c);else{console.error(c);return}}u.image!==void 0?o.image=u.image:u.data!==void 0&&(o.image.width=u.width,o.image.height=u.height,o.image.data=u.data),o.wrapS=u.wrapS!==void 0?u.wrapS:gr,o.wrapT=u.wrapT!==void 0?u.wrapT:gr,o.magFilter=u.magFilter!==void 0?u.magFilter:hn,o.minFilter=u.minFilter!==void 0?u.minFilter:hn,o.anisotropy=u.anisotropy!==void 0?u.anisotropy:1,u.colorSpace!==void 0&&(o.colorSpace=u.colorSpace),u.flipY!==void 0&&(o.flipY=u.flipY),u.format!==void 0&&(o.format=u.format),u.type!==void 0&&(o.type=u.type),u.mipmaps!==void 0&&(o.mipmaps=u.mipmaps,o.minFilter=Oo),u.mipmapCount===1&&(o.minFilter=hn),u.generateMipmaps!==void 0&&(o.generateMipmaps=u.generateMipmaps),o.needsUpdate=!0,n&&n(o,u)},r,i),o}}class _Se extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=new yn,o=new Km(this.manager);return o.setCrossOrigin(this.crossOrigin),o.setPath(this.path),o.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},r,i),a}}class Gl extends un{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new ht(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class p8 extends Gl{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.groundColor=new ht(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const ob=new Rt,CN=new ee,ON=new ee;class MP{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new We(512,512),this.map=null,this.mapPass=null,this.matrix=new Rt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new xg,this._frameExtents=new We(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;CN.setFromMatrixPosition(e.matrixWorld),n.position.copy(CN),ON.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(ON),n.updateMatrixWorld(),ob.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(ob),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(ob)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class SSe extends MP{constructor(){super(new lr(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=Th*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(r!==n.fov||i!==n.aspect||a!==n.far)&&(n.fov=r,n.aspect=i,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class m8 extends Gl{constructor(e,n,r=0,i=Math.PI/3,a=0,o=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.distance=r,this.angle=i,this.penumbra=a,this.decay=o,this.map=null,this.shadow=new SSe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const RN=new Rt,Kd=new ee,sb=new ee;class wSe extends MP{constructor(){super(new lr(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new We(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new ee(1,0,0),new ee(-1,0,0),new ee(0,0,1),new ee(0,0,-1),new ee(0,1,0),new ee(0,-1,0)],this._cubeUps=[new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,1,0),new ee(0,0,1),new ee(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,a=e.distance||r.far;a!==r.far&&(r.far=a,r.updateProjectionMatrix()),Kd.setFromMatrixPosition(e.matrixWorld),r.position.copy(Kd),sb.copy(r.position),sb.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(sb),r.updateMatrixWorld(),i.makeTranslation(-Kd.x,-Kd.y,-Kd.z),RN.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(RN)}}class g8 extends Gl{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new wSe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class bSe extends MP{constructor(){super(new Ms(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class v8 extends Gl{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(un.DEFAULT_UP),this.updateMatrix(),this.target=new un,this.shadow=new bSe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class y8 extends Gl{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class x8 extends Gl{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class _8{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new ee)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.282095),n.addScaledVector(o[1],.488603*i),n.addScaledVector(o[2],.488603*a),n.addScaledVector(o[3],.488603*r),n.addScaledVector(o[4],1.092548*(r*i)),n.addScaledVector(o[5],1.092548*(i*a)),n.addScaledVector(o[6],.315392*(3*a*a-1)),n.addScaledVector(o[7],1.092548*(r*a)),n.addScaledVector(o[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,a=e.z,o=this.coefficients;return n.copy(o[0]).multiplyScalar(.886227),n.addScaledVector(o[1],2*.511664*i),n.addScaledVector(o[2],2*.511664*a),n.addScaledVector(o[3],2*.511664*r),n.addScaledVector(o[4],2*.429043*r*i),n.addScaledVector(o[5],2*.429043*i*a),n.addScaledVector(o[6],.743125*a*a-.247708),n.addScaledVector(o[7],2*.429043*r*a),n.addScaledVector(o[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,a=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*a,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*a,n[6]=.315392*(3*a*a-1),n[7]=1.092548*r*a,n[8]=.546274*(r*r-i*i)}}class S8 extends Gl{constructor(e=new _8,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class T1 extends Ci{constructor(e){super(e),this.textures={}}load(e,n,r,i){const a=this,o=new ha(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(a){return n[a]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",a),n[a]}const i=T1.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new ht().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const a in e.uniforms){const o=e.uniforms[a];switch(i.uniforms[a]={},o.type){case"t":i.uniforms[a].value=r(o.value);break;case"c":i.uniforms[a].value=new ht().setHex(o.value);break;case"v2":i.uniforms[a].value=new We().fromArray(o.value);break;case"v3":i.uniforms[a].value=new ee().fromArray(o.value);break;case"v4":i.uniforms[a].value=new mn().fromArray(o.value);break;case"m3":i.uniforms[a].value=new zt().fromArray(o.value);break;case"m4":i.uniforms[a].value=new Rt().fromArray(o.value);break;default:i.uniforms[a].value=o.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const a in e.extensions)i.extensions[a]=e.extensions[a];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let a=e.normalScale;Array.isArray(a)===!1&&(a=[a,a]),i.normalScale=new We().fromArray(a)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new We().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:Q6,SpriteMaterial:uP,RawShaderMaterial:e8,ShaderMaterial:Gi,PointsMaterial:fP,MeshPhysicalMaterial:xP,MeshStandardMaterial:yP,MeshPhongMaterial:t8,MeshToonMaterial:n8,MeshNormalMaterial:r8,MeshLambertMaterial:i8,MeshDepthMaterial:o1,MeshDistanceMaterial:s1,MeshBasicMaterial:Go,MeshMatcapMaterial:a8,LineDashedMaterial:o8,LineBasicMaterial:Pi,Material:hi};return new n[e]}}class OA{static decodeText(e){if(console.warn("THREE.LoaderUtils: decodeText() has been deprecated with r165 and will be removed with r175. Use TextDecoder instead."),typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class EP extends Wt{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class w8 extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ha(a.manager);o.setPath(a.path),o.setRequestHeader(a.requestHeader),o.setWithCredentials(a.withCredentials),o.load(e,function(s){try{n(a.parse(JSON.parse(s)))}catch(l){i?i(l):console.error(l),a.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(m,g){if(n[g]!==void 0)return n[g];const x=m.interleavedBuffers[g],v=a(m,x.buffer),S=Lf(x.type,v),_=new c1(S,x.stride);return _.uuid=x.uuid,n[g]=_,_}function a(m,g){if(r[g]!==void 0)return r[g];const x=m.arrayBuffers[g],v=new Uint32Array(x).buffer;return r[g]=v,v}const o=e.isInstancedBufferGeometry?new EP:new Wt,s=e.data.index;if(s!==void 0){const m=Lf(s.type,s.array);o.setIndex(new _n(m,1))}const l=e.data.attributes;for(const m in l){const g=l[m];let y;if(g.isInterleavedBufferAttribute){const x=i(e.data,g.data);y=new fc(x,g.itemSize,g.offset,g.normalized)}else{const x=Lf(g.type,g.array),v=g.isInstancedBufferAttribute?hc:_n;y=new v(x,g.itemSize,g.normalized)}g.name!==void 0&&(y.name=g.name),g.usage!==void 0&&y.setUsage(g.usage),o.setAttribute(m,y)}const u=e.data.morphAttributes;if(u)for(const m in u){const g=u[m],y=[];for(let x=0,v=g.length;x<v;x++){const S=g[x];let _;if(S.isInterleavedBufferAttribute){const b=i(e.data,S.data);_=new fc(b,S.itemSize,S.offset,S.normalized)}else{const b=Lf(S.type,S.array);_=new _n(b,S.itemSize,S.normalized)}S.name!==void 0&&(_.name=S.name),y.push(_)}o.morphAttributes[m]=y}e.data.morphTargetsRelative&&(o.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let m=0,g=f.length;m!==g;++m){const y=f[m];o.addGroup(y.start,y.count,y.materialIndex)}const h=e.data.boundingSphere;if(h!==void 0){const m=new ee;h.center!==void 0&&m.fromArray(h.center),o.boundingSphere=new qr(m,h.radius)}return e.name&&(o.name=e.name),e.userData&&(o.userData=e.userData),o}}class MSe extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=this.path===""?OA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||o;const s=new ha(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials),s.load(e,function(l){let u=null;try{u=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const c=u.metadata;if(c===void 0||c.type===void 0||c.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}a.parse(u,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?OA.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const a=new ha(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials);const o=await a.loadAsync(e,n),s=JSON.parse(o),l=s.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(s)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),a=this.parseGeometries(e.geometries,i),o=this.parseImages(e.images,function(){n!==void 0&&n(u)}),s=this.parseTextures(e.textures,o),l=this.parseMaterials(e.materials,s),u=this.parseObject(e.object,a,l,s,r),c=this.parseSkeletons(e.skeletons,u);if(this.bindSkeletons(u,c),n!==void 0){let f=!1;for(const h in o)if(o[h].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(u)}return u}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),a=await this.parseImagesAsync(e.images),o=this.parseTextures(e.textures,a),s=this.parseMaterials(e.materials,o),l=this.parseObject(e.object,i,s,o,n),u=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,u),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const a=new Zu().fromJSON(e[r]);n[a.uuid]=a}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(a){a.isBone&&(i[a.uuid]=a)}),e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=new f1().fromJSON(e[a],i);r[s.uuid]=s}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new w8;for(let a=0,o=e.length;a<o;a++){let s;const l=e[a];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":s=i.parse(l);break;default:l.type in PN?s=PN[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}s.uuid=l.uuid,l.name!==void 0&&(s.name=l.name),l.userData!==void 0&&(s.userData=l.userData),r[l.uuid]=s}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const a=new T1;a.setTextures(n);for(let o=0,s=e.length;o<s;o++){const l=e[o];r[l.uuid]===void 0&&(r[l.uuid]=a.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],a=qm.parse(i);n[a.uuid]=a}return n}parseImages(e,n){const r=this,i={};let a;function o(l){return r.manager.itemStart(l),a.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function s(l){if(typeof l=="string"){const u=l,c=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(u)?u:r.resourcePath+u;return o(c)}else return l.data?{data:Lf(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new A1(n);a=new Km(l),a.setCrossOrigin(this.crossOrigin);for(let u=0,c=e.length;u<c;u++){const f=e[u],h=f.url;if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const x=h[g],v=s(x);v!==null&&(v instanceof HTMLImageElement?m.push(v):m.push(new Fo(v.data,v.width,v.height)))}i[f.uuid]=new Fu(m)}else{const m=s(f.url);i[f.uuid]=new Fu(m)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function a(o){if(typeof o=="string"){const s=o,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(s)?s:n.resourcePath+s;return await i.loadAsync(l)}else return o.data?{data:Lf(o.type,o.data),width:o.width,height:o.height}:null}if(e!==void 0&&e.length>0){i=new Km(this.manager),i.setCrossOrigin(this.crossOrigin);for(let o=0,s=e.length;o<s;o++){const l=e[o],u=l.url;if(Array.isArray(u)){const c=[];for(let f=0,h=u.length;f<h;f++){const m=u[f],g=await a(m);g!==null&&(g instanceof HTMLImageElement?c.push(g):c.push(new Fo(g.data,g.width,g.height)))}r[l.uuid]=new Fu(c)}else{const c=await a(l.url);r[l.uuid]=new Fu(c)}}}return r}parseTextures(e,n){function r(a,o){return typeof a=="number"?a:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",a),o[a])}const i={};if(e!==void 0)for(let a=0,o=e.length;a<o;a++){const s=e[a];s.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',s.uuid),n[s.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",s.image);const l=n[s.image],u=l.data;let c;Array.isArray(u)?(c=new yg,u.length===6&&(c.needsUpdate=!0)):(u&&u.data?c=new Fo:c=new yn,u&&(c.needsUpdate=!0)),c.source=l,c.uuid=s.uuid,s.name!==void 0&&(c.name=s.name),s.mapping!==void 0&&(c.mapping=r(s.mapping,ESe)),s.channel!==void 0&&(c.channel=s.channel),s.offset!==void 0&&c.offset.fromArray(s.offset),s.repeat!==void 0&&c.repeat.fromArray(s.repeat),s.center!==void 0&&c.center.fromArray(s.center),s.rotation!==void 0&&(c.rotation=s.rotation),s.wrap!==void 0&&(c.wrapS=r(s.wrap[0],IN),c.wrapT=r(s.wrap[1],IN)),s.format!==void 0&&(c.format=s.format),s.internalFormat!==void 0&&(c.internalFormat=s.internalFormat),s.type!==void 0&&(c.type=s.type),s.colorSpace!==void 0&&(c.colorSpace=s.colorSpace),s.minFilter!==void 0&&(c.minFilter=r(s.minFilter,LN)),s.magFilter!==void 0&&(c.magFilter=r(s.magFilter,LN)),s.anisotropy!==void 0&&(c.anisotropy=s.anisotropy),s.flipY!==void 0&&(c.flipY=s.flipY),s.generateMipmaps!==void 0&&(c.generateMipmaps=s.generateMipmaps),s.premultiplyAlpha!==void 0&&(c.premultiplyAlpha=s.premultiplyAlpha),s.unpackAlignment!==void 0&&(c.unpackAlignment=s.unpackAlignment),s.compareFunction!==void 0&&(c.compareFunction=s.compareFunction),s.userData!==void 0&&(c.userData=s.userData),i[s.uuid]=c}return i}parseObject(e,n,r,i,a){let o;function s(h){return n[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",h),n[h]}function l(h){if(h!==void 0){if(Array.isArray(h)){const m=[];for(let g=0,y=h.length;g<y;g++){const x=h[g];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),m.push(r[x])}return m}return r[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",h),r[h]}}function u(h){return i[h]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",h),i[h]}let c,f;switch(e.type){case"Scene":o=new _g,e.background!==void 0&&(Number.isInteger(e.background)?o.background=new ht(e.background):o.background=u(e.background)),e.environment!==void 0&&(o.environment=u(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?o.fog=new u1(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(o.fog=new l1(e.fog.color,e.fog.density)),e.fog.name!==""&&(o.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(o.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(o.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&o.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(o.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&o.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":o=new lr(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(o.focus=e.focus),e.zoom!==void 0&&(o.zoom=e.zoom),e.filmGauge!==void 0&&(o.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(o.filmOffset=e.filmOffset),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"OrthographicCamera":o=new Ms(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(o.zoom=e.zoom),e.view!==void 0&&(o.view=Object.assign({},e.view));break;case"AmbientLight":o=new y8(e.color,e.intensity);break;case"DirectionalLight":o=new v8(e.color,e.intensity);break;case"PointLight":o=new g8(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":o=new x8(e.color,e.intensity,e.width,e.height);break;case"SpotLight":o=new m8(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":o=new p8(e.color,e.groundColor,e.intensity);break;case"LightProbe":o=new S8().fromJSON(e);break;case"SkinnedMesh":c=s(e.geometry),f=l(e.material),o=new F6(c,f),e.bindMode!==void 0&&(o.bindMode=e.bindMode),e.bindMatrix!==void 0&&o.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(o.skeleton=e.skeleton);break;case"Mesh":c=s(e.geometry),f=l(e.material),o=new In(c,f);break;case"InstancedMesh":c=s(e.geometry),f=l(e.material);const h=e.count,m=e.instanceMatrix,g=e.instanceColor;o=new B6(c,f,h),o.instanceMatrix=new hc(new Float32Array(m.array),16),g!==void 0&&(o.instanceColor=new hc(new Float32Array(g.array),g.itemSize));break;case"BatchedMesh":c=s(e.geometry),f=l(e.material),o=new z6(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,f),o.geometry=c,o.perObjectFrustumCulled=e.perObjectFrustumCulled,o.sortObjects=e.sortObjects,o._drawRanges=e.drawRanges,o._reservedRanges=e.reservedRanges,o._visibility=e.visibility,o._active=e.active,o._bounds=e.bounds.map(y=>{const x=new Yr;x.min.fromArray(y.boxMin),x.max.fromArray(y.boxMax);const v=new qr;return v.radius=y.sphereRadius,v.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:x,sphereInitialized:y.sphereInitialized,sphere:v}}),o._maxGeometryCount=e.maxGeometryCount,o._maxVertexCount=e.maxVertexCount,o._maxIndexCount=e.maxIndexCount,o._geometryInitialized=e.geometryInitialized,o._geometryCount=e.geometryCount,o._matricesTexture=u(e.matricesTexture.uuid),e.colorsTexture!==void 0&&(o._colorsTexture=u(e.colorsTexture.uuid));break;case"LOD":o=new U6;break;case"Line":o=new Il(s(e.geometry),l(e.material));break;case"LineLoop":o=new H6(s(e.geometry),l(e.material));break;case"LineSegments":o=new Vo(s(e.geometry),l(e.material));break;case"PointCloud":case"Points":o=new j6(s(e.geometry),l(e.material));break;case"Sprite":o=new k6(l(e.material));break;case"Group":o=new Nf;break;case"Bone":o=new cP;break;default:o=new un}if(o.uuid=e.uuid,e.name!==void 0&&(o.name=e.name),e.matrix!==void 0?(o.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(o.matrixAutoUpdate=e.matrixAutoUpdate),o.matrixAutoUpdate&&o.matrix.decompose(o.position,o.quaternion,o.scale)):(e.position!==void 0&&o.position.fromArray(e.position),e.rotation!==void 0&&o.rotation.fromArray(e.rotation),e.quaternion!==void 0&&o.quaternion.fromArray(e.quaternion),e.scale!==void 0&&o.scale.fromArray(e.scale)),e.up!==void 0&&o.up.fromArray(e.up),e.castShadow!==void 0&&(o.castShadow=e.castShadow),e.receiveShadow!==void 0&&(o.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(o.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(o.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(o.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&o.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(o.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(o.visible=e.visible),e.frustumCulled!==void 0&&(o.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(o.renderOrder=e.renderOrder),e.userData!==void 0&&(o.userData=e.userData),e.layers!==void 0&&(o.layers.mask=e.layers),e.children!==void 0){const h=e.children;for(let m=0;m<h.length;m++)o.add(this.parseObject(h[m],n,r,i,a))}if(e.animations!==void 0){const h=e.animations;for(let m=0;m<h.length;m++){const g=h[m];o.animations.push(a[g])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(o.autoUpdate=e.autoUpdate);const h=e.levels;for(let m=0;m<h.length;m++){const g=h[m],y=o.getObjectByProperty("uuid",g.object);y!==void 0&&o.addLevel(y,g.distance,g.hysteresis)}}return o}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const ESe={UVMapping:Cl,CubeReflectionMapping:Ho,CubeRefractionMapping:Ol,EquirectangularReflectionMapping:Ah,EquirectangularRefractionMapping:Rm,CubeUVReflectionMapping:Xh},IN={RepeatWrapping:Im,ClampToEdgeWrapping:gr,MirroredRepeatWrapping:Lm},LN={NearestFilter:Fr,NearestMipmapNearestFilter:j2,NearestMipmapLinearFilter:If,LinearFilter:hn,LinearMipmapNearestFilter:Ep,LinearMipmapLinearFilter:Oo};class ASe extends Ci{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,o=xs.get(e);if(o!==void 0){if(a.manager.itemStart(e),o.then){o.then(u=>{n&&n(u),a.manager.itemEnd(e)}).catch(u=>{i&&i(u)});return}return setTimeout(function(){n&&n(o),a.manager.itemEnd(e)},0),o}const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader;const l=fetch(e,s).then(function(u){return u.blob()}).then(function(u){return createImageBitmap(u,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(u){return xs.add(e,u),n&&n(u),a.manager.itemEnd(e),u}).catch(function(u){i&&i(u),xs.remove(e),a.manager.itemError(e),a.manager.itemEnd(e)});xs.add(e,l),a.manager.itemStart(e)}}let Ny;class AP{static getContext(){return Ny===void 0&&(Ny=new(window.AudioContext||window.webkitAudioContext)),Ny}static setContext(e){Ny=e}}class TSe extends Ci{constructor(e){super(e)}load(e,n,r,i){const a=this,o=new ha(this.manager);o.setResponseType("arraybuffer"),o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){try{const u=l.slice(0);AP.getContext().decodeAudioData(u,function(f){n(f)}).catch(s)}catch(u){s(u)}},r,i);function s(l){i?i(l):console.error(l),a.manager.itemError(e)}}}const DN=new Rt,NN=new Rt,du=new Rt;class PSe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new lr,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new lr,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,du.copy(e.projectionMatrix);const i=n.eyeSep/2,a=i*n.near/n.focus,o=n.near*Math.tan(qu*n.fov*.5)/n.zoom;let s,l;NN.elements[12]=-i,DN.elements[12]=i,s=-o*n.aspect+a,l=o*n.aspect+a,du.elements[0]=2*n.near/(l-s),du.elements[8]=(l+s)/(l-s),this.cameraL.projectionMatrix.copy(du),s=-o*n.aspect-a,l=o*n.aspect-a,du.elements[0]=2*n.near/(l-s),du.elements[8]=(l+s)/(l-s),this.cameraR.projectionMatrix.copy(du)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(NN),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(DN)}}class TP{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=kN(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=kN();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function kN(){return(typeof performance>"u"?Date:performance).now()}const pu=new ee,UN=new ci,CSe=new ee,mu=new ee;class OSe extends un{constructor(){super(),this.type="AudioListener",this.context=AP.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new TP}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(pu,UN,CSe),mu.set(0,0,-1).applyQuaternion(UN),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(pu.x,i),n.positionY.linearRampToValueAtTime(pu.y,i),n.positionZ.linearRampToValueAtTime(pu.z,i),n.forwardX.linearRampToValueAtTime(mu.x,i),n.forwardY.linearRampToValueAtTime(mu.y,i),n.forwardZ.linearRampToValueAtTime(mu.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(pu.x,pu.y,pu.z),n.setOrientation(mu.x,mu.y,mu.z,r.x,r.y,r.z)}}class b8 extends un{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const gu=new ee,FN=new ci,RSe=new ee,vu=new ee;class ISe extends b8{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(gu,FN,RSe),vu.set(0,0,1).applyQuaternion(FN);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(gu.x,r),n.positionY.linearRampToValueAtTime(gu.y,r),n.positionZ.linearRampToValueAtTime(gu.z,r),n.orientationX.linearRampToValueAtTime(vu.x,r),n.orientationY.linearRampToValueAtTime(vu.y,r),n.orientationZ.linearRampToValueAtTime(vu.z,r)}else n.setPosition(gu.x,gu.y,gu.z),n.setOrientation(vu.x,vu.y,vu.z)}}class LSe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class M8{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,a,o;switch(n){case"quaternion":i=this._slerp,a=this._slerpAdditive,o=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,a=this._select,o=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,a=this._lerpAdditive,o=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=a,this._setIdentity=o,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,a=e*i+i;let o=this.cumulativeWeight;if(o===0){for(let s=0;s!==i;++s)r[a+s]=r[s];o=n}else{o+=n;const s=n/o;this._mixBufferRegion(r,a,0,s,i)}this.cumulativeWeight=o}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,a=this.cumulativeWeight,o=this.cumulativeWeightAdditive,s=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,a<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-a,n)}o>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,u=n+n;l!==u;++l)if(r[l]!==r[l+n]){s.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let a=r,o=i;a!==o;++a)n[a]=n[i+a%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,a){if(i>=.5)for(let o=0;o!==a;++o)e[n+o]=e[r+o]}_slerp(e,n,r,i){ci.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,a){const o=this._workIndex*a;ci.multiplyQuaternionsFlat(e,o,e,n,e,r),ci.slerpFlat(e,n,e,n,e,o,i)}_lerp(e,n,r,i,a){const o=1-i;for(let s=0;s!==a;++s){const l=n+s;e[l]=e[l]*o+e[r+s]*i}}_lerpAdditive(e,n,r,i,a){for(let o=0;o!==a;++o){const s=n+o;e[s]=e[s]+e[r+o]*i}}}const PP="\\[\\]\\.:\\/",DSe=new RegExp("["+PP+"]","g"),CP="[^"+PP+"]",NSe="[^"+PP.replace("\\.","")+"]",kSe=/((?:WC+[\/:])*)/.source.replace("WC",CP),USe=/(WCOD+)?/.source.replace("WCOD",NSe),FSe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",CP),BSe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",CP),zSe=new RegExp("^"+kSe+USe+FSe+BSe+"$"),HSe=["material","materials","bones","map"];class jSe{constructor(e,n,r){const i=r||on.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,a=r.length;i!==a;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class on{constructor(e,n,r){this.path=n,this.parsedPath=r||on.parseTrackName(n),this.node=on.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new on.Composite(e,n,r):new on(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(DSe,"")}static parseTrackName(e){const n=zSe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const a=r.nodeName.substring(i+1);HSe.indexOf(a)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=a)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(a){for(let o=0;o<a.length;o++){const s=a[o];if(s.name===n||s.uuid===n)return s;const l=r(s.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,a=r.length;i!==a;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let a=n.propertyIndex;if(e||(e=on.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let u=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let c=0;c<e.length;c++)if(e[c].name===u){u=c;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(u!==void 0){if(e[u]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[u]}}const o=e[i];if(o===void 0){const u=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+u+"."+i+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(a!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}l=this.BindingType.ArrayElement,this.resolvedProperty=o,this.propertyIndex=a}else o.fromArray!==void 0&&o.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=o):Array.isArray(o)?(l=this.BindingType.EntireArray,this.resolvedProperty=o):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}on.Composite=jSe;on.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};on.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};on.prototype.GetterByBindingType=[on.prototype._getValue_direct,on.prototype._getValue_array,on.prototype._getValue_arrayElement,on.prototype._getValue_toArray];on.prototype.SetterByBindingTypeAndVersioning=[[on.prototype._setValue_direct,on.prototype._setValue_direct_setNeedsUpdate,on.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[on.prototype._setValue_array,on.prototype._setValue_array_setNeedsUpdate,on.prototype._setValue_array_setMatrixWorldNeedsUpdate],[on.prototype._setValue_arrayElement,on.prototype._setValue_arrayElement_setNeedsUpdate,on.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[on.prototype._setValue_fromArray,on.prototype._setValue_fromArray_setNeedsUpdate,on.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class GSe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=fa(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,a=this._bindings,o=a.length;let s,l=e.length,u=this.nCachedObjects_;for(let c=0,f=arguments.length;c!==f;++c){const h=arguments[c],m=h.uuid;let g=n[m];if(g===void 0){g=l++,n[m]=g,e.push(h);for(let y=0,x=o;y!==x;++y)a[y].push(new on(h,r[y],i[y]))}else if(g<u){s=e[g];const y=--u,x=e[y];n[x.uuid]=g,e[g]=x,n[m]=y,e[y]=h;for(let v=0,S=o;v!==S;++v){const _=a[v],b=_[y];let E=_[g];_[g]=b,E===void 0&&(E=new on(h,r[v],i[v])),_[y]=E}}else e[g]!==s&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=u}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_;for(let o=0,s=arguments.length;o!==s;++o){const l=arguments[o],u=l.uuid,c=n[u];if(c!==void 0&&c>=a){const f=a++,h=e[f];n[h.uuid]=c,e[c]=h,n[u]=f,e[f]=l;for(let m=0,g=i;m!==g;++m){const y=r[m],x=y[f],v=y[c];y[c]=x,y[f]=v}}}this.nCachedObjects_=a}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let a=this.nCachedObjects_,o=e.length;for(let s=0,l=arguments.length;s!==l;++s){const u=arguments[s],c=u.uuid,f=n[c];if(f!==void 0)if(delete n[c],f<a){const h=--a,m=e[h],g=--o,y=e[g];n[m.uuid]=f,e[f]=m,n[y.uuid]=h,e[h]=y,e.pop();for(let x=0,v=i;x!==v;++x){const S=r[x],_=S[h],b=S[g];S[f]=_,S[h]=b,S.pop()}}else{const h=--o,m=e[h];h>0&&(n[m.uuid]=f),e[f]=m,e.pop();for(let g=0,y=i;g!==y;++g){const x=r[g];x[f]=x[h],x.pop()}}}this.nCachedObjects_=a}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const a=this._bindings;if(i!==void 0)return a[i];const o=this._paths,s=this._parsedPaths,l=this._objects,u=l.length,c=this.nCachedObjects_,f=new Array(u);i=a.length,r[e]=i,o.push(e),s.push(n),a.push(f);for(let h=c,m=l.length;h!==m;++h){const g=l[h];f[h]=new on(g,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,a=this._parsedPaths,o=this._bindings,s=o.length-1,l=o[s],u=e[s];n[u]=r,o[r]=l,o.pop(),a[r]=a[s],a.pop(),i[r]=i[s],i.pop()}}}class E8{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const a=n.tracks,o=a.length,s=new Array(o),l={endingStart:ku,endingEnd:ku};for(let u=0;u!==o;++u){const c=a[u].createInterpolant(null);s[u]=c,c.settings=l}this._interpolantSettings=l,this._interpolants=s,this._propertyBindings=new Array(o),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=u6,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,a=e._clip.duration,o=a/i,s=i/a;e.warp(1,o,n),this.warp(s,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,a=i.time,o=this.timeScale;let s=this._timeScaleInterpolant;s===null&&(s=i._lendControlInterpolant(),this._timeScaleInterpolant=s);const l=s.parameterPositions,u=s.sampleValues;return l[0]=a,l[1]=a+r,u[0]=e/o,u[1]=n/o,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const a=this._startTime;if(a!==null){const l=(e-a)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const o=this._updateTime(n),s=this._updateWeight(e);if(s>0){const l=this._interpolants,u=this._propertyBindings;switch(this.blendMode){case K2:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulateAdditive(s);break;case n1:default:for(let c=0,f=l.length;c!==f;++c)l[c].evaluate(o),u[c].accumulate(i,s)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,a=this._loopCount;const o=r===c6;if(e===0)return a===-1?i:o&&(a&1)===1?n-i:i;if(r===l6){a===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(a===-1&&(e>=0?(a=0,this._setEndings(!0,this.repetitions===0,o)):this._setEndings(this.repetitions===0,!0,o)),i>=n||i<0){const s=Math.floor(i/n);i-=n*s,a+=Math.abs(s);const l=this.repetitions-a;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const u=e<0;this._setEndings(u,!u,o)}else this._setEndings(!1,!1,o);this._loopCount=a,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:s})}}else this.time=i;if(o&&(a&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Uu,i.endingEnd=Uu):(e?i.endingStart=this.zeroSlopeAtStart?Uu:ku:i.endingStart=km,n?i.endingEnd=this.zeroSlopeAtEnd?Uu:ku:i.endingEnd=km)}_scheduleFading(e,n,r){const i=this._mixer,a=i.time;let o=this._weightInterpolant;o===null&&(o=i._lendControlInterpolant(),this._weightInterpolant=o);const s=o.parameterPositions,l=o.sampleValues;return s[0]=a,l[0]=n,s[1]=a+e,l[1]=r,this}}const VSe=new Float32Array(1);class WSe extends Fs{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,a=i.length,o=e._propertyBindings,s=e._interpolants,l=r.uuid,u=this._bindingsByRootAndName;let c=u[l];c===void 0&&(c={},u[l]=c);for(let f=0;f!==a;++f){const h=i[f],m=h.name;let g=c[m];if(g!==void 0)++g.referenceCount,o[f]=g;else{if(g=o[f],g!==void 0){g._cacheIndex===null&&(++g.referenceCount,this._addInactiveBinding(g,l,m));continue}const y=n&&n._propertyBindings[f].binding.parsedPath;g=new M8(on.create(r,m,y),h.ValueTypeName,h.getValueSize()),++g.referenceCount,this._addInactiveBinding(g,l,m),o[f]=g}s[f].resultBuffer=g.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,a=this._actionsByClip[i];this._bindAction(e,a&&a.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];a.useCount++===0&&(this._lendBinding(a),a.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.useCount===0&&(a.restoreOriginalState(),this._takeBackBinding(a))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,a=this._actionsByClip;let o=a[n];if(o===void 0)o={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,a[n]=o;else{const s=o.knownActions;e._byClipCacheIndex=s.length,s.push(e)}e._cacheIndex=i.length,i.push(e),o.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const a=e._clip.uuid,o=this._actionsByClip,s=o[a],l=s.knownActions,u=l[l.length-1],c=e._byClipCacheIndex;u._byClipCacheIndex=c,l[c]=u,l.pop(),e._byClipCacheIndex=null;const f=s.actionByRoot,h=(e._localRoot||this._root).uuid;delete f[h],l.length===0&&delete o[a],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const a=n[r];--a.referenceCount===0&&this._removeInactiveBinding(a)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,a=this._bindings;let o=i[n];o===void 0&&(o={},i[n]=o),o[r]=e,e._cacheIndex=a.length,a.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,a=r.path,o=this._bindingsByRootAndName,s=o[i],l=n[n.length-1],u=e._cacheIndex;l._cacheIndex=u,n[u]=l,n.pop(),delete s[a],Object.keys(s).length===0&&delete o[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,a=n[i];e._cacheIndex=i,n[i]=e,a._cacheIndex=r,n[r]=a}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new SP(new Float32Array(2),new Float32Array(2),1,VSe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,a=n[i];e.__cacheIndex=i,n[i]=e,a.__cacheIndex=r,n[r]=a}clipAction(e,n,r){const i=n||this._root,a=i.uuid;let o=typeof e=="string"?qm.findByName(i,e):e;const s=o!==null?o.uuid:e,l=this._actionsByClip[s];let u=null;if(r===void 0&&(o!==null?r=o.blendMode:r=n1),l!==void 0){const f=l.actionByRoot[a];if(f!==void 0&&f.blendMode===r)return f;u=l.knownActions[0],o===null&&(o=u._clip)}if(o===null)return null;const c=new E8(this,o,n,r);return this._bindAction(c,u),this._addInactiveAction(c,s,a),c}existingAction(e,n){const r=n||this._root,i=r.uuid,a=typeof e=="string"?qm.findByName(r,e):e,o=a?a.uuid:e,s=this._actionsByClip[o];return s!==void 0&&s.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,a=Math.sign(e),o=this._accuIndex^=1;for(let u=0;u!==r;++u)n[u]._update(i,e,a,o);const s=this._bindings,l=this._nActiveBindings;for(let u=0;u!==l;++u)s[u].apply(o);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,a=i[r];if(a!==void 0){const o=a.knownActions;for(let s=0,l=o.length;s!==l;++s){const u=o[s];this._deactivateAction(u);const c=u._cacheIndex,f=n[n.length-1];u._cacheIndex=null,u._byClipCacheIndex=null,f._cacheIndex=c,n[c]=f,n.pop(),this._removeInactiveBindingsForAction(u)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const o in r){const s=r[o].actionByRoot,l=s[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,a=i[n];if(a!==void 0)for(const o in a){const s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class OP{constructor(e){this.value=e}clone(){return new OP(this.value.clone===void 0?this.value:this.value.clone())}}let $Se=0;class XSe extends Fs{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:$Se++}),this.name="",this.usage=zm,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const a=Array.isArray(n[r])?n[r]:[n[r]];for(let o=0;o<a.length;o++)this.uniforms.push(a[o].clone())}return this}clone(){return new this.constructor().copy(this)}}class YSe extends c1{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class qSe{constructor(e,n,r,i,a){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const BN=new Rt;class RP{constructor(e,n,r=0,i=1/0){this.ray=new _c(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Ku,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return BN.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(BN),this}intersectObject(e,n=!0,r=[]){return RA(e,this,r,n),r.sort(zN),r}intersectObjects(e,n=!0,r=[]){for(let i=0,a=e.length;i<a;i++)RA(e[i],this,r,n);return r.sort(zN),r}}function zN(t,e){return t.distance-e.distance}function RA(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const a=t.children;for(let o=0,s=a.length;o<s;o++)RA(a[o],e,n,!0)}}class IA{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(er(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class KSe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const HN=new We;class ZSe{constructor(e=new We(1/0,1/0),n=new We(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=HN.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,HN).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const jN=new ee,ky=new ee;class JSe{constructor(e=new ee,n=new ee){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){jN.subVectors(e,this.start),ky.subVectors(this.end,this.start);const r=ky.dot(ky);let a=ky.dot(jN)/r;return n&&(a=er(a,0,1)),a}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const GN=new ee;class QSe extends un{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Wt,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let o=0,s=1,l=32;o<l;o++,s++){const u=o/l*Math.PI*2,c=s/l*Math.PI*2;i.push(Math.cos(u),Math.sin(u),1,Math.cos(c),Math.sin(c),1)}r.setAttribute("position",new bt(i,3));const a=new Pi({fog:!1,toneMapped:!1});this.cone=new Vo(r,a),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),GN.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(GN),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const rl=new ee,Uy=new Rt,lb=new Rt;class ewe extends Vo{constructor(e){const n=A8(e),r=new Wt,i=[],a=[],o=new ht(0,0,1),s=new ht(0,1,0);for(let u=0;u<n.length;u++){const c=n[u];c.parent&&c.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),a.push(o.r,o.g,o.b),a.push(s.r,s.g,s.b))}r.setAttribute("position",new bt(i,3)),r.setAttribute("color",new bt(a,3));const l=new Pi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");lb.copy(this.root.matrixWorld).invert();for(let a=0,o=0;a<n.length;a++){const s=n[a];s.parent&&s.parent.isBone&&(Uy.multiplyMatrices(lb,s.matrixWorld),rl.setFromMatrixPosition(Uy),i.setXYZ(o,rl.x,rl.y,rl.z),Uy.multiplyMatrices(lb,s.parent.matrixWorld),rl.setFromMatrixPosition(Uy),i.setXYZ(o+1,rl.x,rl.y,rl.z),o+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function A8(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,A8(t.children[n]));return e}class twe extends In{constructor(e,n,r){const i=new Mg(n,4,2),a=new Go({wireframe:!0,fog:!1,toneMapped:!1});super(i,a),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nwe=new ee,VN=new ht,WN=new ht;class rwe extends un{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new bg(n);i.rotateY(Math.PI*.5),this.material=new Go({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const a=i.getAttribute("position"),o=new Float32Array(a.count*3);i.setAttribute("color",new _n(o,3)),this.add(new In(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");VN.copy(this.light.color),WN.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const a=r<i/2?VN:WN;n.setXYZ(r,a.r,a.g,a.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nwe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iwe extends Vo{constructor(e=10,n=10,r=4473924,i=8947848){r=new ht(r),i=new ht(i);const a=n/2,o=e/n,s=e/2,l=[],u=[];for(let h=0,m=0,g=-s;h<=n;h++,g+=o){l.push(-s,0,g,s,0,g),l.push(g,0,-s,g,0,s);const y=h===a?r:i;y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3,y.toArray(u,m),m+=3}const c=new Wt;c.setAttribute("position",new bt(l,3)),c.setAttribute("color",new bt(u,3));const f=new Pi({vertexColors:!0,toneMapped:!1});super(c,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class awe extends Vo{constructor(e=10,n=16,r=8,i=64,a=4473924,o=8947848){a=new ht(a),o=new ht(o);const s=[],l=[];if(n>1)for(let f=0;f<n;f++){const h=f/n*(Math.PI*2),m=Math.sin(h)*e,g=Math.cos(h)*e;s.push(0,0,0),s.push(m,0,g);const y=f&1?a:o;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let f=0;f<r;f++){const h=f&1?a:o,m=e-e/r*f;for(let g=0;g<i;g++){let y=g/i*(Math.PI*2),x=Math.sin(y)*m,v=Math.cos(y)*m;s.push(x,0,v),l.push(h.r,h.g,h.b),y=(g+1)/i*(Math.PI*2),x=Math.sin(y)*m,v=Math.cos(y)*m,s.push(x,0,v),l.push(h.r,h.g,h.b)}}const u=new Wt;u.setAttribute("position",new bt(s,3)),u.setAttribute("color",new bt(l,3));const c=new Pi({vertexColors:!0,toneMapped:!1});super(u,c),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const $N=new ee,Fy=new ee,XN=new ee;class owe extends un{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Wt;i.setAttribute("position",new bt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const a=new Pi({fog:!1,toneMapped:!1});this.lightPlane=new Il(i,a),this.add(this.lightPlane),i=new Wt,i.setAttribute("position",new bt([0,0,0,0,0,1],3)),this.targetLine=new Il(i,a),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),$N.setFromMatrixPosition(this.light.matrixWorld),Fy.setFromMatrixPosition(this.light.target.matrixWorld),XN.subVectors(Fy,$N),this.lightPlane.lookAt(Fy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Fy),this.targetLine.scale.z=XN.length()}}const By=new ee,Zn=new vg;class swe extends Vo{constructor(e){const n=new Wt,r=new Pi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],a=[],o={};s("n1","n2"),s("n2","n4"),s("n4","n3"),s("n3","n1"),s("f1","f2"),s("f2","f4"),s("f4","f3"),s("f3","f1"),s("n1","f1"),s("n2","f2"),s("n3","f3"),s("n4","f4"),s("p","n1"),s("p","n2"),s("p","n3"),s("p","n4"),s("u1","u2"),s("u2","u3"),s("u3","u1"),s("c","t"),s("p","c"),s("cn1","cn2"),s("cn3","cn4"),s("cf1","cf2"),s("cf3","cf4");function s(g,y){l(g),l(y)}function l(g){i.push(0,0,0),a.push(0,0,0),o[g]===void 0&&(o[g]=[]),o[g].push(i.length/3-1)}n.setAttribute("position",new bt(i,3)),n.setAttribute("color",new bt(a,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=o,this.update();const u=new ht(16755200),c=new ht(16711680),f=new ht(43775),h=new ht(16777215),m=new ht(3355443);this.setColors(u,c,f,h,m)}setColors(e,n,r,i,a){const s=this.geometry.getAttribute("color");s.setXYZ(0,e.r,e.g,e.b),s.setXYZ(1,e.r,e.g,e.b),s.setXYZ(2,e.r,e.g,e.b),s.setXYZ(3,e.r,e.g,e.b),s.setXYZ(4,e.r,e.g,e.b),s.setXYZ(5,e.r,e.g,e.b),s.setXYZ(6,e.r,e.g,e.b),s.setXYZ(7,e.r,e.g,e.b),s.setXYZ(8,e.r,e.g,e.b),s.setXYZ(9,e.r,e.g,e.b),s.setXYZ(10,e.r,e.g,e.b),s.setXYZ(11,e.r,e.g,e.b),s.setXYZ(12,e.r,e.g,e.b),s.setXYZ(13,e.r,e.g,e.b),s.setXYZ(14,e.r,e.g,e.b),s.setXYZ(15,e.r,e.g,e.b),s.setXYZ(16,e.r,e.g,e.b),s.setXYZ(17,e.r,e.g,e.b),s.setXYZ(18,e.r,e.g,e.b),s.setXYZ(19,e.r,e.g,e.b),s.setXYZ(20,e.r,e.g,e.b),s.setXYZ(21,e.r,e.g,e.b),s.setXYZ(22,e.r,e.g,e.b),s.setXYZ(23,e.r,e.g,e.b),s.setXYZ(24,n.r,n.g,n.b),s.setXYZ(25,n.r,n.g,n.b),s.setXYZ(26,n.r,n.g,n.b),s.setXYZ(27,n.r,n.g,n.b),s.setXYZ(28,n.r,n.g,n.b),s.setXYZ(29,n.r,n.g,n.b),s.setXYZ(30,n.r,n.g,n.b),s.setXYZ(31,n.r,n.g,n.b),s.setXYZ(32,r.r,r.g,r.b),s.setXYZ(33,r.r,r.g,r.b),s.setXYZ(34,r.r,r.g,r.b),s.setXYZ(35,r.r,r.g,r.b),s.setXYZ(36,r.r,r.g,r.b),s.setXYZ(37,r.r,r.g,r.b),s.setXYZ(38,i.r,i.g,i.b),s.setXYZ(39,i.r,i.g,i.b),s.setXYZ(40,a.r,a.g,a.b),s.setXYZ(41,a.r,a.g,a.b),s.setXYZ(42,a.r,a.g,a.b),s.setXYZ(43,a.r,a.g,a.b),s.setXYZ(44,a.r,a.g,a.b),s.setXYZ(45,a.r,a.g,a.b),s.setXYZ(46,a.r,a.g,a.b),s.setXYZ(47,a.r,a.g,a.b),s.setXYZ(48,a.r,a.g,a.b),s.setXYZ(49,a.r,a.g,a.b),s.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Zn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),or("c",n,e,Zn,0,0,-1),or("t",n,e,Zn,0,0,1),or("n1",n,e,Zn,-r,-i,-1),or("n2",n,e,Zn,r,-i,-1),or("n3",n,e,Zn,-r,i,-1),or("n4",n,e,Zn,r,i,-1),or("f1",n,e,Zn,-r,-i,1),or("f2",n,e,Zn,r,-i,1),or("f3",n,e,Zn,-r,i,1),or("f4",n,e,Zn,r,i,1),or("u1",n,e,Zn,r*.7,i*1.1,-1),or("u2",n,e,Zn,-r*.7,i*1.1,-1),or("u3",n,e,Zn,0,i*2,-1),or("cf1",n,e,Zn,-r,0,1),or("cf2",n,e,Zn,r,0,1),or("cf3",n,e,Zn,0,-i,1),or("cf4",n,e,Zn,0,i,1),or("cn1",n,e,Zn,-r,0,-1),or("cn2",n,e,Zn,r,0,-1),or("cn3",n,e,Zn,0,-i,-1),or("cn4",n,e,Zn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function or(t,e,n,r,i,a,o){By.set(i,a,o).unproject(r);const s=e[t];if(s!==void 0){const l=n.getAttribute("position");for(let u=0,c=s.length;u<c;u++)l.setXYZ(s[u],By.x,By.y,By.z)}}const zy=new Yr;class lwe extends Vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),a=new Wt;a.setIndex(new _n(r,1)),a.setAttribute("position",new _n(i,3)),super(a,new Pi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&zy.setFromObject(this.object),zy.isEmpty())return;const n=zy.min,r=zy.max,i=this.geometry.attributes.position,a=i.array;a[0]=r.x,a[1]=r.y,a[2]=r.z,a[3]=n.x,a[4]=r.y,a[5]=r.z,a[6]=n.x,a[7]=n.y,a[8]=r.z,a[9]=r.x,a[10]=n.y,a[11]=r.z,a[12]=r.x,a[13]=r.y,a[14]=n.z,a[15]=n.x,a[16]=r.y,a[17]=n.z,a[18]=n.x,a[19]=n.y,a[20]=n.z,a[21]=r.x,a[22]=n.y,a[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class uwe extends Vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],a=new Wt;a.setIndex(new _n(r,1)),a.setAttribute("position",new bt(i,3)),super(a,new Pi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class cwe extends Il{constructor(e,n=1,r=16776960){const i=r,a=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],o=new Wt;o.setAttribute("position",new bt(a,3)),o.computeBoundingSphere(),super(o,new Pi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const s=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Wt;l.setAttribute("position",new bt(s,3)),l.computeBoundingSphere(),this.add(new In(l,new Go({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const YN=new ee;let Hy,ub;class fwe extends un{constructor(e=new ee(0,0,1),n=new ee(0,0,0),r=1,i=16776960,a=r*.2,o=a*.2){super(),this.type="ArrowHelper",Hy===void 0&&(Hy=new Wt,Hy.setAttribute("position",new bt([0,0,0,0,1,0],3)),ub=new qh(0,.5,1,5,1),ub.translate(0,-.5,0)),this.position.copy(n),this.line=new Il(Hy,new Pi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new In(ub,new Go({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,a,o)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{YN.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(YN,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class hwe extends Vo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Wt;i.setAttribute("position",new bt(n,3)),i.setAttribute("color",new bt(r,3));const a=new Pi({vertexColors:!0,toneMapped:!1});super(i,a),this.type="AxesHelper"}setColors(e,n,r){const i=new ht,a=this.geometry.attributes.color.array;return i.set(e),i.toArray(a,0),i.toArray(a,3),i.set(n),i.toArray(a,6),i.toArray(a,9),i.set(r),i.toArray(a,12),i.toArray(a,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class dwe{constructor(){this.type="ShapePath",this.color=new ht,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Gm,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,a,o){return this.currentPath.bezierCurveTo(e,n,r,i,a,o),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(v){const S=[];for(let _=0,b=v.length;_<b;_++){const E=v[_],M=new Zu;M.curves=E.curves,S.push(M)}return S}function r(v,S){const _=S.length;let b=!1;for(let E=_-1,M=0;M<_;E=M++){let T=S[E],C=S[M],P=C.x-T.x,O=C.y-T.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(T=S[M],P=-P,C=S[E],O=-O),v.y<T.y||v.y>C.y)continue;if(v.y===T.y){if(v.x===T.x)return!0}else{const I=O*(v.x-T.x)-P*(v.y-T.y);if(I===0)return!0;if(I<0)continue;b=!b}}else{if(v.y!==T.y)continue;if(C.x<=v.x&&v.x<=T.x||T.x<=v.x&&v.x<=C.x)return!0}}return b}const i=Bo.isClockWise,a=this.subPaths;if(a.length===0)return[];let o,s,l;const u=[];if(a.length===1)return s=a[0],l=new Zu,l.curves=s.curves,u.push(l),u;let c=!i(a[0].getPoints());c=e?!c:c;const f=[],h=[];let m=[],g=0,y;h[g]=void 0,m[g]=[];for(let v=0,S=a.length;v<S;v++)s=a[v],y=s.getPoints(),o=i(y),o=e?!o:o,o?(!c&&h[g]&&g++,h[g]={s:new Zu,p:y},h[g].s.curves=s.curves,c&&g++,m[g]=[]):m[g].push({h:s,p:y[0]});if(!h[0])return n(a);if(h.length>1){let v=!1,S=0;for(let _=0,b=h.length;_<b;_++)f[_]=[];for(let _=0,b=h.length;_<b;_++){const E=m[_];for(let M=0;M<E.length;M++){const T=E[M];let C=!0;for(let P=0;P<h.length;P++)r(T.p,h[P].p)&&(_!==P&&S++,C?(C=!1,f[P].push(T)):v=!0);C&&f[_].push(T)}}S>0&&v===!1&&(m=f)}let x;for(let v=0,S=h.length;v<S;v++){l=h[v].s,u.push(l),x=m[v];for(let _=0,b=x.length;_<b;_++)l.holes.push(x[_].h)}return u}}class pwe extends ga{constructor(e=1,n=1,r=1,i={}){console.warn('THREE.WebGLMultipleRenderTargets has been deprecated and will be removed in r172. Use THREE.WebGLRenderTarget and set the "count" parameter to enable MRT.'),super(e,n,{...i,count:r}),this.isWebGLMultipleRenderTargets=!0}get texture(){return this.textures}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:pg}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=pg);const mwe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:H2,AddEquation:hl,AddOperation:X5,AdditiveAnimationBlendMode:K2,AdditiveBlending:WE,AgXToneMapping:J5,AlphaFormat:n6,AlwaysCompare:x6,AlwaysDepth:z5,AlwaysStencilFunc:wA,AmbientLight:y8,AnimationAction:E8,AnimationClip:qm,AnimationLoader:ySe,AnimationMixer:WSe,AnimationObjectGroup:GSe,AnimationUtils:pSe,ArcCurve:G6,ArrayCamera:D6,ArrowHelper:fwe,AttachedBindMode:YE,Audio:b8,AudioAnalyser:LSe,AudioContext:AP,AudioListener:OSe,AudioLoader:TSe,AxesHelper:hwe,BackSide:Ei,BasicDepthPacking:f6,BasicShadowMap:_5,BatchedMesh:z6,Bone:cP,BooleanKeyframeTrack:wc,Box2:ZSe,Box3:Yr,Box3Helper:uwe,BoxGeometry:Sc,BoxHelper:lwe,BufferAttribute:_n,BufferGeometry:Wt,BufferGeometryLoader:w8,ByteType:G2,Cache:xs,Camera:vg,CameraHelper:swe,CanvasTexture:F1e,CapsuleGeometry:p1,CatmullRomCurve3:V6,CineonToneMapping:K5,CircleGeometry:m1,ClampToEdgeWrapping:gr,Clock:TP,Color:ht,ColorKeyframeTrack:wP,ColorManagement:pn,CompressedArrayTexture:k1e,CompressedCubeTexture:U1e,CompressedTexture:h1,CompressedTextureLoader:xSe,ConeGeometry:g1,ConstantAlphaFactor:U5,ConstantColorFactor:N5,CubeCamera:A6,CubeReflectionMapping:Ho,CubeRefractionMapping:Ol,CubeTexture:yg,CubeTextureLoader:d8,CubeUVReflectionMapping:Xh,CubicBezierCurve:dP,CubicBezierCurve3:W6,CubicInterpolant:u8,CullFaceBack:VE,CullFaceFront:x5,CullFaceFrontBack:Mge,CullFaceNone:y5,Curve:vo,CurvePath:X6,CustomBlending:S5,CustomToneMapping:Z5,CylinderGeometry:qh,Cylindrical:KSe,Data3DTexture:tP,DataArrayTexture:i1,DataTexture:Fo,DataTextureLoader:bP,DataUtils:Bu,DecrementStencilOp:Dge,DecrementWrapStencilOp:kge,DefaultLoadingManager:h8,DepthFormat:Yu,DepthStencilFormat:cc,DepthTexture:sP,DetachedBindMode:e6,DirectionalLight:v8,DirectionalLightHelper:owe,DiscreteInterpolant:c8,DisplayP3ColorSpace:r1,DodecahedronGeometry:v1,DoubleSide:Da,DstAlphaFactor:O5,DstColorFactor:I5,DynamicCopyUsage:Zge,DynamicDrawUsage:Wge,DynamicReadUsage:Yge,EdgesGeometry:Y6,EllipseCurve:d1,EqualCompare:m6,EqualDepth:j5,EqualStencilFunc:zge,EquirectangularReflectionMapping:Ah,EquirectangularRefractionMapping:Rm,Euler:va,EventDispatcher:Fs,ExtrudeGeometry:x1,FileLoader:ha,Float16BufferAttribute:Fve,Float32BufferAttribute:bt,FloatType:tr,Fog:u1,FogExp2:l1,FramebufferTexture:N1e,FrontSide:Ls,Frustum:xg,GLBufferAttribute:qSe,GLSL1:Qge,GLSL3:bA,GreaterCompare:g6,GreaterDepth:V5,GreaterEqualCompare:y6,GreaterEqualDepth:G5,GreaterEqualStencilFunc:Vge,GreaterStencilFunc:jge,GridHelper:iwe,Group:Nf,HalfFloatType:$r,HemisphereLight:p8,HemisphereLightHelper:rwe,IcosahedronGeometry:wg,ImageBitmapLoader:ASe,ImageLoader:Km,ImageUtils:w6,IncrementStencilOp:Lge,IncrementWrapStencilOp:Nge,InstancedBufferAttribute:hc,InstancedBufferGeometry:EP,InstancedInterleavedBuffer:YSe,InstancedMesh:B6,Int16BufferAttribute:kve,Int32BufferAttribute:Uve,Int8BufferAttribute:Lve,IntType:e1,InterleavedBuffer:c1,InterleavedBufferAttribute:fc,Interpolant:Eg,InterpolateDiscrete:Nm,InterpolateLinear:jx,InterpolateSmooth:h0,InvertStencilOp:Uge,KeepStencilOp:Au,KeyframeTrack:yo,LOD:U6,LatheGeometry:Sg,Layers:Ku,LessCompare:p6,LessDepth:H5,LessEqualCompare:J2,LessEqualDepth:Om,LessEqualStencilFunc:Hge,LessStencilFunc:Bge,Light:Gl,LightProbe:S8,Line:Il,Line3:JSe,LineBasicMaterial:Pi,LineCurve:pP,LineCurve3:$6,LineDashedMaterial:o8,LineLoop:H6,LineSegments:Vo,LinearDisplayP3ColorSpace:gg,LinearFilter:hn,LinearInterpolant:SP,LinearMipMapLinearFilter:qE,LinearMipMapNearestFilter:Tge,LinearMipmapLinearFilter:Oo,LinearMipmapNearestFilter:Ep,LinearSRGBColorSpace:Va,LinearToneMapping:Y5,LinearTransfer:Um,Loader:Ci,LoaderUtils:OA,LoadingManager:A1,LoopOnce:l6,LoopPingPong:c6,LoopRepeat:u6,LuminanceAlphaFormat:a6,LuminanceFormat:i6,MOUSE:Mu,Material:hi,MaterialLoader:T1,MathUtils:gve,Matrix3:zt,Matrix4:Rt,MaxEquation:E5,Mesh:In,MeshBasicMaterial:Go,MeshDepthMaterial:o1,MeshDistanceMaterial:s1,MeshLambertMaterial:i8,MeshMatcapMaterial:a8,MeshNormalMaterial:r8,MeshPhongMaterial:t8,MeshPhysicalMaterial:xP,MeshStandardMaterial:yP,MeshToonMaterial:n8,MinEquation:M5,MirroredRepeatWrapping:Lm,MixOperation:$5,MultiplyBlending:XE,MultiplyOperation:mg,NearestFilter:Fr,NearestMipMapLinearFilter:Age,NearestMipMapNearestFilter:Ege,NearestMipmapLinearFilter:If,NearestMipmapNearestFilter:j2,NeutralToneMapping:Q5,NeverCompare:d6,NeverDepth:B5,NeverStencilFunc:Fge,NoBlending:ko,NoColorSpace:hs,NoToneMapping:Uo,NormalAnimationBlendMode:n1,NormalBlending:Xu,NotEqualCompare:v6,NotEqualDepth:W5,NotEqualStencilFunc:Gge,NumberKeyframeTrack:Xm,Object3D:un,ObjectLoader:MSe,ObjectSpaceNormalMap:h6,OctahedronGeometry:bg,OneFactor:T5,OneMinusConstantAlphaFactor:F5,OneMinusConstantColorFactor:k5,OneMinusDstAlphaFactor:R5,OneMinusDstColorFactor:L5,OneMinusSrcAlphaFactor:Hx,OneMinusSrcColorFactor:C5,OrthographicCamera:Ms,P3Primaries:Bm,PCFShadowMap:Q_,PCFSoftShadowMap:Mp,PMREMGenerator:MA,Path:Gm,PerspectiveCamera:lr,Plane:fs,PlaneGeometry:go,PlaneHelper:cwe,PointLight:g8,PointLightHelper:twe,Points:j6,PointsMaterial:fP,PolarGridHelper:awe,PolyhedronGeometry:jl,PositionalAudio:ISe,PropertyBinding:on,PropertyMixer:M8,QuadraticBezierCurve:mP,QuadraticBezierCurve3:gP,Quaternion:ci,QuaternionKeyframeTrack:Ag,QuaternionLinearInterpolant:f8,RED_GREEN_RGTC2_Format:_A,RED_RGTC1_Format:s6,REVISION:pg,RGBADepthPacking:Z2,RGBAFormat:vr,RGBAIntegerFormat:q2,RGBA_ASTC_10x10_Format:pA,RGBA_ASTC_10x5_Format:fA,RGBA_ASTC_10x6_Format:hA,RGBA_ASTC_10x8_Format:dA,RGBA_ASTC_12x10_Format:mA,RGBA_ASTC_12x12_Format:gA,RGBA_ASTC_4x4_Format:rA,RGBA_ASTC_5x4_Format:iA,RGBA_ASTC_5x5_Format:aA,RGBA_ASTC_6x5_Format:oA,RGBA_ASTC_6x6_Format:sA,RGBA_ASTC_8x5_Format:lA,RGBA_ASTC_8x6_Format:uA,RGBA_ASTC_8x8_Format:cA,RGBA_BPTC_Format:f0,RGBA_ETC2_EAC_Format:nA,RGBA_PVRTC_2BPPV1_Format:QE,RGBA_PVRTC_4BPPV1_Format:JE,RGBA_S3TC_DXT1_Format:l0,RGBA_S3TC_DXT3_Format:u0,RGBA_S3TC_DXT5_Format:c0,RGBFormat:r6,RGB_BPTC_SIGNED_Format:vA,RGB_BPTC_UNSIGNED_Format:yA,RGB_ETC1_Format:eA,RGB_ETC2_Format:tA,RGB_PVRTC_2BPPV1_Format:ZE,RGB_PVRTC_4BPPV1_Format:KE,RGB_S3TC_DXT1_Format:s0,RGFormat:o6,RGIntegerFormat:Y2,RawShaderMaterial:e8,Ray:_c,Raycaster:RP,Rec709Primaries:Fm,RectAreaLight:x8,RedFormat:t1,RedIntegerFormat:X2,ReinhardToneMapping:q5,RenderTarget:b6,RepeatWrapping:Im,ReplaceStencilOp:Ige,ReverseSubtractEquation:b5,RingGeometry:_1,SIGNED_RED_GREEN_RGTC2_Format:SA,SIGNED_RED_RGTC1_Format:xA,SRGBColorSpace:oa,SRGBTransfer:Pn,Scene:_g,ShaderChunk:Ht,ShaderLib:lo,ShaderMaterial:Gi,ShadowMaterial:Q6,Shape:Zu,ShapeGeometry:S1,ShapePath:dwe,ShapeUtils:Bo,ShortType:V2,Skeleton:f1,SkeletonHelper:ewe,SkinnedMesh:F6,Source:Fu,Sphere:qr,SphereGeometry:Mg,Spherical:IA,SphericalHarmonics3:_8,SplineCurve:vP,SpotLight:m8,SpotLightHelper:QSe,Sprite:k6,SpriteMaterial:uP,SrcAlphaFactor:zx,SrcAlphaSaturateFactor:D5,SrcColorFactor:P5,StaticCopyUsage:Kge,StaticDrawUsage:zm,StaticReadUsage:Xge,StereoCamera:PSe,StreamCopyUsage:Jge,StreamDrawUsage:$ge,StreamReadUsage:qge,StringKeyframeTrack:bc,SubtractEquation:w5,SubtractiveBlending:$E,TOUCH:Eu,TangentSpaceNormalMap:Hl,TetrahedronGeometry:w1,Texture:yn,TextureLoader:_Se,TorusGeometry:b1,TorusKnotGeometry:M1,Triangle:la,TriangleFanDrawMode:Oge,TriangleStripDrawMode:Cge,TrianglesDrawMode:Pge,TubeGeometry:E1,UVMapping:Cl,Uint16BufferAttribute:nP,Uint32BufferAttribute:rP,Uint8BufferAttribute:Dve,Uint8ClampedBufferAttribute:Nve,Uniform:OP,UniformsGroup:XSe,UniformsLib:ct,UniformsUtils:iP,UnsignedByteType:ma,UnsignedInt248Type:uc,UnsignedInt5999Type:t6,UnsignedIntType:Rl,UnsignedShort4444Type:W2,UnsignedShort5551Type:$2,UnsignedShortType:Dm,VSMShadowMap:no,Vector2:We,Vector3:ee,Vector4:mn,VectorKeyframeTrack:Ym,VideoTexture:D1e,WebGL3DRenderTarget:bve,WebGLArrayRenderTarget:wve,WebGLCoordinateSystem:Ro,WebGLCubeRenderTarget:aP,WebGLMultipleRenderTargets:pwe,WebGLRenderTarget:ga,WebGLRenderer:lP,WebGLUtils:L6,WebGPUCoordinateSystem:Hm,WireframeGeometry:J6,WrapAroundEnding:km,ZeroCurvatureEnding:ku,ZeroFactor:A5,ZeroSlopeEnding:Uu,ZeroStencilOp:Rge,createCanvasElement:S6},Symbol.toStringTag,{value:"Module"}));var T8={exports:{}},Mc={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Mc.ConcurrentRoot=1;Mc.ContinuousEventPriority=4;Mc.DefaultEventPriority=16;Mc.DiscreteEventPriority=1;Mc.IdleEventPriority=536870912;Mc.LegacyRoot=0;T8.exports=Mc;var Uf=T8.exports;function gwe(t){let e;const n=new Set,r=(u,c)=>{const f=typeof u=="function"?u(e):u;if(f!==e){const h=e;e=c?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,a=(u,c=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let h=c(e);function m(){const g=c(e);if(!f(h,g)){const y=h;u(h=g,y)}}return n.add(m),()=>n.delete(m)},l={setState:r,getState:i,subscribe:(u,c,f)=>c||f?a(u,c,f):(n.add(u),()=>n.delete(u)),destroy:()=>n.clear()};return e=t(r,i,l),l}const vwe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),qN=vwe?he.useEffect:he.useLayoutEffect;function P8(t){const e=typeof t=="function"?gwe(t):t,n=(r=e.getState,i=Object.is)=>{const[,a]=he.useReducer(x=>x+1,0),o=e.getState(),s=he.useRef(o),l=he.useRef(r),u=he.useRef(i),c=he.useRef(!1),f=he.useRef();f.current===void 0&&(f.current=r(o));let h,m=!1;(s.current!==o||l.current!==r||u.current!==i||c.current)&&(h=r(o),m=!i(f.current,h)),qN(()=>{m&&(f.current=h),s.current=o,l.current=r,u.current=i,c.current=!1});const g=he.useRef(o);qN(()=>{const x=()=>{try{const S=e.getState(),_=l.current(S);u.current(f.current,_)||(s.current=S,f.current=_,a())}catch{c.current=!0,a()}},v=e.subscribe(x);return e.getState()!==g.current&&x(),v},[]);const y=m?h:f.current;return he.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const ywe=t=>typeof t=="object"&&typeof t.then=="function",Hu=[];function C8(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function O8(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const a of Hu)if(C8(e,a.keys,a.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(a,"error"))throw a.error;if(Object.prototype.hasOwnProperty.call(a,"response"))return r.lifespan&&r.lifespan>0&&(a.timeout&&clearTimeout(a.timeout),a.timeout=setTimeout(a.remove,r.lifespan)),a.response;if(!n)throw a.promise}const i={keys:e,equal:r.equal,remove:()=>{const a=Hu.indexOf(i);a!==-1&&Hu.splice(a,1)},promise:(ywe(t)?t:t(...e)).then(a=>{i.response=a,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(a=>i.error=a)};if(Hu.push(i),!n)throw i.promise}const R8=(t,e,n)=>O8(t,e,!1,n),xwe=(t,e,n)=>void O8(t,e,!0,n),_we=t=>{if(t===void 0||t.length===0)Hu.splice(0,Hu.length);else{const e=Hu.find(n=>C8(t,n.keys,n.equal));e&&e.remove()}};var I8={exports:{}},cb={exports:{}},fb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KN;function Swe(){return KN||(KN=1,function(t){function e(N,j){var G=N.length;N.push(j);e:for(;0<G;){var H=G-1>>>1,$=N[H];if(0<i($,j))N[H]=j,N[G]=$,G=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],G=N.pop();if(G!==j){N[0]=G;e:for(var H=0,$=N.length,ie=$>>>1;H<ie;){var Z=2*(H+1)-1,ae=N[Z],ce=Z+1,fe=N[ce];if(0>i(ae,G))ce<$&&0>i(fe,ae)?(N[H]=fe,N[ce]=G,H=ce):(N[H]=ae,N[Z]=G,H=Z);else if(ce<$&&0>i(fe,G))N[H]=fe,N[ce]=G,H=ce;else break e}}return j}function i(N,j){var G=N.sortIndex-j.sortIndex;return G!==0?G:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=N)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(N){if(y=!1,_(N),!g)if(n(l)!==null)g=!0,V(E);else{var j=n(u);j!==null&&Q(b,j.startTime-N)}}function E(N,j){g=!1,y&&(y=!1,v(C),C=-1),m=!0;var G=h;try{for(_(j),f=n(l);f!==null&&(!(f.expirationTime>j)||N&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var $=H(f.expirationTime<=j);j=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),_(j)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Z=n(u);Z!==null&&Q(b,Z.startTime-j),ie=!1}return ie}finally{f=null,h=G,m=!1}}var M=!1,T=null,C=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function D(){if(T!==null){var N=t.unstable_now();O=N;var j=!0;try{j=T(!0,N)}finally{j?F():(M=!1,T=null)}}else M=!1}var F;if(typeof S=="function")F=function(){S(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=D,F=function(){W.postMessage(null)}}else F=function(){x(D,0)};function V(N){T=N,M||(M=!0,F())}function Q(N,j){C=x(function(){N(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var G=h;h=j;try{return N()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=h;h=N;try{return j()}finally{h=G}},t.unstable_scheduleCallback=function(N,j,G){var H=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,N={id:c++,callback:j,priorityLevel:N,startTime:G,expirationTime:$,sortIndex:-1},G>H?(N.sortIndex=G,e(u,N),n(l)===null&&N===n(u)&&(y?(v(C),C=-1):y=!0,Q(b,G-H))):(N.sortIndex=$,e(l,N),g||m||(g=!0,V(E))),N},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(N){var j=h;return function(){var G=h;h=j;try{return N.apply(this,arguments)}finally{h=G}}}}(fb)),fb}var ZN;function wwe(){return ZN||(ZN=1,cb.exports=Swe()),cb.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bwe=function(e){var n={},r=he,i=wwe(),a=Object.assign;function o(d){for(var p="https://reactjs.org/docs/error-decoder.html?invariant="+d,w=1;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w]);return"Minified React error #"+d+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),v=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.for("react.offscreen"),E=Symbol.iterator;function M(d){return d===null||typeof d!="object"?null:(d=E&&d[E]||d["@@iterator"],typeof d=="function"?d:null)}function T(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case c:return"Fragment";case u:return"Portal";case h:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case v:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case g:return(d.displayName||"Context")+".Consumer";case m:return(d._context.displayName||"Context")+".Provider";case y:var p=d.render;return d=d.displayName,d||(d=p.displayName||p.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case S:return p=d.displayName||null,p!==null?p:T(d.type)||"Memo";case _:p=d._payload,d=d._init;try{return T(d(p))}catch{}}return null}function C(d){var p=d.type;switch(d.tag){case 24:return"Cache";case 9:return(p.displayName||"Context")+".Consumer";case 10:return(p._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=p.render,d=d.displayName||d.name||"",p.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return p;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return T(p);case 8:return p===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof p=="function")return p.displayName||p.name||null;if(typeof p=="string")return p}return null}function P(d){var p=d,w=d;if(d.alternate)for(;p.return;)p=p.return;else{d=p;do p=d,p.flags&4098&&(w=p.return),d=p.return;while(d)}return p.tag===3?w:null}function O(d){if(P(d)!==d)throw Error(o(188))}function I(d){var p=d.alternate;if(!p){if(p=P(d),p===null)throw Error(o(188));return p!==d?null:d}for(var w=d,A=p;;){var R=w.return;if(R===null)break;var k=R.alternate;if(k===null){if(A=R.return,A!==null){w=A;continue}break}if(R.child===k.child){for(k=R.child;k;){if(k===w)return O(R),d;if(k===A)return O(R),p;k=k.sibling}throw Error(o(188))}if(w.return!==A.return)w=R,A=k;else{for(var oe=!1,ye=R.child;ye;){if(ye===w){oe=!0,w=R,A=k;break}if(ye===A){oe=!0,A=R,w=k;break}ye=ye.sibling}if(!oe){for(ye=k.child;ye;){if(ye===w){oe=!0,w=k,A=R;break}if(ye===A){oe=!0,A=k,w=R;break}ye=ye.sibling}if(!oe)throw Error(o(189))}}if(w.alternate!==A)throw Error(o(190))}if(w.tag!==3)throw Error(o(188));return w.stateNode.current===w?d:p}function D(d){return d=I(d),d!==null?F(d):null}function F(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var p=F(d);if(p!==null)return p;d=d.sibling}return null}function B(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var p=B(d);if(p!==null)return p}d=d.sibling}return null}var W=Array.isArray,V=e.getPublicInstance,Q=e.getRootHostContext,N=e.getChildHostContext,j=e.prepareForCommit,G=e.resetAfterCommit,H=e.createInstance,$=e.appendInitialChild,ie=e.finalizeInitialChildren,Z=e.prepareUpdate,ae=e.shouldSetTextContent,ce=e.createTextInstance,fe=e.scheduleTimeout,Ae=e.cancelTimeout,ve=e.noTimeout,Ie=e.isPrimaryRenderer,X=e.supportsMutation,J=e.supportsPersistence,_e=e.supportsHydration,Me=e.getInstanceFromNode,Te=e.preparePortalMount,Ce=e.getCurrentEventPriority,He=e.detachDeletedInstance,Pe=e.supportsMicrotasks,Xe=e.scheduleMicrotask,q=e.supportsTestSelectors,U=e.findFiberRoot,de=e.getBoundingRect,pe=e.getTextContent,we=e.isHiddenSubtree,Ee=e.matchAccessibilityRole,rt=e.setFocusIfFocusable,ke=e.setupIntersectionObserver,ze=e.appendChild,et=e.appendChildToContainer,Ve=e.commitTextUpdate,Je=e.commitMount,dt=e.commitUpdate,Qe=e.insertBefore,Be=e.insertInContainerBefore,qe=e.removeChild,ue=e.removeChildFromContainer,Ue=e.resetTextContent,re=e.hideInstance,je=e.hideTextInstance,le=e.unhideInstance,Re=e.unhideTextInstance,Ke=e.clearContainer,lt=e.cloneInstance,ut=e.createContainerChildSet,Et=e.appendChildToContainerChildSet,At=e.finalizeContainerChildren,ot=e.replaceContainerChildren,Nt=e.cloneHiddenInstance,Kt=e.cloneHiddenTextInstance,rn=e.canHydrateInstance,Mn=e.canHydrateTextInstance,Or=e.canHydrateSuspenseInstance,xr=e.isSuspenseInstancePending,cr=e.isSuspenseInstanceFallback,_r=e.registerSuspenseInstanceRetry,Fn=e.getNextHydratableSibling,It=e.getFirstHydratableChild,jn=e.getFirstHydratableChildWithinContainer,Wi=e.getFirstHydratableChildWithinSuspenseInstance,z=e.hydrateInstance,K=e.hydrateTextInstance,L=e.hydrateSuspenseInstance,Y=e.getNextHydratableInstanceAfterSuspenseInstance,te=e.commitHydratedContainer,ne=e.commitHydratedSuspenseInstance,se=e.clearSuspenseBoundary,xe=e.clearSuspenseBoundaryFromContainer,Oe=e.shouldDeleteUnhydratedTailInstances,De=e.didNotMatchHydratedContainerTextInstance,Ne=e.didNotMatchHydratedTextInstance,ge;function at(d){if(ge===void 0)try{throw Error()}catch(w){var p=w.stack.trim().match(/\n( *(at )?)/);ge=p&&p[1]||""}return`
`+ge+d}var Ye=!1;function tt(d,p){if(!d||Ye)return"";Ye=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(p)if(p=function(){throw Error()},Object.defineProperty(p.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(p,[])}catch(it){var A=it}Reflect.construct(d,[],p)}else{try{p.call()}catch(it){A=it}d.call(p.prototype)}else{try{throw Error()}catch(it){A=it}d()}}catch(it){if(it&&A&&typeof it.stack=="string"){for(var R=it.stack.split(`
`),k=A.stack.split(`
`),oe=R.length-1,ye=k.length-1;1<=oe&&0<=ye&&R[oe]!==k[ye];)ye--;for(;1<=oe&&0<=ye;oe--,ye--)if(R[oe]!==k[ye]){if(oe!==1||ye!==1)do if(oe--,ye--,0>ye||R[oe]!==k[ye]){var Ge=`
`+R[oe].replace(" at new "," at ");return d.displayName&&Ge.includes("<anonymous>")&&(Ge=Ge.replace("<anonymous>",d.displayName)),Ge}while(1<=oe&&0<=ye);break}}}finally{Ye=!1,Error.prepareStackTrace=w}return(d=d?d.displayName||d.name:"")?at(d):""}var pt=Object.prototype.hasOwnProperty,yt=[],Pt=-1;function gt(d){return{current:d}}function Ze(d){0>Pt||(d.current=yt[Pt],yt[Pt]=null,Pt--)}function wt(d,p){Pt++,yt[Pt]=d.current,d.current=p}var vt={},Gt=gt(vt),Dt=gt(!1),Zt=vt;function Tn(d,p){var w=d.type.contextTypes;if(!w)return vt;var A=d.stateNode;if(A&&A.__reactInternalMemoizedUnmaskedChildContext===p)return A.__reactInternalMemoizedMaskedChildContext;var R={},k;for(k in w)R[k]=p[k];return A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=p,d.__reactInternalMemoizedMaskedChildContext=R),R}function Ut(d){return d=d.childContextTypes,d!=null}function an(){Ze(Dt),Ze(Gt)}function Yt(d,p,w){if(Gt.current!==vt)throw Error(o(168));wt(Gt,p),wt(Dt,w)}function tn(d,p,w){var A=d.stateNode;if(p=p.childContextTypes,typeof A.getChildContext!="function")return w;A=A.getChildContext();for(var R in A)if(!(R in p))throw Error(o(108,C(d)||"Unknown",R));return a({},w,A)}function Jt(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||vt,Zt=Gt.current,wt(Gt,d),wt(Dt,Dt.current),!0}function kt(d,p,w){var A=d.stateNode;if(!A)throw Error(o(169));w?(d=tn(d,p,Zt),A.__reactInternalMemoizedMergedChildContext=d,Ze(Dt),Ze(Gt),wt(Gt,d)):Ze(Dt),wt(Dt,w)}var vn=Math.clz32?Math.clz32:$i,Oi=Math.log,nr=Math.LN2;function $i(d){return d>>>=0,d===0?32:31-(Oi(d)/nr|0)|0}var Wo=64,$o=4194304;function Xo(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Vl(d,p){var w=d.pendingLanes;if(w===0)return 0;var A=0,R=d.suspendedLanes,k=d.pingedLanes,oe=w&268435455;if(oe!==0){var ye=oe&~R;ye!==0?A=Xo(ye):(k&=oe,k!==0&&(A=Xo(k)))}else oe=w&~R,oe!==0?A=Xo(oe):k!==0&&(A=Xo(k));if(A===0)return 0;if(p!==0&&p!==A&&!(p&R)&&(R=A&-A,k=p&-p,R>=k||R===16&&(k&4194240)!==0))return p;if(A&4&&(A|=w&16),p=d.entangledLanes,p!==0)for(d=d.entanglements,p&=A;0<p;)w=31-vn(p),R=1<<w,A|=d[w],p&=~R;return A}function Cg(d,p){switch(d){case 1:case 2:case 4:return p+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return p+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zh(d,p){for(var w=d.suspendedLanes,A=d.pingedLanes,R=d.expirationTimes,k=d.pendingLanes;0<k;){var oe=31-vn(k),ye=1<<oe,Ge=R[oe];Ge===-1?(!(ye&w)||ye&A)&&(R[oe]=Cg(ye,p)):Ge<=p&&(d.expiredLanes|=ye),k&=~ye}}function Yo(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Ec(d){for(var p=[],w=0;31>w;w++)p.push(d);return p}function xo(d,p,w){d.pendingLanes|=p,p!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,p=31-vn(p),d[p]=w}function Bs(d,p){var w=d.pendingLanes&~p;d.pendingLanes=p,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=p,d.mutableReadLanes&=p,d.entangledLanes&=p,p=d.entanglements;var A=d.eventTimes;for(d=d.expirationTimes;0<w;){var R=31-vn(w),k=1<<R;p[R]=0,A[R]=-1,d[R]=-1,w&=~k}}function _o(d,p){var w=d.entangledLanes|=p;for(d=d.entanglements;w;){var A=31-vn(w),R=1<<A;R&p|d[A]&p&&(d[A]|=p),w&=~R}}var qt=0;function Jh(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var qo=i.unstable_scheduleCallback,Ac=i.unstable_cancelCallback,Qh=i.unstable_shouldYield,Og=i.unstable_requestPaint,Gn=i.unstable_now,Wl=i.unstable_ImmediatePriority,Rg=i.unstable_UserBlockingPriority,di=i.unstable_NormalPriority,ed=i.unstable_IdlePriority,$l=null,Xi=null;function td(d){if(Xi&&typeof Xi.onCommitFiberRoot=="function")try{Xi.onCommitFiberRoot($l,d,void 0,(d.current.flags&128)===128)}catch{}}function Ig(d,p){return d===p&&(d!==0||1/d===1/p)||d!==d&&p!==p}var Yi=typeof Object.is=="function"?Object.is:Ig,pi=null,So=!1,_a=!1;function nd(d){pi===null?pi=[d]:pi.push(d)}function rd(d){So=!0,nd(d)}function Ri(){if(!_a&&pi!==null){_a=!0;var d=0,p=qt;try{var w=pi;for(qt=1;d<w.length;d++){var A=w[d];do A=A(!0);while(A!==null)}pi=null,So=!1}catch(R){throw pi!==null&&(pi=pi.slice(d+1)),qo(Wl,Ri),R}finally{qt=p,_a=!1}}return null}var Xl=s.ReactCurrentBatchConfig;function Yl(d,p){if(Yi(d,p))return!0;if(typeof d!="object"||d===null||typeof p!="object"||p===null)return!1;var w=Object.keys(d),A=Object.keys(p);if(w.length!==A.length)return!1;for(A=0;A<w.length;A++){var R=w[A];if(!pt.call(p,R)||!Yi(d[R],p[R]))return!1}return!0}function ql(d){switch(d.tag){case 5:return at(d.type);case 16:return at("Lazy");case 13:return at("Suspense");case 19:return at("SuspenseList");case 0:case 2:case 15:return d=tt(d.type,!1),d;case 11:return d=tt(d.type.render,!1),d;case 1:return d=tt(d.type,!0),d;default:return""}}function mi(d,p){if(d&&d.defaultProps){p=a({},p),d=d.defaultProps;for(var w in d)p[w]===void 0&&(p[w]=d[w]);return p}return p}var Rr=gt(null),Tc=null,Xa=null,zs=null;function Pc(){zs=Xa=Tc=null}function Lg(d,p,w){Ie?(wt(Rr,p._currentValue),p._currentValue=w):(wt(Rr,p._currentValue2),p._currentValue2=w)}function Ir(d){var p=Rr.current;Ze(Rr),Ie?d._currentValue=p:d._currentValue2=p}function gi(d,p,w){for(;d!==null;){var A=d.alternate;if((d.childLanes&p)!==p?(d.childLanes|=p,A!==null&&(A.childLanes|=p)):A!==null&&(A.childLanes&p)!==p&&(A.childLanes|=p),d===w)break;d=d.return}}function rr(d,p){Tc=d,zs=Xa=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&p&&(Ji=!0),d.firstContext=null)}function ir(d){var p=Ie?d._currentValue:d._currentValue2;if(zs!==d)if(d={context:d,memoizedValue:p,next:null},Xa===null){if(Tc===null)throw Error(o(308));Xa=d,Tc.dependencies={lanes:0,firstContext:d}}else Xa=Xa.next=d;return p}var qi=null,Hs=!1;function R1(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function VP(d,p){d=d.updateQueue,p.updateQueue===d&&(p.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ko(d,p){return{eventTime:d,lane:p,tag:0,payload:null,callback:null,next:null}}function js(d,p){var w=d.updateQueue;w!==null&&(w=w.shared,fr!==null&&d.mode&1&&!($t&2)?(d=w.interleaved,d===null?(p.next=p,qi===null?qi=[w]:qi.push(w)):(p.next=d.next,d.next=p),w.interleaved=p):(d=w.pending,d===null?p.next=p:(p.next=d.next,d.next=p),w.pending=p))}function Dg(d,p,w){if(p=p.updateQueue,p!==null&&(p=p.shared,(w&4194240)!==0)){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,_o(d,w)}}function WP(d,p){var w=d.updateQueue,A=d.alternate;if(A!==null&&(A=A.updateQueue,w===A)){var R=null,k=null;if(w=w.firstBaseUpdate,w!==null){do{var oe={eventTime:w.eventTime,lane:w.lane,tag:w.tag,payload:w.payload,callback:w.callback,next:null};k===null?R=k=oe:k=k.next=oe,w=w.next}while(w!==null);k===null?R=k=p:k=k.next=p}else R=k=p;w={baseState:A.baseState,firstBaseUpdate:R,lastBaseUpdate:k,shared:A.shared,effects:A.effects},d.updateQueue=w;return}d=w.lastBaseUpdate,d===null?w.firstBaseUpdate=p:d.next=p,w.lastBaseUpdate=p}function Ng(d,p,w,A){var R=d.updateQueue;Hs=!1;var k=R.firstBaseUpdate,oe=R.lastBaseUpdate,ye=R.shared.pending;if(ye!==null){R.shared.pending=null;var Ge=ye,it=Ge.next;Ge.next=null,oe===null?k=it:oe.next=it,oe=Ge;var St=d.alternate;St!==null&&(St=St.updateQueue,ye=St.lastBaseUpdate,ye!==oe&&(ye===null?St.firstBaseUpdate=it:ye.next=it,St.lastBaseUpdate=Ge))}if(k!==null){var Ft=R.baseState;oe=0,St=it=Ge=null,ye=k;do{var Ct=ye.lane,En=ye.eventTime;if((A&Ct)===Ct){St!==null&&(St=St.next={eventTime:En,lane:0,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null});e:{var Tt=d,ei=ye;switch(Ct=p,En=w,ei.tag){case 1:if(Tt=ei.payload,typeof Tt=="function"){Ft=Tt.call(En,Ft,Ct);break e}Ft=Tt;break e;case 3:Tt.flags=Tt.flags&-65537|128;case 0:if(Tt=ei.payload,Ct=typeof Tt=="function"?Tt.call(En,Ft,Ct):Tt,Ct==null)break e;Ft=a({},Ft,Ct);break e;case 2:Hs=!0}}ye.callback!==null&&ye.lane!==0&&(d.flags|=64,Ct=R.effects,Ct===null?R.effects=[ye]:Ct.push(ye))}else En={eventTime:En,lane:Ct,tag:ye.tag,payload:ye.payload,callback:ye.callback,next:null},St===null?(it=St=En,Ge=Ft):St=St.next=En,oe|=Ct;if(ye=ye.next,ye===null){if(ye=R.shared.pending,ye===null)break;Ct=ye,ye=Ct.next,Ct.next=null,R.lastBaseUpdate=Ct,R.shared.pending=null}}while(!0);if(St===null&&(Ge=Ft),R.baseState=Ge,R.firstBaseUpdate=it,R.lastBaseUpdate=St,p=R.shared.interleaved,p!==null){R=p;do oe|=R.lane,R=R.next;while(R!==p)}else k===null&&(R.shared.lanes=0);Uc|=oe,d.lanes=oe,d.memoizedState=Ft}}function $P(d,p,w){if(d=p.effects,p.effects=null,d!==null)for(p=0;p<d.length;p++){var A=d[p],R=A.callback;if(R!==null){if(A.callback=null,A=w,typeof R!="function")throw Error(o(191,R));R.call(A)}}}var XP=new r.Component().refs;function I1(d,p,w,A){p=d.memoizedState,w=w(A,p),w=w==null?p:a({},p,w),d.memoizedState=w,d.lanes===0&&(d.updateQueue.baseState=w)}var kg={isMounted:function(d){return(d=d._reactInternals)?P(d)===d:!1},enqueueSetState:function(d,p,w){d=d._reactInternals;var A=yi(),R=Ws(d),k=Ko(A,R);k.payload=p,w!=null&&(k.callback=w),js(d,k),p=Ea(d,R,A),p!==null&&Dg(p,d,R)},enqueueReplaceState:function(d,p,w){d=d._reactInternals;var A=yi(),R=Ws(d),k=Ko(A,R);k.tag=1,k.payload=p,w!=null&&(k.callback=w),js(d,k),p=Ea(d,R,A),p!==null&&Dg(p,d,R)},enqueueForceUpdate:function(d,p){d=d._reactInternals;var w=yi(),A=Ws(d),R=Ko(w,A);R.tag=2,p!=null&&(R.callback=p),js(d,R),p=Ea(d,A,w),p!==null&&Dg(p,d,A)}};function YP(d,p,w,A,R,k,oe){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(A,k,oe):p.prototype&&p.prototype.isPureReactComponent?!Yl(w,A)||!Yl(R,k):!0}function qP(d,p,w){var A=!1,R=vt,k=p.contextType;return typeof k=="object"&&k!==null?k=ir(k):(R=Ut(p)?Zt:Gt.current,A=p.contextTypes,k=(A=A!=null)?Tn(d,R):vt),p=new p(w,k),d.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=kg,d.stateNode=p,p._reactInternals=d,A&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=R,d.__reactInternalMemoizedMaskedChildContext=k),p}function KP(d,p,w,A){d=p.state,typeof p.componentWillReceiveProps=="function"&&p.componentWillReceiveProps(w,A),typeof p.UNSAFE_componentWillReceiveProps=="function"&&p.UNSAFE_componentWillReceiveProps(w,A),p.state!==d&&kg.enqueueReplaceState(p,p.state,null)}function L1(d,p,w,A){var R=d.stateNode;R.props=w,R.state=d.memoizedState,R.refs=XP,R1(d);var k=p.contextType;typeof k=="object"&&k!==null?R.context=ir(k):(k=Ut(p)?Zt:Gt.current,R.context=Tn(d,k)),R.state=d.memoizedState,k=p.getDerivedStateFromProps,typeof k=="function"&&(I1(d,p,k,w),R.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof R.getSnapshotBeforeUpdate=="function"||typeof R.UNSAFE_componentWillMount!="function"&&typeof R.componentWillMount!="function"||(p=R.state,typeof R.componentWillMount=="function"&&R.componentWillMount(),typeof R.UNSAFE_componentWillMount=="function"&&R.UNSAFE_componentWillMount(),p!==R.state&&kg.enqueueReplaceState(R,R.state,null),Ng(d,w,R,A),R.state=d.memoizedState),typeof R.componentDidMount=="function"&&(d.flags|=4194308)}var Cc=[],Oc=0,Ug=null,Fg=0,Sa=[],wa=0,Kl=null,Zo=1,Jo="";function Zl(d,p){Cc[Oc++]=Fg,Cc[Oc++]=Ug,Ug=d,Fg=p}function ZP(d,p,w){Sa[wa++]=Zo,Sa[wa++]=Jo,Sa[wa++]=Kl,Kl=d;var A=Zo;d=Jo;var R=32-vn(A)-1;A&=~(1<<R),w+=1;var k=32-vn(p)+R;if(30<k){var oe=R-R%5;k=(A&(1<<oe)-1).toString(32),A>>=oe,R-=oe,Zo=1<<32-vn(p)+R|w<<R|A,Jo=k+d}else Zo=1<<k|w<<R|A,Jo=d}function D1(d){d.return!==null&&(Zl(d,1),ZP(d,1,0))}function N1(d){for(;d===Ug;)Ug=Cc[--Oc],Cc[Oc]=null,Fg=Cc[--Oc],Cc[Oc]=null;for(;d===Kl;)Kl=Sa[--wa],Sa[wa]=null,Jo=Sa[--wa],Sa[wa]=null,Zo=Sa[--wa],Sa[wa]=null}var Ki=null,Zi=null,Bn=!1,id=!1,Ya=null;function JP(d,p){var w=Aa(5,null,null,0);w.elementType="DELETED",w.stateNode=p,w.return=d,p=d.deletions,p===null?(d.deletions=[w],d.flags|=16):p.push(w)}function QP(d,p){switch(d.tag){case 5:return p=rn(p,d.type,d.pendingProps),p!==null?(d.stateNode=p,Ki=d,Zi=It(p),!0):!1;case 6:return p=Mn(p,d.pendingProps),p!==null?(d.stateNode=p,Ki=d,Zi=null,!0):!1;case 13:if(p=Or(p),p!==null){var w=Kl!==null?{id:Zo,overflow:Jo}:null;return d.memoizedState={dehydrated:p,treeContext:w,retryLane:1073741824},w=Aa(18,null,null,0),w.stateNode=p,w.return=d,d.child=w,Ki=d,Zi=null,!0}return!1;default:return!1}}function k1(d){return(d.mode&1)!==0&&(d.flags&128)===0}function U1(d){if(Bn){var p=Zi;if(p){var w=p;if(!QP(d,p)){if(k1(d))throw Error(o(418));p=Fn(w);var A=Ki;p&&QP(d,p)?JP(A,w):(d.flags=d.flags&-4097|2,Bn=!1,Ki=d)}}else{if(k1(d))throw Error(o(418));d.flags=d.flags&-4097|2,Bn=!1,Ki=d}}}function eC(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Ki=d}function ad(d){if(!_e||d!==Ki)return!1;if(!Bn)return eC(d),Bn=!0,!1;if(d.tag!==3&&(d.tag!==5||Oe(d.type)&&!ae(d.type,d.memoizedProps))){var p=Zi;if(p){if(k1(d)){for(d=Zi;d;)d=Fn(d);throw Error(o(418))}for(;p;)JP(d,p),p=Fn(p)}}if(eC(d),d.tag===13){if(!_e)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Zi=Y(d)}else Zi=Ki?Fn(d.stateNode):null;return!0}function Rc(){_e&&(Zi=Ki=null,id=Bn=!1)}function F1(d){Ya===null?Ya=[d]:Ya.push(d)}function od(d,p,w){if(d=w.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(w._owner){if(w=w._owner,w){if(w.tag!==1)throw Error(o(309));var A=w.stateNode}if(!A)throw Error(o(147,d));var R=A,k=""+d;return p!==null&&p.ref!==null&&typeof p.ref=="function"&&p.ref._stringRef===k?p.ref:(p=function(oe){var ye=R.refs;ye===XP&&(ye=R.refs={}),oe===null?delete ye[k]:ye[k]=oe},p._stringRef=k,p)}if(typeof d!="string")throw Error(o(284));if(!w._owner)throw Error(o(290,d))}return d}function Bg(d,p){throw d=Object.prototype.toString.call(p),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(p).join(", ")+"}":d))}function tC(d){var p=d._init;return p(d._payload)}function nC(d){function p(Le,be){if(d){var Fe=Le.deletions;Fe===null?(Le.deletions=[be],Le.flags|=16):Fe.push(be)}}function w(Le,be){if(!d)return null;for(;be!==null;)p(Le,be),be=be.sibling;return null}function A(Le,be){for(Le=new Map;be!==null;)be.key!==null?Le.set(be.key,be):Le.set(be.index,be),be=be.sibling;return Le}function R(Le,be){return Le=Xs(Le,be),Le.index=0,Le.sibling=null,Le}function k(Le,be,Fe){return Le.index=Fe,d?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<be?(Le.flags|=2,be):Fe):(Le.flags|=2,be)):(Le.flags|=1048576,be)}function oe(Le){return d&&Le.alternate===null&&(Le.flags|=2),Le}function ye(Le,be,Fe,mt){return be===null||be.tag!==6?(be=SS(Fe,Le.mode,mt),be.return=Le,be):(be=R(be,Fe),be.return=Le,be)}function Ge(Le,be,Fe,mt){var Mt=Fe.type;return Mt===c?St(Le,be,Fe.props.children,mt,Fe.key):be!==null&&(be.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===_&&tC(Mt)===be.type)?(mt=R(be,Fe.props),mt.ref=od(Le,be,Fe),mt.return=Le,mt):(mt=gv(Fe.type,Fe.key,Fe.props,null,Le.mode,mt),mt.ref=od(Le,be,Fe),mt.return=Le,mt)}function it(Le,be,Fe,mt){return be===null||be.tag!==4||be.stateNode.containerInfo!==Fe.containerInfo||be.stateNode.implementation!==Fe.implementation?(be=wS(Fe,Le.mode,mt),be.return=Le,be):(be=R(be,Fe.children||[]),be.return=Le,be)}function St(Le,be,Fe,mt,Mt){return be===null||be.tag!==7?(be=iu(Fe,Le.mode,mt,Mt),be.return=Le,be):(be=R(be,Fe),be.return=Le,be)}function Ft(Le,be,Fe){if(typeof be=="string"&&be!==""||typeof be=="number")return be=SS(""+be,Le.mode,Fe),be.return=Le,be;if(typeof be=="object"&&be!==null){switch(be.$$typeof){case l:return Fe=gv(be.type,be.key,be.props,null,Le.mode,Fe),Fe.ref=od(Le,null,be),Fe.return=Le,Fe;case u:return be=wS(be,Le.mode,Fe),be.return=Le,be;case _:var mt=be._init;return Ft(Le,mt(be._payload),Fe)}if(W(be)||M(be))return be=iu(be,Le.mode,Fe,null),be.return=Le,be;Bg(Le,be)}return null}function Ct(Le,be,Fe,mt){var Mt=be!==null?be.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number")return Mt!==null?null:ye(Le,be,""+Fe,mt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:return Fe.key===Mt?Ge(Le,be,Fe,mt):null;case u:return Fe.key===Mt?it(Le,be,Fe,mt):null;case _:return Mt=Fe._init,Ct(Le,be,Mt(Fe._payload),mt)}if(W(Fe)||M(Fe))return Mt!==null?null:St(Le,be,Fe,mt,null);Bg(Le,Fe)}return null}function En(Le,be,Fe,mt,Mt){if(typeof mt=="string"&&mt!==""||typeof mt=="number")return Le=Le.get(Fe)||null,ye(be,Le,""+mt,Mt);if(typeof mt=="object"&&mt!==null){switch(mt.$$typeof){case l:return Le=Le.get(mt.key===null?Fe:mt.key)||null,Ge(be,Le,mt,Mt);case u:return Le=Le.get(mt.key===null?Fe:mt.key)||null,it(be,Le,mt,Mt);case _:var Vt=mt._init;return En(Le,be,Fe,Vt(mt._payload),Mt)}if(W(mt)||M(mt))return Le=Le.get(Fe)||null,St(be,Le,mt,Mt,null);Bg(be,mt)}return null}function Tt(Le,be,Fe,mt){for(var Mt=null,Vt=null,Bt=be,cn=be=0,Dr=null;Bt!==null&&cn<Fe.length;cn++){Bt.index>cn?(Dr=Bt,Bt=null):Dr=Bt.sibling;var fn=Ct(Le,Bt,Fe[cn],mt);if(fn===null){Bt===null&&(Bt=Dr);break}d&&Bt&&fn.alternate===null&&p(Le,Bt),be=k(fn,be,cn),Vt===null?Mt=fn:Vt.sibling=fn,Vt=fn,Bt=Dr}if(cn===Fe.length)return w(Le,Bt),Bn&&Zl(Le,cn),Mt;if(Bt===null){for(;cn<Fe.length;cn++)Bt=Ft(Le,Fe[cn],mt),Bt!==null&&(be=k(Bt,be,cn),Vt===null?Mt=Bt:Vt.sibling=Bt,Vt=Bt);return Bn&&Zl(Le,cn),Mt}for(Bt=A(Le,Bt);cn<Fe.length;cn++)Dr=En(Bt,Le,cn,Fe[cn],mt),Dr!==null&&(d&&Dr.alternate!==null&&Bt.delete(Dr.key===null?cn:Dr.key),be=k(Dr,be,cn),Vt===null?Mt=Dr:Vt.sibling=Dr,Vt=Dr);return d&&Bt.forEach(function(Ys){return p(Le,Ys)}),Bn&&Zl(Le,cn),Mt}function ei(Le,be,Fe,mt){var Mt=M(Fe);if(typeof Mt!="function")throw Error(o(150));if(Fe=Mt.call(Fe),Fe==null)throw Error(o(151));for(var Vt=Mt=null,Bt=be,cn=be=0,Dr=null,fn=Fe.next();Bt!==null&&!fn.done;cn++,fn=Fe.next()){Bt.index>cn?(Dr=Bt,Bt=null):Dr=Bt.sibling;var Ys=Ct(Le,Bt,fn.value,mt);if(Ys===null){Bt===null&&(Bt=Dr);break}d&&Bt&&Ys.alternate===null&&p(Le,Bt),be=k(Ys,be,cn),Vt===null?Mt=Ys:Vt.sibling=Ys,Vt=Ys,Bt=Dr}if(fn.done)return w(Le,Bt),Bn&&Zl(Le,cn),Mt;if(Bt===null){for(;!fn.done;cn++,fn=Fe.next())fn=Ft(Le,fn.value,mt),fn!==null&&(be=k(fn,be,cn),Vt===null?Mt=fn:Vt.sibling=fn,Vt=fn);return Bn&&Zl(Le,cn),Mt}for(Bt=A(Le,Bt);!fn.done;cn++,fn=Fe.next())fn=En(Bt,Le,cn,fn.value,mt),fn!==null&&(d&&fn.alternate!==null&&Bt.delete(fn.key===null?cn:fn.key),be=k(fn,be,cn),Vt===null?Mt=fn:Vt.sibling=fn,Vt=fn);return d&&Bt.forEach(function(JH){return p(Le,JH)}),Bn&&Zl(Le,cn),Mt}function Ta(Le,be,Fe,mt){if(typeof Fe=="object"&&Fe!==null&&Fe.type===c&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case l:e:{for(var Mt=Fe.key,Vt=be;Vt!==null;){if(Vt.key===Mt){if(Mt=Fe.type,Mt===c){if(Vt.tag===7){w(Le,Vt.sibling),be=R(Vt,Fe.props.children),be.return=Le,Le=be;break e}}else if(Vt.elementType===Mt||typeof Mt=="object"&&Mt!==null&&Mt.$$typeof===_&&tC(Mt)===Vt.type){w(Le,Vt.sibling),be=R(Vt,Fe.props),be.ref=od(Le,Vt,Fe),be.return=Le,Le=be;break e}w(Le,Vt);break}else p(Le,Vt);Vt=Vt.sibling}Fe.type===c?(be=iu(Fe.props.children,Le.mode,mt,Fe.key),be.return=Le,Le=be):(mt=gv(Fe.type,Fe.key,Fe.props,null,Le.mode,mt),mt.ref=od(Le,be,Fe),mt.return=Le,Le=mt)}return oe(Le);case u:e:{for(Vt=Fe.key;be!==null;){if(be.key===Vt)if(be.tag===4&&be.stateNode.containerInfo===Fe.containerInfo&&be.stateNode.implementation===Fe.implementation){w(Le,be.sibling),be=R(be,Fe.children||[]),be.return=Le,Le=be;break e}else{w(Le,be);break}else p(Le,be);be=be.sibling}be=wS(Fe,Le.mode,mt),be.return=Le,Le=be}return oe(Le);case _:return Vt=Fe._init,Ta(Le,be,Vt(Fe._payload),mt)}if(W(Fe))return Tt(Le,be,Fe,mt);if(M(Fe))return ei(Le,be,Fe,mt);Bg(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"?(Fe=""+Fe,be!==null&&be.tag===6?(w(Le,be.sibling),be=R(be,Fe),be.return=Le,Le=be):(w(Le,be),be=SS(Fe,Le.mode,mt),be.return=Le,Le=be),oe(Le)):w(Le,be)}return Ta}var Ic=nC(!0),rC=nC(!1),sd={},ba=gt(sd),ld=gt(sd),Lc=gt(sd);function wo(d){if(d===sd)throw Error(o(174));return d}function B1(d,p){wt(Lc,p),wt(ld,d),wt(ba,sd),d=Q(p),Ze(ba),wt(ba,d)}function Dc(){Ze(ba),Ze(ld),Ze(Lc)}function iC(d){var p=wo(Lc.current),w=wo(ba.current);p=N(w,d.type,p),w!==p&&(wt(ld,d),wt(ba,p))}function z1(d){ld.current===d&&(Ze(ba),Ze(ld))}var Vn=gt(0);function zg(d){for(var p=d;p!==null;){if(p.tag===13){var w=p.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||xr(w)||cr(w)))return p}else if(p.tag===19&&p.memoizedProps.revealOrder!==void 0){if(p.flags&128)return p}else if(p.child!==null){p.child.return=p,p=p.child;continue}if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return null;p=p.return}p.sibling.return=p.return,p=p.sibling}return null}var H1=[];function j1(){for(var d=0;d<H1.length;d++){var p=H1[d];Ie?p._workInProgressVersionPrimary=null:p._workInProgressVersionSecondary=null}H1.length=0}var Hg=s.ReactCurrentDispatcher,Ma=s.ReactCurrentBatchConfig,Nc=0,qn=null,Zr=null,Lr=null,jg=!1,ud=!1,cd=0,bH=0;function Jr(){throw Error(o(321))}function G1(d,p){if(p===null)return!1;for(var w=0;w<p.length&&w<d.length;w++)if(!Yi(d[w],p[w]))return!1;return!0}function V1(d,p,w,A,R,k){if(Nc=k,qn=p,p.memoizedState=null,p.updateQueue=null,p.lanes=0,Hg.current=d===null||d.memoizedState===null?TH:PH,d=w(A,R),ud){k=0;do{if(ud=!1,cd=0,25<=k)throw Error(o(301));k+=1,Lr=Zr=null,p.updateQueue=null,Hg.current=CH,d=w(A,R)}while(ud)}if(Hg.current=Xg,p=Zr!==null&&Zr.next!==null,Nc=0,Lr=Zr=qn=null,jg=!1,p)throw Error(o(300));return d}function W1(){var d=cd!==0;return cd=0,d}function Qo(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lr===null?qn.memoizedState=Lr=d:Lr=Lr.next=d,Lr}function bo(){if(Zr===null){var d=qn.alternate;d=d!==null?d.memoizedState:null}else d=Zr.next;var p=Lr===null?qn.memoizedState:Lr.next;if(p!==null)Lr=p,Zr=d;else{if(d===null)throw Error(o(310));Zr=d,d={memoizedState:Zr.memoizedState,baseState:Zr.baseState,baseQueue:Zr.baseQueue,queue:Zr.queue,next:null},Lr===null?qn.memoizedState=Lr=d:Lr=Lr.next=d}return Lr}function Jl(d,p){return typeof p=="function"?p(d):p}function Gg(d){var p=bo(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=Zr,R=A.baseQueue,k=w.pending;if(k!==null){if(R!==null){var oe=R.next;R.next=k.next,k.next=oe}A.baseQueue=R=k,w.pending=null}if(R!==null){k=R.next,A=A.baseState;var ye=oe=null,Ge=null,it=k;do{var St=it.lane;if((Nc&St)===St)Ge!==null&&(Ge=Ge.next={lane:0,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null}),A=it.hasEagerState?it.eagerState:d(A,it.action);else{var Ft={lane:St,action:it.action,hasEagerState:it.hasEagerState,eagerState:it.eagerState,next:null};Ge===null?(ye=Ge=Ft,oe=A):Ge=Ge.next=Ft,qn.lanes|=St,Uc|=St}it=it.next}while(it!==null&&it!==k);Ge===null?oe=A:Ge.next=ye,Yi(A,p.memoizedState)||(Ji=!0),p.memoizedState=A,p.baseState=oe,p.baseQueue=Ge,w.lastRenderedState=A}if(d=w.interleaved,d!==null){R=d;do k=R.lane,qn.lanes|=k,Uc|=k,R=R.next;while(R!==d)}else R===null&&(w.lanes=0);return[p.memoizedState,w.dispatch]}function Vg(d){var p=bo(),w=p.queue;if(w===null)throw Error(o(311));w.lastRenderedReducer=d;var A=w.dispatch,R=w.pending,k=p.memoizedState;if(R!==null){w.pending=null;var oe=R=R.next;do k=d(k,oe.action),oe=oe.next;while(oe!==R);Yi(k,p.memoizedState)||(Ji=!0),p.memoizedState=k,p.baseQueue===null&&(p.baseState=k),w.lastRenderedState=k}return[k,A]}function aC(){}function oC(d,p){var w=qn,A=bo(),R=p(),k=!Yi(A.memoizedState,R);if(k&&(A.memoizedState=R,Ji=!0),A=A.queue,hd(uC.bind(null,w,A,d),[d]),A.getSnapshot!==p||k||Lr!==null&&Lr.memoizedState.tag&1){if(w.flags|=2048,fd(9,lC.bind(null,w,A,R,p),void 0,null),fr===null)throw Error(o(349));Nc&30||sC(w,p,R)}return R}function sC(d,p,w){d.flags|=16384,d={getSnapshot:p,value:w},p=qn.updateQueue,p===null?(p={lastEffect:null,stores:null},qn.updateQueue=p,p.stores=[d]):(w=p.stores,w===null?p.stores=[d]:w.push(d))}function lC(d,p,w,A){p.value=w,p.getSnapshot=A,cC(p)&&Ea(d,1,-1)}function uC(d,p,w){return w(function(){cC(p)&&Ea(d,1,-1)})}function cC(d){var p=d.getSnapshot;d=d.value;try{var w=p();return!Yi(d,w)}catch{return!0}}function $1(d){var p=Qo();return typeof d=="function"&&(d=d()),p.memoizedState=p.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jl,lastRenderedState:d},p.queue=d,d=d.dispatch=AH.bind(null,qn,d),[p.memoizedState,d]}function fd(d,p,w,A){return d={tag:d,create:p,destroy:w,deps:A,next:null},p=qn.updateQueue,p===null?(p={lastEffect:null,stores:null},qn.updateQueue=p,p.lastEffect=d.next=d):(w=p.lastEffect,w===null?p.lastEffect=d.next=d:(A=w.next,w.next=d,d.next=A,p.lastEffect=d)),d}function fC(){return bo().memoizedState}function Wg(d,p,w,A){var R=Qo();qn.flags|=d,R.memoizedState=fd(1|p,w,void 0,A===void 0?null:A)}function $g(d,p,w,A){var R=bo();A=A===void 0?null:A;var k=void 0;if(Zr!==null){var oe=Zr.memoizedState;if(k=oe.destroy,A!==null&&G1(A,oe.deps)){R.memoizedState=fd(p,w,k,A);return}}qn.flags|=d,R.memoizedState=fd(1|p,w,k,A)}function X1(d,p){return Wg(8390656,8,d,p)}function hd(d,p){return $g(2048,8,d,p)}function hC(d,p){return $g(4,2,d,p)}function dC(d,p){return $g(4,4,d,p)}function pC(d,p){if(typeof p=="function")return d=d(),p(d),function(){p(null)};if(p!=null)return d=d(),p.current=d,function(){p.current=null}}function mC(d,p,w){return w=w!=null?w.concat([d]):null,$g(4,4,pC.bind(null,p,d),w)}function Y1(){}function gC(d,p){var w=bo();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&G1(p,A[1])?A[0]:(w.memoizedState=[d,p],d)}function vC(d,p){var w=bo();p=p===void 0?null:p;var A=w.memoizedState;return A!==null&&p!==null&&G1(p,A[1])?A[0]:(d=d(),w.memoizedState=[d,p],d)}function MH(d,p){var w=qt;qt=w!==0&&4>w?w:4,d(!0);var A=Ma.transition;Ma.transition={};try{d(!1),p()}finally{qt=w,Ma.transition=A}}function yC(){return bo().memoizedState}function EH(d,p,w){var A=Ws(d);w={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null},xC(d)?_C(p,w):(SC(d,p,w),w=yi(),d=Ea(d,A,w),d!==null&&wC(d,p,A))}function AH(d,p,w){var A=Ws(d),R={lane:A,action:w,hasEagerState:!1,eagerState:null,next:null};if(xC(d))_C(p,R);else{SC(d,p,R);var k=d.alternate;if(d.lanes===0&&(k===null||k.lanes===0)&&(k=p.lastRenderedReducer,k!==null))try{var oe=p.lastRenderedState,ye=k(oe,w);if(R.hasEagerState=!0,R.eagerState=ye,Yi(ye,oe))return}catch{}finally{}w=yi(),d=Ea(d,A,w),d!==null&&wC(d,p,A)}}function xC(d){var p=d.alternate;return d===qn||p!==null&&p===qn}function _C(d,p){ud=jg=!0;var w=d.pending;w===null?p.next=p:(p.next=w.next,w.next=p),d.pending=p}function SC(d,p,w){fr!==null&&d.mode&1&&!($t&2)?(d=p.interleaved,d===null?(w.next=w,qi===null?qi=[p]:qi.push(p)):(w.next=d.next,d.next=w),p.interleaved=w):(d=p.pending,d===null?w.next=w:(w.next=d.next,d.next=w),p.pending=w)}function wC(d,p,w){if(w&4194240){var A=p.lanes;A&=d.pendingLanes,w|=A,p.lanes=w,_o(d,w)}}var Xg={readContext:ir,useCallback:Jr,useContext:Jr,useEffect:Jr,useImperativeHandle:Jr,useInsertionEffect:Jr,useLayoutEffect:Jr,useMemo:Jr,useReducer:Jr,useRef:Jr,useState:Jr,useDebugValue:Jr,useDeferredValue:Jr,useTransition:Jr,useMutableSource:Jr,useSyncExternalStore:Jr,useId:Jr,unstable_isNewReconciler:!1},TH={readContext:ir,useCallback:function(d,p){return Qo().memoizedState=[d,p===void 0?null:p],d},useContext:ir,useEffect:X1,useImperativeHandle:function(d,p,w){return w=w!=null?w.concat([d]):null,Wg(4194308,4,pC.bind(null,p,d),w)},useLayoutEffect:function(d,p){return Wg(4194308,4,d,p)},useInsertionEffect:function(d,p){return Wg(4,2,d,p)},useMemo:function(d,p){var w=Qo();return p=p===void 0?null:p,d=d(),w.memoizedState=[d,p],d},useReducer:function(d,p,w){var A=Qo();return p=w!==void 0?w(p):p,A.memoizedState=A.baseState=p,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:p},A.queue=d,d=d.dispatch=EH.bind(null,qn,d),[A.memoizedState,d]},useRef:function(d){var p=Qo();return d={current:d},p.memoizedState=d},useState:$1,useDebugValue:Y1,useDeferredValue:function(d){var p=$1(d),w=p[0],A=p[1];return X1(function(){var R=Ma.transition;Ma.transition={};try{A(d)}finally{Ma.transition=R}},[d]),w},useTransition:function(){var d=$1(!1),p=d[0];return d=MH.bind(null,d[1]),Qo().memoizedState=d,[p,d]},useMutableSource:function(){},useSyncExternalStore:function(d,p,w){var A=qn,R=Qo();if(Bn){if(w===void 0)throw Error(o(407));w=w()}else{if(w=p(),fr===null)throw Error(o(349));Nc&30||sC(A,p,w)}R.memoizedState=w;var k={value:w,getSnapshot:p};return R.queue=k,X1(uC.bind(null,A,k,d),[d]),A.flags|=2048,fd(9,lC.bind(null,A,k,w,p),void 0,null),w},useId:function(){var d=Qo(),p=fr.identifierPrefix;if(Bn){var w=Jo,A=Zo;w=(A&~(1<<32-vn(A)-1)).toString(32)+w,p=":"+p+"R"+w,w=cd++,0<w&&(p+="H"+w.toString(32)),p+=":"}else w=bH++,p=":"+p+"r"+w.toString(32)+":";return d.memoizedState=p},unstable_isNewReconciler:!1},PH={readContext:ir,useCallback:gC,useContext:ir,useEffect:hd,useImperativeHandle:mC,useInsertionEffect:hC,useLayoutEffect:dC,useMemo:vC,useReducer:Gg,useRef:fC,useState:function(){return Gg(Jl)},useDebugValue:Y1,useDeferredValue:function(d){var p=Gg(Jl),w=p[0],A=p[1];return hd(function(){var R=Ma.transition;Ma.transition={};try{A(d)}finally{Ma.transition=R}},[d]),w},useTransition:function(){var d=Gg(Jl)[0],p=bo().memoizedState;return[d,p]},useMutableSource:aC,useSyncExternalStore:oC,useId:yC,unstable_isNewReconciler:!1},CH={readContext:ir,useCallback:gC,useContext:ir,useEffect:hd,useImperativeHandle:mC,useInsertionEffect:hC,useLayoutEffect:dC,useMemo:vC,useReducer:Vg,useRef:fC,useState:function(){return Vg(Jl)},useDebugValue:Y1,useDeferredValue:function(d){var p=Vg(Jl),w=p[0],A=p[1];return hd(function(){var R=Ma.transition;Ma.transition={};try{A(d)}finally{Ma.transition=R}},[d]),w},useTransition:function(){var d=Vg(Jl)[0],p=bo().memoizedState;return[d,p]},useMutableSource:aC,useSyncExternalStore:oC,useId:yC,unstable_isNewReconciler:!1};function q1(d,p){try{var w="",A=p;do w+=ql(A),A=A.return;while(A);var R=w}catch(k){R=`
Error generating stack: `+k.message+`
`+k.stack}return{value:d,source:p,stack:R}}function K1(d,p){try{console.error(p.value)}catch(w){setTimeout(function(){throw w})}}var OH=typeof WeakMap=="function"?WeakMap:Map;function bC(d,p,w){w=Ko(-1,w),w.tag=3,w.payload={element:null};var A=p.value;return w.callback=function(){uv||(uv=!0,pS=A),K1(d,p)},w}function MC(d,p,w){w=Ko(-1,w),w.tag=3;var A=d.type.getDerivedStateFromError;if(typeof A=="function"){var R=p.value;w.payload=function(){return A(R)},w.callback=function(){K1(d,p)}}var k=d.stateNode;return k!==null&&typeof k.componentDidCatch=="function"&&(w.callback=function(){K1(d,p),typeof A!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var oe=p.stack;this.componentDidCatch(p.value,{componentStack:oe!==null?oe:""})}),w}function EC(d,p,w){var A=d.pingCache;if(A===null){A=d.pingCache=new OH;var R=new Set;A.set(p,R)}else R=A.get(p),R===void 0&&(R=new Set,A.set(p,R));R.has(w)||(R.add(w),d=VH.bind(null,d,p,w),p.then(d,d))}function AC(d){do{var p;if((p=d.tag===13)&&(p=d.memoizedState,p=p!==null?p.dehydrated!==null:!0),p)return d;d=d.return}while(d!==null);return null}function TC(d,p,w,A,R){return d.mode&1?(d.flags|=65536,d.lanes=R,d):(d===p?d.flags|=65536:(d.flags|=128,w.flags|=131072,w.flags&=-52805,w.tag===1&&(w.alternate===null?w.tag=17:(p=Ko(-1,1),p.tag=2,js(w,p))),w.lanes|=1),d)}function Mo(d){d.flags|=4}function PC(d,p){if(d!==null&&d.child===p.child)return!0;if(p.flags&16)return!1;for(d=p.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var dd,pd,Yg,qg;if(X)dd=function(d,p){for(var w=p.child;w!==null;){if(w.tag===5||w.tag===6)$(d,w.stateNode);else if(w.tag!==4&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===p)break;for(;w.sibling===null;){if(w.return===null||w.return===p)return;w=w.return}w.sibling.return=w.return,w=w.sibling}},pd=function(){},Yg=function(d,p,w,A,R){if(d=d.memoizedProps,d!==A){var k=p.stateNode,oe=wo(ba.current);w=Z(k,w,d,A,R,oe),(p.updateQueue=w)&&Mo(p)}},qg=function(d,p,w,A){w!==A&&Mo(p)};else if(J){dd=function(d,p,w,A){for(var R=p.child;R!==null;){if(R.tag===5){var k=R.stateNode;w&&A&&(k=Nt(k,R.type,R.memoizedProps,R)),$(d,k)}else if(R.tag===6)k=R.stateNode,w&&A&&(k=Kt(k,R.memoizedProps,R)),$(d,k);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)k=R.child,k!==null&&(k.return=R),dd(d,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};var CC=function(d,p,w,A){for(var R=p.child;R!==null;){if(R.tag===5){var k=R.stateNode;w&&A&&(k=Nt(k,R.type,R.memoizedProps,R)),Et(d,k)}else if(R.tag===6)k=R.stateNode,w&&A&&(k=Kt(k,R.memoizedProps,R)),Et(d,k);else if(R.tag!==4){if(R.tag===22&&R.memoizedState!==null)k=R.child,k!==null&&(k.return=R),CC(d,R,!0,!0);else if(R.child!==null){R.child.return=R,R=R.child;continue}}if(R===p)break;for(;R.sibling===null;){if(R.return===null||R.return===p)return;R=R.return}R.sibling.return=R.return,R=R.sibling}};pd=function(d,p){var w=p.stateNode;if(!PC(d,p)){d=w.containerInfo;var A=ut(d);CC(A,p,!1,!1),w.pendingChildren=A,Mo(p),At(d,A)}},Yg=function(d,p,w,A,R){var k=d.stateNode,oe=d.memoizedProps;if((d=PC(d,p))&&oe===A)p.stateNode=k;else{var ye=p.stateNode,Ge=wo(ba.current),it=null;oe!==A&&(it=Z(ye,w,oe,A,R,Ge)),d&&it===null?p.stateNode=k:(k=lt(k,it,w,oe,A,p,d,ye),ie(k,w,A,R,Ge)&&Mo(p),p.stateNode=k,d?Mo(p):dd(k,p,!1,!1))}},qg=function(d,p,w,A){w!==A?(d=wo(Lc.current),w=wo(ba.current),p.stateNode=ce(A,d,w,p),Mo(p)):p.stateNode=d.stateNode}}else pd=function(){},Yg=function(){},qg=function(){};function md(d,p){if(!Bn)switch(d.tailMode){case"hidden":p=d.tail;for(var w=null;p!==null;)p.alternate!==null&&(w=p),p=p.sibling;w===null?d.tail=null:w.sibling=null;break;case"collapsed":w=d.tail;for(var A=null;w!==null;)w.alternate!==null&&(A=w),w=w.sibling;A===null?p||d.tail===null?d.tail=null:d.tail.sibling=null:A.sibling=null}}function Qr(d){var p=d.alternate!==null&&d.alternate.child===d.child,w=0,A=0;if(p)for(var R=d.child;R!==null;)w|=R.lanes|R.childLanes,A|=R.subtreeFlags&14680064,A|=R.flags&14680064,R.return=d,R=R.sibling;else for(R=d.child;R!==null;)w|=R.lanes|R.childLanes,A|=R.subtreeFlags,A|=R.flags,R.return=d,R=R.sibling;return d.subtreeFlags|=A,d.childLanes=w,p}function RH(d,p,w){var A=p.pendingProps;switch(N1(p),p.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Qr(p),null;case 1:return Ut(p.type)&&an(),Qr(p),null;case 3:return A=p.stateNode,Dc(),Ze(Dt),Ze(Gt),j1(),A.pendingContext&&(A.context=A.pendingContext,A.pendingContext=null),(d===null||d.child===null)&&(ad(p)?Mo(p):d===null||d.memoizedState.isDehydrated&&!(p.flags&256)||(p.flags|=1024,Ya!==null&&(vS(Ya),Ya=null))),pd(d,p),Qr(p),null;case 5:z1(p),w=wo(Lc.current);var R=p.type;if(d!==null&&p.stateNode!=null)Yg(d,p,R,A,w),d.ref!==p.ref&&(p.flags|=512,p.flags|=2097152);else{if(!A){if(p.stateNode===null)throw Error(o(166));return Qr(p),null}if(d=wo(ba.current),ad(p)){if(!_e)throw Error(o(175));d=z(p.stateNode,p.type,p.memoizedProps,w,d,p,!id),p.updateQueue=d,d!==null&&Mo(p)}else{var k=H(R,A,w,d,p);dd(k,p,!1,!1),p.stateNode=k,ie(k,R,A,w,d)&&Mo(p)}p.ref!==null&&(p.flags|=512,p.flags|=2097152)}return Qr(p),null;case 6:if(d&&p.stateNode!=null)qg(d,p,d.memoizedProps,A);else{if(typeof A!="string"&&p.stateNode===null)throw Error(o(166));if(d=wo(Lc.current),w=wo(ba.current),ad(p)){if(!_e)throw Error(o(176));if(d=p.stateNode,A=p.memoizedProps,(w=K(d,A,p,!id))&&(R=Ki,R!==null))switch(k=(R.mode&1)!==0,R.tag){case 3:De(R.stateNode.containerInfo,d,A,k);break;case 5:Ne(R.type,R.memoizedProps,R.stateNode,d,A,k)}w&&Mo(p)}else p.stateNode=ce(A,d,w,p)}return Qr(p),null;case 13:if(Ze(Vn),A=p.memoizedState,Bn&&Zi!==null&&p.mode&1&&!(p.flags&128)){for(d=Zi;d;)d=Fn(d);return Rc(),p.flags|=98560,p}if(A!==null&&A.dehydrated!==null){if(A=ad(p),d===null){if(!A)throw Error(o(318));if(!_e)throw Error(o(344));if(d=p.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));L(d,p)}else Rc(),!(p.flags&128)&&(p.memoizedState=null),p.flags|=4;return Qr(p),null}return Ya!==null&&(vS(Ya),Ya=null),p.flags&128?(p.lanes=w,p):(A=A!==null,w=!1,d===null?ad(p):w=d.memoizedState!==null,A&&!w&&(p.child.flags|=8192,p.mode&1&&(d===null||Vn.current&1?Sr===0&&(Sr=3):xS())),p.updateQueue!==null&&(p.flags|=4),Qr(p),null);case 4:return Dc(),pd(d,p),d===null&&Te(p.stateNode.containerInfo),Qr(p),null;case 10:return Ir(p.type._context),Qr(p),null;case 17:return Ut(p.type)&&an(),Qr(p),null;case 19:if(Ze(Vn),R=p.memoizedState,R===null)return Qr(p),null;if(A=(p.flags&128)!==0,k=R.rendering,k===null)if(A)md(R,!1);else{if(Sr!==0||d!==null&&d.flags&128)for(d=p.child;d!==null;){if(k=zg(d),k!==null){for(p.flags|=128,md(R,!1),d=k.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),p.subtreeFlags=0,d=w,A=p.child;A!==null;)w=A,R=d,w.flags&=14680066,k=w.alternate,k===null?(w.childLanes=0,w.lanes=R,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=k.childLanes,w.lanes=k.lanes,w.child=k.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=k.memoizedProps,w.memoizedState=k.memoizedState,w.updateQueue=k.updateQueue,w.type=k.type,R=k.dependencies,w.dependencies=R===null?null:{lanes:R.lanes,firstContext:R.firstContext}),A=A.sibling;return wt(Vn,Vn.current&1|2),p.child}d=d.sibling}R.tail!==null&&Gn()>dS&&(p.flags|=128,A=!0,md(R,!1),p.lanes=4194304)}else{if(!A)if(d=zg(k),d!==null){if(p.flags|=128,A=!0,d=d.updateQueue,d!==null&&(p.updateQueue=d,p.flags|=4),md(R,!0),R.tail===null&&R.tailMode==="hidden"&&!k.alternate&&!Bn)return Qr(p),null}else 2*Gn()-R.renderingStartTime>dS&&w!==1073741824&&(p.flags|=128,A=!0,md(R,!1),p.lanes=4194304);R.isBackwards?(k.sibling=p.child,p.child=k):(d=R.last,d!==null?d.sibling=k:p.child=k,R.last=k)}return R.tail!==null?(p=R.tail,R.rendering=p,R.tail=p.sibling,R.renderingStartTime=Gn(),p.sibling=null,d=Vn.current,wt(Vn,A?d&1|2:d&1),p):(Qr(p),null);case 22:case 23:return yS(),A=p.memoizedState!==null,d!==null&&d.memoizedState!==null!==A&&(p.flags|=8192),A&&p.mode&1?Qi&1073741824&&(Qr(p),X&&p.subtreeFlags&6&&(p.flags|=8192)):Qr(p),null;case 24:return null;case 25:return null}throw Error(o(156,p.tag))}var IH=s.ReactCurrentOwner,Ji=!1;function vi(d,p,w,A){p.child=d===null?rC(p,null,w,A):Ic(p,d.child,w,A)}function OC(d,p,w,A,R){w=w.render;var k=p.ref;return rr(p,R),A=V1(d,p,w,A,k,R),w=W1(),d!==null&&!Ji?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~R,es(d,p,R)):(Bn&&w&&D1(p),p.flags|=1,vi(d,p,A,R),p.child)}function RC(d,p,w,A,R){if(d===null){var k=w.type;return typeof k=="function"&&!_S(k)&&k.defaultProps===void 0&&w.compare===null&&w.defaultProps===void 0?(p.tag=15,p.type=k,IC(d,p,k,A,R)):(d=gv(w.type,null,A,p,p.mode,R),d.ref=p.ref,d.return=p,p.child=d)}if(k=d.child,!(d.lanes&R)){var oe=k.memoizedProps;if(w=w.compare,w=w!==null?w:Yl,w(oe,A)&&d.ref===p.ref)return es(d,p,R)}return p.flags|=1,d=Xs(k,A),d.ref=p.ref,d.return=p,p.child=d}function IC(d,p,w,A,R){if(d!==null&&Yl(d.memoizedProps,A)&&d.ref===p.ref)if(Ji=!1,(d.lanes&R)!==0)d.flags&131072&&(Ji=!0);else return p.lanes=d.lanes,es(d,p,R);return Z1(d,p,w,A,R)}function LC(d,p,w){var A=p.pendingProps,R=A.children,k=d!==null?d.memoizedState:null;if(A.mode==="hidden")if(!(p.mode&1))p.memoizedState={baseLanes:0,cachePool:null},wt(kc,Qi),Qi|=w;else if(w&1073741824)p.memoizedState={baseLanes:0,cachePool:null},A=k!==null?k.baseLanes:w,wt(kc,Qi),Qi|=A;else return d=k!==null?k.baseLanes|w:w,p.lanes=p.childLanes=1073741824,p.memoizedState={baseLanes:d,cachePool:null},p.updateQueue=null,wt(kc,Qi),Qi|=d,null;else k!==null?(A=k.baseLanes|w,p.memoizedState=null):A=w,wt(kc,Qi),Qi|=A;return vi(d,p,R,w),p.child}function DC(d,p){var w=p.ref;(d===null&&w!==null||d!==null&&d.ref!==w)&&(p.flags|=512,p.flags|=2097152)}function Z1(d,p,w,A,R){var k=Ut(w)?Zt:Gt.current;return k=Tn(p,k),rr(p,R),w=V1(d,p,w,A,k,R),A=W1(),d!==null&&!Ji?(p.updateQueue=d.updateQueue,p.flags&=-2053,d.lanes&=~R,es(d,p,R)):(Bn&&A&&D1(p),p.flags|=1,vi(d,p,w,R),p.child)}function NC(d,p,w,A,R){if(Ut(w)){var k=!0;Jt(p)}else k=!1;if(rr(p,R),p.stateNode===null)d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),qP(p,w,A),L1(p,w,A,R),A=!0;else if(d===null){var oe=p.stateNode,ye=p.memoizedProps;oe.props=ye;var Ge=oe.context,it=w.contextType;typeof it=="object"&&it!==null?it=ir(it):(it=Ut(w)?Zt:Gt.current,it=Tn(p,it));var St=w.getDerivedStateFromProps,Ft=typeof St=="function"||typeof oe.getSnapshotBeforeUpdate=="function";Ft||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ye!==A||Ge!==it)&&KP(p,oe,A,it),Hs=!1;var Ct=p.memoizedState;oe.state=Ct,Ng(p,A,oe,R),Ge=p.memoizedState,ye!==A||Ct!==Ge||Dt.current||Hs?(typeof St=="function"&&(I1(p,w,St,A),Ge=p.memoizedState),(ye=Hs||YP(p,w,ye,A,Ct,Ge,it))?(Ft||typeof oe.UNSAFE_componentWillMount!="function"&&typeof oe.componentWillMount!="function"||(typeof oe.componentWillMount=="function"&&oe.componentWillMount(),typeof oe.UNSAFE_componentWillMount=="function"&&oe.UNSAFE_componentWillMount()),typeof oe.componentDidMount=="function"&&(p.flags|=4194308)):(typeof oe.componentDidMount=="function"&&(p.flags|=4194308),p.memoizedProps=A,p.memoizedState=Ge),oe.props=A,oe.state=Ge,oe.context=it,A=ye):(typeof oe.componentDidMount=="function"&&(p.flags|=4194308),A=!1)}else{oe=p.stateNode,VP(d,p),ye=p.memoizedProps,it=p.type===p.elementType?ye:mi(p.type,ye),oe.props=it,Ft=p.pendingProps,Ct=oe.context,Ge=w.contextType,typeof Ge=="object"&&Ge!==null?Ge=ir(Ge):(Ge=Ut(w)?Zt:Gt.current,Ge=Tn(p,Ge));var En=w.getDerivedStateFromProps;(St=typeof En=="function"||typeof oe.getSnapshotBeforeUpdate=="function")||typeof oe.UNSAFE_componentWillReceiveProps!="function"&&typeof oe.componentWillReceiveProps!="function"||(ye!==Ft||Ct!==Ge)&&KP(p,oe,A,Ge),Hs=!1,Ct=p.memoizedState,oe.state=Ct,Ng(p,A,oe,R);var Tt=p.memoizedState;ye!==Ft||Ct!==Tt||Dt.current||Hs?(typeof En=="function"&&(I1(p,w,En,A),Tt=p.memoizedState),(it=Hs||YP(p,w,it,A,Ct,Tt,Ge)||!1)?(St||typeof oe.UNSAFE_componentWillUpdate!="function"&&typeof oe.componentWillUpdate!="function"||(typeof oe.componentWillUpdate=="function"&&oe.componentWillUpdate(A,Tt,Ge),typeof oe.UNSAFE_componentWillUpdate=="function"&&oe.UNSAFE_componentWillUpdate(A,Tt,Ge)),typeof oe.componentDidUpdate=="function"&&(p.flags|=4),typeof oe.getSnapshotBeforeUpdate=="function"&&(p.flags|=1024)):(typeof oe.componentDidUpdate!="function"||ye===d.memoizedProps&&Ct===d.memoizedState||(p.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ye===d.memoizedProps&&Ct===d.memoizedState||(p.flags|=1024),p.memoizedProps=A,p.memoizedState=Tt),oe.props=A,oe.state=Tt,oe.context=Ge,A=it):(typeof oe.componentDidUpdate!="function"||ye===d.memoizedProps&&Ct===d.memoizedState||(p.flags|=4),typeof oe.getSnapshotBeforeUpdate!="function"||ye===d.memoizedProps&&Ct===d.memoizedState||(p.flags|=1024),A=!1)}return J1(d,p,w,A,k,R)}function J1(d,p,w,A,R,k){DC(d,p);var oe=(p.flags&128)!==0;if(!A&&!oe)return R&&kt(p,w,!1),es(d,p,k);A=p.stateNode,IH.current=p;var ye=oe&&typeof w.getDerivedStateFromError!="function"?null:A.render();return p.flags|=1,d!==null&&oe?(p.child=Ic(p,d.child,null,k),p.child=Ic(p,null,ye,k)):vi(d,p,ye,k),p.memoizedState=A.state,R&&kt(p,w,!0),p.child}function kC(d){var p=d.stateNode;p.pendingContext?Yt(d,p.pendingContext,p.pendingContext!==p.context):p.context&&Yt(d,p.context,!1),B1(d,p.containerInfo)}function UC(d,p,w,A,R){return Rc(),F1(R),p.flags|=256,vi(d,p,w,A),p.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function Zg(d){return{baseLanes:d,cachePool:null}}function FC(d,p,w){var A=p.pendingProps,R=Vn.current,k=!1,oe=(p.flags&128)!==0,ye;if((ye=oe)||(ye=d!==null&&d.memoizedState===null?!1:(R&2)!==0),ye?(k=!0,p.flags&=-129):(d===null||d.memoizedState!==null)&&(R|=1),wt(Vn,R&1),d===null)return U1(p),d=p.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(p.mode&1?cr(d)?p.lanes=8:p.lanes=1073741824:p.lanes=1,null):(R=A.children,d=A.fallback,k?(A=p.mode,k=p.child,R={mode:"hidden",children:R},!(A&1)&&k!==null?(k.childLanes=0,k.pendingProps=R):k=vv(R,A,0,null),d=iu(d,A,w,null),k.return=p,d.return=p,k.sibling=d,p.child=k,p.child.memoizedState=Zg(w),p.memoizedState=Kg,d):Q1(p,R));if(R=d.memoizedState,R!==null){if(ye=R.dehydrated,ye!==null){if(oe)return p.flags&256?(p.flags&=-257,Jg(d,p,w,Error(o(422)))):p.memoizedState!==null?(p.child=d.child,p.flags|=128,null):(k=A.fallback,R=p.mode,A=vv({mode:"visible",children:A.children},R,0,null),k=iu(k,R,w,null),k.flags|=2,A.return=p,k.return=p,A.sibling=k,p.child=A,p.mode&1&&Ic(p,d.child,null,w),p.child.memoizedState=Zg(w),p.memoizedState=Kg,k);if(!(p.mode&1))p=Jg(d,p,w,null);else if(cr(ye))p=Jg(d,p,w,Error(o(419)));else if(A=(w&d.childLanes)!==0,Ji||A){if(A=fr,A!==null){switch(w&-w){case 4:k=2;break;case 16:k=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:k=32;break;case 536870912:k=268435456;break;default:k=0}A=k&(A.suspendedLanes|w)?0:k,A!==0&&A!==R.retryLane&&(R.retryLane=A,Ea(d,A,-1))}xS(),p=Jg(d,p,w,Error(o(421)))}else xr(ye)?(p.flags|=128,p.child=d.child,p=WH.bind(null,d),_r(ye,p),p=null):(w=R.treeContext,_e&&(Zi=Wi(ye),Ki=p,Bn=!0,Ya=null,id=!1,w!==null&&(Sa[wa++]=Zo,Sa[wa++]=Jo,Sa[wa++]=Kl,Zo=w.id,Jo=w.overflow,Kl=p)),p=Q1(p,p.pendingProps.children),p.flags|=4096);return p}return k?(A=zC(d,p,A.children,A.fallback,w),k=p.child,R=d.child.memoizedState,k.memoizedState=R===null?Zg(w):{baseLanes:R.baseLanes|w,cachePool:null},k.childLanes=d.childLanes&~w,p.memoizedState=Kg,A):(w=BC(d,p,A.children,w),p.memoizedState=null,w)}return k?(A=zC(d,p,A.children,A.fallback,w),k=p.child,R=d.child.memoizedState,k.memoizedState=R===null?Zg(w):{baseLanes:R.baseLanes|w,cachePool:null},k.childLanes=d.childLanes&~w,p.memoizedState=Kg,A):(w=BC(d,p,A.children,w),p.memoizedState=null,w)}function Q1(d,p){return p=vv({mode:"visible",children:p},d.mode,0,null),p.return=d,d.child=p}function BC(d,p,w,A){var R=d.child;return d=R.sibling,w=Xs(R,{mode:"visible",children:w}),!(p.mode&1)&&(w.lanes=A),w.return=p,w.sibling=null,d!==null&&(A=p.deletions,A===null?(p.deletions=[d],p.flags|=16):A.push(d)),p.child=w}function zC(d,p,w,A,R){var k=p.mode;d=d.child;var oe=d.sibling,ye={mode:"hidden",children:w};return!(k&1)&&p.child!==d?(w=p.child,w.childLanes=0,w.pendingProps=ye,p.deletions=null):(w=Xs(d,ye),w.subtreeFlags=d.subtreeFlags&14680064),oe!==null?A=Xs(oe,A):(A=iu(A,k,R,null),A.flags|=2),A.return=p,w.return=p,w.sibling=A,p.child=w,A}function Jg(d,p,w,A){return A!==null&&F1(A),Ic(p,d.child,null,w),d=Q1(p,p.pendingProps.children),d.flags|=2,p.memoizedState=null,d}function HC(d,p,w){d.lanes|=p;var A=d.alternate;A!==null&&(A.lanes|=p),gi(d.return,p,w)}function eS(d,p,w,A,R){var k=d.memoizedState;k===null?d.memoizedState={isBackwards:p,rendering:null,renderingStartTime:0,last:A,tail:w,tailMode:R}:(k.isBackwards=p,k.rendering=null,k.renderingStartTime=0,k.last=A,k.tail=w,k.tailMode=R)}function jC(d,p,w){var A=p.pendingProps,R=A.revealOrder,k=A.tail;if(vi(d,p,A.children,w),A=Vn.current,A&2)A=A&1|2,p.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=p.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&HC(d,w,p);else if(d.tag===19)HC(d,w,p);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===p)break e;for(;d.sibling===null;){if(d.return===null||d.return===p)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}A&=1}if(wt(Vn,A),!(p.mode&1))p.memoizedState=null;else switch(R){case"forwards":for(w=p.child,R=null;w!==null;)d=w.alternate,d!==null&&zg(d)===null&&(R=w),w=w.sibling;w=R,w===null?(R=p.child,p.child=null):(R=w.sibling,w.sibling=null),eS(p,!1,R,w,k);break;case"backwards":for(w=null,R=p.child,p.child=null;R!==null;){if(d=R.alternate,d!==null&&zg(d)===null){p.child=R;break}d=R.sibling,R.sibling=w,w=R,R=d}eS(p,!0,w,null,k);break;case"together":eS(p,!1,null,null,void 0);break;default:p.memoizedState=null}return p.child}function es(d,p,w){if(d!==null&&(p.dependencies=d.dependencies),Uc|=p.lanes,!(w&p.childLanes))return null;if(d!==null&&p.child!==d.child)throw Error(o(153));if(p.child!==null){for(d=p.child,w=Xs(d,d.pendingProps),p.child=w,w.return=p;d.sibling!==null;)d=d.sibling,w=w.sibling=Xs(d,d.pendingProps),w.return=p;w.sibling=null}return p.child}function LH(d,p,w){switch(p.tag){case 3:kC(p),Rc();break;case 5:iC(p);break;case 1:Ut(p.type)&&Jt(p);break;case 4:B1(p,p.stateNode.containerInfo);break;case 10:Lg(p,p.type._context,p.memoizedProps.value);break;case 13:var A=p.memoizedState;if(A!==null)return A.dehydrated!==null?(wt(Vn,Vn.current&1),p.flags|=128,null):w&p.child.childLanes?FC(d,p,w):(wt(Vn,Vn.current&1),d=es(d,p,w),d!==null?d.sibling:null);wt(Vn,Vn.current&1);break;case 19:if(A=(w&p.childLanes)!==0,d.flags&128){if(A)return jC(d,p,w);p.flags|=128}var R=p.memoizedState;if(R!==null&&(R.rendering=null,R.tail=null,R.lastEffect=null),wt(Vn,Vn.current),A)break;return null;case 22:case 23:return p.lanes=0,LC(d,p,w)}return es(d,p,w)}function DH(d,p){switch(N1(p),p.tag){case 1:return Ut(p.type)&&an(),d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 3:return Dc(),Ze(Dt),Ze(Gt),j1(),d=p.flags,d&65536&&!(d&128)?(p.flags=d&-65537|128,p):null;case 5:return z1(p),null;case 13:if(Ze(Vn),d=p.memoizedState,d!==null&&d.dehydrated!==null){if(p.alternate===null)throw Error(o(340));Rc()}return d=p.flags,d&65536?(p.flags=d&-65537|128,p):null;case 19:return Ze(Vn),null;case 4:return Dc(),null;case 10:return Ir(p.type._context),null;case 22:case 23:return yS(),null;case 24:return null;default:return null}}var Qg=!1,Ql=!1,NH=typeof WeakSet=="function"?WeakSet:Set,ft=null;function ev(d,p){var w=d.ref;if(w!==null)if(typeof w=="function")try{w(null)}catch(A){Di(d,p,A)}else w.current=null}function tS(d,p,w){try{w()}catch(A){Di(d,p,A)}}var GC=!1;function kH(d,p){for(j(d.containerInfo),ft=p;ft!==null;)if(d=ft,p=d.child,(d.subtreeFlags&1028)!==0&&p!==null)p.return=d,ft=p;else for(;ft!==null;){d=ft;try{var w=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var A=w.memoizedProps,R=w.memoizedState,k=d.stateNode,oe=k.getSnapshotBeforeUpdate(d.elementType===d.type?A:mi(d.type,A),R);k.__reactInternalSnapshotBeforeUpdate=oe}break;case 3:X&&Ke(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(ye){Di(d,d.return,ye)}if(p=d.sibling,p!==null){p.return=d.return,ft=p;break}ft=d.return}return w=GC,GC=!1,w}function eu(d,p,w){var A=p.updateQueue;if(A=A!==null?A.lastEffect:null,A!==null){var R=A=A.next;do{if((R.tag&d)===d){var k=R.destroy;R.destroy=void 0,k!==void 0&&tS(p,w,k)}R=R.next}while(R!==A)}}function gd(d,p){if(p=p.updateQueue,p=p!==null?p.lastEffect:null,p!==null){var w=p=p.next;do{if((w.tag&d)===d){var A=w.create;w.destroy=A()}w=w.next}while(w!==p)}}function nS(d){var p=d.ref;if(p!==null){var w=d.stateNode;switch(d.tag){case 5:d=V(w);break;default:d=w}typeof p=="function"?p(d):p.current=d}}function VC(d,p,w){if(Xi&&typeof Xi.onCommitFiberUnmount=="function")try{Xi.onCommitFiberUnmount($l,p)}catch{}switch(p.tag){case 0:case 11:case 14:case 15:if(d=p.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var A=d=d.next;do{var R=A,k=R.destroy;R=R.tag,k!==void 0&&(R&2||R&4)&&tS(p,w,k),A=A.next}while(A!==d)}break;case 1:if(ev(p,w),d=p.stateNode,typeof d.componentWillUnmount=="function")try{d.props=p.memoizedProps,d.state=p.memoizedState,d.componentWillUnmount()}catch(oe){Di(p,w,oe)}break;case 5:ev(p,w);break;case 4:X?KC(d,p,w):J&&J&&(p=p.stateNode.containerInfo,w=ut(p),ot(p,w))}}function WC(d,p,w){for(var A=p;;)if(VC(d,A,w),A.child===null||X&&A.tag===4){if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return}A.sibling.return=A.return,A=A.sibling}else A.child.return=A,A=A.child}function $C(d){var p=d.alternate;p!==null&&(d.alternate=null,$C(p)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(p=d.stateNode,p!==null&&He(p)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function XC(d){return d.tag===5||d.tag===3||d.tag===4}function YC(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||XC(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function qC(d){if(X){e:{for(var p=d.return;p!==null;){if(XC(p))break e;p=p.return}throw Error(o(160))}var w=p;switch(w.tag){case 5:p=w.stateNode,w.flags&32&&(Ue(p),w.flags&=-33),w=YC(d),iS(d,w,p);break;case 3:case 4:p=w.stateNode.containerInfo,w=YC(d),rS(d,w,p);break;default:throw Error(o(161))}}}function rS(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?Be(w,d,p):et(w,d);else if(A!==4&&(d=d.child,d!==null))for(rS(d,p,w),d=d.sibling;d!==null;)rS(d,p,w),d=d.sibling}function iS(d,p,w){var A=d.tag;if(A===5||A===6)d=d.stateNode,p?Qe(w,d,p):ze(w,d);else if(A!==4&&(d=d.child,d!==null))for(iS(d,p,w),d=d.sibling;d!==null;)iS(d,p,w),d=d.sibling}function KC(d,p,w){for(var A=p,R=!1,k,oe;;){if(!R){R=A.return;e:for(;;){if(R===null)throw Error(o(160));switch(k=R.stateNode,R.tag){case 5:oe=!1;break e;case 3:k=k.containerInfo,oe=!0;break e;case 4:k=k.containerInfo,oe=!0;break e}R=R.return}R=!0}if(A.tag===5||A.tag===6)WC(d,A,w),oe?ue(k,A.stateNode):qe(k,A.stateNode);else if(A.tag===18)oe?xe(k,A.stateNode):se(k,A.stateNode);else if(A.tag===4){if(A.child!==null){k=A.stateNode.containerInfo,oe=!0,A.child.return=A,A=A.child;continue}}else if(VC(d,A,w),A.child!==null){A.child.return=A,A=A.child;continue}if(A===p)break;for(;A.sibling===null;){if(A.return===null||A.return===p)return;A=A.return,A.tag===4&&(R=!1)}A.sibling.return=A.return,A=A.sibling}}function aS(d,p){if(X){switch(p.tag){case 0:case 11:case 14:case 15:eu(3,p,p.return),gd(3,p),eu(5,p,p.return);return;case 1:return;case 5:var w=p.stateNode;if(w!=null){var A=p.memoizedProps;d=d!==null?d.memoizedProps:A;var R=p.type,k=p.updateQueue;p.updateQueue=null,k!==null&&dt(w,k,R,d,A,p)}return;case 6:if(p.stateNode===null)throw Error(o(162));w=p.memoizedProps,Ve(p.stateNode,d!==null?d.memoizedProps:w,w);return;case 3:_e&&d!==null&&d.memoizedState.isDehydrated&&te(p.stateNode.containerInfo);return;case 12:return;case 13:tv(p);return;case 19:tv(p);return;case 17:return}throw Error(o(163))}switch(p.tag){case 0:case 11:case 14:case 15:eu(3,p,p.return),gd(3,p),eu(5,p,p.return);return;case 12:return;case 13:tv(p);return;case 19:tv(p);return;case 3:_e&&d!==null&&d.memoizedState.isDehydrated&&te(p.stateNode.containerInfo);break;case 22:case 23:return}e:if(J){switch(p.tag){case 1:case 5:case 6:break e;case 3:case 4:p=p.stateNode,ot(p.containerInfo,p.pendingChildren);break e}throw Error(o(163))}}function tv(d){var p=d.updateQueue;if(p!==null){d.updateQueue=null;var w=d.stateNode;w===null&&(w=d.stateNode=new NH),p.forEach(function(A){var R=$H.bind(null,d,A);w.has(A)||(w.add(A),A.then(R,R))})}}function UH(d,p){for(ft=p;ft!==null;){p=ft;var w=p.deletions;if(w!==null)for(var A=0;A<w.length;A++){var R=w[A];try{var k=d;X?KC(k,R,p):WC(k,R,p);var oe=R.alternate;oe!==null&&(oe.return=null),R.return=null}catch(Mt){Di(R,p,Mt)}}if(w=p.child,p.subtreeFlags&12854&&w!==null)w.return=p,ft=w;else for(;ft!==null;){p=ft;try{var ye=p.flags;if(ye&32&&X&&Ue(p.stateNode),ye&512){var Ge=p.alternate;if(Ge!==null){var it=Ge.ref;it!==null&&(typeof it=="function"?it(null):it.current=null)}}if(ye&8192)switch(p.tag){case 13:if(p.memoizedState!==null){var St=p.alternate;(St===null||St.memoizedState===null)&&(hS=Gn())}break;case 22:var Ft=p.memoizedState!==null,Ct=p.alternate,En=Ct!==null&&Ct.memoizedState!==null;if(w=p,X){e:if(A=w,R=Ft,k=null,X)for(var Tt=A;;){if(Tt.tag===5){if(k===null){k=Tt;var ei=Tt.stateNode;R?re(ei):le(Tt.stateNode,Tt.memoizedProps)}}else if(Tt.tag===6){if(k===null){var Ta=Tt.stateNode;R?je(Ta):Re(Ta,Tt.memoizedProps)}}else if((Tt.tag!==22&&Tt.tag!==23||Tt.memoizedState===null||Tt===A)&&Tt.child!==null){Tt.child.return=Tt,Tt=Tt.child;continue}if(Tt===A)break;for(;Tt.sibling===null;){if(Tt.return===null||Tt.return===A)break e;k===Tt&&(k=null),Tt=Tt.return}k===Tt&&(k=null),Tt.sibling.return=Tt.return,Tt=Tt.sibling}}if(Ft&&!En&&w.mode&1){ft=w;for(var Le=w.child;Le!==null;){for(w=ft=Le;ft!==null;){A=ft;var be=A.child;switch(A.tag){case 0:case 11:case 14:case 15:eu(4,A,A.return);break;case 1:ev(A,A.return);var Fe=A.stateNode;if(typeof Fe.componentWillUnmount=="function"){var mt=A.return;try{Fe.props=A.memoizedProps,Fe.state=A.memoizedState,Fe.componentWillUnmount()}catch(Mt){Di(A,mt,Mt)}}break;case 5:ev(A,A.return);break;case 22:if(A.memoizedState!==null){QC(w);continue}}be!==null?(be.return=A,ft=be):QC(w)}Le=Le.sibling}}}switch(ye&4102){case 2:qC(p),p.flags&=-3;break;case 6:qC(p),p.flags&=-3,aS(p.alternate,p);break;case 4096:p.flags&=-4097;break;case 4100:p.flags&=-4097,aS(p.alternate,p);break;case 4:aS(p.alternate,p)}}catch(Mt){Di(p,p.return,Mt)}if(w=p.sibling,w!==null){w.return=p.return,ft=w;break}ft=p.return}}}function FH(d,p,w){ft=d,ZC(d)}function ZC(d,p,w){for(var A=(d.mode&1)!==0;ft!==null;){var R=ft,k=R.child;if(R.tag===22&&A){var oe=R.memoizedState!==null||Qg;if(!oe){var ye=R.alternate,Ge=ye!==null&&ye.memoizedState!==null||Ql;ye=Qg;var it=Ql;if(Qg=oe,(Ql=Ge)&&!it)for(ft=R;ft!==null;)oe=ft,Ge=oe.child,oe.tag===22&&oe.memoizedState!==null?eO(R):Ge!==null?(Ge.return=oe,ft=Ge):eO(R);for(;k!==null;)ft=k,ZC(k),k=k.sibling;ft=R,Qg=ye,Ql=it}JC(d)}else R.subtreeFlags&8772&&k!==null?(k.return=R,ft=k):JC(d)}}function JC(d){for(;ft!==null;){var p=ft;if(p.flags&8772){var w=p.alternate;try{if(p.flags&8772)switch(p.tag){case 0:case 11:case 15:Ql||gd(5,p);break;case 1:var A=p.stateNode;if(p.flags&4&&!Ql)if(w===null)A.componentDidMount();else{var R=p.elementType===p.type?w.memoizedProps:mi(p.type,w.memoizedProps);A.componentDidUpdate(R,w.memoizedState,A.__reactInternalSnapshotBeforeUpdate)}var k=p.updateQueue;k!==null&&$P(p,k,A);break;case 3:var oe=p.updateQueue;if(oe!==null){if(w=null,p.child!==null)switch(p.child.tag){case 5:w=V(p.child.stateNode);break;case 1:w=p.child.stateNode}$P(p,oe,w)}break;case 5:var ye=p.stateNode;w===null&&p.flags&4&&Je(ye,p.type,p.memoizedProps,p);break;case 6:break;case 4:break;case 12:break;case 13:if(_e&&p.memoizedState===null){var Ge=p.alternate;if(Ge!==null){var it=Ge.memoizedState;if(it!==null){var St=it.dehydrated;St!==null&&ne(St)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}Ql||p.flags&512&&nS(p)}catch(Ft){Di(p,p.return,Ft)}}if(p===d){ft=null;break}if(w=p.sibling,w!==null){w.return=p.return,ft=w;break}ft=p.return}}function QC(d){for(;ft!==null;){var p=ft;if(p===d){ft=null;break}var w=p.sibling;if(w!==null){w.return=p.return,ft=w;break}ft=p.return}}function eO(d){for(;ft!==null;){var p=ft;try{switch(p.tag){case 0:case 11:case 15:var w=p.return;try{gd(4,p)}catch(Ge){Di(p,w,Ge)}break;case 1:var A=p.stateNode;if(typeof A.componentDidMount=="function"){var R=p.return;try{A.componentDidMount()}catch(Ge){Di(p,R,Ge)}}var k=p.return;try{nS(p)}catch(Ge){Di(p,k,Ge)}break;case 5:var oe=p.return;try{nS(p)}catch(Ge){Di(p,oe,Ge)}}}catch(Ge){Di(p,p.return,Ge)}if(p===d){ft=null;break}var ye=p.sibling;if(ye!==null){ye.return=p.return,ft=ye;break}ft=p.return}}var nv=0,rv=1,iv=2,av=3,ov=4;if(typeof Symbol=="function"&&Symbol.for){var vd=Symbol.for;nv=vd("selector.component"),rv=vd("selector.has_pseudo_class"),iv=vd("selector.role"),av=vd("selector.test_id"),ov=vd("selector.text")}function oS(d){var p=Me(d);if(p!=null){if(typeof p.memoizedProps["data-testname"]!="string")throw Error(o(364));return p}if(d=U(d),d===null)throw Error(o(362));return d.stateNode.current}function sS(d,p){switch(p.$$typeof){case nv:if(d.type===p.value)return!0;break;case rv:e:{p=p.value,d=[d,0];for(var w=0;w<d.length;){var A=d[w++],R=d[w++],k=p[R];if(A.tag!==5||!we(A)){for(;k!=null&&sS(A,k);)R++,k=p[R];if(R===p.length){p=!0;break e}else for(A=A.child;A!==null;)d.push(A,R),A=A.sibling}}p=!1}return p;case iv:if(d.tag===5&&Ee(d.stateNode,p.value))return!0;break;case ov:if((d.tag===5||d.tag===6)&&(d=pe(d),d!==null&&0<=d.indexOf(p.value)))return!0;break;case av:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===p.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function lS(d){switch(d.$$typeof){case nv:return"<"+(T(d.value)||"Unknown")+">";case rv:return":has("+(lS(d)||"")+")";case iv:return'[role="'+d.value+'"]';case ov:return'"'+d.value+'"';case av:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function tO(d,p){var w=[];d=[d,0];for(var A=0;A<d.length;){var R=d[A++],k=d[A++],oe=p[k];if(R.tag!==5||!we(R)){for(;oe!=null&&sS(R,oe);)k++,oe=p[k];if(k===p.length)w.push(R);else for(R=R.child;R!==null;)d.push(R,k),R=R.sibling}}return w}function uS(d,p){if(!q)throw Error(o(363));d=oS(d),d=tO(d,p),p=[],d=Array.from(d);for(var w=0;w<d.length;){var A=d[w++];if(A.tag===5)we(A)||p.push(A.stateNode);else for(A=A.child;A!==null;)d.push(A),A=A.sibling}return p}var BH=Math.ceil,sv=s.ReactCurrentDispatcher,cS=s.ReactCurrentOwner,ar=s.ReactCurrentBatchConfig,$t=0,fr=null,hr=null,Hr=0,Qi=0,kc=gt(0),Sr=0,yd=null,Uc=0,lv=0,fS=0,xd=null,Ii=null,hS=0,dS=1/0;function Fc(){dS=Gn()+500}var uv=!1,pS=null,Gs=null,cv=!1,Vs=null,fv=0,_d=0,mS=null,hv=-1,dv=0;function yi(){return $t&6?Gn():hv!==-1?hv:hv=Gn()}function Ws(d){return d.mode&1?$t&2&&Hr!==0?Hr&-Hr:Xl.transition!==null?(dv===0&&(d=Wo,Wo<<=1,!(Wo&4194240)&&(Wo=64),dv=d),dv):(d=qt,d!==0?d:Ce()):1}function Ea(d,p,w){if(50<_d)throw _d=0,mS=null,Error(o(185));var A=pv(d,p);return A===null?null:(xo(A,p,w),(!($t&2)||A!==fr)&&(A===fr&&(!($t&2)&&(lv|=p),Sr===4&&$s(A,Hr)),Li(A,w),p===1&&$t===0&&!(d.mode&1)&&(Fc(),So&&Ri())),A)}function pv(d,p){d.lanes|=p;var w=d.alternate;for(w!==null&&(w.lanes|=p),w=d,d=d.return;d!==null;)d.childLanes|=p,w=d.alternate,w!==null&&(w.childLanes|=p),w=d,d=d.return;return w.tag===3?w.stateNode:null}function Li(d,p){var w=d.callbackNode;Zh(d,p);var A=Vl(d,d===fr?Hr:0);if(A===0)w!==null&&Ac(w),d.callbackNode=null,d.callbackPriority=0;else if(p=A&-A,d.callbackPriority!==p){if(w!=null&&Ac(w),p===1)d.tag===0?rd(rO.bind(null,d)):nd(rO.bind(null,d)),Pe?Xe(function(){$t===0&&Ri()}):qo(Wl,Ri),w=null;else{switch(Jh(A)){case 1:w=Wl;break;case 4:w=Rg;break;case 16:w=di;break;case 536870912:w=ed;break;default:w=di}w=hO(w,nO.bind(null,d))}d.callbackPriority=p,d.callbackNode=w}}function nO(d,p){if(hv=-1,dv=0,$t&6)throw Error(o(327));var w=d.callbackNode;if(ru()&&d.callbackNode!==w)return null;var A=Vl(d,d===fr?Hr:0);if(A===0)return null;if(A&30||A&d.expiredLanes||p)p=mv(d,A);else{p=A;var R=$t;$t|=2;var k=oO();(fr!==d||Hr!==p)&&(Fc(),tu(d,p));do try{jH();break}catch(ye){aO(d,ye)}while(!0);Pc(),sv.current=k,$t=R,hr!==null?p=0:(fr=null,Hr=0,p=Sr)}if(p!==0){if(p===2&&(R=Yo(d),R!==0&&(A=R,p=gS(d,R))),p===1)throw w=yd,tu(d,0),$s(d,A),Li(d,Gn()),w;if(p===6)$s(d,A);else{if(R=d.current.alternate,!(A&30)&&!zH(R)&&(p=mv(d,A),p===2&&(k=Yo(d),k!==0&&(A=k,p=gS(d,k))),p===1))throw w=yd,tu(d,0),$s(d,A),Li(d,Gn()),w;switch(d.finishedWork=R,d.finishedLanes=A,p){case 0:case 1:throw Error(o(345));case 2:nu(d,Ii);break;case 3:if($s(d,A),(A&130023424)===A&&(p=hS+500-Gn(),10<p)){if(Vl(d,0)!==0)break;if(R=d.suspendedLanes,(R&A)!==A){yi(),d.pingedLanes|=d.suspendedLanes&R;break}d.timeoutHandle=fe(nu.bind(null,d,Ii),p);break}nu(d,Ii);break;case 4:if($s(d,A),(A&4194240)===A)break;for(p=d.eventTimes,R=-1;0<A;){var oe=31-vn(A);k=1<<oe,oe=p[oe],oe>R&&(R=oe),A&=~k}if(A=R,A=Gn()-A,A=(120>A?120:480>A?480:1080>A?1080:1920>A?1920:3e3>A?3e3:4320>A?4320:1960*BH(A/1960))-A,10<A){d.timeoutHandle=fe(nu.bind(null,d,Ii),A);break}nu(d,Ii);break;case 5:nu(d,Ii);break;default:throw Error(o(329))}}}return Li(d,Gn()),d.callbackNode===w?nO.bind(null,d):null}function gS(d,p){var w=xd;return d.current.memoizedState.isDehydrated&&(tu(d,p).flags|=256),d=mv(d,p),d!==2&&(p=Ii,Ii=w,p!==null&&vS(p)),d}function vS(d){Ii===null?Ii=d:Ii.push.apply(Ii,d)}function zH(d){for(var p=d;;){if(p.flags&16384){var w=p.updateQueue;if(w!==null&&(w=w.stores,w!==null))for(var A=0;A<w.length;A++){var R=w[A],k=R.getSnapshot;R=R.value;try{if(!Yi(k(),R))return!1}catch{return!1}}}if(w=p.child,p.subtreeFlags&16384&&w!==null)w.return=p,p=w;else{if(p===d)break;for(;p.sibling===null;){if(p.return===null||p.return===d)return!0;p=p.return}p.sibling.return=p.return,p=p.sibling}}return!0}function $s(d,p){for(p&=~fS,p&=~lv,d.suspendedLanes|=p,d.pingedLanes&=~p,d=d.expirationTimes;0<p;){var w=31-vn(p),A=1<<w;d[w]=-1,p&=~A}}function rO(d){if($t&6)throw Error(o(327));ru();var p=Vl(d,0);if(!(p&1))return Li(d,Gn()),null;var w=mv(d,p);if(d.tag!==0&&w===2){var A=Yo(d);A!==0&&(p=A,w=gS(d,A))}if(w===1)throw w=yd,tu(d,0),$s(d,p),Li(d,Gn()),w;if(w===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=p,nu(d,Ii),Li(d,Gn()),null}function iO(d){Vs!==null&&Vs.tag===0&&!($t&6)&&ru();var p=$t;$t|=1;var w=ar.transition,A=qt;try{if(ar.transition=null,qt=1,d)return d()}finally{qt=A,ar.transition=w,$t=p,!($t&6)&&Ri()}}function yS(){Qi=kc.current,Ze(kc)}function tu(d,p){d.finishedWork=null,d.finishedLanes=0;var w=d.timeoutHandle;if(w!==ve&&(d.timeoutHandle=ve,Ae(w)),hr!==null)for(w=hr.return;w!==null;){var A=w;switch(N1(A),A.tag){case 1:A=A.type.childContextTypes,A!=null&&an();break;case 3:Dc(),Ze(Dt),Ze(Gt),j1();break;case 5:z1(A);break;case 4:Dc();break;case 13:Ze(Vn);break;case 19:Ze(Vn);break;case 10:Ir(A.type._context);break;case 22:case 23:yS()}w=w.return}if(fr=d,hr=d=Xs(d.current,null),Hr=Qi=p,Sr=0,yd=null,fS=lv=Uc=0,Ii=xd=null,qi!==null){for(p=0;p<qi.length;p++)if(w=qi[p],A=w.interleaved,A!==null){w.interleaved=null;var R=A.next,k=w.pending;if(k!==null){var oe=k.next;k.next=R,A.next=oe}w.pending=A}qi=null}return d}function aO(d,p){do{var w=hr;try{if(Pc(),Hg.current=Xg,jg){for(var A=qn.memoizedState;A!==null;){var R=A.queue;R!==null&&(R.pending=null),A=A.next}jg=!1}if(Nc=0,Lr=Zr=qn=null,ud=!1,cd=0,cS.current=null,w===null||w.return===null){Sr=1,yd=p,hr=null;break}e:{var k=d,oe=w.return,ye=w,Ge=p;if(p=Hr,ye.flags|=32768,Ge!==null&&typeof Ge=="object"&&typeof Ge.then=="function"){var it=Ge,St=ye,Ft=St.tag;if(!(St.mode&1)&&(Ft===0||Ft===11||Ft===15)){var Ct=St.alternate;Ct?(St.updateQueue=Ct.updateQueue,St.memoizedState=Ct.memoizedState,St.lanes=Ct.lanes):(St.updateQueue=null,St.memoizedState=null)}var En=AC(oe);if(En!==null){En.flags&=-257,TC(En,oe,ye,k,p),En.mode&1&&EC(k,it,p),p=En,Ge=it;var Tt=p.updateQueue;if(Tt===null){var ei=new Set;ei.add(Ge),p.updateQueue=ei}else Tt.add(Ge);break e}else{if(!(p&1)){EC(k,it,p),xS();break e}Ge=Error(o(426))}}else if(Bn&&ye.mode&1){var Ta=AC(oe);if(Ta!==null){!(Ta.flags&65536)&&(Ta.flags|=256),TC(Ta,oe,ye,k,p),F1(Ge);break e}}k=Ge,Sr!==4&&(Sr=2),xd===null?xd=[k]:xd.push(k),Ge=q1(Ge,ye),ye=oe;do{switch(ye.tag){case 3:ye.flags|=65536,p&=-p,ye.lanes|=p;var Le=bC(ye,Ge,p);WP(ye,Le);break e;case 1:k=Ge;var be=ye.type,Fe=ye.stateNode;if(!(ye.flags&128)&&(typeof be.getDerivedStateFromError=="function"||Fe!==null&&typeof Fe.componentDidCatch=="function"&&(Gs===null||!Gs.has(Fe)))){ye.flags|=65536,p&=-p,ye.lanes|=p;var mt=MC(ye,k,p);WP(ye,mt);break e}}ye=ye.return}while(ye!==null)}lO(w)}catch(Mt){p=Mt,hr===w&&w!==null&&(hr=w=w.return);continue}break}while(!0)}function oO(){var d=sv.current;return sv.current=Xg,d===null?Xg:d}function xS(){(Sr===0||Sr===3||Sr===2)&&(Sr=4),fr===null||!(Uc&268435455)&&!(lv&268435455)||$s(fr,Hr)}function mv(d,p){var w=$t;$t|=2;var A=oO();fr===d&&Hr===p||tu(d,p);do try{HH();break}catch(R){aO(d,R)}while(!0);if(Pc(),$t=w,sv.current=A,hr!==null)throw Error(o(261));return fr=null,Hr=0,Sr}function HH(){for(;hr!==null;)sO(hr)}function jH(){for(;hr!==null&&!Qh();)sO(hr)}function sO(d){var p=fO(d.alternate,d,Qi);d.memoizedProps=d.pendingProps,p===null?lO(d):hr=p,cS.current=null}function lO(d){var p=d;do{var w=p.alternate;if(d=p.return,p.flags&32768){if(w=DH(w,p),w!==null){w.flags&=32767,hr=w;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Sr=6,hr=null;return}}else if(w=RH(w,p,Qi),w!==null){hr=w;return}if(p=p.sibling,p!==null){hr=p;return}hr=p=d}while(p!==null);Sr===0&&(Sr=5)}function nu(d,p){var w=qt,A=ar.transition;try{ar.transition=null,qt=1,GH(d,p,w)}finally{ar.transition=A,qt=w}return null}function GH(d,p,w){do ru();while(Vs!==null);if($t&6)throw Error(o(327));var A=d.finishedWork,R=d.finishedLanes;if(A===null)return null;if(d.finishedWork=null,d.finishedLanes=0,A===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var k=A.lanes|A.childLanes;if(Bs(d,k),d===fr&&(hr=fr=null,Hr=0),!(A.subtreeFlags&2064)&&!(A.flags&2064)||cv||(cv=!0,hO(di,function(){return ru(),null})),k=(A.flags&15990)!==0,A.subtreeFlags&15990||k){k=ar.transition,ar.transition=null;var oe=qt;qt=1;var ye=$t;$t|=4,cS.current=null,kH(d,A),UH(d,A),G(d.containerInfo),d.current=A,FH(A),Og(),$t=ye,qt=oe,ar.transition=k}else d.current=A;if(cv&&(cv=!1,Vs=d,fv=R),k=d.pendingLanes,k===0&&(Gs=null),td(A.stateNode),Li(d,Gn()),p!==null)for(w=d.onRecoverableError,A=0;A<p.length;A++)w(p[A]);if(uv)throw uv=!1,d=pS,pS=null,d;return fv&1&&d.tag!==0&&ru(),k=d.pendingLanes,k&1?d===mS?_d++:(_d=0,mS=d):_d=0,Ri(),null}function ru(){if(Vs!==null){var d=Jh(fv),p=ar.transition,w=qt;try{if(ar.transition=null,qt=16>d?16:d,Vs===null)var A=!1;else{if(d=Vs,Vs=null,fv=0,$t&6)throw Error(o(331));var R=$t;for($t|=4,ft=d.current;ft!==null;){var k=ft,oe=k.child;if(ft.flags&16){var ye=k.deletions;if(ye!==null){for(var Ge=0;Ge<ye.length;Ge++){var it=ye[Ge];for(ft=it;ft!==null;){var St=ft;switch(St.tag){case 0:case 11:case 15:eu(8,St,k)}var Ft=St.child;if(Ft!==null)Ft.return=St,ft=Ft;else for(;ft!==null;){St=ft;var Ct=St.sibling,En=St.return;if($C(St),St===it){ft=null;break}if(Ct!==null){Ct.return=En,ft=Ct;break}ft=En}}}var Tt=k.alternate;if(Tt!==null){var ei=Tt.child;if(ei!==null){Tt.child=null;do{var Ta=ei.sibling;ei.sibling=null,ei=Ta}while(ei!==null)}}ft=k}}if(k.subtreeFlags&2064&&oe!==null)oe.return=k,ft=oe;else e:for(;ft!==null;){if(k=ft,k.flags&2048)switch(k.tag){case 0:case 11:case 15:eu(9,k,k.return)}var Le=k.sibling;if(Le!==null){Le.return=k.return,ft=Le;break e}ft=k.return}}var be=d.current;for(ft=be;ft!==null;){oe=ft;var Fe=oe.child;if(oe.subtreeFlags&2064&&Fe!==null)Fe.return=oe,ft=Fe;else e:for(oe=be;ft!==null;){if(ye=ft,ye.flags&2048)try{switch(ye.tag){case 0:case 11:case 15:gd(9,ye)}}catch(Mt){Di(ye,ye.return,Mt)}if(ye===oe){ft=null;break e}var mt=ye.sibling;if(mt!==null){mt.return=ye.return,ft=mt;break e}ft=ye.return}}if($t=R,Ri(),Xi&&typeof Xi.onPostCommitFiberRoot=="function")try{Xi.onPostCommitFiberRoot($l,d)}catch{}A=!0}return A}finally{qt=w,ar.transition=p}}return!1}function uO(d,p,w){p=q1(w,p),p=bC(d,p,1),js(d,p),p=yi(),d=pv(d,1),d!==null&&(xo(d,1,p),Li(d,p))}function Di(d,p,w){if(d.tag===3)uO(d,d,w);else for(;p!==null;){if(p.tag===3){uO(p,d,w);break}else if(p.tag===1){var A=p.stateNode;if(typeof p.type.getDerivedStateFromError=="function"||typeof A.componentDidCatch=="function"&&(Gs===null||!Gs.has(A))){d=q1(w,d),d=MC(p,d,1),js(p,d),d=yi(),p=pv(p,1),p!==null&&(xo(p,1,d),Li(p,d));break}}p=p.return}}function VH(d,p,w){var A=d.pingCache;A!==null&&A.delete(p),p=yi(),d.pingedLanes|=d.suspendedLanes&w,fr===d&&(Hr&w)===w&&(Sr===4||Sr===3&&(Hr&130023424)===Hr&&500>Gn()-hS?tu(d,0):fS|=w),Li(d,p)}function cO(d,p){p===0&&(d.mode&1?(p=$o,$o<<=1,!($o&130023424)&&($o=4194304)):p=1);var w=yi();d=pv(d,p),d!==null&&(xo(d,p,w),Li(d,w))}function WH(d){var p=d.memoizedState,w=0;p!==null&&(w=p.retryLane),cO(d,w)}function $H(d,p){var w=0;switch(d.tag){case 13:var A=d.stateNode,R=d.memoizedState;R!==null&&(w=R.retryLane);break;case 19:A=d.stateNode;break;default:throw Error(o(314))}A!==null&&A.delete(p),cO(d,w)}var fO;fO=function(d,p,w){if(d!==null)if(d.memoizedProps!==p.pendingProps||Dt.current)Ji=!0;else{if(!(d.lanes&w)&&!(p.flags&128))return Ji=!1,LH(d,p,w);Ji=!!(d.flags&131072)}else Ji=!1,Bn&&p.flags&1048576&&ZP(p,Fg,p.index);switch(p.lanes=0,p.tag){case 2:var A=p.type;d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps;var R=Tn(p,Gt.current);rr(p,w),R=V1(null,p,A,d,R,w);var k=W1();return p.flags|=1,typeof R=="object"&&R!==null&&typeof R.render=="function"&&R.$$typeof===void 0?(p.tag=1,p.memoizedState=null,p.updateQueue=null,Ut(A)?(k=!0,Jt(p)):k=!1,p.memoizedState=R.state!==null&&R.state!==void 0?R.state:null,R1(p),R.updater=kg,p.stateNode=R,R._reactInternals=p,L1(p,A,d,w),p=J1(null,p,A,!0,k,w)):(p.tag=0,Bn&&k&&D1(p),vi(null,p,R,w),p=p.child),p;case 16:A=p.elementType;e:{switch(d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),d=p.pendingProps,R=A._init,A=R(A._payload),p.type=A,R=p.tag=YH(A),d=mi(A,d),R){case 0:p=Z1(null,p,A,d,w);break e;case 1:p=NC(null,p,A,d,w);break e;case 11:p=OC(null,p,A,d,w);break e;case 14:p=RC(null,p,A,mi(A.type,d),w);break e}throw Error(o(306,A,""))}return p;case 0:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:mi(A,R),Z1(d,p,A,R,w);case 1:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:mi(A,R),NC(d,p,A,R,w);case 3:e:{if(kC(p),d===null)throw Error(o(387));A=p.pendingProps,k=p.memoizedState,R=k.element,VP(d,p),Ng(p,A,null,w);var oe=p.memoizedState;if(A=oe.element,_e&&k.isDehydrated)if(k={element:A,isDehydrated:!1,cache:oe.cache,transitions:oe.transitions},p.updateQueue.baseState=k,p.memoizedState=k,p.flags&256){R=Error(o(423)),p=UC(d,p,A,w,R);break e}else if(A!==R){R=Error(o(424)),p=UC(d,p,A,w,R);break e}else for(_e&&(Zi=jn(p.stateNode.containerInfo),Ki=p,Bn=!0,Ya=null,id=!1),w=rC(p,null,A,w),p.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(Rc(),A===R){p=es(d,p,w);break e}vi(d,p,A,w)}p=p.child}return p;case 5:return iC(p),d===null&&U1(p),A=p.type,R=p.pendingProps,k=d!==null?d.memoizedProps:null,oe=R.children,ae(A,R)?oe=null:k!==null&&ae(A,k)&&(p.flags|=32),DC(d,p),vi(d,p,oe,w),p.child;case 6:return d===null&&U1(p),null;case 13:return FC(d,p,w);case 4:return B1(p,p.stateNode.containerInfo),A=p.pendingProps,d===null?p.child=Ic(p,null,A,w):vi(d,p,A,w),p.child;case 11:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:mi(A,R),OC(d,p,A,R,w);case 7:return vi(d,p,p.pendingProps,w),p.child;case 8:return vi(d,p,p.pendingProps.children,w),p.child;case 12:return vi(d,p,p.pendingProps.children,w),p.child;case 10:e:{if(A=p.type._context,R=p.pendingProps,k=p.memoizedProps,oe=R.value,Lg(p,A,oe),k!==null)if(Yi(k.value,oe)){if(k.children===R.children&&!Dt.current){p=es(d,p,w);break e}}else for(k=p.child,k!==null&&(k.return=p);k!==null;){var ye=k.dependencies;if(ye!==null){oe=k.child;for(var Ge=ye.firstContext;Ge!==null;){if(Ge.context===A){if(k.tag===1){Ge=Ko(-1,w&-w),Ge.tag=2;var it=k.updateQueue;if(it!==null){it=it.shared;var St=it.pending;St===null?Ge.next=Ge:(Ge.next=St.next,St.next=Ge),it.pending=Ge}}k.lanes|=w,Ge=k.alternate,Ge!==null&&(Ge.lanes|=w),gi(k.return,w,p),ye.lanes|=w;break}Ge=Ge.next}}else if(k.tag===10)oe=k.type===p.type?null:k.child;else if(k.tag===18){if(oe=k.return,oe===null)throw Error(o(341));oe.lanes|=w,ye=oe.alternate,ye!==null&&(ye.lanes|=w),gi(oe,w,p),oe=k.sibling}else oe=k.child;if(oe!==null)oe.return=k;else for(oe=k;oe!==null;){if(oe===p){oe=null;break}if(k=oe.sibling,k!==null){k.return=oe.return,oe=k;break}oe=oe.return}k=oe}vi(d,p,R.children,w),p=p.child}return p;case 9:return R=p.type,A=p.pendingProps.children,rr(p,w),R=ir(R),A=A(R),p.flags|=1,vi(d,p,A,w),p.child;case 14:return A=p.type,R=mi(A,p.pendingProps),R=mi(A.type,R),RC(d,p,A,R,w);case 15:return IC(d,p,p.type,p.pendingProps,w);case 17:return A=p.type,R=p.pendingProps,R=p.elementType===A?R:mi(A,R),d!==null&&(d.alternate=null,p.alternate=null,p.flags|=2),p.tag=1,Ut(A)?(d=!0,Jt(p)):d=!1,rr(p,w),qP(p,A,R),L1(p,A,R,w),J1(null,p,A,!0,d,w);case 19:return jC(d,p,w);case 22:return LC(d,p,w)}throw Error(o(156,p.tag))};function hO(d,p){return qo(d,p)}function XH(d,p,w,A){this.tag=d,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=p,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=A,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Aa(d,p,w,A){return new XH(d,p,w,A)}function _S(d){return d=d.prototype,!(!d||!d.isReactComponent)}function YH(d){if(typeof d=="function")return _S(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===S)return 14}return 2}function Xs(d,p){var w=d.alternate;return w===null?(w=Aa(d.tag,p,d.key,d.mode),w.elementType=d.elementType,w.type=d.type,w.stateNode=d.stateNode,w.alternate=d,d.alternate=w):(w.pendingProps=p,w.type=d.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=d.flags&14680064,w.childLanes=d.childLanes,w.lanes=d.lanes,w.child=d.child,w.memoizedProps=d.memoizedProps,w.memoizedState=d.memoizedState,w.updateQueue=d.updateQueue,p=d.dependencies,w.dependencies=p===null?null:{lanes:p.lanes,firstContext:p.firstContext},w.sibling=d.sibling,w.index=d.index,w.ref=d.ref,w}function gv(d,p,w,A,R,k){var oe=2;if(A=d,typeof d=="function")_S(d)&&(oe=1);else if(typeof d=="string")oe=5;else e:switch(d){case c:return iu(w.children,R,k,p);case f:oe=8,R|=8;break;case h:return d=Aa(12,w,p,R|2),d.elementType=h,d.lanes=k,d;case x:return d=Aa(13,w,p,R),d.elementType=x,d.lanes=k,d;case v:return d=Aa(19,w,p,R),d.elementType=v,d.lanes=k,d;case b:return vv(w,R,k,p);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case m:oe=10;break e;case g:oe=9;break e;case y:oe=11;break e;case S:oe=14;break e;case _:oe=16,A=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return p=Aa(oe,w,p,R),p.elementType=d,p.type=A,p.lanes=k,p}function iu(d,p,w,A){return d=Aa(7,d,A,p),d.lanes=w,d}function vv(d,p,w,A){return d=Aa(22,d,A,p),d.elementType=b,d.lanes=w,d.stateNode={},d}function SS(d,p,w){return d=Aa(6,d,null,p),d.lanes=w,d}function wS(d,p,w){return p=Aa(4,d.children!==null?d.children:[],d.key,p),p.lanes=w,p.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},p}function qH(d,p,w,A,R){this.tag=p,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ve,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ec(0),this.expirationTimes=Ec(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ec(0),this.identifierPrefix=A,this.onRecoverableError=R,_e&&(this.mutableSourceEagerHydrationData=null)}function dO(d,p,w,A,R,k,oe,ye,Ge){return d=new qH(d,p,w,ye,Ge),p===1?(p=1,k===!0&&(p|=8)):p=0,k=Aa(3,null,null,p),d.current=k,k.stateNode=d,k.memoizedState={element:A,isDehydrated:w,cache:null,transitions:null},R1(k),d}function pO(d){if(!d)return vt;d=d._reactInternals;e:{if(P(d)!==d||d.tag!==1)throw Error(o(170));var p=d;do{switch(p.tag){case 3:p=p.stateNode.context;break e;case 1:if(Ut(p.type)){p=p.stateNode.__reactInternalMemoizedMergedChildContext;break e}}p=p.return}while(p!==null);throw Error(o(171))}if(d.tag===1){var w=d.type;if(Ut(w))return tn(d,w,p)}return p}function mO(d){var p=d._reactInternals;if(p===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=D(p),d===null?null:d.stateNode}function gO(d,p){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var w=d.retryLane;d.retryLane=w!==0&&w<p?w:p}}function bS(d,p){gO(d,p),(d=d.alternate)&&gO(d,p)}function KH(d){return d=D(d),d===null?null:d.stateNode}function ZH(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var p=yi();Ea(d,134217728,p),bS(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var p=yi(),w=Ws(d);Ea(d,w,p),bS(d,w)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var p=d.stateNode;if(p.current.memoizedState.isDehydrated){var w=Xo(p.pendingLanes);w!==0&&(_o(p,w|1),Li(p,Gn()),!($t&6)&&(Fc(),Ri()))}break;case 13:var A=yi();iO(function(){return Ea(d,1,A)}),bS(d,1)}},n.batchedUpdates=function(d,p){var w=$t;$t|=1;try{return d(p)}finally{$t=w,$t===0&&(Fc(),So&&Ri())}},n.createComponentSelector=function(d){return{$$typeof:nv,value:d}},n.createContainer=function(d,p,w,A,R,k,oe){return dO(d,p,!1,null,w,A,R,k,oe)},n.createHasPseudoClassSelector=function(d){return{$$typeof:rv,value:d}},n.createHydrationContainer=function(d,p,w,A,R,k,oe,ye,Ge){return d=dO(w,A,!0,d,R,k,oe,ye,Ge),d.context=pO(null),w=d.current,A=yi(),R=Ws(w),k=Ko(A,R),k.callback=p??null,js(w,k),d.current.lanes=R,xo(d,R,A),Li(d,A),d},n.createPortal=function(d,p,w){var A=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:A==null?null:""+A,children:d,containerInfo:p,implementation:w}},n.createRoleSelector=function(d){return{$$typeof:iv,value:d}},n.createTestNameSelector=function(d){return{$$typeof:av,value:d}},n.createTextSelector=function(d){return{$$typeof:ov,value:d}},n.deferredUpdates=function(d){var p=qt,w=ar.transition;try{return ar.transition=null,qt=16,d()}finally{qt=p,ar.transition=w}},n.discreteUpdates=function(d,p,w,A,R){var k=qt,oe=ar.transition;try{return ar.transition=null,qt=1,d(p,w,A,R)}finally{qt=k,ar.transition=oe,$t===0&&Fc()}},n.findAllNodes=uS,n.findBoundingRects=function(d,p){if(!q)throw Error(o(363));p=uS(d,p),d=[];for(var w=0;w<p.length;w++)d.push(de(p[w]));for(p=d.length-1;0<p;p--){w=d[p];for(var A=w.x,R=A+w.width,k=w.y,oe=k+w.height,ye=p-1;0<=ye;ye--)if(p!==ye){var Ge=d[ye],it=Ge.x,St=it+Ge.width,Ft=Ge.y,Ct=Ft+Ge.height;if(A>=it&&k>=Ft&&R<=St&&oe<=Ct){d.splice(p,1);break}else if(A!==it||w.width!==Ge.width||Ct<k||Ft>oe){if(!(k!==Ft||w.height!==Ge.height||St<A||it>R)){it>A&&(Ge.width+=it-A,Ge.x=A),St<R&&(Ge.width=R-it),d.splice(p,1);break}}else{Ft>k&&(Ge.height+=Ft-k,Ge.y=k),Ct<oe&&(Ge.height=oe-Ft),d.splice(p,1);break}}}return d},n.findHostInstance=mO,n.findHostInstanceWithNoPortals=function(d){return d=I(d),d=d!==null?B(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return mO(d)},n.flushControlled=function(d){var p=$t;$t|=1;var w=ar.transition,A=qt;try{ar.transition=null,qt=1,d()}finally{qt=A,ar.transition=w,$t=p,$t===0&&(Fc(),Ri())}},n.flushPassiveEffects=ru,n.flushSync=iO,n.focusWithin=function(d,p){if(!q)throw Error(o(363));for(d=oS(d),p=tO(d,p),p=Array.from(p),d=0;d<p.length;){var w=p[d++];if(!we(w)){if(w.tag===5&&rt(w.stateNode))return!0;for(w=w.child;w!==null;)p.push(w),w=w.sibling}}return!1},n.getCurrentUpdatePriority=function(){return qt},n.getFindAllNodesFailureDescription=function(d,p){if(!q)throw Error(o(363));var w=0,A=[];d=[oS(d),0];for(var R=0;R<d.length;){var k=d[R++],oe=d[R++],ye=p[oe];if((k.tag!==5||!we(k))&&(sS(k,ye)&&(A.push(lS(ye)),oe++,oe>w&&(w=oe)),oe<p.length))for(k=k.child;k!==null;)d.push(k,oe),k=k.sibling}if(w<p.length){for(d=[];w<p.length;w++)d.push(lS(p[w]));return`findAllNodes was able to match part of the selector:
  `+(A.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return V(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:s.ReactCurrentDispatcher,findHostInstanceByFiber:KH,findFiberByHostInstance:d.findFiberByHostInstance||ZH,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var p=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(p.isDisabled||!p.supportsFiber)d=!0;else{try{$l=p.inject(d),Xi=p}catch{}d=!!p.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,p,w,A){if(!q)throw Error(o(363));d=uS(d,p);var R=ke(d,w,A).disconnect;return{disconnect:function(){R()}}},n.registerMutableSourceForHydration=function(d,p){var w=p._getVersion;w=w(p._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[p,w]:d.mutableSourceEagerHydrationData.push(p,w)},n.runWithPriority=function(d,p){var w=qt;try{return qt=d,p()}finally{qt=w}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,p,w,A){var R=p.current,k=yi(),oe=Ws(R);return w=pO(w),p.context===null?p.context=w:p.pendingContext=w,p=Ko(k,oe),p.payload={element:d},A=A===void 0?null:A,A!==null&&(p.callback=A),js(R,p),d=Ea(R,oe,k),d!==null&&Dg(d,R,oe),oe},n};I8.exports=bwe;var Mwe=I8.exports;const Ewe=bn(Mwe);var L8={exports:{}},D8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,j){var G=N.length;N.push(j);e:for(;0<G;){var H=G-1>>>1,$=N[H];if(0<i($,j))N[H]=j,N[G]=$,G=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var j=N[0],G=N.pop();if(G!==j){N[0]=G;e:for(var H=0,$=N.length,ie=$>>>1;H<ie;){var Z=2*(H+1)-1,ae=N[Z],ce=Z+1,fe=N[ce];if(0>i(ae,G))ce<$&&0>i(fe,ae)?(N[H]=fe,N[ce]=G,H=ce):(N[H]=ae,N[Z]=G,H=Z);else if(ce<$&&0>i(fe,G))N[H]=fe,N[ce]=G,H=ce;else break e}}return j}function i(N,j){var G=N.sortIndex-j.sortIndex;return G!==0?G:N.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,s=o.now();t.unstable_now=function(){return o.now()-s}}var l=[],u=[],c=1,f=null,h=3,m=!1,g=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(N){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=N)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function b(N){if(y=!1,_(N),!g)if(n(l)!==null)g=!0,V(E);else{var j=n(u);j!==null&&Q(b,j.startTime-N)}}function E(N,j){g=!1,y&&(y=!1,v(C),C=-1),m=!0;var G=h;try{for(_(j),f=n(l);f!==null&&(!(f.expirationTime>j)||N&&!I());){var H=f.callback;if(typeof H=="function"){f.callback=null,h=f.priorityLevel;var $=H(f.expirationTime<=j);j=t.unstable_now(),typeof $=="function"?f.callback=$:f===n(l)&&r(l),_(j)}else r(l);f=n(l)}if(f!==null)var ie=!0;else{var Z=n(u);Z!==null&&Q(b,Z.startTime-j),ie=!1}return ie}finally{f=null,h=G,m=!1}}var M=!1,T=null,C=-1,P=5,O=-1;function I(){return!(t.unstable_now()-O<P)}function D(){if(T!==null){var N=t.unstable_now();O=N;var j=!0;try{j=T(!0,N)}finally{j?F():(M=!1,T=null)}}else M=!1}var F;if(typeof S=="function")F=function(){S(D)};else if(typeof MessageChannel<"u"){var B=new MessageChannel,W=B.port2;B.port1.onmessage=D,F=function(){W.postMessage(null)}}else F=function(){x(D,0)};function V(N){T=N,M||(M=!0,F())}function Q(N,j){C=x(function(){N(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){g||m||(g=!0,V(E))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var G=h;h=j;try{return N()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,j){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var G=h;h=N;try{return j()}finally{h=G}},t.unstable_scheduleCallback=function(N,j,G){var H=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?H+G:H):G=H,N){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=G+$,N={id:c++,callback:j,priorityLevel:N,startTime:G,expirationTime:$,sortIndex:-1},G>H?(N.sortIndex=G,e(u,N),n(l)===null&&N===n(u)&&(y?(v(C),C=-1):y=!0,Q(b,G-H))):(N.sortIndex=$,e(l,N),g||m||(g=!0,V(E))),N},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(N){var j=h;return function(){var G=h;h=j;try{return N.apply(this,arguments)}finally{h=G}}}})(D8);L8.exports=D8;var JN=L8.exports;const IP={},N8=t=>void Object.assign(IP,t);function Awe(t,e){function n(c,{args:f=[],attach:h,...m},g){let y=`${c[0].toUpperCase()}${c.slice(1)}`,x;if(c==="primitive"){if(m.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const v=m.object;x=mf(v,{type:c,root:g,attach:h,primitive:!0})}else{const v=IP[y];if(!v)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=mf(new v(...f),{type:c,root:g,attach:h,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),y!=="inject"&&pb(x,m),x}function r(c,f){let h=!1;if(f){var m,g;(m=f.__r3f)!=null&&m.attach?db(c,f,f.__r3f.attach):f.isObject3D&&c.isObject3D&&(c.add(f),h=!0),h||(g=c.__r3f)==null||g.objects.push(f),f.__r3f||mf(f,{}),f.__r3f.parent=c,DA(f),gf(f)}}function i(c,f,h){let m=!1;if(f){var g,y;if((g=f.__r3f)!=null&&g.attach)db(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){f.parent=c,f.dispatchEvent({type:"added"}),c.dispatchEvent({type:"childadded",child:f});const x=c.children.filter(S=>S!==f),v=x.indexOf(h);c.children=[...x.slice(0,v),f,...x.slice(v)],m=!0}m||(y=c.__r3f)==null||y.objects.push(f),f.__r3f||mf(f,{}),f.__r3f.parent=c,DA(f),gf(f)}}function a(c,f,h=!1){c&&[...c].forEach(m=>o(f,m,h))}function o(c,f,h){if(f){var m,g,y;if(f.__r3f&&(f.__r3f.parent=null),(m=c.__r3f)!=null&&m.objects&&(c.__r3f.objects=c.__r3f.objects.filter(b=>b!==f)),(g=f.__r3f)!=null&&g.attach)rk(c,f,f.__r3f.attach);else if(f.isObject3D&&c.isObject3D){var x;c.remove(f),(x=f.__r3f)!=null&&x.root&&Lwe(p0(f),f)}const S=(y=f.__r3f)==null?void 0:y.primitive,_=!S&&(h===void 0?f.dispose!==null:h);if(!S){var v;a((v=f.__r3f)==null?void 0:v.objects,f,_),a(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const b=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?JN.unstable_scheduleCallback(JN.unstable_IdlePriority,b):b()}gf(c)}}function s(c,f,h,m){var g;const y=(g=c.__r3f)==null?void 0:g.parent;if(!y)return;const x=n(f,h,c.__r3f.root);if(c.children){for(const v of c.children)v.__r3f&&r(x,v);c.children=c.children.filter(v=>!v.__r3f)}c.__r3f.objects.forEach(v=>r(x,v)),c.__r3f.objects=[],c.__r3f.autoRemovedBeforeAppend||o(y,c),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(y,x),x.raycast&&x.__r3f.eventCount&&p0(x).getState().internal.interaction.push(x),[m,m.alternate].forEach(v=>{v!==null&&(v.stateNode=x,v.ref&&(typeof v.ref=="function"?v.ref(x):v.ref.current=x))})}const l=()=>{};return{reconciler:Ewe({createInstance:n,removeChild:o,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(c,f)=>{if(!f)return;const h=c.getState().scene;h.__r3f&&(h.__r3f.root=c,r(h,f))},removeChildFromContainer:(c,f)=>{f&&o(c.getState().scene,f)},insertInContainerBefore:(c,f,h)=>{if(!f||!h)return;const m=c.getState().scene;m.__r3f&&i(m,f,h)},getRootHostContext:()=>null,getChildHostContext:c=>c,finalizeInitialChildren(c){var f;return!!((f=c==null?void 0:c.__r3f)!=null?f:{}).handlers},prepareUpdate(c,f,h,m){var g;if(((g=c==null?void 0:c.__r3f)!=null?g:{}).primitive&&m.object&&m.object!==c)return[!0];{const{args:x=[],children:v,...S}=m,{args:_=[],children:b,...E}=h;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((T,C)=>T!==_[C]))return[!0];const M=j8(c,S,E,!0);return M.changes.length?[!1,M]:null}},commitUpdate(c,[f,h],m,g,y,x){f?s(c,m,y,x):pb(c,h)},commitMount(c,f,h,m){var g;const y=(g=c.__r3f)!=null?g:{};c.raycast&&y.handlers&&y.eventCount&&p0(c).getState().internal.interaction.push(c)},getPublicInstance:c=>c,prepareForCommit:()=>null,preparePortalMount:c=>mf(c.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(c){var f;const{attach:h,parent:m}=(f=c.__r3f)!=null?f:{};h&&m&&rk(m,c,h),c.isObject3D&&(c.visible=!1),gf(c)},unhideInstance(c,f){var h;const{attach:m,parent:g}=(h=c.__r3f)!=null?h:{};m&&g&&db(g,c,m),(c.isObject3D&&f.visible==null||f.visible)&&(c.visible=!0),gf(c)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():Uf.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&On.fun(performance.now)?performance.now:On.fun(Date.now)?Date.now:()=>0,scheduleTimeout:On.fun(setTimeout)?setTimeout:void 0,cancelTimeout:On.fun(clearTimeout)?clearTimeout:void 0}),applyProps:pb}}var QN,ek;const hb=t=>"colorSpace"in t||"outputColorSpace"in t,k8=()=>{var t;return(t=IP.ColorManagement)!=null?t:null},U8=t=>t&&t.isOrthographicCamera,Twe=t=>t&&t.hasOwnProperty("current"),Tg=typeof window<"u"&&((QN=window.document)!=null&&QN.createElement||((ek=window.navigator)==null?void 0:ek.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function F8(t){const e=he.useRef(t);return Tg(()=>void(e.current=t),[t]),e}function Pwe({set:t}){return Tg(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class B8 extends he.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}B8.getDerivedStateFromError=()=>({error:!0});const z8="__default",tk=new Map,Cwe=t=>t&&!!t.memoized&&!!t.changes;function H8(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Zd=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function p0(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const On={obj:t=>t===Object(t)&&!On.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(On.str(t)||On.num(t)||On.boo(t))return t===e;const a=On.obj(t);if(a&&r==="reference")return t===e;const o=On.arr(t);if(o&&n==="reference")return t===e;if((o||a)&&t===e)return!0;let s;for(s in t)if(!(s in e))return!1;if(a&&n==="shallow"&&r==="shallow"){for(s in i?e:t)if(!On.equ(t[s],e[s],{strict:i,objects:"reference"}))return!1}else for(s in i?e:t)if(t[s]!==e[s])return!1;if(On.und(s)){if(o&&t.length===0&&e.length===0||a&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Owe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Rwe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function mf(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function LA(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((a,o)=>a[o],t),{target:n,key:i}}else return{target:n,key:e}}const nk=/-\d+$/;function db(t,e,n){if(On.str(n)){if(nk.test(n)){const a=n.replace(nk,""),{target:o,key:s}=LA(t,a);Array.isArray(o[s])||(o[s]=[])}const{target:r,key:i}=LA(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function rk(t,e,n){var r,i;if(On.str(n)){const{target:a,key:o}=LA(t,n),s=e.__r3f.previousAttach;s===void 0?delete a[o]:a[o]=s}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function j8(t,{children:e,key:n,ref:r,...i},{children:a,key:o,ref:s,...l}={},u=!1){const c=t.__r3f,f=Object.entries(i),h=[];if(u){const g=Object.keys(l);for(let y=0;y<g.length;y++)i.hasOwnProperty(g[y])||f.unshift([g[y],z8+"remove"])}f.forEach(([g,y])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&g==="object"||On.equ(y,l[g]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(g))return h.push([g,y,!0,[]]);let v=[];g.includes("-")&&(v=g.split("-")),h.push([g,y,!1,v]);for(const S in i){const _=i[S];S.startsWith(`${g}-`)&&h.push([S,_,!1,S.split("-")])}});const m={...i};return c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.args&&(m.args=c.memoizedProps.args),c!=null&&c.memoizedProps&&c!=null&&c.memoizedProps.attach&&(m.attach=c.memoizedProps.attach),{memoized:m,changes:h}}function pb(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,a=i==null||i.getState==null?void 0:i.getState(),{memoized:o,changes:s}=Cwe(e)?e:j8(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=o);for(let h=0;h<s.length;h++){let[m,g,y,x]=s[h];if(hb(t)){const b="srgb",E="srgb-linear";m==="encoding"?(m="colorSpace",g=g===3001?b:E):m==="outputEncoding"&&(m="outputColorSpace",g=g===3001?b:E)}let v=t,S=v[m];if(x.length&&(S=x.reduce((_,b)=>_[b],t),!(S&&S.set))){const[_,...b]=x.reverse();v=b.reverse().reduce((E,M)=>E[M],t),m=_}if(g===z8+"remove")if(v.constructor){let _=tk.get(v.constructor);_||(_=new v.constructor,tk.set(v.constructor,_)),g=_[m]}else g=0;if(y&&r)g?r.handlers[m]=g:delete r.handlers[m],r.eventCount=Object.keys(r.handlers).length;else if(S&&S.set&&(S.copy||S instanceof Ku)){if(Array.isArray(g))S.fromArray?S.fromArray(g):S.set(...g);else if(S.copy&&g&&g.constructor&&S.constructor===g.constructor)S.copy(g);else if(g!==void 0){var u;const _=(u=S)==null?void 0:u.isColor;!_&&S.setScalar?S.setScalar(g):S instanceof Ku&&g instanceof Ku?S.mask=g.mask:S.set(g),!k8()&&a&&!a.linear&&_&&S.convertSRGBToLinear()}}else{var c;if(v[m]=g,(c=v[m])!=null&&c.isTexture&&v[m].format===vr&&v[m].type===ma&&a){const _=v[m];hb(_)&&hb(a.gl)?_.colorSpace=a.gl.outputColorSpace:_.encoding=a.gl.outputEncoding}}gf(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const h=p0(t).getState().internal,m=h.interaction.indexOf(t);m>-1&&h.interaction.splice(m,1),r.eventCount&&h.interaction.push(t)}return!(s.length===1&&s[0][0]==="onUpdate")&&s.length&&(n=t.__r3f)!=null&&n.parent&&DA(t),t}function gf(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function DA(t){t.onUpdate==null||t.onUpdate(t)}function G8(t,e){t.manual||(U8(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function jy(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Iwe(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return Uf.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Uf.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Uf.ContinuousEventPriority;default:return Uf.DefaultEventPriority}}function V8(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Lwe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{V8(n.capturedMap,e,r,i)})}function Dwe(t){function e(l){const{internal:u}=t.getState(),c=l.offsetX-u.initialClick[0],f=l.offsetY-u.initialClick[1];return Math.round(Math.sqrt(c*c+f*f))}function n(l){return l.filter(u=>["Move","Over","Enter","Out","Leave"].some(c=>{var f;return(f=u.__r3f)==null?void 0:f.handlers["onPointer"+c]}))}function r(l,u){const c=t.getState(),f=new Set,h=[],m=u?u(c.internal.interaction):c.internal.interaction;for(let v=0;v<m.length;v++){const S=Zd(m[v]);S&&(S.raycaster.camera=void 0)}c.previousRoot||c.events.compute==null||c.events.compute(l,c);function g(v){const S=Zd(v);if(!S||!S.events.enabled||S.raycaster.camera===null)return[];if(S.raycaster.camera===void 0){var _;S.events.compute==null||S.events.compute(l,S,(_=S.previousRoot)==null?void 0:_.getState()),S.raycaster.camera===void 0&&(S.raycaster.camera=null)}return S.raycaster.camera?S.raycaster.intersectObject(v,!0):[]}let y=m.flatMap(g).sort((v,S)=>{const _=Zd(v.object),b=Zd(S.object);return!_||!b?v.distance-S.distance:b.events.priority-_.events.priority||v.distance-S.distance}).filter(v=>{const S=jy(v);return f.has(S)?!1:(f.add(S),!0)});c.events.filter&&(y=c.events.filter(y,c));for(const v of y){let S=v.object;for(;S;){var x;(x=S.__r3f)!=null&&x.eventCount&&h.push({...v,eventObject:S}),S=S.parent}}if("pointerId"in l&&c.internal.capturedMap.has(l.pointerId))for(let v of c.internal.capturedMap.get(l.pointerId).values())f.has(jy(v.intersection))||h.push(v.intersection);return h}function i(l,u,c,f){const h=t.getState();if(l.length){const m={stopped:!1};for(const g of l){const y=Zd(g.object)||h,{raycaster:x,pointer:v,camera:S,internal:_}=y,b=new ee(v.x,v.y,0).unproject(S),E=O=>{var I,D;return(I=(D=_.capturedMap.get(O))==null?void 0:D.has(g.eventObject))!=null?I:!1},M=O=>{const I={intersection:g,target:u.target};_.capturedMap.has(O)?_.capturedMap.get(O).set(g.eventObject,I):_.capturedMap.set(O,new Map([[g.eventObject,I]])),u.target.setPointerCapture(O)},T=O=>{const I=_.capturedMap.get(O);I&&V8(_.capturedMap,g.eventObject,I,O)};let C={};for(let O in u){let I=u[O];typeof I!="function"&&(C[O]=I)}let P={...g,...C,pointer:v,intersections:l,stopped:m.stopped,delta:c,unprojectedPoint:b,ray:x.ray,camera:S,stopPropagation(){const O="pointerId"in u&&_.capturedMap.get(u.pointerId);if((!O||O.has(g.eventObject))&&(P.stopped=m.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(I=>I.eventObject===g.eventObject))){const I=l.slice(0,l.indexOf(g));a([...I,g])}},target:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},currentTarget:{hasPointerCapture:E,setPointerCapture:M,releasePointerCapture:T},nativeEvent:u};if(f(P),m.stopped===!0)break}}return l}function a(l){const{internal:u}=t.getState();for(const c of u.hovered.values())if(!l.length||!l.find(f=>f.object===c.object&&f.index===c.index&&f.instanceId===c.instanceId)){const h=c.eventObject.__r3f,m=h==null?void 0:h.handlers;if(u.hovered.delete(jy(c)),h!=null&&h.eventCount){const g={...c,intersections:l};m.onPointerOut==null||m.onPointerOut(g),m.onPointerLeave==null||m.onPointerLeave(g)}}}function o(l,u){for(let c=0;c<u.length;c++){const f=u[c].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function s(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>a([]);case"onLostPointerCapture":return u=>{const{internal:c}=t.getState();"pointerId"in u&&c.capturedMap.has(u.pointerId)&&requestAnimationFrame(()=>{c.capturedMap.has(u.pointerId)&&(c.capturedMap.delete(u.pointerId),a([]))})}}return function(c){const{onPointerMissed:f,internal:h}=t.getState();h.lastEvent.current=c;const m=l==="onPointerMove",g=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(c,m?n:void 0),v=g?e(c):0;l==="onPointerDown"&&(h.initialClick=[c.offsetX,c.offsetY],h.initialHits=x.map(_=>_.eventObject)),g&&!x.length&&v<=2&&(o(c,h.interaction),f&&f(c)),m&&a(x);function S(_){const b=_.eventObject,E=b.__r3f,M=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(m){if(M.onPointerOver||M.onPointerEnter||M.onPointerOut||M.onPointerLeave){const T=jy(_),C=h.hovered.get(T);C?C.stopped&&_.stopPropagation():(h.hovered.set(T,_),M.onPointerOver==null||M.onPointerOver(_),M.onPointerEnter==null||M.onPointerEnter(_))}M.onPointerMove==null||M.onPointerMove(_)}else{const T=M[l];T?(!g||h.initialHits.includes(b))&&(o(c,h.interaction.filter(C=>!h.initialHits.includes(C))),T(_)):g&&h.initialHits.includes(b)&&o(c,h.interaction.filter(C=>!h.initialHits.includes(C)))}}i(x,c,v,S)}}return{handlePointer:s}}const Nwe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],W8=t=>!!(t!=null&&t.render),LP=he.createContext(null),kwe=(t,e)=>{const n=P8((s,l)=>{const u=new ee,c=new ee,f=new ee;function h(v=l().camera,S=c,_=l().size){const{width:b,height:E,top:M,left:T}=_,C=b/E;S.isVector3?f.copy(S):f.set(...S);const P=v.getWorldPosition(u).distanceTo(f);if(U8(v))return{width:b/v.zoom,height:E/v.zoom,top:M,left:T,factor:1,distance:P,aspect:C};{const O=v.fov*Math.PI/180,I=2*Math.tan(O/2)*P,D=I*(b/E);return{width:D,height:I,top:M,left:T,factor:b/D,distance:P,aspect:C}}}let m;const g=v=>s(S=>({performance:{...S.performance,current:v}})),y=new We;return{set:s,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(v=1)=>t(l(),v),advance:(v,S)=>e(v,S,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new TP,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const v=l();m&&clearTimeout(m),v.performance.current!==v.performance.min&&g(v.performance.min),m=setTimeout(()=>g(l().performance.max),v.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:h},setEvents:v=>s(S=>({...S,events:{...S.events,...v}})),setSize:(v,S,_,b,E)=>{const M=l().camera,T={width:v,height:S,top:b||0,left:E||0,updateStyle:_};s(C=>({size:T,viewport:{...C.viewport,...h(M,c,T)}}))},setDpr:v=>s(S=>{const _=H8(v);return{viewport:{...S.viewport,dpr:_,initialDpr:S.viewport.initialDpr||_}}}),setFrameloop:(v="always")=>{const S=l().clock;S.stop(),S.elapsedTime=0,v!=="never"&&(S.start(),S.elapsedTime=0),s(()=>({frameloop:v}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:he.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(v,S,_)=>{const b=l().internal;return b.priority=b.priority+(S>0?1:0),b.subscribers.push({ref:v,priority:S,store:_}),b.subscribers=b.subscribers.sort((E,M)=>E.priority-M.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(S>0?1:0),E.subscribers=E.subscribers.filter(M=>M.ref!==v))}}}}}),r=n.getState();let i=r.size,a=r.viewport.dpr,o=r.camera;return n.subscribe(()=>{const{camera:s,size:l,viewport:u,gl:c,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||u.dpr!==a){var h;i=l,a=u.dpr,G8(s,l),c.setPixelRatio(u.dpr);const m=(h=l.updateStyle)!=null?h:typeof HTMLCanvasElement<"u"&&c.domElement instanceof HTMLCanvasElement;c.setSize(l.width,l.height,m)}s!==o&&(o=s,f(m=>({viewport:{...m.viewport,...m.viewport.getCurrentViewport(s)}})))}),n.subscribe(s=>t(s)),n};let Gy,Uwe=new Set,Fwe=new Set,Bwe=new Set;function mb(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Jd(t,e){switch(t){case"before":return mb(Uwe,e);case"after":return mb(Fwe,e);case"tail":return mb(Bwe,e)}}let gb,vb;function yb(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),gb=e.internal.subscribers,Gy=0;Gy<gb.length;Gy++)vb=gb[Gy],vb.ref.current(vb.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function zwe(t){let e=!1,n=!1,r,i,a;function o(u){i=requestAnimationFrame(o),e=!0,r=0,Jd("before",u),n=!0;for(const f of t.values()){var c;a=f.store.getState(),a.internal.active&&(a.frameloop==="always"||a.internal.frames>0)&&!((c=a.gl.xr)!=null&&c.isPresenting)&&(r+=yb(u,a))}if(n=!1,Jd("after",u),r===0)return Jd("tail",u),e=!1,cancelAnimationFrame(i)}function s(u,c=1){var f;if(!u)return t.forEach(h=>s(h.store.getState(),c));(f=u.gl.xr)!=null&&f.isPresenting||!u.internal.active||u.frameloop==="never"||(c>1?u.internal.frames=Math.min(60,u.internal.frames+c):n?u.internal.frames=2:u.internal.frames=1,e||(e=!0,requestAnimationFrame(o)))}function l(u,c=!0,f,h){if(c&&Jd("before",u),f)yb(u,f,h);else for(const m of t.values())yb(u,m.store.getState());c&&Jd("after",u)}return{loop:o,invalidate:s,advance:l}}function DP(){const t=he.useContext(LP);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ki(t=n=>n,e){return DP()(t,e)}function P1(t,e=0){const n=DP(),r=n.getState().internal.subscribe,i=F8(t);return Tg(()=>r(i,e,n),[e,r,n]),null}const ik=new WeakMap;function $8(t,e){return function(n,...r){let i=ik.get(n);return i||(i=new n,ik.set(n,i)),t&&t(i),Promise.all(r.map(a=>new Promise((o,s)=>i.load(a,l=>{l.scene&&Object.assign(l,Owe(l.scene)),o(l)},e,l=>s(new Error(`Could not load ${a}: ${l==null?void 0:l.message}`))))))}}function Ch(t,e,n,r){const i=Array.isArray(e)?e:[e],a=R8($8(n,r),[t,...i],{equal:On.equ});return Array.isArray(e)?a:a[0]}Ch.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return xwe($8(n),[t,...r])};Ch.clear=function(t,e){const n=Array.isArray(e)?e:[e];return _we([t,...n])};const Oh=new Map,{invalidate:ak,advance:ok}=zwe(Oh),{reconciler:Zm,applyProps:ll}=Awe(Oh,Iwe),df={objects:"shallow",strict:!1},Hwe=(t,e)=>{const n=typeof t=="function"?t(e):t;return W8(n)?n:new lP({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function jwe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:a,left:o,updateStyle:s=n}=e;return{width:r,height:i,top:a,left:o,updateStyle:s}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:a,left:o}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:a,left:o,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Gwe(t){const e=Oh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,a=r||kwe(ak,ok),o=n||Zm.createContainer(a,Uf.ConcurrentRoot,null,!1,null,"",i,null);e||Oh.set(t,{fiber:o,store:a});let s,l=!1,u;return{configure(c={}){let{gl:f,size:h,scene:m,events:g,onCreated:y,shadows:x=!1,linear:v=!1,flat:S=!1,legacy:_=!1,orthographic:b=!1,frameloop:E="always",dpr:M=[1,2],performance:T,raycaster:C,camera:P,onPointerMissed:O}=c,I=a.getState(),D=I.gl;I.gl||I.set({gl:D=Hwe(f,t)});let F=I.raycaster;F||I.set({raycaster:F=new RP});const{params:B,...W}=C||{};if(On.equ(W,F,df)||ll(F,{...W}),On.equ(B,F.params,df)||ll(F,{params:{...F.params,...B}}),!I.camera||I.camera===u&&!On.equ(u,P,df)){u=P;const G=P instanceof vg,H=G?P:b?new Ms(0,0,0,0,.1,1e3):new lr(75,0,.1,1e3);G||(H.position.z=5,P&&(ll(H,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(H.manual=!0,H.updateProjectionMatrix())),!I.camera&&!(P!=null&&P.rotation)&&H.lookAt(0,0,0)),I.set({camera:H}),F.camera=H}if(!I.scene){let G;m!=null&&m.isScene?G=m:(G=new _g,m&&ll(G,m)),I.set({scene:mf(G)})}if(!I.xr){var V;const G=(ie,Z)=>{const ae=a.getState();ae.frameloop!=="never"&&ok(ie,!0,ae,Z)},H=()=>{const ie=a.getState();ie.gl.xr.enabled=ie.gl.xr.isPresenting,ie.gl.xr.setAnimationLoop(ie.gl.xr.isPresenting?G:null),ie.gl.xr.isPresenting||ak(ie)},$={connect(){const ie=a.getState().gl;ie.xr.addEventListener("sessionstart",H),ie.xr.addEventListener("sessionend",H)},disconnect(){const ie=a.getState().gl;ie.xr.removeEventListener("sessionstart",H),ie.xr.removeEventListener("sessionend",H)}};typeof((V=D.xr)==null?void 0:V.addEventListener)=="function"&&$.connect(),I.set({xr:$})}if(D.shadowMap){const G=D.shadowMap.enabled,H=D.shadowMap.type;if(D.shadowMap.enabled=!!x,On.boo(x))D.shadowMap.type=Mp;else if(On.str(x)){var Q;const $={basic:_5,percentage:Q_,soft:Mp,variance:no};D.shadowMap.type=(Q=$[x])!=null?Q:Mp}else On.obj(x)&&Object.assign(D.shadowMap,x);(G!==D.shadowMap.enabled||H!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const N=k8();N&&("enabled"in N?N.enabled=!_:"legacyMode"in N&&(N.legacyMode=_)),l||ll(D,{outputEncoding:v?3e3:3001,toneMapping:S?Uo:H2}),I.legacy!==_&&I.set(()=>({legacy:_})),I.linear!==v&&I.set(()=>({linear:v})),I.flat!==S&&I.set(()=>({flat:S})),f&&!On.fun(f)&&!W8(f)&&!On.equ(f,D,df)&&ll(D,f),g&&!I.events.handlers&&I.set({events:g(a)});const j=jwe(t,h);return On.equ(j,I.size,df)||I.setSize(j.width,j.height,j.updateStyle,j.top,j.left),M&&I.viewport.dpr!==H8(M)&&I.setDpr(M),I.frameloop!==E&&I.setFrameloop(E),I.onPointerMissed||I.set({onPointerMissed:O}),T&&!On.equ(T,I.performance,df)&&I.set(G=>({performance:{...G.performance,...T}})),s=y,l=!0,this},render(c){return l||this.configure(),Zm.updateContainer(me.jsx(Vwe,{store:a,children:c,onCreated:s,rootElement:t}),o,null,()=>{}),a},unmount(){X8(t)}}}function Vwe({store:t,children:e,onCreated:n,rootElement:r}){return Tg(()=>{const i=t.getState();i.set(a=>({internal:{...a.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),me.jsx(LP.Provider,{value:t,children:e})}function X8(t,e){const n=Oh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),Zm.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var a,o,s,l;i.events.disconnect==null||i.events.disconnect(),(a=i.gl)==null||(o=a.renderLists)==null||o.dispose==null||o.dispose(),(s=i.gl)==null||s.forceContextLoss==null||s.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Rwe(i),Oh.delete(t)}catch{}},500)})}}function Wwe(t,e,n){return me.jsx($we,{children:t,container:e,state:n},e.uuid)}function $we({state:t={},children:e,container:n}){const{events:r,size:i,...a}=t,o=DP(),[s]=he.useState(()=>new RP),[l]=he.useState(()=>new We),u=he.useCallback((f,h)=>{const m={...f};Object.keys(f).forEach(y=>{(Nwe.includes(y)||f[y]!==h[y]&&h[y])&&delete m[y]});let g;if(h&&i){const y=h.camera;g=f.viewport.getCurrentViewport(y,new ee,i),y!==f.camera&&G8(y,i)}return{...m,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...h==null?void 0:h.events,...r},size:{...f.size,...i},viewport:{...f.viewport,...g},...a}},[t]),[c]=he.useState(()=>{const f=o.getState();return P8((m,g)=>({...f,scene:n,raycaster:s,pointer:l,mouse:l,previousRoot:o,events:{...f.events,...r},size:{...f.size,...i},...a,set:m,get:g,setEvents:y=>m(x=>({...x,events:{...x.events,...y}}))}))});return he.useEffect(()=>{const f=o.subscribe(h=>c.setState(m=>u(h,m)));return()=>{f()}},[u]),he.useEffect(()=>{c.setState(f=>u(o.getState(),f))},[u]),he.useEffect(()=>()=>{c.destroy()},[]),me.jsx(me.Fragment,{children:Zm.createPortal(me.jsx(LP.Provider,{value:c,children:e}),c,null)})}Zm.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:he.version});const xb={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Xwe(t){const{handlePointer:e}=Dwe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(xb).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:a}=t.getState();a.disconnect==null||a.disconnect(),i(o=>({events:{...o.events,connected:n}})),Object.entries((r=a.handlers)!=null?r:[]).forEach(([o,s])=>{const[l,u]=xb[o];n.addEventListener(l,s,{passive:u})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([a,o])=>{if(r&&r.connected instanceof HTMLElement){const[s]=xb[a];r.connected.removeEventListener(s,o)}}),n(a=>({events:{...a.events,connected:void 0}}))}}}}function sk(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Ywe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[a,o]=he.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),s=he.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:a,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,u=t?typeof t=="number"?t:t.resize:null,c=he.useRef(!1);he.useEffect(()=>(c.current=!0,()=>void(c.current=!1)));const[f,h,m]=he.useMemo(()=>{const v=()=>{if(!s.current.element)return;const{left:S,top:_,width:b,height:E,bottom:M,right:T,x:C,y:P}=s.current.element.getBoundingClientRect(),O={left:S,top:_,width:b,height:E,bottom:M,right:T,x:C,y:P};s.current.element instanceof HTMLElement&&r&&(O.height=s.current.element.offsetHeight,O.width=s.current.element.offsetWidth),Object.freeze(O),c.current&&!Jwe(s.current.lastBounds,O)&&o(s.current.lastBounds=O)};return[v,u?sk(v,u):v,l?sk(v,l):v]},[o,r,l,u]);function g(){s.current.scrollContainers&&(s.current.scrollContainers.forEach(v=>v.removeEventListener("scroll",m,!0)),s.current.scrollContainers=null),s.current.resizeObserver&&(s.current.resizeObserver.disconnect(),s.current.resizeObserver=null),s.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",s.current.orientationHandler))}function y(){s.current.element&&(s.current.resizeObserver=new i(m),s.current.resizeObserver.observe(s.current.element),e&&s.current.scrollContainers&&s.current.scrollContainers.forEach(v=>v.addEventListener("scroll",m,{capture:!0,passive:!0})),s.current.orientationHandler=()=>{m()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",s.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",s.current.orientationHandler))}const x=v=>{!v||v===s.current.element||(g(),s.current.element=v,s.current.scrollContainers=Y8(v),y())};return Kwe(m,!!e),qwe(h),he.useEffect(()=>{g(),y()},[e,m,h]),he.useEffect(()=>g,[]),[x,a,f]}function qwe(t){he.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function Kwe(t,e){he.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function Y8(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(a=>a==="auto"||a==="scroll")&&e.push(t),[...e,...Y8(t.parentElement)]}const Zwe=["x","y","top","bottom","left","right","width","height"],Jwe=(t,e)=>Zwe.every(n=>t[n]===e[n]);var Qwe=Object.defineProperty,ebe=Object.defineProperties,tbe=Object.getOwnPropertyDescriptors,lk=Object.getOwnPropertySymbols,nbe=Object.prototype.hasOwnProperty,rbe=Object.prototype.propertyIsEnumerable,uk=(t,e,n)=>e in t?Qwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ck=(t,e)=>{for(var n in e||(e={}))nbe.call(e,n)&&uk(t,n,e[n]);if(lk)for(var n of lk(e))rbe.call(e,n)&&uk(t,n,e[n]);return t},ibe=(t,e)=>ebe(t,tbe(e)),fk,hk;typeof window<"u"&&((fk=window.document)!=null&&fk.createElement||((hk=window.navigator)==null?void 0:hk.product)==="ReactNative")?he.useLayoutEffect:he.useEffect;function q8(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=q8(r,e,n);if(i)return i;r=r.sibling}}function K8(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const dk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=dk;return}return dk.apply(this,arguments)};const NP=K8(he.createContext(null));class Z8 extends he.Component{render(){return he.createElement(NP.Provider,{value:this._reactInternals},this.props.children)}}function abe(){const t=he.useContext(NP);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=he.useId();return he.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=q8(r,!1,a=>{let o=a.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[t,e])}function obe(){const t=abe(),[e]=he.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==NP&&!e.has(i)&&e.set(i,he.useContext(K8(i)))}n=n.return}return e}function sbe(){const t=obe();return he.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>he.createElement(e,null,he.createElement(n.Provider,ibe(ck({},r),{value:t.get(n)}))),e=>he.createElement(Z8,ck({},e))),[t])}const lbe=he.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:a,events:o=Xwe,eventSource:s,eventPrefix:l,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:x,raycaster:v,camera:S,scene:_,onPointerMissed:b,onCreated:E,...M},T){he.useMemo(()=>N8(mwe),[]);const C=sbe(),[P,O]=Ywe({scroll:!0,debounce:{scroll:50,resize:0},...r}),I=he.useRef(null),D=he.useRef(null);he.useImperativeHandle(T,()=>I.current);const F=F8(b),[B,W]=he.useState(!1),[V,Q]=he.useState(!1);if(B)throw B;if(V)throw V;const N=he.useRef(null);Tg(()=>{const G=I.current;O.width>0&&O.height>0&&G&&(N.current||(N.current=Gwe(G)),N.current.configure({gl:a,events:o,shadows:u,linear:c,flat:f,legacy:h,orthographic:m,frameloop:g,dpr:y,performance:x,raycaster:v,camera:S,scene:_,size:O,onPointerMissed:(...H)=>F.current==null?void 0:F.current(...H),onCreated:H=>{H.events.connect==null||H.events.connect(s?Twe(s)?s.current:s:D.current),l&&H.setEvents({compute:($,ie)=>{const Z=$[l+"X"],ae=$[l+"Y"];ie.pointer.set(Z/ie.size.width*2-1,-(ae/ie.size.height)*2+1),ie.raycaster.setFromCamera(ie.pointer,ie.camera)}}),E==null||E(H)}}),N.current.render(me.jsx(C,{children:me.jsx(B8,{set:Q,children:me.jsx(he.Suspense,{fallback:me.jsx(Pwe,{set:W}),children:e??null})})})))}),he.useEffect(()=>{const G=I.current;if(G)return()=>X8(G)},[]);const j=s?"none":"auto";return me.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:j,...i},...M,children:me.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:me.jsx("canvas",{ref:I,style:{display:"block"},children:n})})})}),ube=he.forwardRef(function(e,n){return me.jsx(Z8,{children:me.jsx(lbe,{...e,ref:n})})}),J8=parseInt(pg.replace(/\D+/g,""));var Na=Uint8Array,gl=Uint16Array,NA=Uint32Array,Q8=new Na([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),eH=new Na([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),cbe=new Na([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),tH=function(t,e){for(var n=new gl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new NA(n[30]),r=1;r<30;++r)for(var a=n[r];a<n[r+1];++a)i[a]=a-n[r]<<5|r;return[n,i]},nH=tH(Q8,2),rH=nH[0],fbe=nH[1];rH[28]=258,fbe[258]=28;var hbe=tH(eH,0),dbe=hbe[0],kA=new gl(32768);for(var kn=0;kn<32768;++kn){var il=(kn&43690)>>>1|(kn&21845)<<1;il=(il&52428)>>>2|(il&13107)<<2,il=(il&61680)>>>4|(il&3855)<<4,kA[kn]=((il&65280)>>>8|(il&255)<<8)>>>1}var Cp=function(t,e,n){for(var r=t.length,i=0,a=new gl(e);i<r;++i)++a[t[i]-1];var o=new gl(e);for(i=0;i<e;++i)o[i]=o[i-1]+a[i-1]<<1;var s;if(n){s=new gl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],f=o[t[i]-1]++<<c,h=f|(1<<c)-1;f<=h;++f)s[kA[f]>>>l]=u}else for(s=new gl(r),i=0;i<r;++i)t[i]&&(s[i]=kA[o[t[i]-1]++]>>>15-t[i]);return s},Pg=new Na(288);for(var kn=0;kn<144;++kn)Pg[kn]=8;for(var kn=144;kn<256;++kn)Pg[kn]=9;for(var kn=256;kn<280;++kn)Pg[kn]=7;for(var kn=280;kn<288;++kn)Pg[kn]=8;var iH=new Na(32);for(var kn=0;kn<32;++kn)iH[kn]=5;var pbe=Cp(Pg,9,1),mbe=Cp(iH,5,1),_b=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},eo=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},Sb=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},gbe=function(t){return(t/8|0)+(t&7&&1)},vbe=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof gl?gl:t instanceof NA?NA:Na)(n-e);return r.set(t.subarray(e,n)),r},ybe=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Na(0);var i=!e||n,a=!n||n.i;n||(n={}),e||(e=new Na(r*3));var o=function(ce){var fe=e.length;if(ce>fe){var Ae=new Na(Math.max(fe*2,ce));Ae.set(e),e=Ae}},s=n.f||0,l=n.p||0,u=n.b||0,c=n.l,f=n.d,h=n.m,m=n.n,g=r*8;do{if(!c){n.f=s=eo(t,l,1);var y=eo(t,l+1,3);if(l+=3,y)if(y==1)c=pbe,f=mbe,h=9,m=5;else if(y==2){var _=eo(t,l,31)+257,b=eo(t,l+10,15)+4,E=_+eo(t,l+5,31)+1;l+=14;for(var M=new Na(E),T=new Na(19),C=0;C<b;++C)T[cbe[C]]=eo(t,l+C*3,7);l+=b*3;for(var P=_b(T),O=(1<<P)-1,I=Cp(T,P,1),C=0;C<E;){var D=I[eo(t,l,O)];l+=D&15;var x=D>>>4;if(x<16)M[C++]=x;else{var F=0,B=0;for(x==16?(B=3+eo(t,l,3),l+=2,F=M[C-1]):x==17?(B=3+eo(t,l,7),l+=3):x==18&&(B=11+eo(t,l,127),l+=7);B--;)M[C++]=F}}var W=M.subarray(0,_),V=M.subarray(_);h=_b(W),m=_b(V),c=Cp(W,h,1),f=Cp(V,m,1)}else throw"invalid block type";else{var x=gbe(l)+4,v=t[x-4]|t[x-3]<<8,S=x+v;if(S>r){if(a)throw"unexpected EOF";break}i&&o(u+v),e.set(t.subarray(x,S),u),n.b=u+=v,n.p=l=S*8;continue}if(l>g){if(a)throw"unexpected EOF";break}}i&&o(u+131072);for(var Q=(1<<h)-1,N=(1<<m)-1,j=l;;j=l){var F=c[Sb(t,l)&Q],G=F>>>4;if(l+=F&15,l>g){if(a)throw"unexpected EOF";break}if(!F)throw"invalid length/literal";if(G<256)e[u++]=G;else if(G==256){j=l,c=null;break}else{var H=G-254;if(G>264){var C=G-257,$=Q8[C];H=eo(t,l,(1<<$)-1)+rH[C],l+=$}var ie=f[Sb(t,l)&N],Z=ie>>>4;if(!ie)throw"invalid distance";l+=ie&15;var V=dbe[Z];if(Z>3){var $=eH[Z];V+=Sb(t,l)&(1<<$)-1,l+=$}if(l>g){if(a)throw"unexpected EOF";break}i&&o(u+131072);for(var ae=u+H;u<ae;u+=4)e[u]=e[u-V],e[u+1]=e[u+1-V],e[u+2]=e[u+2-V],e[u+3]=e[u+3-V];u=ae}}n.l=c,n.p=j,n.b=u,c&&(s=1,n.m=h,n.d=f,n.n=m)}while(!s);return u==e.length?e:vbe(e,0,u)},xbe=new Na(0),_be=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Vy(t,e){return ybe((_be(t),t.subarray(2,-4)),e)}var Sbe=typeof TextDecoder<"u"&&new TextDecoder,wbe=0;try{Sbe.decode(xbe,{stream:!0}),wbe=1}catch{}const bbe=t=>t&&t.isCubeTexture;class Mbe extends In{constructor(e,n){var r,i;const a=bbe(e),s=((i=a?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(s)),u=Math.pow(2,l),c=3*Math.max(u,16*7),f=4*u,h=[a?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/c}`,`#define CUBEUV_TEXEL_HEIGHT ${1/f}`,`#define CUBEUV_MAX_MIP ${l}.0`],m=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,g=h.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${J8>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,y={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},x=new wg(1,16),v=new Gi({uniforms:y,fragmentShader:g,vertexShader:m,side:Da});super(x,v)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var Ebe=Object.defineProperty,Abe=(t,e,n)=>e in t?Ebe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Tbe=(t,e,n)=>(Abe(t,e+"",n),n);class Pbe{constructor(){Tbe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const a=i.indexOf(n);a!==-1&&i.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let a=0,o=i.length;a<o;a++)i[a].call(this,e);e.target=null}}}var Cbe=Object.defineProperty,Obe=(t,e,n)=>e in t?Cbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ot=(t,e,n)=>(Obe(t,typeof e!="symbol"?e+"":e,n),n);const Wy=new _c,pk=new fs,Rbe=Math.cos(70*(Math.PI/180)),mk=(t,e)=>(t%e+e)%e;let Ibe=class extends Pbe{constructor(e,n){super(),Ot(this,"object"),Ot(this,"domElement"),Ot(this,"enabled",!0),Ot(this,"target",new ee),Ot(this,"minDistance",0),Ot(this,"maxDistance",1/0),Ot(this,"minZoom",0),Ot(this,"maxZoom",1/0),Ot(this,"minPolarAngle",0),Ot(this,"maxPolarAngle",Math.PI),Ot(this,"minAzimuthAngle",-1/0),Ot(this,"maxAzimuthAngle",1/0),Ot(this,"enableDamping",!1),Ot(this,"dampingFactor",.05),Ot(this,"enableZoom",!0),Ot(this,"zoomSpeed",1),Ot(this,"enableRotate",!0),Ot(this,"rotateSpeed",1),Ot(this,"enablePan",!0),Ot(this,"panSpeed",1),Ot(this,"screenSpacePanning",!0),Ot(this,"keyPanSpeed",7),Ot(this,"zoomToCursor",!1),Ot(this,"autoRotate",!1),Ot(this,"autoRotateSpeed",2),Ot(this,"reverseOrbit",!1),Ot(this,"reverseHorizontalOrbit",!1),Ot(this,"reverseVerticalOrbit",!1),Ot(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),Ot(this,"mouseButtons",{LEFT:Mu.ROTATE,MIDDLE:Mu.DOLLY,RIGHT:Mu.PAN}),Ot(this,"touches",{ONE:Eu.ROTATE,TWO:Eu.DOLLY_PAN}),Ot(this,"target0"),Ot(this,"position0"),Ot(this,"zoom0"),Ot(this,"_domElementKeyEvents",null),Ot(this,"getPolarAngle"),Ot(this,"getAzimuthalAngle"),Ot(this,"setPolarAngle"),Ot(this,"setAzimuthalAngle"),Ot(this,"getDistance"),Ot(this,"getZoomScale"),Ot(this,"listenToKeyEvents"),Ot(this,"stopListenToKeyEvents"),Ot(this,"saveState"),Ot(this,"reset"),Ot(this,"update"),Ot(this,"connect"),Ot(this,"dispose"),Ot(this,"dollyIn"),Ot(this,"dollyOut"),Ot(this,"getScale"),Ot(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>c.phi,this.getAzimuthalAngle=()=>c.theta,this.setPolarAngle=ue=>{let Ue=mk(ue,2*Math.PI),re=c.phi;re<0&&(re+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let je=Math.abs(Ue-re);2*Math.PI-je<je&&(Ue<re?Ue+=2*Math.PI:re+=2*Math.PI),f.phi=Ue-re,r.update()},this.setAzimuthalAngle=ue=>{let Ue=mk(ue,2*Math.PI),re=c.theta;re<0&&(re+=2*Math.PI),Ue<0&&(Ue+=2*Math.PI);let je=Math.abs(Ue-re);2*Math.PI-je<je&&(Ue<re?Ue+=2*Math.PI:re+=2*Math.PI),f.theta=Ue-re,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=ue=>{ue.addEventListener("keydown",ze),this._domElementKeyEvents=ue},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",ze),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=s.NONE},this.update=(()=>{const ue=new ee,Ue=new ee(0,1,0),re=new ci().setFromUnitVectors(e.up,Ue),je=re.clone().invert(),le=new ee,Re=new ci,Ke=2*Math.PI;return function(){const ut=r.object.position;re.setFromUnitVectors(e.up,Ue),je.copy(re).invert(),ue.copy(ut).sub(r.target),ue.applyQuaternion(re),c.setFromVector3(ue),r.autoRotate&&l===s.NONE&&B(D()),r.enableDamping?(c.theta+=f.theta*r.dampingFactor,c.phi+=f.phi*r.dampingFactor):(c.theta+=f.theta,c.phi+=f.phi);let Et=r.minAzimuthAngle,At=r.maxAzimuthAngle;isFinite(Et)&&isFinite(At)&&(Et<-Math.PI?Et+=Ke:Et>Math.PI&&(Et-=Ke),At<-Math.PI?At+=Ke:At>Math.PI&&(At-=Ke),Et<=At?c.theta=Math.max(Et,Math.min(At,c.theta)):c.theta=c.theta>(Et+At)/2?Math.max(Et,c.theta):Math.min(At,c.theta)),c.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,c.phi)),c.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(m,r.dampingFactor):r.target.add(m),r.zoomToCursor&&P||r.object.isOrthographicCamera?c.radius=ie(c.radius):c.radius=ie(c.radius*h),ue.setFromSpherical(c),ue.applyQuaternion(je),ut.copy(r.target).add(ue),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,m.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),m.set(0,0,0));let ot=!1;if(r.zoomToCursor&&P){let Nt=null;if(r.object instanceof lr&&r.object.isPerspectiveCamera){const Kt=ue.length();Nt=ie(Kt*h);const rn=Kt-Nt;r.object.position.addScaledVector(T,rn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Kt=new ee(C.x,C.y,0);Kt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix(),ot=!0;const rn=new ee(C.x,C.y,0);rn.unproject(r.object),r.object.position.sub(rn).add(Kt),r.object.updateMatrixWorld(),Nt=ue.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Nt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Nt).add(r.object.position):(Wy.origin.copy(r.object.position),Wy.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(Wy.direction))<Rbe?e.lookAt(r.target):(pk.setFromNormalAndCoplanarPoint(r.object.up,r.target),Wy.intersectPlane(pk,r.target))))}else r.object instanceof Ms&&r.object.isOrthographicCamera&&(ot=h!==1,ot&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/h)),r.object.updateProjectionMatrix()));return h=1,P=!1,ot||le.distanceToSquared(r.object.position)>u||8*(1-Re.dot(r.object.quaternion))>u?(r.dispatchEvent(i),le.copy(r.object.position),Re.copy(r.object.quaternion),ot=!1,!0):!1}})(),this.connect=ue=>{r.domElement=ue,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",Je),r.domElement.addEventListener("pointerdown",de),r.domElement.addEventListener("pointercancel",we),r.domElement.addEventListener("wheel",ke)},this.dispose=()=>{var ue,Ue,re,je,le,Re;r.domElement&&(r.domElement.style.touchAction="auto"),(ue=r.domElement)==null||ue.removeEventListener("contextmenu",Je),(Ue=r.domElement)==null||Ue.removeEventListener("pointerdown",de),(re=r.domElement)==null||re.removeEventListener("pointercancel",we),(je=r.domElement)==null||je.removeEventListener("wheel",ke),(le=r.domElement)==null||le.ownerDocument.removeEventListener("pointermove",pe),(Re=r.domElement)==null||Re.ownerDocument.removeEventListener("pointerup",we),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",ze)};const r=this,i={type:"change"},a={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=s.NONE;const u=1e-6,c=new IA,f=new IA;let h=1;const m=new ee,g=new We,y=new We,x=new We,v=new We,S=new We,_=new We,b=new We,E=new We,M=new We,T=new ee,C=new We;let P=!1;const O=[],I={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function F(){return Math.pow(.95,r.zoomSpeed)}function B(ue){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=ue:f.theta-=ue}function W(ue){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=ue:f.phi-=ue}const V=(()=>{const ue=new ee;return function(re,je){ue.setFromMatrixColumn(je,0),ue.multiplyScalar(-re),m.add(ue)}})(),Q=(()=>{const ue=new ee;return function(re,je){r.screenSpacePanning===!0?ue.setFromMatrixColumn(je,1):(ue.setFromMatrixColumn(je,0),ue.crossVectors(r.object.up,ue)),ue.multiplyScalar(re),m.add(ue)}})(),N=(()=>{const ue=new ee;return function(re,je){const le=r.domElement;if(le&&r.object instanceof lr&&r.object.isPerspectiveCamera){const Re=r.object.position;ue.copy(Re).sub(r.target);let Ke=ue.length();Ke*=Math.tan(r.object.fov/2*Math.PI/180),V(2*re*Ke/le.clientHeight,r.object.matrix),Q(2*je*Ke/le.clientHeight,r.object.matrix)}else le&&r.object instanceof Ms&&r.object.isOrthographicCamera?(V(re*(r.object.right-r.object.left)/r.object.zoom/le.clientWidth,r.object.matrix),Q(je*(r.object.top-r.object.bottom)/r.object.zoom/le.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function j(ue){r.object instanceof lr&&r.object.isPerspectiveCamera||r.object instanceof Ms&&r.object.isOrthographicCamera?h=ue:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function G(ue){j(h/ue)}function H(ue){j(h*ue)}function $(ue){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Ue=r.domElement.getBoundingClientRect(),re=ue.clientX-Ue.left,je=ue.clientY-Ue.top,le=Ue.width,Re=Ue.height;C.x=re/le*2-1,C.y=-(je/Re)*2+1,T.set(C.x,C.y,1).unproject(r.object).sub(r.object.position).normalize()}function ie(ue){return Math.max(r.minDistance,Math.min(r.maxDistance,ue))}function Z(ue){g.set(ue.clientX,ue.clientY)}function ae(ue){$(ue),b.set(ue.clientX,ue.clientY)}function ce(ue){v.set(ue.clientX,ue.clientY)}function fe(ue){y.set(ue.clientX,ue.clientY),x.subVectors(y,g).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(B(2*Math.PI*x.x/Ue.clientHeight),W(2*Math.PI*x.y/Ue.clientHeight)),g.copy(y),r.update()}function Ae(ue){E.set(ue.clientX,ue.clientY),M.subVectors(E,b),M.y>0?G(F()):M.y<0&&H(F()),b.copy(E),r.update()}function ve(ue){S.set(ue.clientX,ue.clientY),_.subVectors(S,v).multiplyScalar(r.panSpeed),N(_.x,_.y),v.copy(S),r.update()}function Ie(ue){$(ue),ue.deltaY<0?H(F()):ue.deltaY>0&&G(F()),r.update()}function X(ue){let Ue=!1;switch(ue.code){case r.keys.UP:N(0,r.keyPanSpeed),Ue=!0;break;case r.keys.BOTTOM:N(0,-r.keyPanSpeed),Ue=!0;break;case r.keys.LEFT:N(r.keyPanSpeed,0),Ue=!0;break;case r.keys.RIGHT:N(-r.keyPanSpeed,0),Ue=!0;break}Ue&&(ue.preventDefault(),r.update())}function J(){if(O.length==1)g.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Ue=.5*(O[0].pageY+O[1].pageY);g.set(ue,Ue)}}function _e(){if(O.length==1)v.set(O[0].pageX,O[0].pageY);else{const ue=.5*(O[0].pageX+O[1].pageX),Ue=.5*(O[0].pageY+O[1].pageY);v.set(ue,Ue)}}function Me(){const ue=O[0].pageX-O[1].pageX,Ue=O[0].pageY-O[1].pageY,re=Math.sqrt(ue*ue+Ue*Ue);b.set(0,re)}function Te(){r.enableZoom&&Me(),r.enablePan&&_e()}function Ce(){r.enableZoom&&Me(),r.enableRotate&&J()}function He(ue){if(O.length==1)y.set(ue.pageX,ue.pageY);else{const re=qe(ue),je=.5*(ue.pageX+re.x),le=.5*(ue.pageY+re.y);y.set(je,le)}x.subVectors(y,g).multiplyScalar(r.rotateSpeed);const Ue=r.domElement;Ue&&(B(2*Math.PI*x.x/Ue.clientHeight),W(2*Math.PI*x.y/Ue.clientHeight)),g.copy(y)}function Pe(ue){if(O.length==1)S.set(ue.pageX,ue.pageY);else{const Ue=qe(ue),re=.5*(ue.pageX+Ue.x),je=.5*(ue.pageY+Ue.y);S.set(re,je)}_.subVectors(S,v).multiplyScalar(r.panSpeed),N(_.x,_.y),v.copy(S)}function Xe(ue){const Ue=qe(ue),re=ue.pageX-Ue.x,je=ue.pageY-Ue.y,le=Math.sqrt(re*re+je*je);E.set(0,le),M.set(0,Math.pow(E.y/b.y,r.zoomSpeed)),G(M.y),b.copy(E)}function q(ue){r.enableZoom&&Xe(ue),r.enablePan&&Pe(ue)}function U(ue){r.enableZoom&&Xe(ue),r.enableRotate&&He(ue)}function de(ue){var Ue,re;r.enabled!==!1&&(O.length===0&&((Ue=r.domElement)==null||Ue.ownerDocument.addEventListener("pointermove",pe),(re=r.domElement)==null||re.ownerDocument.addEventListener("pointerup",we)),dt(ue),ue.pointerType==="touch"?et(ue):Ee(ue))}function pe(ue){r.enabled!==!1&&(ue.pointerType==="touch"?Ve(ue):rt(ue))}function we(ue){var Ue,re,je;Qe(ue),O.length===0&&((Ue=r.domElement)==null||Ue.releasePointerCapture(ue.pointerId),(re=r.domElement)==null||re.ownerDocument.removeEventListener("pointermove",pe),(je=r.domElement)==null||je.ownerDocument.removeEventListener("pointerup",we)),r.dispatchEvent(o),l=s.NONE}function Ee(ue){let Ue;switch(ue.button){case 0:Ue=r.mouseButtons.LEFT;break;case 1:Ue=r.mouseButtons.MIDDLE;break;case 2:Ue=r.mouseButtons.RIGHT;break;default:Ue=-1}switch(Ue){case Mu.DOLLY:if(r.enableZoom===!1)return;ae(ue),l=s.DOLLY;break;case Mu.ROTATE:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enablePan===!1)return;ce(ue),l=s.PAN}else{if(r.enableRotate===!1)return;Z(ue),l=s.ROTATE}break;case Mu.PAN:if(ue.ctrlKey||ue.metaKey||ue.shiftKey){if(r.enableRotate===!1)return;Z(ue),l=s.ROTATE}else{if(r.enablePan===!1)return;ce(ue),l=s.PAN}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function rt(ue){if(r.enabled!==!1)switch(l){case s.ROTATE:if(r.enableRotate===!1)return;fe(ue);break;case s.DOLLY:if(r.enableZoom===!1)return;Ae(ue);break;case s.PAN:if(r.enablePan===!1)return;ve(ue);break}}function ke(ue){r.enabled===!1||r.enableZoom===!1||l!==s.NONE&&l!==s.ROTATE||(ue.preventDefault(),r.dispatchEvent(a),Ie(ue),r.dispatchEvent(o))}function ze(ue){r.enabled===!1||r.enablePan===!1||X(ue)}function et(ue){switch(Be(ue),O.length){case 1:switch(r.touches.ONE){case Eu.ROTATE:if(r.enableRotate===!1)return;J(),l=s.TOUCH_ROTATE;break;case Eu.PAN:if(r.enablePan===!1)return;_e(),l=s.TOUCH_PAN;break;default:l=s.NONE}break;case 2:switch(r.touches.TWO){case Eu.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Te(),l=s.TOUCH_DOLLY_PAN;break;case Eu.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Ce(),l=s.TOUCH_DOLLY_ROTATE;break;default:l=s.NONE}break;default:l=s.NONE}l!==s.NONE&&r.dispatchEvent(a)}function Ve(ue){switch(Be(ue),l){case s.TOUCH_ROTATE:if(r.enableRotate===!1)return;He(ue),r.update();break;case s.TOUCH_PAN:if(r.enablePan===!1)return;Pe(ue),r.update();break;case s.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;q(ue),r.update();break;case s.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;U(ue),r.update();break;default:l=s.NONE}}function Je(ue){r.enabled!==!1&&ue.preventDefault()}function dt(ue){O.push(ue)}function Qe(ue){delete I[ue.pointerId];for(let Ue=0;Ue<O.length;Ue++)if(O[Ue].pointerId==ue.pointerId){O.splice(Ue,1);return}}function Be(ue){let Ue=I[ue.pointerId];Ue===void 0&&(Ue=new We,I[ue.pointerId]=Ue),Ue.set(ue.pageX,ue.pageY)}function qe(ue){const Ue=ue.pointerId===O[0].pointerId?O[1]:O[0];return I[Ue.pointerId]}this.dollyIn=(ue=F())=>{H(ue),r.update()},this.dollyOut=(ue=F())=>{G(ue),r.update()},this.getScale=()=>h,this.setScale=ue=>{j(ue),r.update()},this.getZoomScale=()=>F(),n!==void 0&&this.connect(n),this.update()}};class Lbe extends bP{constructor(e){super(e),this.type=$r}parse(e){const o=function(C,P){switch(C){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},c=`
`,f=function(C,P,O){P=P||1024;let D=C.pos,F=-1,B=0,W="",V=String.fromCharCode.apply(null,new Uint16Array(C.subarray(D,D+128)));for(;0>(F=V.indexOf(c))&&B<P&&D<C.byteLength;)W+=V,B+=V.length,D+=128,V+=String.fromCharCode.apply(null,new Uint16Array(C.subarray(D,D+128)));return-1<F?(C.pos+=B+F+1,W+V.slice(0,F)):!1},h=function(C){const P=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,D=/^\s*FORMAT=(\S+)\s*$/,F=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,B={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let W,V;for((C.pos>=C.byteLength||!(W=f(C)))&&o(1,"no header found"),(V=W.match(P))||o(3,"bad initial token"),B.valid|=1,B.programtype=V[1],B.string+=W+`
`;W=f(C),W!==!1;){if(B.string+=W+`
`,W.charAt(0)==="#"){B.comments+=W+`
`;continue}if((V=W.match(O))&&(B.gamma=parseFloat(V[1])),(V=W.match(I))&&(B.exposure=parseFloat(V[1])),(V=W.match(D))&&(B.valid|=2,B.format=V[1]),(V=W.match(F))&&(B.valid|=4,B.height=parseInt(V[1],10),B.width=parseInt(V[2],10)),B.valid&2&&B.valid&4)break}return B.valid&2||o(3,"missing format specifier"),B.valid&4||o(3,"missing image size specifier"),B},m=function(C,P,O){const I=P;if(I<8||I>32767||C[0]!==2||C[1]!==2||C[2]&128)return new Uint8Array(C);I!==(C[2]<<8|C[3])&&o(3,"wrong scanline width");const D=new Uint8Array(4*P*O);D.length||o(4,"unable to allocate buffer space");let F=0,B=0;const W=4*I,V=new Uint8Array(4),Q=new Uint8Array(W);let N=O;for(;N>0&&B<C.byteLength;){B+4>C.byteLength&&o(1),V[0]=C[B++],V[1]=C[B++],V[2]=C[B++],V[3]=C[B++],(V[0]!=2||V[1]!=2||(V[2]<<8|V[3])!=I)&&o(3,"bad rgbe scanline format");let j=0,G;for(;j<W&&B<C.byteLength;){G=C[B++];const $=G>128;if($&&(G-=128),(G===0||j+G>W)&&o(3,"bad scanline data"),$){const ie=C[B++];for(let Z=0;Z<G;Z++)Q[j++]=ie}else Q.set(C.subarray(B,B+G),j),j+=G,B+=G}const H=I;for(let $=0;$<H;$++){let ie=0;D[F]=Q[$+ie],ie+=I,D[F+1]=Q[$+ie],ie+=I,D[F+2]=Q[$+ie],ie+=I,D[F+3]=Q[$+ie],F+=4}N--}return D},g=function(C,P,O,I){const D=C[P+3],F=Math.pow(2,D-128)/255;O[I+0]=C[P+0]*F,O[I+1]=C[P+1]*F,O[I+2]=C[P+2]*F,O[I+3]=1},y=function(C,P,O,I){const D=C[P+3],F=Math.pow(2,D-128)/255;O[I+0]=Bu.toHalfFloat(Math.min(C[P+0]*F,65504)),O[I+1]=Bu.toHalfFloat(Math.min(C[P+1]*F,65504)),O[I+2]=Bu.toHalfFloat(Math.min(C[P+2]*F,65504)),O[I+3]=Bu.toHalfFloat(1)},x=new Uint8Array(e);x.pos=0;const v=h(x),S=v.width,_=v.height,b=m(x.subarray(x.pos),S,_);let E,M,T;switch(this.type){case tr:T=b.length/4;const C=new Float32Array(T*4);for(let O=0;O<T;O++)g(b,O*4,C,O*4);E=C,M=tr;break;case $r:T=b.length/4;const P=new Uint16Array(T*4);for(let O=0;O<T;O++)y(b,O*4,P,O*4);E=P,M=$r;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:S,height:_,data:E,header:v.string,gamma:v.gamma,exposure:v.exposure,type:M}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){switch(o.type){case tr:case $r:"colorSpace"in o?o.colorSpace="srgb-linear":o.encoding=3e3,o.minFilter=hn,o.magFilter=hn,o.generateMipmaps=!1,o.flipY=!0;break}n&&n(o,s)}return super.load(e,a,r,i)}}const Qd=J8>=152;class Dbe extends bP{constructor(e){super(e),this.type=$r}parse(e){const P=Math.pow(2.7182818,2.2);function O(z,K){for(var L=0,Y=0;Y<65536;++Y)(Y==0||z[Y>>3]&1<<(Y&7))&&(K[L++]=Y);for(var te=L-1;L<65536;)K[L++]=0;return te}function I(z){for(var K=0;K<16384;K++)z[K]={},z[K].len=0,z[K].lit=0,z[K].p=null}const D={l:0,c:0,lc:0};function F(z,K,L,Y,te){for(;L<z;)K=K<<8|qe(Y,te),L+=8;L-=z,D.l=K>>L&(1<<z)-1,D.c=K,D.lc=L}const B=new Array(59);function W(z){for(var K=0;K<=58;++K)B[K]=0;for(var K=0;K<65537;++K)B[z[K]]+=1;for(var L=0,K=58;K>0;--K){var Y=L+B[K]>>1;B[K]=L,L=Y}for(var K=0;K<65537;++K){var te=z[K];te>0&&(z[K]=te|B[te]++<<6)}}function V(z,K,L,Y,te,ne,se){for(var xe=L,Oe=0,De=0;te<=ne;te++){if(xe.value-L.value>Y)return!1;F(6,Oe,De,z,xe);var Ne=D.l;if(Oe=D.c,De=D.lc,se[te]=Ne,Ne==63){if(xe.value-L.value>Y)throw"Something wrong with hufUnpackEncTable";F(8,Oe,De,z,xe);var ge=D.l+6;if(Oe=D.c,De=D.lc,te+ge>ne+1)throw"Something wrong with hufUnpackEncTable";for(;ge--;)se[te++]=0;te--}else if(Ne>=59){var ge=Ne-59+2;if(te+ge>ne+1)throw"Something wrong with hufUnpackEncTable";for(;ge--;)se[te++]=0;te--}}W(se)}function Q(z){return z&63}function N(z){return z>>6}function j(z,K,L,Y){for(;K<=L;K++){var te=N(z[K]),ne=Q(z[K]);if(te>>ne)throw"Invalid table entry";if(ne>14){var se=Y[te>>ne-14];if(se.len)throw"Invalid table entry";if(se.lit++,se.p){var xe=se.p;se.p=new Array(se.lit);for(var Oe=0;Oe<se.lit-1;++Oe)se.p[Oe]=xe[Oe]}else se.p=new Array(1);se.p[se.lit-1]=K}else if(ne)for(var De=0,Oe=1<<14-ne;Oe>0;Oe--){var se=Y[(te<<14-ne)+De];if(se.len||se.p)throw"Invalid table entry";se.len=ne,se.lit=K,De++}}return!0}const G={c:0,lc:0};function H(z,K,L,Y){z=z<<8|qe(L,Y),K+=8,G.c=z,G.lc=K}const $={c:0,lc:0};function ie(z,K,L,Y,te,ne,se,xe,Oe,De){if(z==K){Y<8&&(H(L,Y,te,se),L=G.c,Y=G.lc),Y-=8;var Ne=L>>Y,Ne=new Uint8Array([Ne])[0];if(Oe.value+Ne>De)return!1;for(var ge=xe[Oe.value-1];Ne-- >0;)xe[Oe.value++]=ge}else if(Oe.value<De)xe[Oe.value++]=z;else return!1;$.c=L,$.lc=Y}function Z(z){return z&65535}function ae(z){var K=Z(z);return K>32767?K-65536:K}const ce={a:0,b:0};function fe(z,K){var L=ae(z),Y=ae(K),te=Y,ne=L+(te&1)+(te>>1),se=ne,xe=ne-te;ce.a=se,ce.b=xe}function Ae(z,K){var L=Z(z),Y=Z(K),te=L-(Y>>1)&65535,ne=Y+te-32768&65535;ce.a=ne,ce.b=te}function ve(z,K,L,Y,te,ne,se){for(var xe=se<16384,Oe=L>te?te:L,De=1,Ne;De<=Oe;)De<<=1;for(De>>=1,Ne=De,De>>=1;De>=1;){for(var ge=0,at=ge+ne*(te-Ne),Ye=ne*De,tt=ne*Ne,pt=Y*De,yt=Y*Ne,Pt,gt,Ze,wt;ge<=at;ge+=tt){for(var vt=ge,Gt=ge+Y*(L-Ne);vt<=Gt;vt+=yt){var Dt=vt+pt,Zt=vt+Ye,Tn=Zt+pt;xe?(fe(z[vt+K],z[Zt+K]),Pt=ce.a,Ze=ce.b,fe(z[Dt+K],z[Tn+K]),gt=ce.a,wt=ce.b,fe(Pt,gt),z[vt+K]=ce.a,z[Dt+K]=ce.b,fe(Ze,wt),z[Zt+K]=ce.a,z[Tn+K]=ce.b):(Ae(z[vt+K],z[Zt+K]),Pt=ce.a,Ze=ce.b,Ae(z[Dt+K],z[Tn+K]),gt=ce.a,wt=ce.b,Ae(Pt,gt),z[vt+K]=ce.a,z[Dt+K]=ce.b,Ae(Ze,wt),z[Zt+K]=ce.a,z[Tn+K]=ce.b)}if(L&De){var Zt=vt+Ye;xe?fe(z[vt+K],z[Zt+K]):Ae(z[vt+K],z[Zt+K]),Pt=ce.a,z[Zt+K]=ce.b,z[vt+K]=Pt}}if(te&De)for(var vt=ge,Gt=ge+Y*(L-Ne);vt<=Gt;vt+=yt){var Dt=vt+pt;xe?fe(z[vt+K],z[Dt+K]):Ae(z[vt+K],z[Dt+K]),Pt=ce.a,z[Dt+K]=ce.b,z[vt+K]=Pt}Ne=De,De>>=1}return ge}function Ie(z,K,L,Y,te,ne,se,xe,Oe,De){for(var Ne=0,ge=0,at=xe,Ye=Math.trunc(te.value+(ne+7)/8);te.value<Ye;)for(H(Ne,ge,L,te),Ne=G.c,ge=G.lc;ge>=14;){var tt=Ne>>ge-14&16383,pt=K[tt];if(pt.len)ge-=pt.len,ie(pt.lit,se,Ne,ge,L,Y,te,Oe,De,at),Ne=$.c,ge=$.lc;else{if(!pt.p)throw"hufDecode issues";var yt;for(yt=0;yt<pt.lit;yt++){for(var Pt=Q(z[pt.p[yt]]);ge<Pt&&te.value<Ye;)H(Ne,ge,L,te),Ne=G.c,ge=G.lc;if(ge>=Pt&&N(z[pt.p[yt]])==(Ne>>ge-Pt&(1<<Pt)-1)){ge-=Pt,ie(pt.p[yt],se,Ne,ge,L,Y,te,Oe,De,at),Ne=$.c,ge=$.lc;break}}if(yt==pt.lit)throw"hufDecode issues"}}var gt=8-ne&7;for(Ne>>=gt,ge-=gt;ge>0;){var pt=K[Ne<<14-ge&16383];if(pt.len)ge-=pt.len,ie(pt.lit,se,Ne,ge,L,Y,te,Oe,De,at),Ne=$.c,ge=$.lc;else throw"hufDecode issues"}return!0}function X(z,K,L,Y,te,ne){var se={value:0},xe=L.value,Oe=Be(K,L),De=Be(K,L);L.value+=4;var Ne=Be(K,L);if(L.value+=4,Oe<0||Oe>=65537||De<0||De>=65537)throw"Something wrong with HUF_ENCSIZE";var ge=new Array(65537),at=new Array(16384);I(at);var Ye=Y-(L.value-xe);if(V(z,K,L,Ye,Oe,De,ge),Ne>8*(Y-(L.value-xe)))throw"Something wrong with hufUncompress";j(ge,Oe,De,at),Ie(ge,at,z,K,L,Ne,De,ne,te,se)}function J(z,K,L){for(var Y=0;Y<L;++Y)K[Y]=z[K[Y]]}function _e(z){for(var K=1;K<z.length;K++){var L=z[K-1]+z[K]-128;z[K]=L}}function Me(z,K){for(var L=0,Y=Math.floor((z.length+1)/2),te=0,ne=z.length-1;!(te>ne||(K[te++]=z[L++],te>ne));)K[te++]=z[Y++]}function Te(z){for(var K=z.byteLength,L=new Array,Y=0,te=new DataView(z);K>0;){var ne=te.getInt8(Y++);if(ne<0){var se=-ne;K-=se+1;for(var xe=0;xe<se;xe++)L.push(te.getUint8(Y++))}else{var se=ne;K-=2;for(var Oe=te.getUint8(Y++),xe=0;xe<se+1;xe++)L.push(Oe)}}return L}function Ce(z,K,L,Y,te,ne){var Dt=new DataView(ne.buffer),se=L[z.idx[0]].width,xe=L[z.idx[0]].height,Oe=3,De=Math.floor(se/8),Ne=Math.ceil(se/8),ge=Math.ceil(xe/8),at=se-(Ne-1)*8,Ye=xe-(ge-1)*8,tt={value:0},pt=new Array(Oe),yt=new Array(Oe),Pt=new Array(Oe),gt=new Array(Oe),Ze=new Array(Oe);for(let Yt=0;Yt<Oe;++Yt)Ze[Yt]=K[z.idx[Yt]],pt[Yt]=Yt<1?0:pt[Yt-1]+Ne*ge,yt[Yt]=new Float32Array(64),Pt[Yt]=new Uint16Array(64),gt[Yt]=new Uint16Array(Ne*64);for(let Yt=0;Yt<ge;++Yt){var wt=8;Yt==ge-1&&(wt=Ye);var vt=8;for(let Jt=0;Jt<Ne;++Jt){Jt==Ne-1&&(vt=at);for(let kt=0;kt<Oe;++kt)Pt[kt].fill(0),Pt[kt][0]=te[pt[kt]++],He(tt,Y,Pt[kt]),Pe(Pt[kt],yt[kt]),Xe(yt[kt]);q(yt);for(let kt=0;kt<Oe;++kt)U(yt[kt],gt[kt],Jt*64)}let tn=0;for(let Jt=0;Jt<Oe;++Jt){const kt=L[z.idx[Jt]].type;for(let vn=8*Yt;vn<8*Yt+wt;++vn){tn=Ze[Jt][vn];for(let Oi=0;Oi<De;++Oi){const nr=Oi*64+(vn&7)*8;Dt.setUint16(tn+0*2*kt,gt[Jt][nr+0],!0),Dt.setUint16(tn+1*2*kt,gt[Jt][nr+1],!0),Dt.setUint16(tn+2*2*kt,gt[Jt][nr+2],!0),Dt.setUint16(tn+3*2*kt,gt[Jt][nr+3],!0),Dt.setUint16(tn+4*2*kt,gt[Jt][nr+4],!0),Dt.setUint16(tn+5*2*kt,gt[Jt][nr+5],!0),Dt.setUint16(tn+6*2*kt,gt[Jt][nr+6],!0),Dt.setUint16(tn+7*2*kt,gt[Jt][nr+7],!0),tn+=8*2*kt}}if(De!=Ne)for(let vn=8*Yt;vn<8*Yt+wt;++vn){const Oi=Ze[Jt][vn]+8*De*2*kt,nr=De*64+(vn&7)*8;for(let $i=0;$i<vt;++$i)Dt.setUint16(Oi+$i*2*kt,gt[Jt][nr+$i],!0)}}}for(var Gt=new Uint16Array(se),Dt=new DataView(ne.buffer),Zt=0;Zt<Oe;++Zt){L[z.idx[Zt]].decoded=!0;var Tn=L[z.idx[Zt]].type;if(L[Zt].type==2)for(var Ut=0;Ut<xe;++Ut){const Yt=Ze[Zt][Ut];for(var an=0;an<se;++an)Gt[an]=Dt.getUint16(Yt+an*2*Tn,!0);for(var an=0;an<se;++an)Dt.setFloat32(Yt+an*2*Tn,le(Gt[an]),!0)}}}function He(z,K,L){for(var Y,te=1;te<64;)Y=K[z.value],Y==65280?te=64:Y>>8==255?te+=Y&255:(L[te]=Y,te++),z.value++}function Pe(z,K){K[0]=le(z[0]),K[1]=le(z[1]),K[2]=le(z[5]),K[3]=le(z[6]),K[4]=le(z[14]),K[5]=le(z[15]),K[6]=le(z[27]),K[7]=le(z[28]),K[8]=le(z[2]),K[9]=le(z[4]),K[10]=le(z[7]),K[11]=le(z[13]),K[12]=le(z[16]),K[13]=le(z[26]),K[14]=le(z[29]),K[15]=le(z[42]),K[16]=le(z[3]),K[17]=le(z[8]),K[18]=le(z[12]),K[19]=le(z[17]),K[20]=le(z[25]),K[21]=le(z[30]),K[22]=le(z[41]),K[23]=le(z[43]),K[24]=le(z[9]),K[25]=le(z[11]),K[26]=le(z[18]),K[27]=le(z[24]),K[28]=le(z[31]),K[29]=le(z[40]),K[30]=le(z[44]),K[31]=le(z[53]),K[32]=le(z[10]),K[33]=le(z[19]),K[34]=le(z[23]),K[35]=le(z[32]),K[36]=le(z[39]),K[37]=le(z[45]),K[38]=le(z[52]),K[39]=le(z[54]),K[40]=le(z[20]),K[41]=le(z[22]),K[42]=le(z[33]),K[43]=le(z[38]),K[44]=le(z[46]),K[45]=le(z[51]),K[46]=le(z[55]),K[47]=le(z[60]),K[48]=le(z[21]),K[49]=le(z[34]),K[50]=le(z[37]),K[51]=le(z[47]),K[52]=le(z[50]),K[53]=le(z[56]),K[54]=le(z[59]),K[55]=le(z[61]),K[56]=le(z[35]),K[57]=le(z[36]),K[58]=le(z[48]),K[59]=le(z[49]),K[60]=le(z[57]),K[61]=le(z[58]),K[62]=le(z[62]),K[63]=le(z[63])}function Xe(z){const K=.5*Math.cos(.7853975),L=.5*Math.cos(3.14159/16),Y=.5*Math.cos(3.14159/8),te=.5*Math.cos(3*3.14159/16),ne=.5*Math.cos(5*3.14159/16),se=.5*Math.cos(3*3.14159/8),xe=.5*Math.cos(7*3.14159/16);for(var Oe=new Array(4),De=new Array(4),Ne=new Array(4),ge=new Array(4),at=0;at<8;++at){var Ye=at*8;Oe[0]=Y*z[Ye+2],Oe[1]=se*z[Ye+2],Oe[2]=Y*z[Ye+6],Oe[3]=se*z[Ye+6],De[0]=L*z[Ye+1]+te*z[Ye+3]+ne*z[Ye+5]+xe*z[Ye+7],De[1]=te*z[Ye+1]-xe*z[Ye+3]-L*z[Ye+5]-ne*z[Ye+7],De[2]=ne*z[Ye+1]-L*z[Ye+3]+xe*z[Ye+5]+te*z[Ye+7],De[3]=xe*z[Ye+1]-ne*z[Ye+3]+te*z[Ye+5]-L*z[Ye+7],Ne[0]=K*(z[Ye+0]+z[Ye+4]),Ne[3]=K*(z[Ye+0]-z[Ye+4]),Ne[1]=Oe[0]+Oe[3],Ne[2]=Oe[1]-Oe[2],ge[0]=Ne[0]+Ne[1],ge[1]=Ne[3]+Ne[2],ge[2]=Ne[3]-Ne[2],ge[3]=Ne[0]-Ne[1],z[Ye+0]=ge[0]+De[0],z[Ye+1]=ge[1]+De[1],z[Ye+2]=ge[2]+De[2],z[Ye+3]=ge[3]+De[3],z[Ye+4]=ge[3]-De[3],z[Ye+5]=ge[2]-De[2],z[Ye+6]=ge[1]-De[1],z[Ye+7]=ge[0]-De[0]}for(var tt=0;tt<8;++tt)Oe[0]=Y*z[16+tt],Oe[1]=se*z[16+tt],Oe[2]=Y*z[48+tt],Oe[3]=se*z[48+tt],De[0]=L*z[8+tt]+te*z[24+tt]+ne*z[40+tt]+xe*z[56+tt],De[1]=te*z[8+tt]-xe*z[24+tt]-L*z[40+tt]-ne*z[56+tt],De[2]=ne*z[8+tt]-L*z[24+tt]+xe*z[40+tt]+te*z[56+tt],De[3]=xe*z[8+tt]-ne*z[24+tt]+te*z[40+tt]-L*z[56+tt],Ne[0]=K*(z[tt]+z[32+tt]),Ne[3]=K*(z[tt]-z[32+tt]),Ne[1]=Oe[0]+Oe[3],Ne[2]=Oe[1]-Oe[2],ge[0]=Ne[0]+Ne[1],ge[1]=Ne[3]+Ne[2],ge[2]=Ne[3]-Ne[2],ge[3]=Ne[0]-Ne[1],z[0+tt]=ge[0]+De[0],z[8+tt]=ge[1]+De[1],z[16+tt]=ge[2]+De[2],z[24+tt]=ge[3]+De[3],z[32+tt]=ge[3]-De[3],z[40+tt]=ge[2]-De[2],z[48+tt]=ge[1]-De[1],z[56+tt]=ge[0]-De[0]}function q(z){for(var K=0;K<64;++K){var L=z[0][K],Y=z[1][K],te=z[2][K];z[0][K]=L+1.5747*te,z[1][K]=L-.1873*Y-.4682*te,z[2][K]=L+1.8556*Y}}function U(z,K,L){for(var Y=0;Y<64;++Y)K[L+Y]=Bu.toHalfFloat(de(z[Y]))}function de(z){return z<=1?Math.sign(z)*Math.pow(Math.abs(z),2.2):Math.sign(z)*Math.pow(P,Math.abs(z)-1)}function pe(z){return new DataView(z.array.buffer,z.offset.value,z.size)}function we(z){var K=z.viewer.buffer.slice(z.offset.value,z.offset.value+z.size),L=new Uint8Array(Te(K)),Y=new Uint8Array(L.length);return _e(L),Me(L,Y),new DataView(Y.buffer)}function Ee(z){var K=z.array.slice(z.offset.value,z.offset.value+z.size),L=Vy(K),Y=new Uint8Array(L.length);return _e(L),Me(L,Y),new DataView(Y.buffer)}function rt(z){for(var K=z.viewer,L={value:z.offset.value},Y=new Uint16Array(z.width*z.scanlineBlockSize*(z.channels*z.type)),te=new Uint8Array(8192),ne=0,se=new Array(z.channels),xe=0;xe<z.channels;xe++)se[xe]={},se[xe].start=ne,se[xe].end=se[xe].start,se[xe].nx=z.width,se[xe].ny=z.lines,se[xe].size=z.type,ne+=se[xe].nx*se[xe].ny*se[xe].size;var Oe=Re(K,L),De=Re(K,L);if(De>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(Oe<=De)for(var xe=0;xe<De-Oe+1;xe++)te[xe+Oe]=ue(K,L);var Ne=new Uint16Array(65536),ge=O(te,Ne),at=Be(K,L);X(z.array,K,L,at,Y,ne);for(var xe=0;xe<z.channels;++xe)for(var Ye=se[xe],tt=0;tt<se[xe].size;++tt)ve(Y,Ye.start+tt,Ye.nx,Ye.size,Ye.ny,Ye.nx*Ye.size,ge);J(Ne,Y,ne);for(var pt=0,yt=new Uint8Array(Y.buffer.byteLength),Pt=0;Pt<z.lines;Pt++)for(var gt=0;gt<z.channels;gt++){var Ye=se[gt],Ze=Ye.nx*Ye.size,wt=new Uint8Array(Y.buffer,Ye.end*2,Ze*2);yt.set(wt,pt),pt+=Ze*2,Ye.end+=Ze}return new DataView(yt.buffer)}function ke(z){var K=z.array.slice(z.offset.value,z.offset.value+z.size),L=Vy(K);const Y=z.lines*z.channels*z.width,te=z.type==1?new Uint16Array(Y):new Uint32Array(Y);let ne=0,se=0;const xe=new Array(4);for(let Oe=0;Oe<z.lines;Oe++)for(let De=0;De<z.channels;De++){let Ne=0;switch(z.type){case 1:xe[0]=ne,xe[1]=xe[0]+z.width,ne=xe[1]+z.width;for(let ge=0;ge<z.width;++ge){const at=L[xe[0]++]<<8|L[xe[1]++];Ne+=at,te[se]=Ne,se++}break;case 2:xe[0]=ne,xe[1]=xe[0]+z.width,xe[2]=xe[1]+z.width,ne=xe[2]+z.width;for(let ge=0;ge<z.width;++ge){const at=L[xe[0]++]<<24|L[xe[1]++]<<16|L[xe[2]++]<<8;Ne+=at,te[se]=Ne,se++}break}}return new DataView(te.buffer)}function ze(z){var K=z.viewer,L={value:z.offset.value},Y=new Uint8Array(z.width*z.lines*(z.channels*z.type*2)),te={version:Ue(K,L),unknownUncompressedSize:Ue(K,L),unknownCompressedSize:Ue(K,L),acCompressedSize:Ue(K,L),dcCompressedSize:Ue(K,L),rleCompressedSize:Ue(K,L),rleUncompressedSize:Ue(K,L),rleRawSize:Ue(K,L),totalAcUncompressedCount:Ue(K,L),totalDcUncompressedCount:Ue(K,L),acCompression:Ue(K,L)};if(te.version<2)throw"EXRLoader.parse: "+Fn.compression+" version "+te.version+" is unsupported";for(var ne=new Array,se=Re(K,L)-2;se>0;){var xe=et(K.buffer,L),Oe=ue(K,L),De=Oe>>2&3,Ne=(Oe>>4)-1,ge=new Int8Array([Ne])[0],at=ue(K,L);ne.push({name:xe,index:ge,type:at,compression:De}),se-=xe.length+3}for(var Ye=Fn.channels,tt=new Array(z.channels),pt=0;pt<z.channels;++pt){var yt=tt[pt]={},Pt=Ye[pt];yt.name=Pt.name,yt.compression=0,yt.decoded=!1,yt.type=Pt.pixelType,yt.pLinear=Pt.pLinear,yt.width=z.width,yt.height=z.lines}for(var gt={idx:new Array(3)},Ze=0;Ze<z.channels;++Ze)for(var yt=tt[Ze],pt=0;pt<ne.length;++pt){var wt=ne[pt];yt.name==wt.name&&(yt.compression=wt.compression,wt.index>=0&&(gt.idx[wt.index]=Ze),yt.offset=Ze)}if(te.acCompressedSize>0)switch(te.acCompression){case 0:var Dt=new Uint16Array(te.totalAcUncompressedCount);X(z.array,K,L,te.acCompressedSize,Dt,te.totalAcUncompressedCount);break;case 1:var vt=z.array.slice(L.value,L.value+te.totalAcUncompressedCount),Gt=Vy(vt),Dt=new Uint16Array(Gt.buffer);L.value+=te.totalAcUncompressedCount;break}if(te.dcCompressedSize>0){var Zt={array:z.array,offset:L,size:te.dcCompressedSize},Tn=new Uint16Array(Ee(Zt).buffer);L.value+=te.dcCompressedSize}if(te.rleRawSize>0){var vt=z.array.slice(L.value,L.value+te.rleCompressedSize),Gt=Vy(vt),Ut=Te(Gt.buffer);L.value+=te.rleCompressedSize}for(var an=0,Yt=new Array(tt.length),pt=0;pt<Yt.length;++pt)Yt[pt]=new Array;for(var tn=0;tn<z.lines;++tn)for(var Jt=0;Jt<tt.length;++Jt)Yt[Jt].push(an),an+=tt[Jt].width*z.type*2;Ce(gt,Yt,tt,Dt,Tn,Y);for(var pt=0;pt<tt.length;++pt){var yt=tt[pt];if(!yt.decoded)switch(yt.compression){case 2:for(var kt=0,vn=0,tn=0;tn<z.lines;++tn){for(var Oi=Yt[pt][kt],nr=0;nr<yt.width;++nr){for(var $i=0;$i<2*yt.type;++$i)Y[Oi++]=Ut[vn+$i*yt.width*yt.height];vn++}kt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Y.buffer)}function et(z,K){for(var L=new Uint8Array(z),Y=0;L[K.value+Y]!=0;)Y+=1;var te=new TextDecoder().decode(L.slice(K.value,K.value+Y));return K.value=K.value+Y+1,te}function Ve(z,K,L){var Y=new TextDecoder().decode(new Uint8Array(z).slice(K.value,K.value+L));return K.value=K.value+L,Y}function Je(z,K){var L=Qe(z,K),Y=Be(z,K);return[L,Y]}function dt(z,K){var L=Be(z,K),Y=Be(z,K);return[L,Y]}function Qe(z,K){var L=z.getInt32(K.value,!0);return K.value=K.value+4,L}function Be(z,K){var L=z.getUint32(K.value,!0);return K.value=K.value+4,L}function qe(z,K){var L=z[K.value];return K.value=K.value+1,L}function ue(z,K){var L=z.getUint8(K.value);return K.value=K.value+1,L}const Ue=function(z,K){let L;return"getBigInt64"in DataView.prototype?L=Number(z.getBigInt64(K.value,!0)):L=z.getUint32(K.value+4,!0)+Number(z.getUint32(K.value,!0)<<32),K.value+=8,L};function re(z,K){var L=z.getFloat32(K.value,!0);return K.value+=4,L}function je(z,K){return Bu.toHalfFloat(re(z,K))}function le(z){var K=(z&31744)>>10,L=z&1023;return(z>>15?-1:1)*(K?K===31?L?NaN:1/0:Math.pow(2,K-15)*(1+L/1024):6103515625e-14*(L/1024))}function Re(z,K){var L=z.getUint16(K.value,!0);return K.value+=2,L}function Ke(z,K){return le(Re(z,K))}function lt(z,K,L,Y){for(var te=L.value,ne=[];L.value<te+Y-1;){var se=et(K,L),xe=Qe(z,L),Oe=ue(z,L);L.value+=3;var De=Qe(z,L),Ne=Qe(z,L);ne.push({name:se,pixelType:xe,pLinear:Oe,xSampling:De,ySampling:Ne})}return L.value+=1,ne}function ut(z,K){var L=re(z,K),Y=re(z,K),te=re(z,K),ne=re(z,K),se=re(z,K),xe=re(z,K),Oe=re(z,K),De=re(z,K);return{redX:L,redY:Y,greenX:te,greenY:ne,blueX:se,blueY:xe,whiteX:Oe,whiteY:De}}function Et(z,K){var L=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Y=ue(z,K);return L[Y]}function At(z,K){var L=Be(z,K),Y=Be(z,K),te=Be(z,K),ne=Be(z,K);return{xMin:L,yMin:Y,xMax:te,yMax:ne}}function ot(z,K){var L=["INCREASING_Y"],Y=ue(z,K);return L[Y]}function Nt(z,K){var L=re(z,K),Y=re(z,K);return[L,Y]}function Kt(z,K){var L=re(z,K),Y=re(z,K),te=re(z,K);return[L,Y,te]}function rn(z,K,L,Y,te){if(Y==="string"||Y==="stringvector"||Y==="iccProfile")return Ve(K,L,te);if(Y==="chlist")return lt(z,K,L,te);if(Y==="chromaticities")return ut(z,L);if(Y==="compression")return Et(z,L);if(Y==="box2i")return At(z,L);if(Y==="lineOrder")return ot(z,L);if(Y==="float")return re(z,L);if(Y==="v2f")return Nt(z,L);if(Y==="v3f")return Kt(z,L);if(Y==="int")return Qe(z,L);if(Y==="rational")return Je(z,L);if(Y==="timecode")return dt(z,L);if(Y==="preview")return L.value+=te,"skipped";L.value+=te}function Mn(z,K,L){const Y={};if(z.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Y.version=z.getUint8(4);const te=z.getUint8(5);Y.spec={singleTile:!!(te&2),longName:!!(te&4),deepFormat:!!(te&8),multiPart:!!(te&16)},L.value=8;for(var ne=!0;ne;){var se=et(K,L);if(se==0)ne=!1;else{var xe=et(K,L),Oe=Be(z,L),De=rn(z,K,L,xe,Oe);De===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${xe}'.`):Y[se]=De}}if(te&-5)throw console.error("EXRHeader:",Y),"THREE.EXRLoader: provided file is currently unsupported.";return Y}function Or(z,K,L,Y,te){const ne={size:0,viewer:K,array:L,offset:Y,width:z.dataWindow.xMax-z.dataWindow.xMin+1,height:z.dataWindow.yMax-z.dataWindow.yMin+1,channels:z.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:z.channels[0].pixelType,uncompress:null,getter:null,format:null,[Qd?"colorSpace":"encoding"]:null};switch(z.compression){case"NO_COMPRESSION":ne.lines=1,ne.uncompress=pe;break;case"RLE_COMPRESSION":ne.lines=1,ne.uncompress=we;break;case"ZIPS_COMPRESSION":ne.lines=1,ne.uncompress=Ee;break;case"ZIP_COMPRESSION":ne.lines=16,ne.uncompress=Ee;break;case"PIZ_COMPRESSION":ne.lines=32,ne.uncompress=rt;break;case"PXR24_COMPRESSION":ne.lines=16,ne.uncompress=ke;break;case"DWAA_COMPRESSION":ne.lines=32,ne.uncompress=ze;break;case"DWAB_COMPRESSION":ne.lines=256,ne.uncompress=ze;break;default:throw"EXRLoader.parse: "+z.compression+" is unsupported"}if(ne.scanlineBlockSize=ne.lines,ne.type==1)switch(te){case tr:ne.getter=Ke,ne.inputSize=2;break;case $r:ne.getter=Re,ne.inputSize=2;break}else if(ne.type==2)switch(te){case tr:ne.getter=re,ne.inputSize=4;break;case $r:ne.getter=je,ne.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+ne.type+" for "+z.compression+".";ne.blockCount=(z.dataWindow.yMax+1)/ne.scanlineBlockSize;for(var se=0;se<ne.blockCount;se++)Ue(K,Y);ne.outputChannels=ne.channels==3?4:ne.channels;const xe=ne.width*ne.height*ne.outputChannels;switch(te){case tr:ne.byteArray=new Float32Array(xe),ne.channels<ne.outputChannels&&ne.byteArray.fill(1,0,xe);break;case $r:ne.byteArray=new Uint16Array(xe),ne.channels<ne.outputChannels&&ne.byteArray.fill(15360,0,xe);break;default:console.error("THREE.EXRLoader: unsupported type: ",te);break}return ne.bytesPerLine=ne.width*ne.inputSize*ne.channels,ne.outputChannels==4?ne.format=vr:ne.format=t1,Qd?ne.colorSpace="srgb-linear":ne.encoding=3e3,ne}const xr=new DataView(e),cr=new Uint8Array(e),_r={value:0},Fn=Mn(xr,e,_r),It=Or(Fn,xr,cr,_r,this.type),jn={value:0},Wi={R:0,G:1,B:2,A:3,Y:0};for(let z=0;z<It.height/It.scanlineBlockSize;z++){const K=Be(xr,_r);It.size=Be(xr,_r),It.lines=K+It.scanlineBlockSize>It.height?It.height-K:It.scanlineBlockSize;const Y=It.size<It.lines*It.bytesPerLine?It.uncompress(It):pe(It);_r.value+=It.size;for(let te=0;te<It.scanlineBlockSize;te++){const ne=te+z*It.scanlineBlockSize;if(ne>=It.height)break;for(let se=0;se<It.channels;se++){const xe=Wi[Fn.channels[se].name];for(let Oe=0;Oe<It.width;Oe++){jn.value=(te*(It.channels*It.width)+se*It.width+Oe)*It.inputSize;const De=(It.height-1-ne)*(It.width*It.outputChannels)+Oe*It.outputChannels+xe;It.byteArray[De]=It.getter(Y,jn)}}}}return{header:Fn,width:It.width,height:It.height,data:It.byteArray,format:It.format,[Qd?"colorSpace":"encoding"]:It[Qd?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function a(o,s){Qd?o.colorSpace=s.colorSpace:o.encoding=s.encoding,o.minFilter=hn,o.magFilter=hn,o.generateMipmaps=!1,o.flipY=!1,n&&n(o,s)}return super.load(e,a,r,i)}}function Nbe(){var t=Object.create(null);function e(i,a){var o=i.id,s=i.name,l=i.dependencies;l===void 0&&(l=[]);var u=i.init;u===void 0&&(u=function(){});var c=i.getTransferables;if(c===void 0&&(c=null),!t[o])try{l=l.map(function(h){return h&&h.isWorkerModule&&(e(h,function(m){if(m instanceof Error)throw m}),h=t[h.id].value),h}),u=r("<"+s+">.init",u),c&&(c=r("<"+s+">.getTransferables",c));var f=null;typeof u=="function"?f=u.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[o]={id:o,value:f,getTransferables:c},a(f)}catch(h){h&&h.noLog||console.error(h),a(h)}}function n(i,a){var o,s=i.id,l=i.args;(!t[s]||typeof t[s].value!="function")&&a(new Error("Worker module "+s+": not found or its 'init' did not return a function"));try{var u=(o=t[s]).value.apply(o,l);u&&typeof u.then=="function"?u.then(c,function(f){return a(f instanceof Error?f:new Error(""+f))}):c(u)}catch(f){a(f)}function c(f){try{var h=t[s].getTransferables&&t[s].getTransferables(f);(!h||!Array.isArray(h)||!h.length)&&(h=void 0),a(f,h)}catch(m){console.error(m),a(m)}}}function r(i,a){var o=void 0;self.troikaDefine=function(l){return o=l};var s=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+a+`
)`],{type:"application/javascript"}));try{importScripts(s)}catch(l){console.error(l)}return URL.revokeObjectURL(s),delete self.troikaDefine,o}self.addEventListener("message",function(i){var a=i.data,o=a.messageId,s=a.action,l=a.data;try{s==="registerModule"&&e(l,function(u){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:{isCallable:typeof u=="function"}})}),s==="callModule"&&n(l,function(u,c){u instanceof Error?postMessage({messageId:o,success:!1,error:u.message}):postMessage({messageId:o,success:!0,result:u},c||void 0)})}catch(u){postMessage({messageId:o,success:!1,error:u.stack})}})}function kbe(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(a){return a&&(a=a.onMainThread||a,a._getInitResult&&(a=a._getInitResult())),a}):[];var i=Promise.all(n).then(function(a){return r.apply(null,a)});return e._getInitResult=function(){return i},i},e}var aH=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return aH=function(){return t},t},Ube=0,Fbe=0,wb=!1,Op=Object.create(null),Rp=Object.create(null),UA=Object.create(null);function Kh(t){if((!t||typeof t.init!="function")&&!wb)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,a=kbe(t);i==null&&(i="#default");var o="workerModule"+ ++Ube,s=t.name||o,l=null;e=e&&e.map(function(c){return typeof c=="function"&&!c.workerModuleData&&(wb=!0,c=Kh({workerId:i,name:"<"+s+"> function dependency: "+c.name,init:`function(){return (
`+m0(c)+`
)}`}),wb=!1),c&&c.workerModuleData&&(c=c.workerModuleData),c});function u(){for(var c=[],f=arguments.length;f--;)c[f]=arguments[f];if(!aH())return a.apply(void 0,c);if(!l){l=gk(i,"registerModule",u.workerModuleData);var h=function(){l=null,Rp[i].delete(h)};(Rp[i]||(Rp[i]=new Set)).add(h)}return l.then(function(m){var g=m.isCallable;if(g)return gk(i,"callModule",{id:o,args:c});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:o,name:s,dependencies:e,init:m0(n),getTransferables:r&&m0(r)},u.onMainThread=a,u}function Bbe(t){Rp[t]&&Rp[t].forEach(function(e){e()}),Op[t]&&(Op[t].terminate(),delete Op[t])}function m0(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function zbe(t){var e=Op[t];if(!e){var n=m0(Nbe);e=Op[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,a=i.messageId,o=UA[a];if(!o)throw new Error("WorkerModule response with empty or unknown messageId");delete UA[a],o(i)}}return e}function gk(t,e,n){return new Promise(function(r,i){var a=++Fbe;UA[a]=function(o){o.success?r(o.result):i(new Error("Error in worker "+e+" call: "+o.error))},zbe(t).postMessage({messageId:a,action:e,data:n})})}function oH(){var t=function(e){function n(j,G,H,$,ie,Z,ae,ce){var fe=1-ae;ce.x=fe*fe*j+2*fe*ae*H+ae*ae*ie,ce.y=fe*fe*G+2*fe*ae*$+ae*ae*Z}function r(j,G,H,$,ie,Z,ae,ce,fe,Ae){var ve=1-fe;Ae.x=ve*ve*ve*j+3*ve*ve*fe*H+3*ve*fe*fe*ie+fe*fe*fe*ae,Ae.y=ve*ve*ve*G+3*ve*ve*fe*$+3*ve*fe*fe*Z+fe*fe*fe*ce}function i(j,G){for(var H=/([MLQCZ])([^MLQCZ]*)/g,$,ie,Z,ae,ce;$=H.exec(j);){var fe=$[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(Ae){return parseFloat(Ae)});switch($[1]){case"M":ae=ie=fe[0],ce=Z=fe[1];break;case"L":(fe[0]!==ae||fe[1]!==ce)&&G("L",ae,ce,ae=fe[0],ce=fe[1]);break;case"Q":{G("Q",ae,ce,ae=fe[2],ce=fe[3],fe[0],fe[1]);break}case"C":{G("C",ae,ce,ae=fe[4],ce=fe[5],fe[0],fe[1],fe[2],fe[3]);break}case"Z":(ae!==ie||ce!==Z)&&G("L",ae,ce,ie,Z);break}}}function a(j,G,H){H===void 0&&(H=16);var $={x:0,y:0};i(j,function(ie,Z,ae,ce,fe,Ae,ve,Ie,X){switch(ie){case"L":G(Z,ae,ce,fe);break;case"Q":{for(var J=Z,_e=ae,Me=1;Me<H;Me++)n(Z,ae,Ae,ve,ce,fe,Me/(H-1),$),G(J,_e,$.x,$.y),J=$.x,_e=$.y;break}case"C":{for(var Te=Z,Ce=ae,He=1;He<H;He++)r(Z,ae,Ae,ve,Ie,X,ce,fe,He/(H-1),$),G(Te,Ce,$.x,$.y),Te=$.x,Ce=$.y;break}}})}var o="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",s="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,u={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function c(j,G){var H=j.getContext?j.getContext("webgl",u):j,$=l.get(H);if(!$){let Te=function(U){var de=Z[U];if(!de&&(de=Z[U]=H.getExtension(U),!de))throw new Error(U+" not supported");return de},Ce=function(U,de){var pe=H.createShader(de);return H.shaderSource(pe,U),H.compileShader(pe),pe},He=function(U,de,pe,we){if(!ae[U]){var Ee={},rt={},ke=H.createProgram();H.attachShader(ke,Ce(de,H.VERTEX_SHADER)),H.attachShader(ke,Ce(pe,H.FRAGMENT_SHADER)),H.linkProgram(ke),ae[U]={program:ke,transaction:function(et){H.useProgram(ke),et({setUniform:function(Je,dt){for(var Qe=[],Be=arguments.length-2;Be-- >0;)Qe[Be]=arguments[Be+2];var qe=rt[dt]||(rt[dt]=H.getUniformLocation(ke,dt));H["uniform"+Je].apply(H,[qe].concat(Qe))},setAttribute:function(Je,dt,Qe,Be,qe){var ue=Ee[Je];ue||(ue=Ee[Je]={buf:H.createBuffer(),loc:H.getAttribLocation(ke,Je),data:null}),H.bindBuffer(H.ARRAY_BUFFER,ue.buf),H.vertexAttribPointer(ue.loc,dt,H.FLOAT,!1,0,0),H.enableVertexAttribArray(ue.loc),ie?H.vertexAttribDivisor(ue.loc,Be):Te("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(ue.loc,Be),qe!==ue.data&&(H.bufferData(H.ARRAY_BUFFER,qe,Qe),ue.data=qe)}})}}}ae[U].transaction(we)},Pe=function(U,de){fe++;try{H.activeTexture(H.TEXTURE0+fe);var pe=ce[U];pe||(pe=ce[U]=H.createTexture(),H.bindTexture(H.TEXTURE_2D,pe),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MIN_FILTER,H.NEAREST),H.texParameteri(H.TEXTURE_2D,H.TEXTURE_MAG_FILTER,H.NEAREST)),H.bindTexture(H.TEXTURE_2D,pe),de(pe,fe)}finally{fe--}},Xe=function(U,de,pe){var we=H.createFramebuffer();Ae.push(we),H.bindFramebuffer(H.FRAMEBUFFER,we),H.activeTexture(H.TEXTURE0+de),H.bindTexture(H.TEXTURE_2D,U),H.framebufferTexture2D(H.FRAMEBUFFER,H.COLOR_ATTACHMENT0,H.TEXTURE_2D,U,0);try{pe(we)}finally{H.deleteFramebuffer(we),H.bindFramebuffer(H.FRAMEBUFFER,Ae[--Ae.length-1]||null)}},q=function(){Z={},ae={},ce={},fe=-1,Ae.length=0};var ve=Te,Ie=Ce,X=He,J=Pe,_e=Xe,Me=q,ie=typeof WebGL2RenderingContext<"u"&&H instanceof WebGL2RenderingContext,Z={},ae={},ce={},fe=-1,Ae=[];H.canvas.addEventListener("webglcontextlost",function(U){q(),U.preventDefault()},!1),l.set(H,$={gl:H,isWebGL2:ie,getExtension:Te,withProgram:He,withTexture:Pe,withTextureFramebuffer:Xe,handleContextLoss:q})}G($)}function f(j,G,H,$,ie,Z,ae,ce){ae===void 0&&(ae=15),ce===void 0&&(ce=null),c(j,function(fe){var Ae=fe.gl,ve=fe.withProgram,Ie=fe.withTexture;Ie("copy",function(X,J){Ae.texImage2D(Ae.TEXTURE_2D,0,Ae.RGBA,ie,Z,0,Ae.RGBA,Ae.UNSIGNED_BYTE,G),ve("copy",o,s,function(_e){var Me=_e.setUniform,Te=_e.setAttribute;Te("aUV",2,Ae.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Me("1i","image",J),Ae.bindFramebuffer(Ae.FRAMEBUFFER,ce||null),Ae.disable(Ae.BLEND),Ae.colorMask(ae&8,ae&4,ae&2,ae&1),Ae.viewport(H,$,ie,Z),Ae.scissor(H,$,ie,Z),Ae.drawArrays(Ae.TRIANGLES,0,3)})})})}function h(j,G,H){var $=j.width,ie=j.height;c(j,function(Z){var ae=Z.gl,ce=new Uint8Array($*ie*4);ae.readPixels(0,0,$,ie,ae.RGBA,ae.UNSIGNED_BYTE,ce),j.width=G,j.height=H,f(ae,ce,0,0,$,ie)})}var m=Object.freeze({__proto__:null,withWebGLContext:c,renderImageData:f,resizeWebGLCanvasWithoutClearing:h});function g(j,G,H,$,ie,Z){Z===void 0&&(Z=1);var ae=new Uint8Array(j*G),ce=$[2]-$[0],fe=$[3]-$[1],Ae=[];a(H,function(Te,Ce,He,Pe){Ae.push({x1:Te,y1:Ce,x2:He,y2:Pe,minX:Math.min(Te,He),minY:Math.min(Ce,Pe),maxX:Math.max(Te,He),maxY:Math.max(Ce,Pe)})}),Ae.sort(function(Te,Ce){return Te.maxX-Ce.maxX});for(var ve=0;ve<j;ve++)for(var Ie=0;Ie<G;Ie++){var X=_e($[0]+ce*(ve+.5)/j,$[1]+fe*(Ie+.5)/G),J=Math.pow(1-Math.abs(X)/ie,Z)/2;X<0&&(J=1-J),J=Math.max(0,Math.min(255,Math.round(J*255))),ae[Ie*j+ve]=J}return ae;function _e(Te,Ce){for(var He=1/0,Pe=1/0,Xe=Ae.length;Xe--;){var q=Ae[Xe];if(q.maxX+Pe<=Te)break;if(Te+Pe>q.minX&&Ce-Pe<q.maxY&&Ce+Pe>q.minY){var U=v(Te,Ce,q.x1,q.y1,q.x2,q.y2);U<He&&(He=U,Pe=Math.sqrt(He))}}return Me(Te,Ce)&&(Pe=-Pe),Pe}function Me(Te,Ce){for(var He=0,Pe=Ae.length;Pe--;){var Xe=Ae[Pe];if(Xe.maxX<=Te)break;var q=Xe.y1>Ce!=Xe.y2>Ce&&Te<(Xe.x2-Xe.x1)*(Ce-Xe.y1)/(Xe.y2-Xe.y1)+Xe.x1;q&&(He+=Xe.y1<Xe.y2?1:-1)}return He!==0}}function y(j,G,H,$,ie,Z,ae,ce,fe,Ae){Z===void 0&&(Z=1),ce===void 0&&(ce=0),fe===void 0&&(fe=0),Ae===void 0&&(Ae=0),x(j,G,H,$,ie,Z,ae,null,ce,fe,Ae)}function x(j,G,H,$,ie,Z,ae,ce,fe,Ae,ve){Z===void 0&&(Z=1),fe===void 0&&(fe=0),Ae===void 0&&(Ae=0),ve===void 0&&(ve=0);for(var Ie=g(j,G,H,$,ie,Z),X=new Uint8Array(Ie.length*4),J=0;J<Ie.length;J++)X[J*4+ve]=Ie[J];f(ae,X,fe,Ae,j,G,1<<3-ve,ce)}function v(j,G,H,$,ie,Z){var ae=ie-H,ce=Z-$,fe=ae*ae+ce*ce,Ae=fe?Math.max(0,Math.min(1,((j-H)*ae+(G-$)*ce)/fe)):0,ve=j-(H+Ae*ae),Ie=G-($+Ae*ce);return ve*ve+Ie*Ie}var S=Object.freeze({__proto__:null,generate:g,generateIntoCanvas:y,generateIntoFramebuffer:x}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",b="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",M=new Float32Array([0,0,2,0,0,2]),T=null,C=!1,P={},O=new WeakMap;function I(j){if(!C&&!W(j))throw new Error("WebGL generation not supported")}function D(j,G,H,$,ie,Z,ae){if(Z===void 0&&(Z=1),ae===void 0&&(ae=null),!ae&&(ae=T,!ae)){var ce=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ce)throw new Error("OffscreenCanvas or DOM canvas not supported");ae=T=ce.getContext("webgl",{depth:!1})}I(ae);var fe=new Uint8Array(j*G*4);c(ae,function(X){var J=X.gl,_e=X.withTexture,Me=X.withTextureFramebuffer;_e("readable",function(Te,Ce){J.texImage2D(J.TEXTURE_2D,0,J.RGBA,j,G,0,J.RGBA,J.UNSIGNED_BYTE,null),Me(Te,Ce,function(He){B(j,G,H,$,ie,Z,J,He,0,0,0),J.readPixels(0,0,j,G,J.RGBA,J.UNSIGNED_BYTE,fe)})})});for(var Ae=new Uint8Array(j*G),ve=0,Ie=0;ve<fe.length;ve+=4)Ae[Ie++]=fe[ve];return Ae}function F(j,G,H,$,ie,Z,ae,ce,fe,Ae){Z===void 0&&(Z=1),ce===void 0&&(ce=0),fe===void 0&&(fe=0),Ae===void 0&&(Ae=0),B(j,G,H,$,ie,Z,ae,null,ce,fe,Ae)}function B(j,G,H,$,ie,Z,ae,ce,fe,Ae,ve){Z===void 0&&(Z=1),fe===void 0&&(fe=0),Ae===void 0&&(Ae=0),ve===void 0&&(ve=0),I(ae);var Ie=[];a(H,function(X,J,_e,Me){Ie.push(X,J,_e,Me)}),Ie=new Float32Array(Ie),c(ae,function(X){var J=X.gl,_e=X.isWebGL2,Me=X.getExtension,Te=X.withProgram,Ce=X.withTexture,He=X.withTextureFramebuffer,Pe=X.handleContextLoss;if(Ce("rawDistances",function(Xe,q){(j!==Xe._lastWidth||G!==Xe._lastHeight)&&J.texImage2D(J.TEXTURE_2D,0,J.RGBA,Xe._lastWidth=j,Xe._lastHeight=G,0,J.RGBA,J.UNSIGNED_BYTE,null),Te("main",_,b,function(U){var de=U.setAttribute,pe=U.setUniform,we=!_e&&Me("ANGLE_instanced_arrays"),Ee=!_e&&Me("EXT_blend_minmax");de("aUV",2,J.STATIC_DRAW,0,M),de("aLineSegment",4,J.DYNAMIC_DRAW,1,Ie),pe.apply(void 0,["4f","uGlyphBounds"].concat($)),pe("1f","uMaxDistance",ie),pe("1f","uExponent",Z),He(Xe,q,function(rt){J.enable(J.BLEND),J.colorMask(!0,!0,!0,!0),J.viewport(0,0,j,G),J.scissor(0,0,j,G),J.blendFunc(J.ONE,J.ONE),J.blendEquationSeparate(J.FUNC_ADD,_e?J.MAX:Ee.MAX_EXT),J.clear(J.COLOR_BUFFER_BIT),_e?J.drawArraysInstanced(J.TRIANGLES,0,3,Ie.length/4):we.drawArraysInstancedANGLE(J.TRIANGLES,0,3,Ie.length/4)})}),Te("post",o,E,function(U){U.setAttribute("aUV",2,J.STATIC_DRAW,0,M),U.setUniform("1i","tex",q),J.bindFramebuffer(J.FRAMEBUFFER,ce),J.disable(J.BLEND),J.colorMask(ve===0,ve===1,ve===2,ve===3),J.viewport(fe,Ae,j,G),J.scissor(fe,Ae,j,G),J.drawArrays(J.TRIANGLES,0,3)})}),J.isContextLost())throw Pe(),new Error("webgl context lost")})}function W(j){var G=!j||j===T?P:j.canvas||j,H=O.get(G);if(H===void 0){C=!0;var $=null;try{var ie=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Z=D(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,j);H=Z&&ie.length===Z.length&&Z.every(function(ae,ce){return ae===ie[ce]}),H||($="bad trial run results",console.info(ie,Z))}catch(ae){H=!1,$=ae.message}$&&console.warn("WebGL SDF generation not supported:",$),C=!1,O.set(G,H)}return H}var V=Object.freeze({__proto__:null,generate:D,generateIntoCanvas:F,generateIntoFramebuffer:B,isSupported:W});function Q(j,G,H,$,ie,Z){ie===void 0&&(ie=Math.max($[2]-$[0],$[3]-$[1])/2),Z===void 0&&(Z=1);try{return D.apply(V,arguments)}catch(ae){return console.info("WebGL SDF generation failed, falling back to JS",ae),g.apply(S,arguments)}}function N(j,G,H,$,ie,Z,ae,ce,fe,Ae){ie===void 0&&(ie=Math.max($[2]-$[0],$[3]-$[1])/2),Z===void 0&&(Z=1),ce===void 0&&(ce=0),fe===void 0&&(fe=0),Ae===void 0&&(Ae=0);try{return F.apply(V,arguments)}catch(ve){return console.info("WebGL SDF generation failed, falling back to JS",ve),y.apply(S,arguments)}}return e.forEachPathCommand=i,e.generate=Q,e.generateIntoCanvas=N,e.javascript=S,e.pathToLineSegments=a,e.webgl=V,e.webglUtils=m,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Hbe(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Pe,Xe){r[Pe]=1<<Xe+1,i[r[Pe]]=Pe}),Object.freeze(r);var a=r.LRI|r.RLI|r.FSI,o=r.L|r.R|r.AL,s=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,u=r.S|r.WS|r.B|a|r.PDI|l,c=null;function f(){if(!c){c=new Map;var Pe=function(q){if(n.hasOwnProperty(q)){var U=0;n[q].split(",").forEach(function(de){var pe=de.split("+"),we=pe[0],Ee=pe[1];we=parseInt(we,36),Ee=Ee?parseInt(Ee,36):0,c.set(U+=we,r[q]);for(var rt=0;rt<Ee;rt++)c.set(++U,r[q])})}};for(var Xe in n)Pe(Xe)}}function h(Pe){return f(),c.get(Pe.codePointAt(0))||r.L}function m(Pe){return i[h(Pe)]}var g={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function y(Pe,Xe){var q=36,U=0,de=new Map,pe=Xe&&new Map,we;return Pe.split(",").forEach(function Ee(rt){if(rt.indexOf("+")!==-1)for(var ke=+rt;ke--;)Ee(we);else{we=rt;var ze=rt.split(">"),et=ze[0],Ve=ze[1];et=String.fromCodePoint(U+=parseInt(et,q)),Ve=String.fromCodePoint(U+=parseInt(Ve,q)),de.set(et,Ve),Xe&&pe.set(Ve,et)}}),{map:de,reverseMap:pe}}var x,v,S;function _(){if(!x){var Pe=y(g.pairs,!0),Xe=Pe.map,q=Pe.reverseMap;x=Xe,v=q,S=y(g.canonical,!1).map}}function b(Pe){return _(),x.get(Pe)||null}function E(Pe){return _(),v.get(Pe)||null}function M(Pe){return _(),S.get(Pe)||null}var T=r.L,C=r.R,P=r.EN,O=r.ES,I=r.ET,D=r.AN,F=r.CS,B=r.B,W=r.S,V=r.ON,Q=r.BN,N=r.NSM,j=r.AL,G=r.LRO,H=r.RLO,$=r.LRE,ie=r.RLE,Z=r.PDF,ae=r.LRI,ce=r.RLI,fe=r.FSI,Ae=r.PDI;function ve(Pe,Xe){for(var q=125,U=new Uint32Array(Pe.length),de=0;de<Pe.length;de++)U[de]=h(Pe[de]);var pe=new Map;function we(Ir,gi){var rr=U[Ir];U[Ir]=gi,pe.set(rr,pe.get(rr)-1),rr&s&&pe.set(s,pe.get(s)-1),pe.set(gi,(pe.get(gi)||0)+1),gi&s&&pe.set(s,(pe.get(s)||0)+1)}for(var Ee=new Uint8Array(Pe.length),rt=new Map,ke=[],ze=null,et=0;et<Pe.length;et++)ze||ke.push(ze={start:et,end:Pe.length-1,level:Xe==="rtl"?1:Xe==="ltr"?0:Pc(et,!1)}),U[et]&B&&(ze.end=et,ze=null);for(var Ve=ie|$|H|G|a|Ae|Z|B,Je=function(Ir){return Ir+(Ir&1?1:2)},dt=function(Ir){return Ir+(Ir&1?2:1)},Qe=0;Qe<ke.length;Qe++){ze=ke[Qe];var Be=[{_level:ze.level,_override:0,_isolate:0}],qe=void 0,ue=0,Ue=0,re=0;pe.clear();for(var je=ze.start;je<=ze.end;je++){var le=U[je];if(qe=Be[Be.length-1],pe.set(le,(pe.get(le)||0)+1),le&s&&pe.set(s,(pe.get(s)||0)+1),le&Ve)if(le&(ie|$)){Ee[je]=qe._level;var Re=(le===ie?dt:Je)(qe._level);Re<=q&&!ue&&!Ue?Be.push({_level:Re,_override:0,_isolate:0}):ue||Ue++}else if(le&(H|G)){Ee[je]=qe._level;var Ke=(le===H?dt:Je)(qe._level);Ke<=q&&!ue&&!Ue?Be.push({_level:Ke,_override:le&H?C:T,_isolate:0}):ue||Ue++}else if(le&a){le&fe&&(le=Pc(je+1,!0)===1?ce:ae),Ee[je]=qe._level,qe._override&&we(je,qe._override);var lt=(le===ce?dt:Je)(qe._level);lt<=q&&ue===0&&Ue===0?(re++,Be.push({_level:lt,_override:0,_isolate:1,_isolInitIndex:je})):ue++}else if(le&Ae){if(ue>0)ue--;else if(re>0){for(Ue=0;!Be[Be.length-1]._isolate;)Be.pop();var ut=Be[Be.length-1]._isolInitIndex;ut!=null&&(rt.set(ut,je),rt.set(je,ut)),Be.pop(),re--}qe=Be[Be.length-1],Ee[je]=qe._level,qe._override&&we(je,qe._override)}else le&Z?(ue===0&&(Ue>0?Ue--:!qe._isolate&&Be.length>1&&(Be.pop(),qe=Be[Be.length-1])),Ee[je]=qe._level):le&B&&(Ee[je]=ze.level);else Ee[je]=qe._level,qe._override&&le!==Q&&we(je,qe._override)}for(var Et=[],At=null,ot=ze.start;ot<=ze.end;ot++){var Nt=U[ot];if(!(Nt&l)){var Kt=Ee[ot],rn=Nt&a,Mn=Nt===Ae;At&&Kt===At._level?(At._end=ot,At._endsWithIsolInit=rn):Et.push(At={_start:ot,_end:ot,_level:Kt,_startsWithPDI:Mn,_endsWithIsolInit:rn})}}for(var Or=[],xr=0;xr<Et.length;xr++){var cr=Et[xr];if(!cr._startsWithPDI||cr._startsWithPDI&&!rt.has(cr._start)){for(var _r=[At=cr],Fn=void 0;At&&At._endsWithIsolInit&&(Fn=rt.get(At._end))!=null;)for(var It=xr+1;It<Et.length;It++)if(Et[It]._start===Fn){_r.push(At=Et[It]);break}for(var jn=[],Wi=0;Wi<_r.length;Wi++)for(var z=_r[Wi],K=z._start;K<=z._end;K++)jn.push(K);for(var L=Ee[jn[0]],Y=ze.level,te=jn[0]-1;te>=0;te--)if(!(U[te]&l)){Y=Ee[te];break}var ne=jn[jn.length-1],se=Ee[ne],xe=ze.level;if(!(U[ne]&a)){for(var Oe=ne+1;Oe<=ze.end;Oe++)if(!(U[Oe]&l)){xe=Ee[Oe];break}}Or.push({_seqIndices:jn,_sosType:Math.max(Y,L)%2?C:T,_eosType:Math.max(xe,se)%2?C:T})}}for(var De=0;De<Or.length;De++){var Ne=Or[De],ge=Ne._seqIndices,at=Ne._sosType,Ye=Ne._eosType,tt=Ee[ge[0]]&1?C:T;if(pe.get(N))for(var pt=0;pt<ge.length;pt++){var yt=ge[pt];if(U[yt]&N){for(var Pt=at,gt=pt-1;gt>=0;gt--)if(!(U[ge[gt]]&l)){Pt=U[ge[gt]];break}we(yt,Pt&(a|Ae)?V:Pt)}}if(pe.get(P))for(var Ze=0;Ze<ge.length;Ze++){var wt=ge[Ze];if(U[wt]&P)for(var vt=Ze-1;vt>=-1;vt--){var Gt=vt===-1?at:U[ge[vt]];if(Gt&o){Gt===j&&we(wt,D);break}}}if(pe.get(j))for(var Dt=0;Dt<ge.length;Dt++){var Zt=ge[Dt];U[Zt]&j&&we(Zt,C)}if(pe.get(O)||pe.get(F))for(var Tn=1;Tn<ge.length-1;Tn++){var Ut=ge[Tn];if(U[Ut]&(O|F)){for(var an=0,Yt=0,tn=Tn-1;tn>=0&&(an=U[ge[tn]],!!(an&l));tn--);for(var Jt=Tn+1;Jt<ge.length&&(Yt=U[ge[Jt]],!!(Yt&l));Jt++);an===Yt&&(U[Ut]===O?an===P:an&(P|D))&&we(Ut,an)}}if(pe.get(P))for(var kt=0;kt<ge.length;kt++){var vn=ge[kt];if(U[vn]&P){for(var Oi=kt-1;Oi>=0&&U[ge[Oi]]&(I|l);Oi--)we(ge[Oi],P);for(kt++;kt<ge.length&&U[ge[kt]]&(I|l|P);kt++)U[ge[kt]]!==P&&we(ge[kt],P)}}if(pe.get(I)||pe.get(O)||pe.get(F))for(var nr=0;nr<ge.length;nr++){var $i=ge[nr];if(U[$i]&(I|O|F)){we($i,V);for(var Wo=nr-1;Wo>=0&&U[ge[Wo]]&l;Wo--)we(ge[Wo],V);for(var $o=nr+1;$o<ge.length&&U[ge[$o]]&l;$o++)we(ge[$o],V)}}if(pe.get(P))for(var Xo=0,Vl=at;Xo<ge.length;Xo++){var Cg=ge[Xo],Zh=U[Cg];Zh&P?Vl===T&&we(Cg,T):Zh&o&&(Vl=Zh)}if(pe.get(s)){var Yo=C|P|D,Ec=Yo|T,xo=[];{for(var Bs=[],_o=0;_o<ge.length;_o++)if(U[ge[_o]]&s){var qt=Pe[ge[_o]],Jh=void 0;if(b(qt)!==null)if(Bs.length<63)Bs.push({char:qt,seqIndex:_o});else break;else if((Jh=E(qt))!==null)for(var qo=Bs.length-1;qo>=0;qo--){var Ac=Bs[qo].char;if(Ac===Jh||Ac===E(M(qt))||b(M(Ac))===qt){xo.push([Bs[qo].seqIndex,_o]),Bs.length=qo;break}}}xo.sort(function(Ir,gi){return Ir[0]-gi[0]})}for(var Qh=0;Qh<xo.length;Qh++){for(var Og=xo[Qh],Gn=Og[0],Wl=Og[1],Rg=!1,di=0,ed=Gn+1;ed<Wl;ed++){var $l=ge[ed];if(U[$l]&Ec){Rg=!0;var Xi=U[$l]&Yo?C:T;if(Xi===tt){di=Xi;break}}}if(Rg&&!di){di=at;for(var td=Gn-1;td>=0;td--){var Ig=ge[td];if(U[Ig]&Ec){var Yi=U[Ig]&Yo?C:T;Yi!==tt?di=Yi:di=tt;break}}}if(di){if(U[ge[Gn]]=U[ge[Wl]]=di,di!==tt){for(var pi=Gn+1;pi<ge.length;pi++)if(!(U[ge[pi]]&l)){h(Pe[ge[pi]])&N&&(U[ge[pi]]=di);break}}if(di!==tt){for(var So=Wl+1;So<ge.length;So++)if(!(U[ge[So]]&l)){h(Pe[ge[So]])&N&&(U[ge[So]]=di);break}}}}for(var _a=0;_a<ge.length;_a++)if(U[ge[_a]]&s){for(var nd=_a,rd=_a,Ri=at,Xl=_a-1;Xl>=0;Xl--)if(U[ge[Xl]]&l)nd=Xl;else{Ri=U[ge[Xl]]&Yo?C:T;break}for(var Yl=Ye,ql=_a+1;ql<ge.length;ql++)if(U[ge[ql]]&(s|l))rd=ql;else{Yl=U[ge[ql]]&Yo?C:T;break}for(var mi=nd;mi<=rd;mi++)U[ge[mi]]=Ri===Yl?Ri:tt;_a=rd}}}for(var Rr=ze.start;Rr<=ze.end;Rr++){var Tc=Ee[Rr],Xa=U[Rr];if(Tc&1?Xa&(T|P|D)&&Ee[Rr]++:Xa&C?Ee[Rr]++:Xa&(D|P)&&(Ee[Rr]+=2),Xa&l&&(Ee[Rr]=Rr===0?ze.level:Ee[Rr-1]),Rr===ze.end||h(Pe[Rr])&(W|B))for(var zs=Rr;zs>=0&&h(Pe[zs])&u;zs--)Ee[zs]=ze.level}}return{levels:Ee,paragraphs:ke};function Pc(Ir,gi){for(var rr=Ir;rr<Pe.length;rr++){var ir=U[rr];if(ir&(C|j))return 1;if(ir&(B|T)||gi&&ir===Ae)return 0;if(ir&a){var qi=Lg(rr);rr=qi===-1?Pe.length:qi}}return 0}function Lg(Ir){for(var gi=1,rr=Ir+1;rr<Pe.length;rr++){var ir=U[rr];if(ir&B)break;if(ir&Ae){if(--gi===0)return rr}else ir&a&&gi++}return-1}}var Ie="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",X;function J(){if(!X){var Pe=y(Ie,!0),Xe=Pe.map,q=Pe.reverseMap;q.forEach(function(U,de){Xe.set(de,U)}),X=Xe}}function _e(Pe){return J(),X.get(Pe)||null}function Me(Pe,Xe,q,U){var de=Pe.length;q=Math.max(0,q==null?0:+q),U=Math.min(de-1,U==null?de-1:+U);for(var pe=new Map,we=q;we<=U;we++)if(Xe[we]&1){var Ee=_e(Pe[we]);Ee!==null&&pe.set(we,Ee)}return pe}function Te(Pe,Xe,q,U){var de=Pe.length;q=Math.max(0,q==null?0:+q),U=Math.min(de-1,U==null?de-1:+U);var pe=[];return Xe.paragraphs.forEach(function(we){var Ee=Math.max(q,we.start),rt=Math.min(U,we.end);if(Ee<rt){for(var ke=Xe.levels.slice(Ee,rt+1),ze=rt;ze>=Ee&&h(Pe[ze])&u;ze--)ke[ze]=we.level;for(var et=we.level,Ve=1/0,Je=0;Je<ke.length;Je++){var dt=ke[Je];dt>et&&(et=dt),dt<Ve&&(Ve=dt|1)}for(var Qe=et;Qe>=Ve;Qe--)for(var Be=0;Be<ke.length;Be++)if(ke[Be]>=Qe){for(var qe=Be;Be+1<ke.length&&ke[Be+1]>=Qe;)Be++;Be>qe&&pe.push([qe+Ee,Be+Ee])}}}),pe}function Ce(Pe,Xe,q,U){var de=He(Pe,Xe,q,U),pe=[].concat(Pe);return de.forEach(function(we,Ee){pe[Ee]=(Xe.levels[we]&1?_e(Pe[we]):null)||Pe[we]}),pe.join("")}function He(Pe,Xe,q,U){for(var de=Te(Pe,Xe,q,U),pe=[],we=0;we<Pe.length;we++)pe[we]=we;return de.forEach(function(Ee){for(var rt=Ee[0],ke=Ee[1],ze=pe.slice(rt,ke+1),et=ze.length;et--;)pe[ke-et]=ze[et]}),pe}return e.closingToOpeningBracket=E,e.getBidiCharType=h,e.getBidiCharTypeName=m,e.getCanonicalBracket=M,e.getEmbeddingLevels=ve,e.getMirroredCharacter=_e,e.getMirroredCharactersMap=Me,e.getReorderSegments=Te,e.getReorderedIndices=He,e.getReorderedString=Ce,e.openingToClosingBracket=b,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const sH=/\bvoid\s+main\s*\(\s*\)\s*{/g;function FA(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let a=Ht[i];return a?FA(a):r}return t.replace(e,n)}const jr=[];for(let t=0;t<256;t++)jr[t]=(t<16?"0":"")+t.toString(16);function jbe(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(jr[t&255]+jr[t>>8&255]+jr[t>>16&255]+jr[t>>24&255]+"-"+jr[e&255]+jr[e>>8&255]+"-"+jr[e>>16&15|64]+jr[e>>24&255]+"-"+jr[n&63|128]+jr[n>>8&255]+"-"+jr[n>>16&255]+jr[n>>24&255]+jr[r&255]+jr[r>>8&255]+jr[r>>16&255]+jr[r>>24&255]).toUpperCase()}const yu=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Gbe=Date.now(),vk=new WeakMap,yk=new Map;let Vbe=1e10;function BA(t,e){const n=Ybe(e);let r=vk.get(t);if(r||vk.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,a=function(u,c){t.onBeforeCompile.call(this,u,c);const f=this.customProgramCacheKey()+"|"+u.vertexShader+"|"+u.fragmentShader;let h=yk[f];if(!h){const m=Wbe(this,u,e,n);h=yk[f]=m}u.vertexShader=h.vertexShader,u.fragmentShader=h.fragmentShader,yu(u.uniforms,this.uniforms),e.timeUniform&&(u.uniforms[e.timeUniform]={get value(){return Date.now()-Gbe}}),this[i]&&this[i](u)},o=function(){return s(e.chained?t:t.clone())},s=function(u){const c=Object.create(u,l);return Object.defineProperty(c,"baseMaterial",{value:t}),Object.defineProperty(c,"id",{value:Vbe++}),c.uuid=jbe(),c.uniforms=yu({},u.uniforms,e.uniforms),c.defines=yu({},u.defines,e.defines),c.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",c.extensions=yu({},u.extensions,e.extensions),c._listeners=void 0,c},l={constructor:{value:o},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:u=>{t.type=u}},isDerivedFrom:{writable:!0,configurable:!0,value:function(u){const c=this.baseMaterial;return u===c||c.isDerivedMaterial&&c.isDerivedFrom(u)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return a},set(u){this[i]=u}},copy:{writable:!0,configurable:!0,value:function(u){return t.copy.call(this,u),!t.isShaderMaterial&&!t.isDerivedMaterial&&(yu(this.extensions,u.extensions),yu(this.defines,u.defines),yu(this.uniforms,iP.clone(u.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const u=new t.constructor;return s(u).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let u=this._depthMaterial;return u||(u=this._depthMaterial=BA(t.isDerivedMaterial?t.getDepthMaterial():new o1({depthPacking:Z2}),e),u.defines.IS_DEPTH_MATERIAL="",u.uniforms=this.uniforms),u}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let u=this._distanceMaterial;return u||(u=this._distanceMaterial=BA(t.isDerivedMaterial?t.getDistanceMaterial():new s1,e),u.defines.IS_DISTANCE_MATERIAL="",u.uniforms=this.uniforms),u}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:u,_distanceMaterial:c}=this;u&&u.dispose(),c&&c.dispose(),t.dispose.call(this)}}};return r[n]=o,new o}function Wbe(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:a,vertexMainIntro:o,vertexMainOutro:s,vertexTransform:l,fragmentDefs:u,fragmentMainIntro:c,fragmentMainOutro:f,fragmentColorTransform:h,customRewriter:m,timeUniform:g}=r;if(a=a||"",o=o||"",s=s||"",u=u||"",c=c||"",f=f||"",(l||m)&&(e=FA(e)),(h||m)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=FA(n)),m){let y=m({vertexShader:e,fragmentShader:n});e=y.vertexShader,n=y.fragmentShader}if(h){let y=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(y.push(x),"")),f=`${h}
${y.join(`
`)}
${f}`}if(g){const y=`
uniform float ${g};
`;a=y+a,u=y+u}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,a=`${a}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,o=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${o}
`,e=e.replace(/\b(position|normal|uv)\b/g,(y,x,v,S)=>/\battribute\s+vec[23]\s+$/.test(S.substr(0,v))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=xk(e,i,a,o,s),n=xk(n,i,u,c,f),{vertexShader:e,fragmentShader:n}}function xk(t,e,n,r,i){return(r||i||n)&&(t=t.replace(sH,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function $be(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Xbe=0;const _k=new Map;function Ybe(t){const e=JSON.stringify(t,$be);let n=_k.get(e);return n==null&&_k.set(e,n=++Xbe),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function qbe(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var a=e._bin,o=new Uint8Array(i);if(a.readASCII(o,0,4)=="ttcf"){var s=4;a.readUshort(o,s),s+=2,a.readUshort(o,s),s+=2;var l=a.readUint(o,s);s+=4;for(var u=[],c=0;c<l;c++){var f=a.readUint(o,s);s+=4,u.push(e._readFont(o,f))}return u}return[e._readFont(o,0)]},_readFont:function(i,a){var o=e._bin,s=a;o.readFixed(i,a),a+=4;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2;for(var u=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],c={_data:i,_offset:s},f={},h=0;h<l;h++){var m=o.readASCII(i,a,4);a+=4,o.readUint(i,a),a+=4;var g=o.readUint(i,a);a+=4;var y=o.readUint(i,a);a+=4,f[m]={offset:g,length:y}}for(h=0;h<u.length;h++){var x=u[h];f[x]&&(c[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,c))}return c},_tabOffset:function(i,a,o){for(var s=e._bin,l=s.readUshort(i,o+4),u=o+12,c=0;c<l;c++){var f=s.readASCII(i,u,4);u+=4,s.readUint(i,u),u+=4;var h=s.readUint(i,u);if(u+=4,s.readUint(i,u),u+=4,f==a)return h}return 0}};e._bin={readFixed:function(i,a){return(i[a]<<8|i[a+1])+(i[a+2]<<8|i[a+3])/65540},readF2dot14:function(i,a){return e._bin.readShort(i,a)/16384},readInt:function(i,a){return e._bin._view(i).getInt32(a)},readInt8:function(i,a){return e._bin._view(i).getInt8(a)},readShort:function(i,a){return e._bin._view(i).getInt16(a)},readUshort:function(i,a){return e._bin._view(i).getUint16(a)},readUshorts:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(e._bin.readUshort(i,a+2*l));return s},readUint:function(i,a){return e._bin._view(i).getUint32(a)},readUint64:function(i,a){return 4294967296*e._bin.readUint(i,a)+e._bin.readUint(i,a+4)},readASCII:function(i,a,o){for(var s="",l=0;l<o;l++)s+=String.fromCharCode(i[a+l]);return s},readUnicode:function(i,a,o){for(var s="",l=0;l<o;l++){var u=i[a++]<<8|i[a++];s+=String.fromCharCode(u)}return s},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,a,o){var s=e._bin._tdec;return s&&a==0&&o==i.length?s.decode(i):e._bin.readASCII(i,a,o)},readBytes:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(i[a+l]);return s},readASCIIArray:function(i,a,o){for(var s=[],l=0;l<o;l++)s.push(String.fromCharCode(i[a+l]));return s},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,a,o,s,l){var u=e._bin,c={},f=a;u.readFixed(i,a),a+=4;var h=u.readUshort(i,a);a+=2;var m=u.readUshort(i,a);a+=2;var g=u.readUshort(i,a);return a+=2,c.scriptList=e._lctf.readScriptList(i,f+h),c.featureList=e._lctf.readFeatureList(i,f+m),c.lookupList=e._lctf.readLookupList(i,f+g,l),c},e._lctf.readLookupList=function(i,a,o){var s=e._bin,l=a,u=[],c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=s.readUshort(i,a);a+=2;var m=e._lctf.readLookupTable(i,l+h,o);u.push(m)}return u},e._lctf.readLookupTable=function(i,a,o){var s=e._bin,l=a,u={tabs:[]};u.ltype=s.readUshort(i,a),a+=2,u.flag=s.readUshort(i,a),a+=2;var c=s.readUshort(i,a);a+=2;for(var f=u.ltype,h=0;h<c;h++){var m=s.readUshort(i,a);a+=2;var g=o(i,f,l+m,u);u.tabs.push(g)}return u},e._lctf.numOfOnes=function(i){for(var a=0,o=0;o<32;o++)i>>>o&1&&a++;return a},e._lctf.readClassDef=function(i,a){var o=e._bin,s=[],l=o.readUshort(i,a);if(a+=2,l==1){var u=o.readUshort(i,a);a+=2;var c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++)s.push(u+f),s.push(u+f),s.push(o.readUshort(i,a)),a+=2}if(l==2){var h=o.readUshort(i,a);for(a+=2,f=0;f<h;f++)s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2,s.push(o.readUshort(i,a)),a+=2}return s},e._lctf.getInterval=function(i,a){for(var o=0;o<i.length;o+=3){var s=i[o],l=i[o+1];if(i[o+2],s<=a&&a<=l)return o}return-1},e._lctf.readCoverage=function(i,a){var o=e._bin,s={};s.fmt=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.fmt==1&&(s.tab=o.readUshorts(i,a,l)),s.fmt==2&&(s.tab=o.readUshorts(i,a,3*l)),s},e._lctf.coverageIndex=function(i,a){var o=i.tab;if(i.fmt==1)return o.indexOf(a);if(i.fmt==2){var s=e._lctf.getInterval(o,a);if(s!=-1)return o[s+2]+(a-o[s])}return-1},e._lctf.readFeatureList=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,a,4);a+=4;var h=o.readUshort(i,a);a+=2;var m=e._lctf.readFeatureTable(i,s+h);m.tag=f.trim(),l.push(m)}return l},e._lctf.readFeatureTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.featureParams=s+u);var c=o.readUshort(i,a);a+=2,l.tab=[];for(var f=0;f<c;f++)l.tab.push(o.readUshort(i,a+2*f));return l},e._lctf.readScriptList=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readASCII(i,a,4);a+=4;var h=o.readUshort(i,a);a+=2,l[f.trim()]=e._lctf.readScriptTable(i,s+h)}return l},e._lctf.readScriptTable=function(i,a){var o=e._bin,s=a,l={},u=o.readUshort(i,a);a+=2,u>0&&(l.default=e._lctf.readLangSysTable(i,s+u));var c=o.readUshort(i,a);a+=2;for(var f=0;f<c;f++){var h=o.readASCII(i,a,4);a+=4;var m=o.readUshort(i,a);a+=2,l[h.trim()]=e._lctf.readLangSysTable(i,s+m)}return l},e._lctf.readLangSysTable=function(i,a){var o=e._bin,s={};o.readUshort(i,a),a+=2,s.reqFeature=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);return a+=2,s.features=o.readUshorts(i,a,l),s},e.CFF={},e.CFF.parse=function(i,a,o){var s=e._bin;(i=new Uint8Array(i.buffer,a,o))[a=0],i[++a],i[++a],i[++a],a++;var l=[];a=e.CFF.readIndex(i,a,l);for(var u=[],c=0;c<l.length-1;c++)u.push(s.readASCII(i,a+l[c],l[c+1]-l[c]));a+=l[l.length-1];var f=[];a=e.CFF.readIndex(i,a,f);var h=[];for(c=0;c<f.length-1;c++)h.push(e.CFF.readDict(i,a+f[c],a+f[c+1]));a+=f[f.length-1];var m=h[0],g=[];a=e.CFF.readIndex(i,a,g);var y=[];for(c=0;c<g.length-1;c++)y.push(s.readASCII(i,a+g[c],g[c+1]-g[c]));if(a+=g[g.length-1],e.CFF.readSubrs(i,a,m),m.CharStrings){a=m.CharStrings,g=[],a=e.CFF.readIndex(i,a,g);var x=[];for(c=0;c<g.length-1;c++)x.push(s.readBytes(i,a+g[c],g[c+1]-g[c]));m.CharStrings=x}if(m.ROS){a=m.FDArray;var v=[];for(a=e.CFF.readIndex(i,a,v),m.FDArray=[],c=0;c<v.length-1;c++){var S=e.CFF.readDict(i,a+v[c],a+v[c+1]);e.CFF._readFDict(i,S,y),m.FDArray.push(S)}a+=v[v.length-1],a=m.FDSelect,m.FDSelect=[];var _=i[a];if(a++,_!=3)throw _;var b=s.readUshort(i,a);for(a+=2,c=0;c<b+1;c++)m.FDSelect.push(s.readUshort(i,a),i[a+2]),a+=3}return m.Encoding&&(m.Encoding=e.CFF.readEncoding(i,m.Encoding,m.CharStrings.length)),m.charset&&(m.charset=e.CFF.readCharset(i,m.charset,m.CharStrings.length)),e.CFF._readFDict(i,m,y),m},e.CFF._readFDict=function(i,a,o){var s;for(var l in a.Private&&(s=a.Private[1],a.Private=e.CFF.readDict(i,s,s+a.Private[0]),a.Private.Subrs&&e.CFF.readSubrs(i,s+a.Private.Subrs,a.Private)),a)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(a[l]=o[a[l]-426+35])},e.CFF.readSubrs=function(i,a,o){var s=e._bin,l=[];a=e.CFF.readIndex(i,a,l);var u,c=l.length;u=c<1240?107:c<33900?1131:32768,o.Bias=u,o.Subrs=[];for(var f=0;f<l.length-1;f++)o.Subrs.push(s.readBytes(i,a+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,a){for(var o=0;o<i.charset.length;o++)if(i.charset[o]==a)return o;return-1},e.CFF.glyphBySE=function(i,a){return a<0||a>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[a])},e.CFF.readEncoding=function(i,a,o){e._bin;var s=[".notdef"],l=i[a];if(a++,l!=0)throw"error: unknown encoding format: "+l;var u=i[a];a++;for(var c=0;c<u;c++)s.push(i[a+c]);return s},e.CFF.readCharset=function(i,a,o){var s=e._bin,l=[".notdef"],u=i[a];if(a++,u==0)for(var c=0;c<o;c++){var f=s.readUshort(i,a);a+=2,l.push(f)}else{if(u!=1&&u!=2)throw"error: format: "+u;for(;l.length<o;){f=s.readUshort(i,a),a+=2;var h=0;for(u==1?(h=i[a],a++):(h=s.readUshort(i,a),a+=2),c=0;c<=h;c++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,a,o){var s=e._bin,l=s.readUshort(i,a)+1,u=i[a+=2];if(a++,u==1)for(var c=0;c<l;c++)o.push(i[a+c]);else if(u==2)for(c=0;c<l;c++)o.push(s.readUshort(i,a+2*c));else if(u==3)for(c=0;c<l;c++)o.push(16777215&s.readUint(i,a+3*c-1));else if(l!=1)throw"unsupported offset size: "+u+", count: "+l;return(a+=l*u)-1},e.CFF.getCharString=function(i,a,o){var s=e._bin,l=i[a],u=i[a+1];i[a+2],i[a+3],i[a+4];var c=1,f=null,h=null;l<=20&&(f=l,c=1),l==12&&(f=100*l+u,c=2),21<=l&&l<=27&&(f=l,c=1),l==28&&(h=s.readShort(i,a+1),c=3),29<=l&&l<=31&&(f=l,c=1),32<=l&&l<=246&&(h=l-139,c=1),247<=l&&l<=250&&(h=256*(l-247)+u+108,c=2),251<=l&&l<=254&&(h=256*-(l-251)-u-108,c=2),l==255&&(h=s.readInt(i,a+1)/65535,c=5),o.val=h??"o"+f,o.size=c},e.CFF.readCharString=function(i,a,o){for(var s=a+o,l=e._bin,u=[];a<s;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,m=null,g=null;c<=20&&(m=c,h=1),c==12&&(m=100*c+f,h=2),c!=19&&c!=20||(m=c,h=2),21<=c&&c<=27&&(m=c,h=1),c==28&&(g=l.readShort(i,a+1),h=3),29<=c&&c<=31&&(m=c,h=1),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255&&(g=l.readInt(i,a+1)/65535,h=5),u.push(g??"o"+m),a+=h}return u},e.CFF.readDict=function(i,a,o){for(var s=e._bin,l={},u=[];a<o;){var c=i[a],f=i[a+1];i[a+2],i[a+3],i[a+4];var h=1,m=null,g=null;if(c==28&&(g=s.readShort(i,a+1),h=3),c==29&&(g=s.readInt(i,a+1),h=5),32<=c&&c<=246&&(g=c-139,h=1),247<=c&&c<=250&&(g=256*(c-247)+f+108,h=2),251<=c&&c<=254&&(g=256*-(c-251)-f-108,h=2),c==255)throw g=s.readInt(i,a+1)/65535,h=5,"unknown number";if(c==30){var y=[];for(h=1;;){var x=i[a+h];h++;var v=x>>4,S=15&x;if(v!=15&&y.push(v),S!=15&&y.push(S),S==15)break}for(var _="",b=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<y.length;E++)_+=b[y[E]];g=parseFloat(_)}c<=21&&(m=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][c],h=1,c==12&&(m=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],h=2)),m!=null?(l[m]=u.length==1?u[0]:u,u=[]):u.push(g),a+=h}return l},e.cmap={},e.cmap.parse=function(i,a,o){i=new Uint8Array(i.buffer,a,o),a=0;var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2;var c=[];l.tables=[];for(var f=0;f<u;f++){var h=s.readUshort(i,a);a+=2;var m=s.readUshort(i,a);a+=2;var g=s.readUint(i,a);a+=4;var y="p"+h+"e"+m,x=c.indexOf(g);if(x==-1){var v;x=l.tables.length,c.push(g);var S=s.readUshort(i,g);S==0?v=e.cmap.parse0(i,g):S==4?v=e.cmap.parse4(i,g):S==6?v=e.cmap.parse6(i,g):S==12?v=e.cmap.parse12(i,g):console.debug("unknown format: "+S,h,m,g),l.tables.push(v)}if(l[y]!=null)throw"multiple tables for one platform+encoding";l[y]=x}return l},e.cmap.parse0=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2,s.map=[];for(var u=0;u<l-6;u++)s.map.push(i[a+u]);return s},e.cmap.parse4=function(i,a){var o=e._bin,s=a,l={};l.format=o.readUshort(i,a),a+=2;var u=o.readUshort(i,a);a+=2,o.readUshort(i,a),a+=2;var c=o.readUshort(i,a);a+=2;var f=c/2;l.searchRange=o.readUshort(i,a),a+=2,l.entrySelector=o.readUshort(i,a),a+=2,l.rangeShift=o.readUshort(i,a),a+=2,l.endCount=o.readUshorts(i,a,f),a+=2*f,a+=2,l.startCount=o.readUshorts(i,a,f),a+=2*f,l.idDelta=[];for(var h=0;h<f;h++)l.idDelta.push(o.readShort(i,a)),a+=2;for(l.idRangeOffset=o.readUshorts(i,a,f),a+=2*f,l.glyphIdArray=[];a<s+u;)l.glyphIdArray.push(o.readUshort(i,a)),a+=2;return l},e.cmap.parse6=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,o.readUshort(i,a),a+=2,s.firstCode=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2,s.glyphIdArray=[];for(var u=0;u<l;u++)s.glyphIdArray.push(o.readUshort(i,a)),a+=2;return s},e.cmap.parse12=function(i,a){var o=e._bin,s={};s.format=o.readUshort(i,a),a+=2,a+=2,o.readUint(i,a),a+=4,o.readUint(i,a),a+=4;var l=o.readUint(i,a);a+=4,s.groups=[];for(var u=0;u<l;u++){var c=a+12*u,f=o.readUint(i,c+0),h=o.readUint(i,c+4),m=o.readUint(i,c+8);s.groups.push([f,h,m])}return s},e.glyf={},e.glyf.parse=function(i,a,o,s){for(var l=[],u=0;u<s.maxp.numGlyphs;u++)l.push(null);return l},e.glyf._parseGlyf=function(i,a){var o=e._bin,s=i._data,l=e._tabOffset(s,"glyf",i._offset)+i.loca[a];if(i.loca[a]==i.loca[a+1])return null;var u={};if(u.noc=o.readShort(s,l),l+=2,u.xMin=o.readShort(s,l),l+=2,u.yMin=o.readShort(s,l),l+=2,u.xMax=o.readShort(s,l),l+=2,u.yMax=o.readShort(s,l),l+=2,u.xMin>=u.xMax||u.yMin>=u.yMax)return null;if(u.noc>0){u.endPts=[];for(var c=0;c<u.noc;c++)u.endPts.push(o.readUshort(s,l)),l+=2;var f=o.readUshort(s,l);if(l+=2,s.length-l<f)return null;u.instructions=o.readBytes(s,l,f),l+=f;var h=u.endPts[u.noc-1]+1;for(u.flags=[],c=0;c<h;c++){var m=s[l];if(l++,u.flags.push(m),(8&m)!=0){var g=s[l];l++;for(var y=0;y<g;y++)u.flags.push(m),c++}}for(u.xs=[],c=0;c<h;c++){var x=(2&u.flags[c])!=0,v=(16&u.flags[c])!=0;x?(u.xs.push(v?s[l]:-s[l]),l++):v?u.xs.push(0):(u.xs.push(o.readShort(s,l)),l+=2)}for(u.ys=[],c=0;c<h;c++)x=(4&u.flags[c])!=0,v=(32&u.flags[c])!=0,x?(u.ys.push(v?s[l]:-s[l]),l++):v?u.ys.push(0):(u.ys.push(o.readShort(s,l)),l+=2);var S=0,_=0;for(c=0;c<h;c++)S+=u.xs[c],_+=u.ys[c],u.xs[c]=S,u.ys[c]=_}else{var b;u.parts=[];do{b=o.readUshort(s,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(u.parts.push(E),E.glyphIndex=o.readUshort(s,l),l+=2,1&b){var M=o.readShort(s,l);l+=2;var T=o.readShort(s,l);l+=2}else M=o.readInt8(s,l),l++,T=o.readInt8(s,l),l++;2&b?(E.m.tx=M,E.m.ty=T):(E.p1=M,E.p2=T),8&b?(E.m.a=E.m.d=o.readF2dot14(s,l),l+=2):64&b?(E.m.a=o.readF2dot14(s,l),l+=2,E.m.d=o.readF2dot14(s,l),l+=2):128&b&&(E.m.a=o.readF2dot14(s,l),l+=2,E.m.b=o.readF2dot14(s,l),l+=2,E.m.c=o.readF2dot14(s,l),l+=2,E.m.d=o.readF2dot14(s,l),l+=2)}while(32&b);if(256&b){var C=o.readUshort(s,l);for(l+=2,u.instr=[],c=0;c<C;c++)u.instr.push(s[l]),l++}}return u},e.GDEF={},e.GDEF.parse=function(i,a,o,s){var l=a;a+=4;var u=e._bin.readUshort(i,a);return{glyphClassDef:u===0?null:e._lctf.readClassDef(i,l+u)}},e.GPOS={},e.GPOS.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GPOS.subt)},e.GPOS.subt=function(i,a,o,s){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,a==1||a==2||a==3||a==7||a==8&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,f+u)}if(a==1&&c.fmt==1){var h=l.readUshort(i,o);o+=2,h!=0&&(c.pos=e.GPOS.readValueRecord(i,o,h))}else if(a==2&&c.fmt>=1&&c.fmt<=2){h=l.readUshort(i,o),o+=2;var m=l.readUshort(i,o);o+=2;var g=e._lctf.numOfOnes(h),y=e._lctf.numOfOnes(m);if(c.fmt==1){c.pairsets=[];var x=l.readUshort(i,o);o+=2;for(var v=0;v<x;v++){var S=u+l.readUshort(i,o);o+=2;var _=l.readUshort(i,S);S+=2;for(var b=[],E=0;E<_;E++){var M=l.readUshort(i,S);S+=2,h!=0&&(D=e.GPOS.readValueRecord(i,S,h),S+=2*g),m!=0&&(F=e.GPOS.readValueRecord(i,S,m),S+=2*y),b.push({gid2:M,val1:D,val2:F})}c.pairsets.push(b)}}if(c.fmt==2){var T=l.readUshort(i,o);o+=2;var C=l.readUshort(i,o);o+=2;var P=l.readUshort(i,o);o+=2;var O=l.readUshort(i,o);for(o+=2,c.classDef1=e._lctf.readClassDef(i,u+T),c.classDef2=e._lctf.readClassDef(i,u+C),c.matrix=[],v=0;v<P;v++){var I=[];for(E=0;E<O;E++){var D=null,F=null;h!=0&&(D=e.GPOS.readValueRecord(i,o,h),o+=2*g),m!=0&&(F=e.GPOS.readValueRecord(i,o,m),o+=2*y),I.push({val1:D,val2:F})}c.matrix.push(I)}}}else if(a==4&&c.fmt==1)c.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else if(a==6&&c.fmt==1)c.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,o)+u),c.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,o+2)+u),c.markClassCount=l.readUshort(i,o+4),c.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,o+6)+u),c.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,o+8)+u,c.markClassCount);else{if(a==9&&c.fmt==1){var B=l.readUshort(i,o);o+=2;var W=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=B;else if(s.ltype!=B)throw"invalid extension substitution";return e.GPOS.subt(i,s.ltype,u+W)}console.debug("unsupported GPOS table LookupType",a,"format",c.fmt)}return c},e.GPOS.readValueRecord=function(i,a,o){var s=e._bin,l=[];return l.push(1&o?s.readShort(i,a):0),a+=1&o?2:0,l.push(2&o?s.readShort(i,a):0),a+=2&o?2:0,l.push(4&o?s.readShort(i,a):0),a+=4&o?2:0,l.push(8&o?s.readShort(i,a):0),a+=8&o?2:0,l},e.GPOS.readBaseArray=function(i,a,o){var s=e._bin,l=[],u=a,c=s.readUshort(i,a);a+=2;for(var f=0;f<c;f++){for(var h=[],m=0;m<o;m++)h.push(e.GPOS.readAnchorRecord(i,u+s.readUshort(i,a))),a+=2;l.push(h)}return l},e.GPOS.readMarkArray=function(i,a){var o=e._bin,s=[],l=a,u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=e.GPOS.readAnchorRecord(i,o.readUshort(i,a+2)+l);f.markClass=o.readUshort(i,a),s.push(f),a+=4}return s},e.GPOS.readAnchorRecord=function(i,a){var o=e._bin,s={};return s.fmt=o.readUshort(i,a),s.x=o.readShort(i,a+2),s.y=o.readShort(i,a+4),s},e.GSUB={},e.GSUB.parse=function(i,a,o,s){return e._lctf.parse(i,a,o,s,e.GSUB.subt)},e.GSUB.subt=function(i,a,o,s){var l=e._bin,u=o,c={};if(c.fmt=l.readUshort(i,o),o+=2,a!=1&&a!=2&&a!=4&&a!=5&&a!=6)return null;if(a==1||a==2||a==4||a==5&&c.fmt<=2||a==6&&c.fmt<=2){var f=l.readUshort(i,o);o+=2,c.coverage=e._lctf.readCoverage(i,u+f)}if(a==1&&c.fmt>=1&&c.fmt<=2){if(c.fmt==1)c.delta=l.readShort(i,o),o+=2;else if(c.fmt==2){var h=l.readUshort(i,o);o+=2,c.newg=l.readUshorts(i,o,h),o+=2*c.newg.length}}else if(a==2&&c.fmt==1){h=l.readUshort(i,o),o+=2,c.seqs=[];for(var m=0;m<h;m++){var g=l.readUshort(i,o)+u;o+=2;var y=l.readUshort(i,g);c.seqs.push(l.readUshorts(i,g+2,y))}}else if(a==4)for(c.vals=[],h=l.readUshort(i,o),o+=2,m=0;m<h;m++){var x=l.readUshort(i,o);o+=2,c.vals.push(e.GSUB.readLigatureSet(i,u+x))}else if(a==5&&c.fmt==2){if(c.fmt==2){var v=l.readUshort(i,o);o+=2,c.cDef=e._lctf.readClassDef(i,u+v),c.scset=[];var S=l.readUshort(i,o);for(o+=2,m=0;m<S;m++){var _=l.readUshort(i,o);o+=2,c.scset.push(_==0?null:e.GSUB.readSubClassSet(i,u+_))}}}else if(a==6&&c.fmt==3){if(c.fmt==3){for(m=0;m<3;m++){h=l.readUshort(i,o),o+=2;for(var b=[],E=0;E<h;E++)b.push(e._lctf.readCoverage(i,u+l.readUshort(i,o+2*E)));o+=2*h,m==0&&(c.backCvg=b),m==1&&(c.inptCvg=b),m==2&&(c.ahedCvg=b)}h=l.readUshort(i,o),o+=2,c.lookupRec=e.GSUB.readSubstLookupRecords(i,o,h)}}else{if(a==7&&c.fmt==1){var M=l.readUshort(i,o);o+=2;var T=l.readUint(i,o);if(o+=4,s.ltype==9)s.ltype=M;else if(s.ltype!=M)throw"invalid extension substitution";return e.GSUB.subt(i,s.ltype,u+T)}console.debug("unsupported GSUB table LookupType",a,"format",c.fmt)}return c},e.GSUB.readSubClassSet=function(i,a){var o=e._bin.readUshort,s=a,l=[],u=o(i,a);a+=2;for(var c=0;c<u;c++){var f=o(i,a);a+=2,l.push(e.GSUB.readSubClassRule(i,s+f))}return l},e.GSUB.readSubClassRule=function(i,a){var o=e._bin.readUshort,s={},l=o(i,a),u=o(i,a+=2);a+=2,s.input=[];for(var c=0;c<l-1;c++)s.input.push(o(i,a)),a+=2;return s.substLookupRecords=e.GSUB.readSubstLookupRecords(i,a,u),s},e.GSUB.readSubstLookupRecords=function(i,a,o){for(var s=e._bin.readUshort,l=[],u=0;u<o;u++)l.push(s(i,a),s(i,a+2)),a+=4;return l},e.GSUB.readChainSubClassSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,a);a+=2,l.push(e.GSUB.readChainSubClassRule(i,s+f))}return l},e.GSUB.readChainSubClassRule=function(i,a){for(var o=e._bin,s={},l=["backtrack","input","lookahead"],u=0;u<l.length;u++){var c=o.readUshort(i,a);a+=2,u==1&&c--,s[l[u]]=o.readUshorts(i,a,c),a+=2*s[l[u]].length}return c=o.readUshort(i,a),a+=2,s.subst=o.readUshorts(i,a,2*c),a+=2*s.subst.length,s},e.GSUB.readLigatureSet=function(i,a){var o=e._bin,s=a,l=[],u=o.readUshort(i,a);a+=2;for(var c=0;c<u;c++){var f=o.readUshort(i,a);a+=2,l.push(e.GSUB.readLigature(i,s+f))}return l},e.GSUB.readLigature=function(i,a){var o=e._bin,s={chain:[]};s.nglyph=o.readUshort(i,a),a+=2;var l=o.readUshort(i,a);a+=2;for(var u=0;u<l-1;u++)s.chain.push(o.readUshort(i,a)),a+=2;return s},e.head={},e.head.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.fontRevision=s.readFixed(i,a),a+=4,s.readUint(i,a),a+=4,s.readUint(i,a),a+=4,l.flags=s.readUshort(i,a),a+=2,l.unitsPerEm=s.readUshort(i,a),a+=2,l.created=s.readUint64(i,a),a+=8,l.modified=s.readUint64(i,a),a+=8,l.xMin=s.readShort(i,a),a+=2,l.yMin=s.readShort(i,a),a+=2,l.xMax=s.readShort(i,a),a+=2,l.yMax=s.readShort(i,a),a+=2,l.macStyle=s.readUshort(i,a),a+=2,l.lowestRecPPEM=s.readUshort(i,a),a+=2,l.fontDirectionHint=s.readShort(i,a),a+=2,l.indexToLocFormat=s.readShort(i,a),a+=2,l.glyphDataFormat=s.readShort(i,a),a+=2,l},e.hhea={},e.hhea.parse=function(i,a,o){var s=e._bin,l={};return s.readFixed(i,a),a+=4,l.ascender=s.readShort(i,a),a+=2,l.descender=s.readShort(i,a),a+=2,l.lineGap=s.readShort(i,a),a+=2,l.advanceWidthMax=s.readUshort(i,a),a+=2,l.minLeftSideBearing=s.readShort(i,a),a+=2,l.minRightSideBearing=s.readShort(i,a),a+=2,l.xMaxExtent=s.readShort(i,a),a+=2,l.caretSlopeRise=s.readShort(i,a),a+=2,l.caretSlopeRun=s.readShort(i,a),a+=2,l.caretOffset=s.readShort(i,a),a+=2,a+=8,l.metricDataFormat=s.readShort(i,a),a+=2,l.numberOfHMetrics=s.readUshort(i,a),a+=2,l},e.hmtx={},e.hmtx.parse=function(i,a,o,s){for(var l=e._bin,u={aWidth:[],lsBearing:[]},c=0,f=0,h=0;h<s.maxp.numGlyphs;h++)h<s.hhea.numberOfHMetrics&&(c=l.readUshort(i,a),a+=2,f=l.readShort(i,a),a+=2),u.aWidth.push(c),u.lsBearing.push(f);return u},e.kern={},e.kern.parse=function(i,a,o,s){var l=e._bin,u=l.readUshort(i,a);if(a+=2,u==1)return e.kern.parseV1(i,a-2,o,s);var c=l.readUshort(i,a);a+=2;for(var f={glyph1:[],rval:[]},h=0;h<c;h++){a+=2,o=l.readUshort(i,a),a+=2;var m=l.readUshort(i,a);a+=2;var g=m>>>8;if((g&=15)!=0)throw"unknown kern table format: "+g;a=e.kern.readFormat0(i,a,f)}return f},e.kern.parseV1=function(i,a,o,s){var l=e._bin;l.readFixed(i,a),a+=4;var u=l.readUint(i,a);a+=4;for(var c={glyph1:[],rval:[]},f=0;f<u;f++){l.readUint(i,a),a+=4;var h=l.readUshort(i,a);a+=2,l.readUshort(i,a),a+=2;var m=h>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;a=e.kern.readFormat0(i,a,c)}return c},e.kern.readFormat0=function(i,a,o){var s=e._bin,l=-1,u=s.readUshort(i,a);a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2,s.readUshort(i,a),a+=2;for(var c=0;c<u;c++){var f=s.readUshort(i,a);a+=2;var h=s.readUshort(i,a);a+=2;var m=s.readShort(i,a);a+=2,f!=l&&(o.glyph1.push(f),o.rval.push({glyph2:[],vals:[]}));var g=o.rval[o.rval.length-1];g.glyph2.push(h),g.vals.push(m),l=f}return a},e.loca={},e.loca.parse=function(i,a,o,s){var l=e._bin,u=[],c=s.head.indexToLocFormat,f=s.maxp.numGlyphs+1;if(c==0)for(var h=0;h<f;h++)u.push(l.readUshort(i,a+(h<<1))<<1);if(c==1)for(h=0;h<f;h++)u.push(l.readUint(i,a+(h<<2)));return u},e.maxp={},e.maxp.parse=function(i,a,o){var s=e._bin,l={},u=s.readUint(i,a);return a+=4,l.numGlyphs=s.readUshort(i,a),a+=2,u==65536&&(l.maxPoints=s.readUshort(i,a),a+=2,l.maxContours=s.readUshort(i,a),a+=2,l.maxCompositePoints=s.readUshort(i,a),a+=2,l.maxCompositeContours=s.readUshort(i,a),a+=2,l.maxZones=s.readUshort(i,a),a+=2,l.maxTwilightPoints=s.readUshort(i,a),a+=2,l.maxStorage=s.readUshort(i,a),a+=2,l.maxFunctionDefs=s.readUshort(i,a),a+=2,l.maxInstructionDefs=s.readUshort(i,a),a+=2,l.maxStackElements=s.readUshort(i,a),a+=2,l.maxSizeOfInstructions=s.readUshort(i,a),a+=2,l.maxComponentElements=s.readUshort(i,a),a+=2,l.maxComponentDepth=s.readUshort(i,a),a+=2),l},e.name={},e.name.parse=function(i,a,o){var s=e._bin,l={};s.readUshort(i,a),a+=2;var u=s.readUshort(i,a);a+=2,s.readUshort(i,a);for(var c,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],h=a+=2,m=0;m<u;m++){var g=s.readUshort(i,a);a+=2;var y=s.readUshort(i,a);a+=2;var x=s.readUshort(i,a);a+=2;var v=s.readUshort(i,a);a+=2;var S=s.readUshort(i,a);a+=2;var _=s.readUshort(i,a);a+=2;var b,E=f[v],M=h+12*u+_;if(g==0)b=s.readUnicode(i,M,S/2);else if(g==3&&y==0)b=s.readUnicode(i,M,S/2);else if(y==0)b=s.readASCII(i,M,S);else if(y==1)b=s.readUnicode(i,M,S/2);else if(y==3)b=s.readUnicode(i,M,S/2);else{if(g!=1)throw"unknown encoding "+y+", platformID: "+g;b=s.readASCII(i,M,S),console.debug("reading unknown MAC encoding "+y+" as ASCII")}var T="p"+g+","+x.toString(16);l[T]==null&&(l[T]={}),l[T][E!==void 0?E:v]=b,l[T]._lang=x}for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==1033)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==0)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==3084)return l[C];for(var C in l)if(l[C].postScriptName!=null)return l[C];for(var C in l){c=C;break}return console.debug("returning name table with languageID "+l[c]._lang),l[c]},e["OS/2"]={},e["OS/2"].parse=function(i,a,o){var s=e._bin.readUshort(i,a);a+=2;var l={};if(s==0)e["OS/2"].version0(i,a,l);else if(s==1)e["OS/2"].version1(i,a,l);else if(s==2||s==3||s==4)e["OS/2"].version2(i,a,l);else{if(s!=5)throw"unknown OS/2 table version: "+s;e["OS/2"].version5(i,a,l)}return l},e["OS/2"].version0=function(i,a,o){var s=e._bin;return o.xAvgCharWidth=s.readShort(i,a),a+=2,o.usWeightClass=s.readUshort(i,a),a+=2,o.usWidthClass=s.readUshort(i,a),a+=2,o.fsType=s.readUshort(i,a),a+=2,o.ySubscriptXSize=s.readShort(i,a),a+=2,o.ySubscriptYSize=s.readShort(i,a),a+=2,o.ySubscriptXOffset=s.readShort(i,a),a+=2,o.ySubscriptYOffset=s.readShort(i,a),a+=2,o.ySuperscriptXSize=s.readShort(i,a),a+=2,o.ySuperscriptYSize=s.readShort(i,a),a+=2,o.ySuperscriptXOffset=s.readShort(i,a),a+=2,o.ySuperscriptYOffset=s.readShort(i,a),a+=2,o.yStrikeoutSize=s.readShort(i,a),a+=2,o.yStrikeoutPosition=s.readShort(i,a),a+=2,o.sFamilyClass=s.readShort(i,a),a+=2,o.panose=s.readBytes(i,a,10),a+=10,o.ulUnicodeRange1=s.readUint(i,a),a+=4,o.ulUnicodeRange2=s.readUint(i,a),a+=4,o.ulUnicodeRange3=s.readUint(i,a),a+=4,o.ulUnicodeRange4=s.readUint(i,a),a+=4,o.achVendID=[s.readInt8(i,a),s.readInt8(i,a+1),s.readInt8(i,a+2),s.readInt8(i,a+3)],a+=4,o.fsSelection=s.readUshort(i,a),a+=2,o.usFirstCharIndex=s.readUshort(i,a),a+=2,o.usLastCharIndex=s.readUshort(i,a),a+=2,o.sTypoAscender=s.readShort(i,a),a+=2,o.sTypoDescender=s.readShort(i,a),a+=2,o.sTypoLineGap=s.readShort(i,a),a+=2,o.usWinAscent=s.readUshort(i,a),a+=2,o.usWinDescent=s.readUshort(i,a),a+=2},e["OS/2"].version1=function(i,a,o){var s=e._bin;return a=e["OS/2"].version0(i,a,o),o.ulCodePageRange1=s.readUint(i,a),a+=4,o.ulCodePageRange2=s.readUint(i,a),a+=4},e["OS/2"].version2=function(i,a,o){var s=e._bin;return a=e["OS/2"].version1(i,a,o),o.sxHeight=s.readShort(i,a),a+=2,o.sCapHeight=s.readShort(i,a),a+=2,o.usDefault=s.readUshort(i,a),a+=2,o.usBreak=s.readUshort(i,a),a+=2,o.usMaxContext=s.readUshort(i,a),a+=2},e["OS/2"].version5=function(i,a,o){var s=e._bin;return a=e["OS/2"].version2(i,a,o),o.usLowerOpticalPointSize=s.readUshort(i,a),a+=2,o.usUpperOpticalPointSize=s.readUshort(i,a),a+=2},e.post={},e.post.parse=function(i,a,o){var s=e._bin,l={};return l.version=s.readFixed(i,a),a+=4,l.italicAngle=s.readFixed(i,a),a+=4,l.underlinePosition=s.readShort(i,a),a+=2,l.underlineThickness=s.readShort(i,a),a+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,a){var o=i.cmap,s=-1;if(o.p0e4!=null?s=o.p0e4:o.p3e1!=null?s=o.p3e1:o.p1e0!=null?s=o.p1e0:o.p0e3!=null&&(s=o.p0e3),s==-1)throw"no familiar platform and encoding!";var l=o.tables[s];if(l.format==0)return a>=l.map.length?0:l.map[a];if(l.format==4){for(var u=-1,c=0;c<l.endCount.length;c++)if(a<=l.endCount[c]){u=c;break}return u==-1||l.startCount[u]>a?0:65535&(l.idRangeOffset[u]!=0?l.glyphIdArray[a-l.startCount[u]+(l.idRangeOffset[u]>>1)-(l.idRangeOffset.length-u)]:a+l.idDelta[u])}if(l.format==12){if(a>l.groups[l.groups.length-1][1])return 0;for(c=0;c<l.groups.length;c++){var f=l.groups[c];if(f[0]<=a&&a<=f[1])return f[2]+(a-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,a){var o={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[a]){var s=i.SVG.entries[a];return s==null?o:(typeof s=="string"&&(s=e.SVG.toPath(s),i.SVG.entries[a]=s),s)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},u=i.CFF,c=i.CFF.Private;if(u.ROS){for(var f=0;u.FDSelect[f+2]<=a;)f+=2;c=u.FDArray[u.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[a],l,u,c,o)}else i.glyf&&e.U._drawGlyf(a,i,o);return o},e.U._drawGlyf=function(i,a,o){var s=a.glyf[i];s==null&&(s=a.glyf[i]=e.glyf._parseGlyf(a,i)),s!=null&&(s.noc>-1?e.U._simpleGlyph(s,o):e.U._compoGlyph(s,a,o))},e.U._simpleGlyph=function(i,a){for(var o=0;o<i.noc;o++){for(var s=o==0?0:i.endPts[o-1]+1,l=i.endPts[o],u=s;u<=l;u++){var c=u==s?l:u-1,f=u==l?s:u+1,h=1&i.flags[u],m=1&i.flags[c],g=1&i.flags[f],y=i.xs[u],x=i.ys[u];if(u==s)if(h){if(!m){e.U.P.moveTo(a,y,x);continue}e.U.P.moveTo(a,i.xs[c],i.ys[c])}else m?e.U.P.moveTo(a,i.xs[c],i.ys[c]):e.U.P.moveTo(a,(i.xs[c]+y)/2,(i.ys[c]+x)/2);h?m&&e.U.P.lineTo(a,y,x):g?e.U.P.qcurveTo(a,y,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(a,y,x,(y+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(a)}},e.U._compoGlyph=function(i,a,o){for(var s=0;s<i.parts.length;s++){var l={cmds:[],crds:[]},u=i.parts[s];e.U._drawGlyf(u.glyphIndex,a,l);for(var c=u.m,f=0;f<l.crds.length;f+=2){var h=l.crds[f],m=l.crds[f+1];o.crds.push(h*c.a+m*c.b+c.tx),o.crds.push(h*c.c+m*c.d+c.ty)}for(f=0;f<l.cmds.length;f++)o.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,a){var o=e._lctf.getInterval(a,i);return o==-1?0:a[o+2]},e.U._applySubs=function(i,a,o,s){for(var l=i.length-a-1,u=0;u<o.tabs.length;u++)if(o.tabs[u]!=null){var c,f=o.tabs[u];if(!f.coverage||(c=e._lctf.coverageIndex(f.coverage,i[a]))!=-1){if(o.ltype==1)i[a],f.fmt==1?i[a]=i[a]+f.delta:i[a]=f.newg[c];else if(o.ltype==4)for(var h=f.vals[c],m=0;m<h.length;m++){var g=h[m],y=g.chain.length;if(!(y>l)){for(var x=!0,v=0,S=0;S<y;S++){for(;i[a+v+(1+S)]==-1;)v++;g.chain[S]!=i[a+v+(1+S)]&&(x=!1)}if(x){for(i[a]=g.nglyph,S=0;S<y+v;S++)i[a+S+1]=-1;break}}}else if(o.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[a]),b=f.cDef[_+2],E=f.scset[b],M=0;M<E.length;M++){var T=E[M],C=T.input;if(!(C.length>l)){for(x=!0,S=0;S<C.length;S++){var P=e._lctf.getInterval(f.cDef,i[a+1+S]);if(_==-1&&f.cDef[P+2]!=C[S]){x=!1;break}}if(x){var O=T.substLookupRecords;for(m=0;m<O.length;m+=2)O[m],O[m+1]}}}else if(o.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,a-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,a)||!e.U._glsCovered(i,f.ahedCvg,a+f.inptCvg.length))continue;var I=f.lookupRec;for(M=0;M<I.length;M+=2){_=I[M];var D=s[I[M+1]];e.U._applySubs(i,a+_,D,s)}}}}},e.U._glsCovered=function(i,a,o){for(var s=0;s<a.length;s++)if(e._lctf.coverageIndex(a[s],i[o+s])==-1)return!1;return!0},e.U.glyphsToPath=function(i,a,o){for(var s={cmds:[],crds:[]},l=0,u=0;u<a.length;u++){var c=a[u];if(c!=-1){for(var f=u<a.length-1&&a[u+1]!=-1?a[u+1]:0,h=e.U.glyphToPath(i,c),m=0;m<h.crds.length;m+=2)s.crds.push(h.crds[m]+l),s.crds.push(h.crds[m+1]);for(o&&s.cmds.push(o),m=0;m<h.cmds.length;m++)s.cmds.push(h.cmds[m]);o&&s.cmds.push("X"),l+=i.hmtx.aWidth[c],u<a.length-1&&(l+=e.U.getPairAdjustment(i,c,f))}}return s},e.U.P={},e.U.P.moveTo=function(i,a,o){i.cmds.push("M"),i.crds.push(a,o)},e.U.P.lineTo=function(i,a,o){i.cmds.push("L"),i.crds.push(a,o)},e.U.P.curveTo=function(i,a,o,s,l,u,c){i.cmds.push("C"),i.crds.push(a,o,s,l,u,c)},e.U.P.qcurveTo=function(i,a,o,s,l){i.cmds.push("Q"),i.crds.push(a,o,s,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,a,o,s,l){for(var u=a.stack,c=a.nStems,f=a.haveWidth,h=a.width,m=a.open,g=0,y=a.x,x=a.y,v=0,S=0,_=0,b=0,E=0,M=0,T=0,C=0,P=0,O=0,I={val:0,size:0};g<i.length;){e.CFF.getCharString(i,g,I);var D=I.val;if(g+=I.size,D=="o1"||D=="o18")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(D=="o3"||D=="o23")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0;else if(D=="o4")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),m&&e.U.P.closePath(l),x+=u.pop(),e.U.P.moveTo(l,y,x),m=!0;else if(D=="o5")for(;u.length>0;)y+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,y,x);else if(D=="o6"||D=="o7")for(var F=u.length,B=D=="o6",W=0;W<F;W++){var V=u.shift();B?y+=V:x+=V,B=!B,e.U.P.lineTo(l,y,x)}else if(D=="o8"||D=="o24"){F=u.length;for(var Q=0;Q+6<=F;)v=y+u.shift(),S=x+u.shift(),_=v+u.shift(),b=S+u.shift(),y=_+u.shift(),x=b+u.shift(),e.U.P.curveTo(l,v,S,_,b,y,x),Q+=6;D=="o24"&&(y+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,y,x))}else{if(D=="o11")break;if(D=="o1234"||D=="o1235"||D=="o1236"||D=="o1237")D=="o1234"&&(S=x,_=(v=y+u.shift())+u.shift(),O=b=S+u.shift(),M=b,C=x,y=(T=(E=(P=_+u.shift())+u.shift())+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,_,b,P,O),e.U.P.curveTo(l,E,M,T,C,y,x)),D=="o1235"&&(v=y+u.shift(),S=x+u.shift(),_=v+u.shift(),b=S+u.shift(),P=_+u.shift(),O=b+u.shift(),E=P+u.shift(),M=O+u.shift(),T=E+u.shift(),C=M+u.shift(),y=T+u.shift(),x=C+u.shift(),u.shift(),e.U.P.curveTo(l,v,S,_,b,P,O),e.U.P.curveTo(l,E,M,T,C,y,x)),D=="o1236"&&(v=y+u.shift(),S=x+u.shift(),_=v+u.shift(),O=b=S+u.shift(),M=b,T=(E=(P=_+u.shift())+u.shift())+u.shift(),C=M+u.shift(),y=T+u.shift(),e.U.P.curveTo(l,v,S,_,b,P,O),e.U.P.curveTo(l,E,M,T,C,y,x)),D=="o1237"&&(v=y+u.shift(),S=x+u.shift(),_=v+u.shift(),b=S+u.shift(),P=_+u.shift(),O=b+u.shift(),E=P+u.shift(),M=O+u.shift(),T=E+u.shift(),C=M+u.shift(),Math.abs(T-y)>Math.abs(C-x)?y=T+u.shift():x=C+u.shift(),e.U.P.curveTo(l,v,S,_,b,P,O),e.U.P.curveTo(l,E,M,T,C,y,x));else if(D=="o14"){if(u.length>0&&!f&&(h=u.shift()+o.nominalWidthX,f=!0),u.length==4){var N=u.shift(),j=u.shift(),G=u.shift(),H=u.shift(),$=e.CFF.glyphBySE(o,G),ie=e.CFF.glyphBySE(o,H);e.U._drawCFF(o.CharStrings[$],a,o,s,l),a.x=N,a.y=j,e.U._drawCFF(o.CharStrings[ie],a,o,s,l)}m&&(e.U.P.closePath(l),m=!1)}else if(D=="o19"||D=="o20")u.length%2!=0&&!f&&(h=u.shift()+s.nominalWidthX),c+=u.length>>1,u.length=0,f=!0,g+=c+7>>3;else if(D=="o21")u.length>2&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),x+=u.pop(),y+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),m=!0;else if(D=="o22")u.length>1&&!f&&(h=u.shift()+s.nominalWidthX,f=!0),y+=u.pop(),m&&e.U.P.closePath(l),e.U.P.moveTo(l,y,x),m=!0;else if(D=="o25"){for(;u.length>6;)y+=u.shift(),x+=u.shift(),e.U.P.lineTo(l,y,x);v=y+u.shift(),S=x+u.shift(),_=v+u.shift(),b=S+u.shift(),y=_+u.shift(),x=b+u.shift(),e.U.P.curveTo(l,v,S,_,b,y,x)}else if(D=="o26")for(u.length%2&&(y+=u.shift());u.length>0;)v=y,S=x+u.shift(),y=_=v+u.shift(),x=(b=S+u.shift())+u.shift(),e.U.P.curveTo(l,v,S,_,b,y,x);else if(D=="o27")for(u.length%2&&(x+=u.shift());u.length>0;)S=x,_=(v=y+u.shift())+u.shift(),b=S+u.shift(),y=_+u.shift(),x=b,e.U.P.curveTo(l,v,S,_,b,y,x);else if(D=="o10"||D=="o29"){var Z=D=="o10"?s:o;if(u.length==0)console.debug("error: empty stack");else{var ae=u.pop(),ce=Z.Subrs[ae+Z.Bias];a.x=y,a.y=x,a.nStems=c,a.haveWidth=f,a.width=h,a.open=m,e.U._drawCFF(ce,a,o,s,l),y=a.x,x=a.y,c=a.nStems,f=a.haveWidth,h=a.width,m=a.open}}else if(D=="o30"||D=="o31"){var fe=u.length,Ae=(Q=0,D=="o31");for(Q+=fe-(F=-3&fe);Q<F;)Ae?(S=x,_=(v=y+u.shift())+u.shift(),x=(b=S+u.shift())+u.shift(),F-Q==5?(y=_+u.shift(),Q++):y=_,Ae=!1):(v=y,S=x+u.shift(),_=v+u.shift(),b=S+u.shift(),y=_+u.shift(),F-Q==5?(x=b+u.shift(),Q++):x=b,Ae=!0),e.U.P.curveTo(l,v,S,_,b,y,x),Q+=4}else{if((D+"").charAt(0)=="o")throw console.debug("Unknown operation: "+D,i),D;u.push(D)}}}a.x=y,a.y=x,a.nStems=c,a.haveWidth=f,a.width=h,a.open=m};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Kbe(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),a=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),o=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(D,F){for(var B=new n(31),W=0;W<31;++W)B[W]=F+=1<<D[W-1];var V=new r(B[30]);for(W=1;W<30;++W)for(var Q=B[W];Q<B[W+1];++Q)V[Q]=Q-B[W]<<5|W;return[B,V]},l=s(i,2),u=l[0],c=l[1];u[28]=258,c[258]=28;for(var f=s(a,0)[0],h=new n(32768),m=0;m<32768;++m){var g=(43690&m)>>>1|(21845&m)<<1;g=(61680&(g=(52428&g)>>>2|(13107&g)<<2))>>>4|(3855&g)<<4,h[m]=((65280&g)>>>8|(255&g)<<8)>>>1}var y=function(D,F,B){for(var W=D.length,V=0,Q=new n(F);V<W;++V)++Q[D[V]-1];var N,j=new n(F);for(V=0;V<F;++V)j[V]=j[V-1]+Q[V-1]<<1;{N=new n(1<<F);var G=15-F;for(V=0;V<W;++V)if(D[V])for(var H=V<<4|D[V],$=F-D[V],ie=j[D[V]-1]++<<$,Z=ie|(1<<$)-1;ie<=Z;++ie)N[h[ie]>>>G]=H}return N},x=new e(288);for(m=0;m<144;++m)x[m]=8;for(m=144;m<256;++m)x[m]=9;for(m=256;m<280;++m)x[m]=7;for(m=280;m<288;++m)x[m]=8;var v=new e(32);for(m=0;m<32;++m)v[m]=5;var S=y(x,9),_=y(v,5),b=function(D){for(var F=D[0],B=1;B<D.length;++B)D[B]>F&&(F=D[B]);return F},E=function(D,F,B){var W=F/8|0;return(D[W]|D[W+1]<<8)>>(7&F)&B},M=function(D,F){var B=F/8|0;return(D[B]|D[B+1]<<8|D[B+2]<<16)>>(7&F)},T=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(D,F,B){var W=new Error(F||T[D]);if(W.code=D,Error.captureStackTrace&&Error.captureStackTrace(W,C),!B)throw W;return W},P=function(D,F,B){var W=D.length;if(!W||B&&!B.l&&W<5)return F||new e(0);var V=!F||B,Q=!B||B.i;B||(B={}),F||(F=new e(3*W));var N,j=function(qe){var ue=F.length;if(qe>ue){var Ue=new e(Math.max(2*ue,qe));Ue.set(F),F=Ue}},G=B.f||0,H=B.p||0,$=B.b||0,ie=B.l,Z=B.d,ae=B.m,ce=B.n,fe=8*W;do{if(!ie){B.f=G=E(D,H,1);var Ae=E(D,H+1,3);if(H+=3,!Ae){var ve=D[(q=((N=H)/8|0)+(7&N&&1)+4)-4]|D[q-3]<<8,Ie=q+ve;if(Ie>W){Q&&C(0);break}V&&j($+ve),F.set(D.subarray(q,Ie),$),B.b=$+=ve,B.p=H=8*Ie;continue}if(Ae==1)ie=S,Z=_,ae=9,ce=5;else if(Ae==2){var X=E(D,H,31)+257,J=E(D,H+10,15)+4,_e=X+E(D,H+5,31)+1;H+=14;for(var Me=new e(_e),Te=new e(19),Ce=0;Ce<J;++Ce)Te[o[Ce]]=E(D,H+3*Ce,7);H+=3*J;var He=b(Te),Pe=(1<<He)-1,Xe=y(Te,He);for(Ce=0;Ce<_e;){var q,U=Xe[E(D,H,Pe)];if(H+=15&U,(q=U>>>4)<16)Me[Ce++]=q;else{var de=0,pe=0;for(q==16?(pe=3+E(D,H,3),H+=2,de=Me[Ce-1]):q==17?(pe=3+E(D,H,7),H+=3):q==18&&(pe=11+E(D,H,127),H+=7);pe--;)Me[Ce++]=de}}var we=Me.subarray(0,X),Ee=Me.subarray(X);ae=b(we),ce=b(Ee),ie=y(we,ae),Z=y(Ee,ce)}else C(1);if(H>fe){Q&&C(0);break}}V&&j($+131072);for(var rt=(1<<ae)-1,ke=(1<<ce)-1,ze=H;;ze=H){var et=(de=ie[M(D,H)&rt])>>>4;if((H+=15&de)>fe){Q&&C(0);break}if(de||C(2),et<256)F[$++]=et;else{if(et==256){ze=H,ie=null;break}var Ve=et-254;if(et>264){var Je=i[Ce=et-257];Ve=E(D,H,(1<<Je)-1)+u[Ce],H+=Je}var dt=Z[M(D,H)&ke],Qe=dt>>>4;if(dt||C(3),H+=15&dt,Ee=f[Qe],Qe>3&&(Je=a[Qe],Ee+=M(D,H)&(1<<Je)-1,H+=Je),H>fe){Q&&C(0);break}V&&j($+131072);for(var Be=$+Ve;$<Be;$+=4)F[$]=F[$-Ee],F[$+1]=F[$+1-Ee],F[$+2]=F[$+2-Ee],F[$+3]=F[$+3-Ee];$=Be}}B.l=ie,B.p=ze,B.b=$,ie&&(G=1,B.m=ae,B.d=Z,B.n=ce)}while(!G);return $==F.length?F:function(qe,ue,Ue){(Ue==null||Ue>qe.length)&&(Ue=qe.length);var re=new(qe instanceof n?n:qe instanceof r?r:e)(Ue-ue);return re.set(qe.subarray(ue,Ue)),re}(F,0,$)},O=new e(0),I=typeof TextDecoder<"u"&&new TextDecoder;try{I.decode(O,{stream:!0})}catch{}return t.convert_streams=function(D){var F=new DataView(D),B=0;function W(){var X=F.getUint16(B);return B+=2,X}function V(){var X=F.getUint32(B);return B+=4,X}function Q(X){ve.setUint16(Ie,X),Ie+=2}function N(X){ve.setUint32(Ie,X),Ie+=4}for(var j={signature:V(),flavor:V(),length:V(),numTables:W(),reserved:W(),totalSfntSize:V(),majorVersion:W(),minorVersion:W(),metaOffset:V(),metaLength:V(),metaOrigLength:V(),privOffset:V(),privLength:V()},G=0;Math.pow(2,G)<=j.numTables;)G++;G--;for(var H=16*Math.pow(2,G),$=16*j.numTables-H,ie=12,Z=[],ae=0;ae<j.numTables;ae++)Z.push({tag:V(),offset:V(),compLength:V(),origLength:V(),origChecksum:V()}),ie+=16;var ce,fe=new Uint8Array(12+16*Z.length+Z.reduce(function(X,J){return X+J.origLength+4},0)),Ae=fe.buffer,ve=new DataView(Ae),Ie=0;return N(j.flavor),Q(j.numTables),Q(H),Q(G),Q($),Z.forEach(function(X){N(X.tag),N(X.origChecksum),N(ie),N(X.origLength),X.outOffset=ie,(ie+=X.origLength)%4!=0&&(ie+=4-ie%4)}),Z.forEach(function(X){var J,_e=D.slice(X.offset,X.offset+X.compLength);if(X.compLength!=X.origLength){var Me=new Uint8Array(X.origLength);J=new Uint8Array(_e,2),P(J,Me)}else Me=new Uint8Array(_e);fe.set(Me,X.outOffset);var Te=0;(ie=X.outOffset+X.origLength)%4!=0&&(Te=4-ie%4),fe.set(new Uint8Array(Te).buffer,X.outOffset+X.origLength),ce=ie+Te}),Ae.slice(0,ce)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Zbe(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,a=2,o=4,s=8,l=16,u=32;let c;function f(T){if(!c){const C={R:a,L:i,D:o,C:l,U:u,T:s};c=new Map;for(let P in r){let O=0;r[P].split(",").forEach(I=>{let[D,F]=I.split("+");D=parseInt(D,36),F=F?parseInt(F,36):0,c.set(O+=D,C[P]);for(let B=F;B--;)c.set(++O,C[P])})}}return c.get(T)||u}const h=1,m=2,g=3,y=4,x=[null,"isol","init","fina","medi"];function v(T){const C=new Uint8Array(T.length);let P=u,O=h,I=-1;for(let D=0;D<T.length;D++){const F=T.codePointAt(D);let B=f(F)|0,W=h;B&s||(P&(i|o|l)?B&(a|o|l)?(W=g,(O===h||O===g)&&C[I]++):B&(i|u)&&(O===m||O===y)&&C[I]--:P&(a|u)&&(O===m||O===y)&&C[I]--,O=C[D]=W,P=B,I=D,F>65535&&D++)}return C}function S(T,C){const P=[];for(let I=0;I<C.length;I++){const D=C.codePointAt(I);D>65535&&I++,P.push(t.U.codeToGlyph(T,D))}const O=T.GSUB;if(O){const{lookupList:I,featureList:D}=O;let F;const B=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,W=[];D.forEach(V=>{if(B.test(V.tag))for(let Q=0;Q<V.tab.length;Q++){if(W[V.tab[Q]])continue;W[V.tab[Q]]=!0;const N=I[V.tab[Q]],j=/^(isol|init|fina|medi)$/.test(V.tag);j&&!F&&(F=v(C));for(let G=0;G<P.length;G++)(!F||!j||x[F[G]]===V.tag)&&t.U._applySubs(P,G,N,I)}})}return P}function _(T,C){const P=new Int16Array(C.length*3);let O=0;for(;O<C.length;O++){const B=C[O];if(B===-1)continue;P[O*3+2]=T.hmtx.aWidth[B];const W=T.GPOS;if(W){const V=W.lookupList;for(let Q=0;Q<V.length;Q++){const N=V[Q];for(let j=0;j<N.tabs.length;j++){const G=N.tabs[j];if(N.ltype===1){if(t._lctf.coverageIndex(G.coverage,B)!==-1&&G.pos){F(G.pos,O);break}}else if(N.ltype===2){let H=null,$=I();if($!==-1){const ie=t._lctf.coverageIndex(G.coverage,C[$]);if(ie!==-1){if(G.fmt===1){const Z=G.pairsets[ie];for(let ae=0;ae<Z.length;ae++)Z[ae].gid2===B&&(H=Z[ae])}else if(G.fmt===2){const Z=t.U._getGlyphClass(C[$],G.classDef1),ae=t.U._getGlyphClass(B,G.classDef2);H=G.matrix[Z][ae]}if(H){H.val1&&F(H.val1,$),H.val2&&F(H.val2,O);break}}}}else if(N.ltype===4){const H=t._lctf.coverageIndex(G.markCoverage,B);if(H!==-1){const $=I(D),ie=$===-1?-1:t._lctf.coverageIndex(G.baseCoverage,C[$]);if(ie!==-1){const Z=G.markArray[H],ae=G.baseArray[ie][Z.markClass];P[O*3]=ae.x-Z.x+P[$*3]-P[$*3+2],P[O*3+1]=ae.y-Z.y+P[$*3+1];break}}}else if(N.ltype===6){const H=t._lctf.coverageIndex(G.mark1Coverage,B);if(H!==-1){const $=I();if($!==-1){const ie=C[$];if(b(T,ie)===3){const Z=t._lctf.coverageIndex(G.mark2Coverage,ie);if(Z!==-1){const ae=G.mark1Array[H],ce=G.mark2Array[Z][ae.markClass];P[O*3]=ce.x-ae.x+P[$*3]-P[$*3+2],P[O*3+1]=ce.y-ae.y+P[$*3+1];break}}}}}}}}else if(T.kern&&!T.cff){const V=I();if(V!==-1){const Q=T.kern.glyph1.indexOf(C[V]);if(Q!==-1){const N=T.kern.rval[Q].glyph2.indexOf(B);N!==-1&&(P[V*3+2]+=T.kern.rval[Q].vals[N])}}}}return P;function I(B){for(let W=O-1;W>=0;W--)if(C[W]!==-1&&(!B||B(C[W])))return W;return-1}function D(B){return b(T,B)===1}function F(B,W){for(let V=0;V<3;V++)P[W*3+V]+=B[V]||0}}function b(T,C){const P=T.GDEF&&T.GDEF.glyphClassDef;return P?t.U._getGlyphClass(C,P):0}function E(...T){for(let C=0;C<T.length;C++)if(typeof T[C]=="number")return T[C]}function M(T){const C=Object.create(null),P=T["OS/2"],O=T.hhea,I=T.head.unitsPerEm,D=E(P&&P.sTypoAscender,O&&O.ascender,I),F={unitsPerEm:I,ascender:D,descender:E(P&&P.sTypoDescender,O&&O.descender,0),capHeight:E(P&&P.sCapHeight,D),xHeight:E(P&&P.sxHeight,D),lineGap:E(P&&P.sTypoLineGap,O&&O.lineGap),supportsCodePoint(B){return t.U.codeToGlyph(T,B)>0},forEachGlyph(B,W,V,Q){let N=0;const j=1/F.unitsPerEm*W,G=S(T,B);let H=0;const $=_(T,G);return G.forEach((ie,Z)=>{if(ie!==-1){let ae=C[ie];if(!ae){const{cmds:ce,crds:fe}=t.U.glyphToPath(T,ie);let Ae="",ve=0;for(let Me=0,Te=ce.length;Me<Te;Me++){const Ce=n[ce[Me]];Ae+=ce[Me];for(let He=1;He<=Ce;He++)Ae+=(He>1?",":"")+fe[ve++]}let Ie,X,J,_e;if(fe.length){Ie=X=1/0,J=_e=-1/0;for(let Me=0,Te=fe.length;Me<Te;Me+=2){let Ce=fe[Me],He=fe[Me+1];Ce<Ie&&(Ie=Ce),He<X&&(X=He),Ce>J&&(J=Ce),He>_e&&(_e=He)}}else Ie=J=X=_e=0;ae=C[ie]={index:ie,advanceWidth:T.hmtx.aWidth[ie],xMin:Ie,yMin:X,xMax:J,yMax:_e,path:Ae}}Q.call(null,ae,N+$[Z*3]*j,$[Z*3+1]*j,H),N+=$[Z*3+2]*j,V&&(N+=V*W)}H+=B.codePointAt(H)>65535?2:1}),N}};return F}return function(C){const P=new Uint8Array(C,0,4),O=t._bin.readASCII(P,0,4);if(O==="wOFF")C=e(C);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return M(t.parse(C)[0])}}const Jbe=Kh({name:"Typr Font Parser",dependencies:[qbe,Kbe,Zbe],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Qbe(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var b=_>>5;this.buckets.set(b,(this.buckets.get(b)||0)|1<<(31&_))},e.prototype.has=function(_){var b=this.buckets.get(_>>5);return b!==void 0&&(b&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(b,E){_.push((+E).toString(36)+":"+b.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var b=this;this.buckets.clear(),_.split(",").forEach(function(E){var M=E.split(":");b.buckets.set(parseInt(M[0],36),parseInt(M[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function a(_){var b=function(M){return M&i}(_).toString(16),E=function(M){return(M&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+b+"-"+E+".json"}function o(_,b){var E=_&r,M=b.codePointAt(E/6|0);return((M=(M||48)-48)&1<<E%6)!=0}function s(_,b){var E;(E=_,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(M){return M.split("-").map(function(T){return parseInt(T.trim(),16)})})).forEach(function(M){var T=M[0],C=M[1];C===void 0&&(C=T),b(T,C)})}function l(_,b){s(_,function(E,M){for(var T=E;T<=M;T++)b(T)})}var u={},c={},f=new WeakMap,h="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function m(_){var b=f.get(_);return b||(b=new e,l(_.ranges,function(E){return b.add(E)}),f.set(_,b)),b}var g,y=new Map;function x(_,b,E){return _[b]?b:_[E]?E:function(M){for(var T in M)return T}(_)}function v(_,b){var E=b;if(!_.includes(E)){E=1/0;for(var M=0;M<_.length;M++)Math.abs(_[M]-b)<Math.abs(E-b)&&(E=_[M])}return E}function S(_){return g||(g=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(b){g.add(b)})),g.has(_)}return t.CodePointSet=e,t.clearCache=function(){u={},c={}},t.getFontsForString=function(_,b){b===void 0&&(b={});var E,M=b.lang;M===void 0&&(M=new RegExp("\\p{Script=Hangul}","u").test(E=_)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(E)?"ja":"en");var T=b.category;T===void 0&&(T="sans-serif");var C=b.style;C===void 0&&(C="normal");var P=b.weight;P===void 0&&(P=400);var O=(b.dataUrl||h).replace(/\/$/g,""),I=new Map,D=new Uint8Array(_.length),F={},B={},W=new Array(_.length),V=new Map,Q=!1;function N(H){var $=y.get(H);return $||($=fetch(O+"/"+H).then(function(ie){if(!ie.ok)throw new Error(ie.statusText);return ie.json().then(function(Z){if(!Array.isArray(Z)||Z[0]!==1)throw new Error("Incorrect schema version; need 1, got "+Z[0]);return Z[1]})}).catch(function(ie){if(O!==h)return Q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+ie.message),Q=!0),O=h,y.delete(H),N(H);throw ie}),y.set(H,$)),$}for(var j=function(H){var $=_.codePointAt(H),ie=a($);W[H]=ie,u[ie]||V.has(ie)||V.set(ie,N(ie).then(function(Z){u[ie]=Z})),$>65535&&(H++,G=H)},G=0;G<_.length;G++)j(G);return Promise.all(V.values()).then(function(){V.clear();for(var H=function(ie){var Z=_.codePointAt(ie),ae=null,ce=u[W[ie]],fe=void 0;for(var Ae in ce){var ve=B[Ae];if(ve===void 0&&(ve=B[Ae]=new RegExp(Ae).test(M||"en")),ve){for(var Ie in fe=Ae,ce[Ae])if(o(Z,ce[Ae][Ie])){ae=Ie;break}break}}if(!ae){e:for(var X in ce)if(X!==fe){for(var J in ce[X])if(o(Z,ce[X][J])){ae=J;break e}}}ae||(console.debug("No font coverage for U+"+Z.toString(16)),ae="latin"),W[ie]=ae,c[ae]||V.has(ae)||V.set(ae,N("font-meta/"+ae+".json").then(function(_e){c[ae]=_e})),Z>65535&&(ie++,$=ie)},$=0;$<_.length;$++)H($);return Promise.all(V.values())}).then(function(){for(var H,$=null,ie=0;ie<_.length;ie++){var Z=_.codePointAt(ie);if($&&(S(Z)||m($).has(Z)))D[ie]=D[ie-1];else{$=c[W[ie]];var ae=F[$.id];if(!ae){var ce=$.typeforms,fe=x(ce,T,"sans-serif"),Ae=x(ce[fe],C,"normal"),ve=v((H=ce[fe])===null||H===void 0?void 0:H[Ae],P);ae=F[$.id]=O+"/font-files/"+$.id+"/"+fe+"."+Ae+"."+ve+".woff"}var Ie=I.get(ae);Ie==null&&(Ie=I.size,I.set(ae,Ie)),D[ie]=Ie}Z>65535&&(ie++,D[ie]=D[ie-1])}return{fontUrls:Array.from(I.keys()),chars:D}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function eMe(t,e){const n=Object.create(null),r=Object.create(null);function i(o,s){const l=u=>{console.error(`Failure loading font ${o}`,u)};try{const u=new XMLHttpRequest;u.open("get",o,!0),u.responseType="arraybuffer",u.onload=function(){if(u.status>=400)l(new Error(u.statusText));else if(u.status>0)try{const c=t(u.response);c.src=o,s(c)}catch(c){l(c)}},u.onerror=l,u.send()}catch(u){l(u)}}function a(o,s){let l=n[o];l?s(l):r[o]?r[o].push(s):(r[o]=[s],i(o,u=>{u.src=o,n[o]=u,r[o].forEach(c=>c(u)),delete r[o]}))}return function(o,s,{lang:l,fonts:u=[],style:c="normal",weight:f="normal",unicodeFontsURL:h}={}){const m=new Uint8Array(o.length),g=[];o.length||S();const y=new Map,x=[];if(c!=="italic"&&(c="normal"),typeof f!="number"&&(f=f==="bold"?700:400),u&&!Array.isArray(u)&&(u=[u]),u=u.slice().filter(b=>!b.lang||b.lang.test(l)).reverse(),u.length){let T=0;(function C(P=0){for(let O=P,I=o.length;O<I;O++){const D=o.codePointAt(O);if(T===1&&g[m[O-1]].supportsCodePoint(D)||O>0&&/\s/.test(o[O]))m[O]=m[O-1],T===2&&(x[x.length-1][1]=O);else for(let F=m[O],B=u.length;F<=B;F++)if(F===B){const W=T===2?x[x.length-1]:x[x.length]=[O,O];W[1]=O,T=2}else{m[O]=F;const{src:W,unicodeRange:V}=u[F];if(!V||_(D,V)){const Q=n[W];if(!Q){a(W,()=>{C(O)});return}if(Q.supportsCodePoint(D)){let N=y.get(Q);typeof N!="number"&&(N=g.length,g.push(Q),y.set(Q,N)),m[O]=N,T=1;break}}}D>65535&&O+1<I&&(m[O+1]=m[O],O++,T===2&&(x[x.length-1][1]=O))}v()})()}else x.push([0,o.length-1]),v();function v(){if(x.length){const b=x.map(E=>o.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(b,{lang:l||void 0,style:c,weight:f,dataUrl:h}).then(({fontUrls:E,chars:M})=>{const T=g.length;let C=0;x.forEach(O=>{for(let I=0,D=O[1]-O[0];I<=D;I++)m[O[0]+I]=M[C++]+T;C++});let P=0;E.forEach((O,I)=>{a(O,D=>{g[I+T]=D,++P===E.length&&S()})})})}else S()}function S(){s({chars:m,fonts:g})}function _(b,E){for(let M=0;M<E.length;M++){const[T,C=T]=E[M];if(T<=b&&b<=C)return!0}return!1}}}const tMe=Kh({name:"FontResolver",dependencies:[eMe,Jbe,Qbe],init(t,e,n){return t(e,n())}});function nMe(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",a=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function o({text:g,lang:y,fonts:x,style:v,weight:S,preResolvedFonts:_,unicodeFontsURL:b},E){const M=({chars:T,fonts:C})=>{let P,O;const I=[];for(let D=0;D<T.length;D++)T[D]!==O?(O=T[D],I.push(P={start:D,end:D,fontObj:C[T[D]]})):P.end=D;E(I)};_?M(_):t(g,M,{lang:y,fonts:x,style:v,weight:S,unicodeFontsURL:b})}function s({text:g="",font:y,lang:x,sdfGlyphSize:v=64,fontSize:S=400,fontWeight:_=1,fontStyle:b="normal",letterSpacing:E=0,lineHeight:M="normal",maxWidth:T=1/0,direction:C,textAlign:P="left",textIndent:O=0,whiteSpace:I="normal",overflowWrap:D="normal",anchorX:F=0,anchorY:B=0,metricsOnly:W=!1,unicodeFontsURL:V,preResolvedFonts:Q=null,includeCaretPositions:N=!1,chunkedBoundsSize:j=8192,colorRanges:G=null},H){const $=f(),ie={fontLoad:0,typesetting:0};g.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),g=g.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),S=+S,E=+E,T=+T,M=M||"normal",O=+O,o({text:g,lang:x,style:b,weight:_,fonts:typeof y=="string"?[{src:y}]:y,unicodeFontsURL:V,preResolvedFonts:Q},Z=>{ie.fontLoad=f()-$;const ae=isFinite(T);let ce=null,fe=null,Ae=null,ve=null,Ie=null,X=null,J=null,_e=null,Me=0,Te=0,Ce=I!=="nowrap";const He=new Map,Pe=f();let Xe=O,q=0,U=new h;const de=[U];Z.forEach(ke=>{const{fontObj:ze}=ke,{ascender:et,descender:Ve,unitsPerEm:Je,lineGap:dt,capHeight:Qe,xHeight:Be}=ze;let qe=He.get(ze);if(!qe){const le=S/Je,Re=M==="normal"?(et-Ve+dt)*le:M*S,Ke=(Re-(et-Ve)*le)/2,lt=Math.min(Re,(et-Ve)*le),ut=(et+Ve)/2*le+lt/2;qe={index:He.size,src:ze.src,fontObj:ze,fontSizeMult:le,unitsPerEm:Je,ascender:et*le,descender:Ve*le,capHeight:Qe*le,xHeight:Be*le,lineHeight:Re,baseline:-Ke-et*le,caretTop:ut,caretBottom:ut-lt},He.set(ze,qe)}const{fontSizeMult:ue}=qe,Ue=g.slice(ke.start,ke.end+1);let re,je;ze.forEachGlyph(Ue,S,E,(le,Re,Ke,lt)=>{Re+=q,lt+=ke.start,re=Re,je=le;const ut=g.charAt(lt),Et=le.advanceWidth*ue,At=U.count;let ot;if("isEmpty"in le||(le.isWhitespace=!!ut&&new RegExp(i).test(ut),le.canBreakAfter=!!ut&&a.test(ut),le.isEmpty=le.xMin===le.xMax||le.yMin===le.yMax||r.test(ut)),!le.isWhitespace&&!le.isEmpty&&Te++,Ce&&ae&&!le.isWhitespace&&Re+Et+Xe>T&&At){if(U.glyphAt(At-1).glyphObj.canBreakAfter)ot=new h,Xe=-Re;else for(let Kt=At;Kt--;)if(Kt===0&&D==="break-word"){ot=new h,Xe=-Re;break}else if(U.glyphAt(Kt).glyphObj.canBreakAfter){ot=U.splitAt(Kt+1);const rn=ot.glyphAt(0).x;Xe-=rn;for(let Mn=ot.count;Mn--;)ot.glyphAt(Mn).x-=rn;break}ot&&(U.isSoftWrapped=!0,U=ot,de.push(U),Me=T)}let Nt=U.glyphAt(U.count);Nt.glyphObj=le,Nt.x=Re+Xe,Nt.y=Ke,Nt.width=Et,Nt.charIndex=lt,Nt.fontData=qe,ut===`
`&&(U=new h,de.push(U),Xe=-(Re+Et+E*S)+O)}),q=re+je.advanceWidth*ue+E*S});let pe=0;de.forEach(ke=>{let ze=!0;for(let et=ke.count;et--;){const Ve=ke.glyphAt(et);ze&&!Ve.glyphObj.isWhitespace&&(ke.width=Ve.x+Ve.width,ke.width>Me&&(Me=ke.width),ze=!1);let{lineHeight:Je,capHeight:dt,xHeight:Qe,baseline:Be}=Ve.fontData;Je>ke.lineHeight&&(ke.lineHeight=Je);const qe=Be-ke.baseline;qe<0&&(ke.baseline+=qe,ke.cap+=qe,ke.ex+=qe),ke.cap=Math.max(ke.cap,ke.baseline+dt),ke.ex=Math.max(ke.ex,ke.baseline+Qe)}ke.baseline-=pe,ke.cap-=pe,ke.ex-=pe,pe+=ke.lineHeight});let we=0,Ee=0;if(F&&(typeof F=="number"?we=-F:typeof F=="string"&&(we=-Me*(F==="left"?0:F==="center"?.5:F==="right"?1:u(F)))),B&&(typeof B=="number"?Ee=-B:typeof B=="string"&&(Ee=B==="top"?0:B==="top-baseline"?-de[0].baseline:B==="top-cap"?-de[0].cap:B==="top-ex"?-de[0].ex:B==="middle"?pe/2:B==="bottom"?pe:B==="bottom-baseline"?-de[de.length-1].baseline:u(B)*pe)),!W){const ke=e.getEmbeddingLevels(g,C);ce=new Uint16Array(Te),fe=new Uint8Array(Te),Ae=new Float32Array(Te*2),ve={},J=[1/0,1/0,-1/0,-1/0],_e=[],N&&(X=new Float32Array(g.length*4)),G&&(Ie=new Uint8Array(Te*3));let ze=0,et=-1,Ve=-1,Je,dt;if(de.forEach((Qe,Be)=>{let{count:qe,width:ue}=Qe;if(qe>0){let Ue=0;for(let lt=qe;lt--&&Qe.glyphAt(lt).glyphObj.isWhitespace;)Ue++;let re=0,je=0;if(P==="center")re=(Me-ue)/2;else if(P==="right")re=Me-ue;else if(P==="justify"&&Qe.isSoftWrapped){let lt=0;for(let ut=qe-Ue;ut--;)Qe.glyphAt(ut).glyphObj.isWhitespace&&lt++;je=(Me-ue)/lt}if(je||re){let lt=0;for(let ut=0;ut<qe;ut++){let Et=Qe.glyphAt(ut);const At=Et.glyphObj;Et.x+=re+lt,je!==0&&At.isWhitespace&&ut<qe-Ue&&(lt+=je,Et.width+=je)}}const le=e.getReorderSegments(g,ke,Qe.glyphAt(0).charIndex,Qe.glyphAt(Qe.count-1).charIndex);for(let lt=0;lt<le.length;lt++){const[ut,Et]=le[lt];let At=1/0,ot=-1/0;for(let Nt=0;Nt<qe;Nt++)if(Qe.glyphAt(Nt).charIndex>=ut){let Kt=Nt,rn=Nt;for(;rn<qe;rn++){let Mn=Qe.glyphAt(rn);if(Mn.charIndex>Et)break;rn<qe-Ue&&(At=Math.min(At,Mn.x),ot=Math.max(ot,Mn.x+Mn.width))}for(let Mn=Kt;Mn<rn;Mn++){const Or=Qe.glyphAt(Mn);Or.x=ot-(Or.x+Or.width-At)}break}}let Re;const Ke=lt=>Re=lt;for(let lt=0;lt<qe;lt++){const ut=Qe.glyphAt(lt);Re=ut.glyphObj;const Et=Re.index,At=ke.levels[ut.charIndex]&1;if(At){const ot=e.getMirroredCharacter(g[ut.charIndex]);ot&&ut.fontData.fontObj.forEachGlyph(ot,0,0,Ke)}if(N){const{charIndex:ot,fontData:Nt}=ut,Kt=ut.x+we,rn=ut.x+ut.width+we;X[ot*4]=At?rn:Kt,X[ot*4+1]=At?Kt:rn,X[ot*4+2]=Qe.baseline+Nt.caretBottom+Ee,X[ot*4+3]=Qe.baseline+Nt.caretTop+Ee;const Mn=ot-et;Mn>1&&c(X,et,Mn),et=ot}if(G){const{charIndex:ot}=ut;for(;ot>Ve;)Ve++,G.hasOwnProperty(Ve)&&(dt=G[Ve])}if(!Re.isWhitespace&&!Re.isEmpty){const ot=ze++,{fontSizeMult:Nt,src:Kt,index:rn}=ut.fontData,Mn=ve[Kt]||(ve[Kt]={});Mn[Et]||(Mn[Et]={path:Re.path,pathBounds:[Re.xMin,Re.yMin,Re.xMax,Re.yMax]});const Or=ut.x+we,xr=ut.y+Qe.baseline+Ee;Ae[ot*2]=Or,Ae[ot*2+1]=xr;const cr=Or+Re.xMin*Nt,_r=xr+Re.yMin*Nt,Fn=Or+Re.xMax*Nt,It=xr+Re.yMax*Nt;cr<J[0]&&(J[0]=cr),_r<J[1]&&(J[1]=_r),Fn>J[2]&&(J[2]=Fn),It>J[3]&&(J[3]=It),ot%j===0&&(Je={start:ot,end:ot,rect:[1/0,1/0,-1/0,-1/0]},_e.push(Je)),Je.end++;const jn=Je.rect;if(cr<jn[0]&&(jn[0]=cr),_r<jn[1]&&(jn[1]=_r),Fn>jn[2]&&(jn[2]=Fn),It>jn[3]&&(jn[3]=It),ce[ot]=Et,fe[ot]=rn,G){const Wi=ot*3;Ie[Wi]=dt>>16&255,Ie[Wi+1]=dt>>8&255,Ie[Wi+2]=dt&255}}}}}),X){const Qe=g.length-et;Qe>1&&c(X,et,Qe)}}const rt=[];He.forEach(({index:ke,src:ze,unitsPerEm:et,ascender:Ve,descender:Je,lineHeight:dt,capHeight:Qe,xHeight:Be})=>{rt[ke]={src:ze,unitsPerEm:et,ascender:Ve,descender:Je,lineHeight:dt,capHeight:Qe,xHeight:Be}}),ie.typesetting=f()-Pe,H({glyphIds:ce,glyphFontIndices:fe,glyphPositions:Ae,glyphData:ve,fontData:rt,caretPositions:X,glyphColors:Ie,chunkedBounds:_e,fontSize:S,topBaseline:Ee+de[0].baseline,blockBounds:[we,Ee-pe,we+Me,Ee],visibleBounds:J,timings:ie})})}function l(g,y){s({...g,metricsOnly:!0},x=>{const[v,S,_,b]=x.blockBounds;y({width:_-v,height:b-S})})}function u(g){let y=g.match(/^([\d.]+)%$/),x=y?parseFloat(y[1]):NaN;return isNaN(x)?0:x/100}function c(g,y,x){const v=g[y*4],S=g[y*4+1],_=g[y*4+2],b=g[y*4+3],E=(S-v)/x;for(let M=0;M<x;M++){const T=(y+M)*4;g[T]=v+E*M,g[T+1]=v+E*(M+1),g[T+2]=_,g[T+3]=b}}function f(){return(self.performance||Date).now()}function h(){this.data=[]}const m=["glyphObj","x","y","width","charIndex","fontData"];return h.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/m.length)},glyphAt(g){let y=h.flyweight;return y.data=this.data,y.index=g,y},splitAt(g){let y=new h;return y.data=this.data.splice(g*m.length),y}},h.flyweight=m.reduce((g,y,x,v)=>(Object.defineProperty(g,y,{get(){return this.data[this.index*m.length+x]},set(S){this.data[this.index*m.length+x]=S}}),g),{data:null,index:0}),{typeset:s,measure:l}}const Ju=()=>(self.performance||Date).now(),C1=oH();let Sk;function rMe(t,e,n,r,i,a,o,s,l,u,c=!0){return c?aMe(t,e,n,r,i,a,o,s,l,u).then(null,f=>(Sk||(console.warn("WebGL SDF generation failed, falling back to JS",f),Sk=!0),bk(t,e,n,r,i,a,o,s,l,u))):bk(t,e,n,r,i,a,o,s,l,u)}const g0=[],iMe=5;let zA=0;function lH(){const t=Ju();for(;g0.length&&Ju()-t<iMe;)g0.shift()();zA=g0.length?setTimeout(lH,0):0}const aMe=(...t)=>new Promise((e,n)=>{g0.push(()=>{const r=Ju();try{C1.webgl.generateIntoCanvas(...t),e({timing:Ju()-r})}catch(i){n(i)}}),zA||(zA=setTimeout(lH,0))}),oMe=4,sMe=2e3,wk={};let lMe=0;function bk(t,e,n,r,i,a,o,s,l,u){const c="TroikaTextSDFGenerator_JS_"+lMe++%oMe;let f=wk[c];return f||(f=wk[c]={workerModule:Kh({name:c,workerId:c,dependencies:[oH,Ju],init(h,m){const g=h().javascript.generate;return function(...y){const x=m();return{textureData:g(...y),timing:m()-x}}},getTransferables(h){return[h.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,a).then(({textureData:h,timing:m})=>{const g=Ju(),y=new Uint8Array(h.length*4);for(let x=0;x<h.length;x++)y[x*4+u]=h[x];return C1.webglUtils.renderImageData(o,y,s,l,t,e,1<<3-u),m+=Ju()-g,--f.requests===0&&(f.idleTimer=setTimeout(()=>{Bbe(c)},sMe)),{timing:m}})}function uMe(t){t._warm||(C1.webgl.isSupported(t),t._warm=!0)}const cMe=C1.webglUtils.resizeWebGLCanvasWithoutClearing,up={unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},fMe=new ht;function pf(){return(self.performance||Date).now()}const Mk=Object.create(null);function uH(t,e){t=pMe({},t);const n=pf(),r=[];if(t.font&&r.push({label:"user",src:mMe(t.font)}),t.font=r,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||up.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||up.unicodeFontsURL,t.colorRanges!=null){let h={};for(let m in t.colorRanges)if(t.colorRanges.hasOwnProperty(m)){let g=t.colorRanges[m];typeof g!="number"&&(g=fMe.set(g).getHex()),h[m]=g}t.colorRanges=h}Object.freeze(t);const{textureWidth:i,sdfExponent:a}=up,{sdfGlyphSize:o}=t,s=i/o*4;let l=Mk[o];if(!l){const h=document.createElement("canvas");h.width=i,h.height=o*256/s,l=Mk[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:h,sdfTexture:new yn(h,void 0,void 0,void 0,hn,hn),contextLost:!1,glyphsByFont:new Map},l.sdfTexture.generateMipmaps=!1,hMe(l)}const{sdfTexture:u,sdfCanvas:c}=l;hH(t).then(h=>{const{glyphIds:m,glyphFontIndices:g,fontData:y,glyphPositions:x,fontSize:v,timings:S}=h,_=[],b=new Float32Array(m.length*4);let E=0,M=0;const T=pf(),C=y.map(F=>{let B=l.glyphsByFont.get(F.src);return B||l.glyphsByFont.set(F.src,B=new Map),B});m.forEach((F,B)=>{const W=g[B],{src:V,unitsPerEm:Q}=y[W];let N=C[W].get(F);if(!N){const{path:ie,pathBounds:Z}=h.glyphData[V][F],ae=Math.max(Z[2]-Z[0],Z[3]-Z[1])/o*(up.sdfMargin*o+.5),ce=l.glyphCount++,fe=[Z[0]-ae,Z[1]-ae,Z[2]+ae,Z[3]+ae];C[W].set(F,N={path:ie,atlasIndex:ce,sdfViewBox:fe}),_.push(N)}const{sdfViewBox:j}=N,G=x[M++],H=x[M++],$=v/Q;b[E++]=G+j[0]*$,b[E++]=H+j[1]*$,b[E++]=G+j[2]*$,b[E++]=H+j[3]*$,m[B]=N.atlasIndex}),S.quads=(S.quads||0)+(pf()-T);const P=pf();S.sdf={};const O=c.height,I=Math.ceil(l.glyphCount/s),D=Math.pow(2,Math.ceil(Math.log2(I*o)));D>O&&(console.info(`Increasing SDF texture size ${O}->${D}`),cMe(c,i,D),u.dispose()),Promise.all(_.map(F=>cH(F,l,t.gpuAccelerateSDF).then(({timing:B})=>{S.sdf[F.atlasIndex]=B}))).then(()=>{_.length&&!l.contextLost&&(fH(l),u.needsUpdate=!0),S.sdfTotal=pf()-P,S.total=pf()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:o,sdfExponent:a,glyphBounds:b,glyphAtlasIndices:m,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{l.contextLost||uMe(c)})}function cH({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:a},o){if(a)return Promise.resolve({timing:-1});const{textureWidth:s,sdfExponent:l}=up,u=Math.max(n[2]-n[0],n[3]-n[1]),c=Math.floor(e/4),f=c%(s/r)*r,h=Math.floor(c/(s/r))*r,m=e%4;return rMe(r,r,t,n,u,l,i,f,h,m,o)}function hMe(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(a=>{r.push(cH(a,t,!0))})}),Promise.all(r).then(()=>{fH(t),t.sdfTexture.needsUpdate=!0})})}function dMe({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;uH({font:t,sdfGlyphSize:n,text:i},r)}function pMe(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let $y;function mMe(t){return $y||($y=typeof document>"u"?{}:document.createElement("a")),$y.href=t,$y.href}function fH(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,a=t.sdfCanvas.getContext("webgl");let o=n.image.data;(!o||o.length!==r*i*4)&&(o=new Uint8Array(r*i*4),n.image={width:r,height:i,data:o},n.flipY=!1,n.isDataTexture=!0),a.readPixels(0,0,r,i,a.RGBA,a.UNSIGNED_BYTE,o)}}const gMe=Kh({name:"Typesetter",dependencies:[nMe,tMe,Hbe],init(t,e,n){return t(e,n())}}),hH=Kh({name:"Typesetter",dependencies:[gMe],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});hH.onMainThread;const Ek={};function vMe(t){let e=Ek[t];return e||(e=Ek[t]=new go(1,1,t,t).translate(.5,.5,0)),e}const yMe="aTroikaGlyphBounds",Ak="aTroikaGlyphIndex",xMe="aTroikaGlyphColor";class _Me extends EP{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new qr,this.boundingBox=new Yr}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=vMe(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,a){this.updateAttributeData(yMe,e,4),this.updateAttributeData(Ak,n,1),this.updateAttributeData(xMe,a,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:a,min:o,max:s,sin:l,cos:u}=Math,c=i/2,f=i*2,h=Math.abs(n),m=e[0]/h,g=e[2]/h,y=a((m+c)/f)!==a((g+c)/f)?-h:o(l(m)*h,l(g)*h),x=a((m-c)/f)!==a((g-c)/f)?h:s(l(m)*h,l(g)*h),v=a((m+i)/f)!==a((g+i)/f)?h*2:s(h-u(m)*h,h-u(g)*h);r.min.set(y,e[1],n<0?-v:0),r.max.set(x,e[3],n<0?0:v)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(Ak).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let a=r[i].rect;if(a[1]<e.w&&a[3]>e.y&&a[0]<e.z&&a[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new hc(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const SMe=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,wMe=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,bMe=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,MMe=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function EMe(t){const e=BA(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new We},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new mn(0,0,0,0)},uTroikaClipRect:{value:new mn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new We},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new ht},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new zt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:SMe,vertexTransform:wMe,fragmentDefs:bMe,fragmentColorTransform:MMe,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(sH,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const kP=new Go({color:16777215,side:Da,transparent:!0}),Tk=8421504,Pk=new Rt,Xy=new ee,bb=new ee,ep=[],AMe=new ee,Mb="+x+y";function Ck(t){return Array.isArray(t)?t[0]:t}let dH=()=>{const t=new In(new go(1,1),kP);return dH=()=>t,t},pH=()=>{const t=new In(new go(1,1,32,1),kP);return pH=()=>t,t};const TMe={type:"syncstart"},PMe={type:"synccomplete"},mH=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],CMe=mH.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let gH=class extends In{constructor(){const e=new _Me;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Tk,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=Mb,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(TMe),uH({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(PMe),e&&e()})))}onBeforeRender(e,n,r,i,a,o){this.sync(),a.isTroikaTextMaterial&&this._prepareForRender(a)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return EMe(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=kP.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return Ck(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return Ck(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:s,blockBounds:l}=i;r.uTroikaSDFTexture.value=s,r.uTroikaSDFTextureSize.value.set(s.image.width,s.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let u=0,c=0,f=0,h,m,g,y=0,x=0;if(n){let{outlineWidth:S,outlineOffsetX:_,outlineOffsetY:b,outlineBlur:E,outlineOpacity:M}=this;u=this._parsePercent(S)||0,c=Math.max(0,this._parsePercent(E)||0),h=M,y=this._parsePercent(_)||0,x=this._parsePercent(b)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(g=this.strokeColor,r.uTroikaStrokeColor.value.set(g??Tk),m=this.strokeOpacity,m==null&&(m=1)),h=this.fillOpacity;r.uTroikaEdgeOffset.value=u,r.uTroikaPositionOffset.value.set(y,x),r.uTroikaBlurRadius.value=c,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=m,r.uTroikaFillOpacity.value=h??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let v=this.clipRect;if(v&&Array.isArray(v)&&v.length===4)r.uTroikaClipRect.value.fromArray(v);else{const S=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-S,l[1]-S,l[2]+S,l[3]+S)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const a=n?this.outlineColor||0:this.color;if(a==null)delete e.color;else{const s=e.hasOwnProperty("color")?e.color:e.color=new ht;(a!==s._input||typeof a=="object")&&s.set(s._input=a)}let o=this.orientation||Mb;if(o!==e._orientation){let s=r.uTroikaOrient.value;o=o.replace(/[^-+xyz]/g,"");let l=o!==Mb&&o.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,u,c,f,h]=l;Xy.set(0,0,0)[c]=u==="-"?1:-1,bb.set(0,0,0)[h]=f==="-"?-1:1,Pk.lookAt(AMe,Xy.cross(bb),bb),s.setFromMatrix4(Pk)}else s.identity();e._orientation=o}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new We){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new We){return Xy.copy(e),this.localPositionToTextCoords(this.worldToLocal(Xy),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const a=r.blockBounds,o=i?pH():dH(),s=o.geometry,{position:l,uv:u}=s.attributes;for(let c=0;c<u.count;c++){let f=a[0]+u.getX(c)*(a[2]-a[0]);const h=a[1]+u.getY(c)*(a[3]-a[1]);let m=0;i&&(m=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(c,f,h,m)}s.boundingSphere=this.geometry.boundingSphere,s.boundingBox=this.geometry.boundingBox,o.matrixWorld=this.matrixWorld,o.material.side=this.material.side,ep.length=0,o.raycast(e,ep);for(let c=0;c<ep.length;c++)ep[c].object=this,n.push(ep[c])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,CMe.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};mH.forEach(t=>{const e="_private_"+t;Object.defineProperty(gH.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Yr;new ht;const ls=he.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:a,characters:o,onSync:s,...l},u)=>{const c=ki(({invalidate:g})=>g),[f]=he.useState(()=>new gH),[h,m]=he.useMemo(()=>{const g=[];let y="";return he.Children.forEach(a,x=>{typeof x=="string"||typeof x=="number"?y+=x:g.push(x)}),[g,y]},[a]);return R8(()=>new Promise(g=>dMe({font:r,characters:o},g)),["troika-text",r,o]),he.useLayoutEffect(()=>void f.sync(()=>{c(),s&&s(f)})),he.useEffect(()=>()=>f.dispose(),[f]),he.createElement("primitive",dh({object:f,ref:u,font:r,text:m,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),h)}),OMe=he.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:a=!1,onChange:o,onStart:s,onEnd:l,...u},c)=>{const f=ki(M=>M.invalidate),h=ki(M=>M.camera),m=ki(M=>M.gl),g=ki(M=>M.events),y=ki(M=>M.setEvents),x=ki(M=>M.set),v=ki(M=>M.get),S=ki(M=>M.performance),_=e||h,b=r||g.connected||m.domElement,E=he.useMemo(()=>new Ibe(_),[_]);return P1(()=>{E.enabled&&E.update()},-1),he.useEffect(()=>(a&&E.connect(a===!0?b:a),E.connect(b),()=>void E.dispose()),[a,b,n,E,f]),he.useEffect(()=>{const M=P=>{f(),n&&S.regress(),o&&o(P)},T=P=>{s&&s(P)},C=P=>{l&&l(P)};return E.addEventListener("change",M),E.addEventListener("start",T),E.addEventListener("end",C),()=>{E.removeEventListener("start",T),E.removeEventListener("end",C),E.removeEventListener("change",M)}},[o,s,l,E,f,y]),he.useEffect(()=>{if(t){const M=v().controls;return x({controls:E}),()=>x({controls:M})}},[t,E]),he.createElement("primitive",dh({ref:c,object:E,enableDamping:i},u))}),RMe=3e3,IMe=3001;var LMe=`#define GLSLIFY 1
vec3 mod289(vec3 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 mod289(vec4 x){return x-floor(x*(1.0/289.0))*289.0;}vec4 permute(vec4 x){return mod289(((x*34.0)+1.0)*x);}vec4 taylorInvSqrt(vec4 r){return 1.79284291400159-0.85373472095314*r;}float snoise(vec3 v){const vec2 C=vec2(1.0/6.0,1.0/3.0);const vec4 D=vec4(0.0,0.5,1.0,2.0);vec3 i=floor(v+dot(v,C.yyy));vec3 x0=v-i+dot(i,C.xxx);vec3 g=step(x0.yzx,x0.xyz);vec3 l=1.0-g;vec3 i1=min(g.xyz,l.zxy);vec3 i2=max(g.xyz,l.zxy);vec3 x1=x0-i1+C.xxx;vec3 x2=x0-i2+C.yyy;vec3 x3=x0-D.yyy;i=mod289(i);vec4 p=permute(permute(permute(i.z+vec4(0.0,i1.z,i2.z,1.0))+i.y+vec4(0.0,i1.y,i2.y,1.0))+i.x+vec4(0.0,i1.x,i2.x,1.0));float n_=0.142857142857;vec3 ns=n_*D.wyz-D.xzx;vec4 j=p-49.0*floor(p*ns.z*ns.z);vec4 x_=floor(j*ns.z);vec4 y_=floor(j-7.0*x_);vec4 x=x_*ns.x+ns.yyyy;vec4 y=y_*ns.x+ns.yyyy;vec4 h=1.0-abs(x)-abs(y);vec4 b0=vec4(x.xy,y.xy);vec4 b1=vec4(x.zw,y.zw);vec4 s0=floor(b0)*2.0+1.0;vec4 s1=floor(b1)*2.0+1.0;vec4 sh=-step(h,vec4(0.0));vec4 a0=b0.xzyw+s0.xzyw*sh.xxyy;vec4 a1=b1.xzyw+s1.xzyw*sh.zzww;vec3 p0=vec3(a0.xy,h.x);vec3 p1=vec3(a0.zw,h.y);vec3 p2=vec3(a1.xy,h.z);vec3 p3=vec3(a1.zw,h.w);vec4 norm=taylorInvSqrt(vec4(dot(p0,p0),dot(p1,p1),dot(p2,p2),dot(p3,p3)));p0*=norm.x;p1*=norm.y;p2*=norm.z;p3*=norm.w;vec4 m=max(0.6-vec4(dot(x0,x0),dot(x1,x1),dot(x2,x2),dot(x3,x3)),0.0);m=m*m;return 42.0*dot(m*m,vec4(dot(p0,x0),dot(p1,x1),dot(p2,x2),dot(p3,x3)));}`;class DMe extends xP{constructor(e={}){super(e),this.setValues(e),this._time={value:0},this._distort={value:.4},this._radius={value:1}}onBeforeCompile(e){e.uniforms.time=this._time,e.uniforms.radius=this._radius,e.uniforms.distort=this._distort,e.vertexShader=`
      uniform float time;
      uniform float radius;
      uniform float distort;
      ${LMe}
      ${e.vertexShader}
    `,e.vertexShader=e.vertexShader.replace("#include <begin_vertex>",`
        float updateTime = time / 50.0;
        float noise = snoise(vec3(position / 2.0 + updateTime * 5.0));
        vec3 transformed = vec3(position * (noise * pow(distort, 2.0) + radius));
        `)}get time(){return this._time.value}set time(e){this._time.value=e}get distort(){return this._distort.value}set distort(e){this._distort.value=e}get radius(){return this._radius.value}set radius(e){this._radius.value=e}}const Ok=he.forwardRef(({speed:t=1,...e},n)=>{const[r]=he.useState(()=>new DMe);return P1(i=>r&&(r.time=i.clock.elapsedTime*t)),he.createElement("primitive",dh({object:r,ref:n,attach:"material"},e))}),vH=(t,e,n)=>{let r;switch(t){case ma:r=new Uint8ClampedArray(e*n*4);break;case $r:r=new Uint16Array(e*n*4);break;case Rl:r=new Uint32Array(e*n*4);break;case G2:r=new Int8Array(e*n*4);break;case V2:r=new Int16Array(e*n*4);break;case e1:r=new Int32Array(e*n*4);break;case tr:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let Yy;const NMe=(t,e,n,r)=>{if(Yy!==void 0)return Yy;const i=new ga(1,1,r);e.setRenderTarget(i);const a=new In(new go,new Go({color:16777215}));e.render(a,n),e.setRenderTarget(null);const o=vH(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,o),i.dispose(),a.geometry.dispose(),a.material.dispose(),Yy=o[0]!==0,Yy};class UP{constructor(e){Kn(this,"_renderer");Kn(this,"_rendererIsDisposable",!1);Kn(this,"_material");Kn(this,"_scene");Kn(this,"_camera");Kn(this,"_quad");Kn(this,"_renderTarget");Kn(this,"_width");Kn(this,"_height");Kn(this,"_type");Kn(this,"_colorSpace");Kn(this,"_supportsReadPixels",!0);Kn(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var r,i,a,o,s,l,u,c,f,h,m,g,y,x,v,S;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:vr,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)==null?void 0:r.anisotropy)!==void 0?(i=e.renderTargetOptions)==null?void 0:i.anisotropy:1,generateMipmaps:((a=e.renderTargetOptions)==null?void 0:a.generateMipmaps)!==void 0?(o=e.renderTargetOptions)==null?void 0:o.generateMipmaps:!1,magFilter:((s=e.renderTargetOptions)==null?void 0:s.magFilter)!==void 0?(l=e.renderTargetOptions)==null?void 0:l.magFilter:hn,minFilter:((u=e.renderTargetOptions)==null?void 0:u.minFilter)!==void 0?(c=e.renderTargetOptions)==null?void 0:c.minFilter:hn,samples:((f=e.renderTargetOptions)==null?void 0:f.samples)!==void 0?(h=e.renderTargetOptions)==null?void 0:h.samples:void 0,wrapS:((m=e.renderTargetOptions)==null?void 0:m.wrapS)!==void 0?(g=e.renderTargetOptions)==null?void 0:g.wrapS:gr,wrapT:((y=e.renderTargetOptions)==null?void 0:y.wrapT)!==void 0?(x=e.renderTargetOptions)==null?void 0:x.wrapT:gr};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=UP.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new _g,this._camera=new Ms,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!NMe(this._type,this._renderer,this._camera,n)){let _;switch(this._type){case $r:_=this._renderer.extensions.has("EXT_color_buffer_float")?tr:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${tr}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new In(new go,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new ga(this.width,this.height,n),this._renderTarget.texture.mapping=((v=e.renderTargetOptions)==null?void 0:v.mapping)!==void 0?(S=e.renderTargetOptions)==null?void 0:S.mapping:Cl}static instantiateRenderer(){const e=new lP;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=vH(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new Fo(this.toArray(),this.width,this.height,vr,this._type,(e==null?void 0:e.mapping)||Cl,(e==null?void 0:e.wrapS)||gr,(e==null?void 0:e.wrapT)||gr,(e==null?void 0:e.magFilter)||hn,(e==null?void 0:e.minFilter)||hn,(e==null?void 0:e.anisotropy)||1,Va);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Gi&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof yn&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof yn&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class yH extends Error{}class xH extends Error{}const tp=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const a=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return a&&a.length===3?a.map(o=>o.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},kMe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const a=tp(i,"hdrgm:GainMapMin","0"),o=tp(i,"hdrgm:GainMapMax"),s=tp(i,"hdrgm:Gamma","1"),l=tp(i,"hdrgm:OffsetSDR","0.015625"),u=tp(i,"hdrgm:OffsetHDR","0.015625"),c=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),f=c?c[1]:"0",h=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!h)throw new Error("Incomplete gainmap metadata");const m=h[1];return{gainMapMin:Array.isArray(a)?a.map(g=>parseFloat(g)):[parseFloat(a),parseFloat(a),parseFloat(a)],gainMapMax:Array.isArray(o)?o.map(g=>parseFloat(g)):[parseFloat(o),parseFloat(o),parseFloat(o)],gamma:Array.isArray(s)?s.map(g=>parseFloat(g)):[parseFloat(s),parseFloat(s),parseFloat(s)],offsetSdr:Array.isArray(l)?l.map(g=>parseFloat(g)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(u)?u.map(g=>parseFloat(g)):[parseFloat(u),parseFloat(u),parseFloat(u)],hdrCapacityMin:parseFloat(f),hdrCapacityMax:parseFloat(m)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class UMe{constructor(e){Kn(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,a=new DataView(e.buffer);if(a.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const o=a.byteLength;let s=2,l=0,u;for(;s<o;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(a.getUint8(s)!==255){r(new Error(`Not a valid marker at offset 0x${s.toString(16)}, found: 0x${a.getUint8(s).toString(16)}`));return}if(u=a.getUint8(s+1),i&&console.log(`Marker: ${u.toString(16)}`),u===226){i&&console.log("Found APP2 marker (0xffe2)");const c=s+4;if(a.getUint32(c)===1297106432){const f=c+4;let h;if(a.getUint16(f)===18761)h=!1;else if(a.getUint16(f)===19789)h=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(a.getUint16(f+2,!h)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const m=a.getUint32(f+4,!h);if(m<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const g=f+m,y=a.getUint16(g,!h),x=g+2;let v=0;for(let E=x;E<x+12*y;E+=12)a.getUint16(E,!h)===45057&&(v=a.getUint32(E+8,!h));const _=g+2+y*12+4,b=[];for(let E=_;E<_+v*16;E+=16){const M={MPType:a.getUint32(E,!h),size:a.getUint32(E+4,!h),dataOffset:a.getUint32(E+8,!h),dependantImages:a.getUint32(E+12,!h),start:-1,end:-1,isFII:!1};M.dataOffset?(M.start=f+M.dataOffset,M.isFII=!1):(M.start=0,M.isFII=!0),M.end=M.start+M.size,b.push(M)}if(this.options.extractNonFII&&b.length){const E=new Blob([a]),M=[];for(const T of b){if(T.isFII&&!this.options.extractFII)continue;const C=E.slice(T.start,T.end+1,"image/jpeg");M.push(C)}n(M)}}}s+=2+a.getUint16(s+2)}})}}const FMe=async t=>{const e=kMe(t);if(!e)throw new xH("Gain map XMP metadata not found");const r=await new UMe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new yH("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},Rk=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class BMe extends Ci{constructor(n,r){super(r);Kn(this,"_renderer");Kn(this,"_renderTargetOptions");Kn(this,"_internalLoadingManager");Kn(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new A1}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new yn,sdr:new yn});return this._config.createQuadRenderer({width:16,height:16,type:$r,colorSpace:Va,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,r,i){const a=r?new Blob([r],{type:"image/jpeg"}):void 0,o=new Blob([n],{type:"image/jpeg"});let s,l,u=!1;if(typeof createImageBitmap>"u"){const c=await Promise.all([a?Rk(a):Promise.resolve(void 0),Rk(o)]);l=c[0],s=c[1],u=i==="flipY"}else{const c=await Promise.all([a?createImageBitmap(a,{imageOrientation:i||"flipY"}):Promise.resolve(void 0),createImageBitmap(o,{imageOrientation:i||"flipY"})]);l=c[0],s=c[1]}return{sdrImage:s,gainMapImage:l,needsFlip:u}}createTextures(n,r,i){const a=new yn(r||new ImageData(2,2),Cl,gr,gr,hn,qE,vr,ma,1,Va);a.flipY=i,a.needsUpdate=!0;const o=new yn(n,Cl,gr,gr,hn,qE,vr,ma,1,oa);return o.flipY=i,o.needsUpdate=!0,{gainMap:a,sdr:o}}updateQuadRenderer(n,r,i,a,o){n.width=r.width,n.height=r.height,n.material.gainMap=i,n.material.sdr=a,n.material.gainMapMin=o.gainMapMin,n.material.gainMapMax=o.gainMapMax,n.material.offsetHdr=o.offsetHdr,n.material.offsetSdr=o.offsetSdr,n.material.gamma=o.gamma,n.material.hdrCapacityMin=o.hdrCapacityMin,n.material.hdrCapacityMax=o.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,o.hdrCapacityMax),n.material.needsUpdate=!0}}const zMe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,HMe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class jMe extends Gi{constructor({gamma:n,offsetHdr:r,offsetSdr:i,gainMapMin:a,gainMapMax:o,maxDisplayBoost:s,hdrCapacityMin:l,hdrCapacityMax:u,sdr:c,gainMap:f}){super({name:"GainMapDecoderMaterial",vertexShader:zMe,fragmentShader:HMe,uniforms:{sdr:{value:c},gainMap:{value:f},gamma:{value:new ee(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new ee().fromArray(r)},offsetSdr:{value:new ee().fromArray(i)},gainMapMin:{value:new ee().fromArray(a)},gainMapMax:{value:new ee().fromArray(o)},weightFactor:{value:(Math.log2(s)-l)/(u-l)}},blending:ko,depthTest:!1,depthWrite:!1});Kn(this,"_maxDisplayBoost");Kn(this,"_hdrCapacityMin");Kn(this,"_hdrCapacityMax");this._maxDisplayBoost=s,this._hdrCapacityMin=l,this._hdrCapacityMax=u,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const r=this.uniforms.gamma.value;r.x=1/n[0],r.y=1/n[1],r.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class _H extends BMe{constructor(e,n){super({renderer:e,createMaterial:r=>new jMe(r),createQuadRenderer:r=>new UP(r)},n)}async render(e,n,r,i){const{sdrImage:a,gainMapImage:o,needsFlip:s}=await this.processImages(r,i,"flipY"),{gainMap:l,sdr:u}=this.createTextures(a,o,s);this.updateQuadRenderer(e,a,l,u,n),e.render()}}class GMe extends _H{load([e,n,r],i,a,o){const s=this.prepareQuadRenderer();let l,u,c;const f=async()=>{if(l&&u&&c){try{await this.render(s,c,l,u)}catch(P){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof o=="function"&&o(P),s.disposeOnDemandRenderer();return}typeof i=="function"&&i(s),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),s.disposeOnDemandRenderer()}};let h=!0,m=0,g=0,y=!0,x=0,v=0,S=!0,_=0,b=0;const E=()=>{if(typeof a=="function"){const P=m+x+_,O=g+v+b,I=h&&y&&S;a(new ProgressEvent("progress",{lengthComputable:I,loaded:O,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const M=new ha(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");l=P,await f()},P=>{h=P.lengthComputable,g=P.loaded,m=P.total,E()},P=>{this.manager.itemError(e),typeof o=="function"&&o(P)});const T=new ha(this._internalLoadingManager);T.setResponseType("arraybuffer"),T.setRequestHeader(this.requestHeader),T.setPath(this.path),T.setWithCredentials(this.withCredentials),T.load(n,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");u=P,await f()},P=>{y=P.lengthComputable,v=P.loaded,x=P.total,E()},P=>{this.manager.itemError(n),typeof o=="function"&&o(P)});const C=new ha(this._internalLoadingManager);return C.setRequestHeader(this.requestHeader),C.setPath(this.path),C.setWithCredentials(this.withCredentials),C.load(r,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");c=JSON.parse(P),await f()},P=>{S=P.lengthComputable,b=P.loaded,_=P.total,E()},P=>{this.manager.itemError(r),typeof o=="function"&&o(P)}),s}}class VMe extends _H{load(e,n,r,i){const a=this.prepareQuadRenderer(),o=new ha(this._internalLoadingManager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(this.withCredentials),this.manager.itemStart(e),o.load(e,async s=>{if(typeof s=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(s);let u,c,f;try{const h=await FMe(l);u=h.sdr,c=h.gainMap,f=h.metadata}catch(h){if(h instanceof xH||h instanceof yH)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),f={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},u=l;else throw h}try{await this.render(a,f,u.buffer,c==null?void 0:c.buffer)}catch(h){this.manager.itemError(e),typeof i=="function"&&i(h),a.disposeOnDemandRenderer();return}typeof n=="function"&&n(a),this.manager.itemEnd(e),a.disposeOnDemandRenderer()},r,s=>{this.manager.itemError(e),typeof i=="function"&&i(s)}),a}}const Jm={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},SH="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",qf=t=>Array.isArray(t),FP=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function O1({files:t=FP,path:e="",preset:n=void 0,encoding:r=void 0,extensions:i}={}){let a=null,o=!1;n&&(BP(n),t=Jm[n],e=SH),o=qf(t);const{extension:s,isCubemap:l}=zP(t);if(a=HP(s),!a)throw new Error("useEnvironment: Unrecognized file extension: "+t);const u=ki(m=>m.gl);he.useLayoutEffect(()=>{if(s!=="webp"&&s!=="jpg"&&s!=="jpeg")return;function m(){Ch.clear(a,o?[t]:t)}u.domElement.addEventListener("webglcontextlost",m,{once:!0})},[t,u.domElement]);const c=Ch(a,o?[t]:t,m=>{(s==="webp"||s==="jpg"||s==="jpeg")&&m.setRenderer(u),m.setPath==null||m.setPath(e),i&&i(m)});let f=o?c[0]:c;if(s==="jpg"||s==="jpeg"||s==="webp"){var h;f=(h=f.renderTarget)==null?void 0:h.texture}return f.mapping=l?Ho:Ah,"colorSpace"in f?f.colorSpace=r??l?"srgb":"srgb-linear":f.encoding=r??l?IMe:RMe,f}const WMe={files:FP,path:"",preset:void 0,extensions:void 0};O1.preload=t=>{const e={...WMe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:a}=e;i&&(BP(i),n=Jm[i],r=SH);const{extension:o}=zP(n);if(o==="webp"||o==="jpg"||o==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const s=HP(o);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);Ch.preload(s,qf(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),a&&a(l)})};const $Me={files:FP,preset:void 0};O1.clear=t=>{const e={...$Me,...t};let{files:n}=e;const{preset:r}=e;r&&(BP(r),n=Jm[r]);const{extension:i}=zP(n),a=HP(i);if(!a)throw new Error("useEnvironment: Unrecognized file extension: "+n);Ch.clear(a,qf(n)?[n]:n)};function BP(t){if(!(t in Jm))throw new Error("Preset must be one of: "+Object.keys(Jm).join(", "))}function zP(t){var e;const n=qf(t)&&t.length===6,r=qf(t)&&t.length===3&&t.some(o=>o.endsWith("json")),i=qf(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function HP(t){return t==="cube"?d8:t==="hdr"?Lbe:t==="exr"?Dbe:t==="jpg"||t==="jpeg"?VMe:t==="webp"?GMe:null}const XMe=t=>t.current&&t.current.isScene,YMe=t=>XMe(t)?t.current:t;function jP(t,e,n,r,i={}){var a,o,s,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const u=YMe(e||n),c=u.background,f=u.environment,h={backgroundBlurriness:u.backgroundBlurriness,backgroundIntensity:u.backgroundIntensity,backgroundRotation:(a=(o=u.backgroundRotation)==null||o.clone==null?void 0:o.clone())!==null&&a!==void 0?a:[0,0,0],environmentIntensity:u.environmentIntensity,environmentRotation:(s=(l=u.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&s!==void 0?s:[0,0,0]};return t!=="only"&&(u.environment=r),t&&(u.background=r),ll(u,i),()=>{t!=="only"&&(u.environment=f),t&&(u.background=c),ll(u,h)}}function GP({scene:t,background:e=!1,map:n,...r}){const i=ki(a=>a.scene);return he.useLayoutEffect(()=>{if(n)return jP(e,t,i,n,r)}),null}function wH({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s,...l}){const u=O1(l),c=ki(f=>f.scene);return he.useLayoutEffect(()=>jP(t,e,c,u,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:a,environmentIntensity:o,environmentRotation:s})),he.useEffect(()=>()=>{u.dispose()},[u]),null}function qMe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:a,background:o=!1,blur:s,backgroundBlurriness:l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:h,scene:m,files:g,path:y,preset:x=void 0,extensions:v}){const S=ki(C=>C.gl),_=ki(C=>C.scene),b=he.useRef(null),[E]=he.useState(()=>new _g),M=he.useMemo(()=>{const C=new aP(r);return C.texture.type=$r,C},[r]);he.useEffect(()=>()=>{M.dispose()},[M]),he.useLayoutEffect(()=>{if(i===1){const C=S.autoClear;S.autoClear=!0,b.current.update(S,E),S.autoClear=C}return jP(o,m,_,M.texture,{backgroundBlurriness:s??l,backgroundIntensity:u,backgroundRotation:c,environmentIntensity:f,environmentRotation:h})},[t,E,M.texture,m,_,o,i,S]);let T=1;return P1(()=>{if(i===1/0||T<i){const C=S.autoClear;S.autoClear=!0,b.current.update(S,E),S.autoClear=C,T++}}),he.createElement(he.Fragment,null,Wwe(he.createElement(he.Fragment,null,t,he.createElement("cubeCamera",{ref:b,args:[e,n,M]}),g||x?he.createElement(wH,{background:!0,files:g,preset:x,path:y,extensions:v}):a?he.createElement(GP,{background:!0,map:a,extensions:v}):null),E))}function KMe(t){var e,n,r,i;const a=O1(t),o=t.map||a;he.useMemo(()=>N8({GroundProjectedEnvImpl:Mbe}),[]),he.useEffect(()=>()=>{a.dispose()},[a]);const s=he.useMemo(()=>[o],[o]),l=(e=t.ground)==null?void 0:e.height,u=(n=t.ground)==null?void 0:n.radius,c=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return he.createElement(he.Fragment,null,he.createElement(GP,dh({},t,{map:o})),he.createElement("groundProjectedEnvImpl",{args:s,scale:c,height:l,radius:u}))}function ZMe(t){return t.ground?he.createElement(KMe,t):t.map?he.createElement(GP,t):t.children?he.createElement(qMe,t):he.createElement(wH,t)}const JMe=({data:t,isBicuspidOpen:e,isAorticOpen:n,soundVisual:r})=>{const i=he.useRef(),a=he.useRef(),o=he.useRef(),s=he.useRef(),l=he.useRef(),u=120,c=he.useMemo(()=>new Array(u).fill(0).map((f,h)=>({phase:Math.floor(h/40),progress:h%40/40,speed:.006+Math.random()*.004,angle:Math.random()*Math.PI*2,radius:.3+Math.random()*.6,offset:new ee((Math.random()-.5)*.2,(Math.random()-.5)*.2,(Math.random()-.5)*.2)})),[]);return P1((f,h)=>{const m=f.clock.getElapsedTime();if(i.current&&(i.current.rotation.y=Math.sin(m*.3)*.1),o.current){const y=.9+(t.volume-50)/70*.15;o.current.scale.lerp(new ee(y,y,y),h*6)}if(s.current){const g=1+Math.sin(m*2)*.03;s.current.scale.set(g,g,g)}if(l.current){const g=t.phase==="Atrial Systole"?.95:1;l.current.scale.lerp(new ee(g,g,g),h*4)}if(a.current){const g=new un;c.forEach((y,x)=>{let v=new ee;if(y.phase===0){const _=y.progress;v.set(-1.5+_*1.2,.8+Math.sin(_*Math.PI)*.3,-.5+_*.5),y.progress+=y.speed*2,y.progress>=1&&(y.phase=1,y.progress=0)}else if(y.phase===1)if(y.progress<.5){const _=y.angle+y.progress*Math.PI*3,b=.4*(1-y.progress*.5);v.set(Math.cos(_)*b-.3,.8-y.progress*.3,Math.sin(_)*b),y.progress+=y.speed*1.5}else if(e){const _=(y.progress-.5)/.5;v.set(-.3+_*.1,.5-_*1,Math.sin(y.angle)*.2),y.progress+=y.speed*3,y.progress>=1&&(y.phase=2,y.progress=0)}else y.progress=.5;else if(y.phase===2)if(y.progress<.6){const _=y.angle+y.progress*Math.PI*4,b=.5+y.radius*.3,E=-.5-y.progress*.5;v.set(Math.cos(_)*b-.2,E+Math.sin(_*2)*.15,Math.sin(_)*b*.7),!e&&!n&&(y.angle+=h*1.5),y.progress+=y.speed}else if(n){const _=(y.progress-.6)/.4,b=Math.pow(_,.6);v.set(-.2,-.5+b*3,0),y.progress+=y.speed*6,y.progress>=1&&(y.phase=0,y.progress=0,y.angle=Math.random()*Math.PI*2)}else y.progress=.6;v.add(y.offset),g.position.copy(v);const S=.06;g.scale.set(S,S,S),g.updateMatrix(),a.current.setMatrixAt(x,g.matrix)}),a.current.instanceMatrix.needsUpdate=!0}}),me.jsxs("group",{ref:i,rotation:[.1,-.3,0],children:[me.jsxs("group",{position:[-.3,.8,0],ref:l,children:[me.jsxs("mesh",{children:[me.jsx("sphereGeometry",{args:[.6,32,32]}),me.jsx("meshPhysicalMaterial",{color:"#fca5a5",transparent:!0,opacity:.4,roughness:.3,metalness:.1,transmission:.5,thickness:.4,clearcoat:.5})]}),me.jsxs("mesh",{position:[-.5,.2,.3],rotation:[0,.5,.3],children:[me.jsx("capsuleGeometry",{args:[.2,.4,8,16]}),me.jsx("meshPhysicalMaterial",{color:"#fca5a5",transparent:!0,opacity:.4,roughness:.3,metalness:.1,transmission:.5,thickness:.3,clearcoat:.5})]})]}),me.jsx("group",{position:[.6,.8,0],ref:s,children:me.jsxs("mesh",{children:[me.jsx("sphereGeometry",{args:[.5,32,32]}),me.jsx("meshPhysicalMaterial",{color:"#fcd34d",transparent:!0,opacity:.2,roughness:.4,transmission:.7,thickness:.3})]})}),me.jsxs("group",{position:[-.2,-.3,0],ref:o,children:[me.jsxs("mesh",{children:[me.jsx("sphereGeometry",{args:[.9,32,32,0,Math.PI*2,0,Math.PI*.65]}),me.jsx(Ok,{color:"#ef4444",transparent:!0,opacity:.45,roughness:.4,metalness:.15,distort:.15,speed:2,clearcoat:.6})]}),me.jsxs("mesh",{position:[0,-1.3,0],rotation:[Math.PI,0,0],children:[me.jsx("coneGeometry",{args:[.7,1.2,32]}),me.jsx(Ok,{color:"#dc2626",transparent:!0,opacity:.45,roughness:.4,metalness:.15,distort:.2,speed:2,clearcoat:.6})]}),me.jsxs("mesh",{position:[.5,-.5,0],rotation:[0,0,.3],children:[me.jsx("boxGeometry",{args:[.15,1.5,.8]}),me.jsx("meshPhysicalMaterial",{color:"#991b1b",transparent:!0,opacity:.3,roughness:.6})]})]}),me.jsx("group",{position:[.5,-.3,.3],children:me.jsxs("mesh",{rotation:[0,.4,0],children:[me.jsx("sphereGeometry",{args:[.7,32,32,0,Math.PI,0,Math.PI*.6]}),me.jsx("meshPhysicalMaterial",{color:"#fbbf24",transparent:!0,opacity:.25,roughness:.4,transmission:.6})]})}),me.jsxs("group",{position:[-.2,1.5,0],children:[me.jsxs("mesh",{children:[me.jsx("cylinderGeometry",{args:[.35,.4,1.5,24]}),me.jsx("meshPhysicalMaterial",{color:"#b91c1c",transparent:!0,opacity:.5,roughness:.2,metalness:.2,transmission:.4,thickness:.2,clearcoat:.7})]}),me.jsxs("mesh",{position:[0,.8,0],rotation:[0,0,Math.PI/2],children:[me.jsx("torusGeometry",{args:[.6,.3,16,32,Math.PI]}),me.jsx("meshPhysicalMaterial",{color:"#b91c1c",transparent:!0,opacity:.5,roughness:.2,metalness:.2,transmission:.4,thickness:.2,clearcoat:.7})]}),me.jsxs("mesh",{position:[.3,-.4,.3],rotation:[.3,0,.5],children:[me.jsx("cylinderGeometry",{args:[.08,.08,.8,12]}),me.jsx("meshStandardMaterial",{color:"#dc2626",transparent:!0,opacity:.6})]})]}),me.jsx("group",{position:[-.8,.8,0],children:me.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[me.jsx("cylinderGeometry",{args:[.12,.12,.6,12]}),me.jsx("meshStandardMaterial",{color:"#60a5fa",transparent:!0,opacity:.5})]})}),me.jsx("group",{position:[-.6,1,-.4],children:me.jsxs("mesh",{rotation:[.3,0,Math.PI/2],children:[me.jsx("cylinderGeometry",{args:[.1,.1,.5,12]}),me.jsx("meshStandardMaterial",{color:"#60a5fa",transparent:!0,opacity:.5})]})}),me.jsxs("group",{position:[-.3,.3,0],children:[me.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[me.jsx("torusGeometry",{args:[.45,.04,16,32]}),me.jsx("meshStandardMaterial",{color:e?"#4ade80":"#fbbf24",emissive:e?"#22c55e":"#f59e0b",emissiveIntensity:e?1.2:.4})]}),me.jsx(ls,{position:[-1.5,0,0],fontSize:.25,color:"white",anchorX:"right",children:"Mitral Valve"}),me.jsx(ls,{position:[-1.5,-.25,0],fontSize:.18,color:e?"#4ade80":"#f87171",anchorX:"right",children:e?"OPEN":"CLOSED"})]}),me.jsxs("group",{position:[-.2,1.2,0],children:[me.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[me.jsx("torusGeometry",{args:[.32,.04,16,32]}),me.jsx("meshStandardMaterial",{color:n?"#4ade80":"#fbbf24",emissive:n?"#22c55e":"#f59e0b",emissiveIntensity:n?1.2:.4})]}),me.jsx(ls,{position:[1.2,0,0],fontSize:.25,color:"white",anchorX:"left",children:"Aortic Valve"}),me.jsx(ls,{position:[1.2,-.25,0],fontSize:.18,color:n?"#4ade80":"#f87171",anchorX:"left",children:n?"OPEN":"CLOSED"})]}),me.jsx(ls,{position:[-.8,1.2,0],fontSize:.3,color:"#fca5a5",anchorX:"right",children:"Left Atrium"}),me.jsx(ls,{position:[-1.2,-.5,0],fontSize:.35,color:"#ef4444",anchorX:"right",children:"Left Ventricle"}),me.jsxs(ls,{position:[-1.2,-.85,0],fontSize:.2,color:"#94a3b8",anchorX:"right",children:[Math.round(t.pressureVentricle)," mmHg"]}),me.jsx(ls,{position:[.3,2,0],fontSize:.3,color:"#b91c1c",anchorX:"left",children:"Aorta"}),me.jsxs("instancedMesh",{ref:a,args:[null,null,u],children:[me.jsx("sphereGeometry",{args:[1,12,12]}),me.jsx("meshStandardMaterial",{color:"#ff0000",emissive:"#cc0000",emissiveIntensity:.9,metalness:.4,roughness:.1})]}),e&&me.jsxs("mesh",{position:[-.3,.3,.8],rotation:[Math.PI,0,0],children:[me.jsx("coneGeometry",{args:[.15,.4,8]}),me.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#22c55e"})]}),n&&me.jsxs("mesh",{position:[-.2,1.5,.8],children:[me.jsx("coneGeometry",{args:[.15,.4,8]}),me.jsx("meshStandardMaterial",{color:"#4ade80",emissive:"#22c55e"})]}),r&&me.jsx(ls,{position:[0,0,2.5],fontSize:1.2,color:"#fbbf24",outlineWidth:.08,outlineColor:"#78350f",children:r.split(" ")[0]})]})},QMe=t=>me.jsxs("div",{className:"w-full h-full bg-gradient-to-b from-slate-950 via-slate-900 to-slate-950 rounded-xl overflow-hidden relative shadow-2xl",children:[me.jsxs(ube,{camera:{position:[3,.5,4],fov:50},shadows:!0,dpr:[1,2],children:[me.jsx("color",{attach:"background",args:["#020617"]}),me.jsx("fog",{attach:"fog",args:["#020617",3,15]}),me.jsx("ambientLight",{intensity:.3}),me.jsx("directionalLight",{position:[5,5,5],intensity:1.5,castShadow:!0,"shadow-mapSize-width":2048,"shadow-mapSize-height":2048}),me.jsx("pointLight",{position:[-3,2,3],intensity:1,color:"#fca5a5"}),me.jsx("pointLight",{position:[3,-2,-2],intensity:.8,color:"#60a5fa"}),me.jsx("spotLight",{position:[0,8,0],angle:.4,penumbra:1,intensity:1.2,castShadow:!0,color:"#ffffff"}),me.jsx(ZMe,{preset:"city"}),me.jsx(JMe,{...t}),me.jsx(OMe,{enableZoom:!0,enablePan:!0,minDistance:2,maxDistance:10,autoRotate:!1,rotateSpeed:.4,target:[0,0,0]})]}),me.jsxs("div",{className:"absolute top-4 left-4 pointer-events-none select-none",children:[me.jsx("div",{className:"text-white/95 font-bold text-xl tracking-wide drop-shadow-lg",children:"Anatomical Heart Model"}),me.jsx("div",{className:"text-slate-300 text-sm font-medium mt-1",children:"3D Blood Flow Visualization"})]}),me.jsx("div",{className:"absolute top-4 right-4 pointer-events-none select-none",children:me.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-sm px-4 py-3 rounded-xl border border-indigo-500/30 shadow-lg shadow-indigo-500/20",children:[me.jsx("div",{className:"text-xs text-slate-400 mb-1",children:"Cardiac Phase"}),me.jsx("div",{className:"text-sm font-bold text-indigo-300",children:t.data.phase})]})}),me.jsx("div",{className:"absolute bottom-4 right-4 pointer-events-none select-none",children:me.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-sm px-4 py-3 rounded-xl border border-slate-700 shadow-lg space-y-2.5",children:[me.jsx("div",{className:"text-xs font-bold text-slate-300 mb-2",children:"Hemodynamics"}),me.jsxs("div",{className:"flex items-center justify-between gap-6",children:[me.jsx("span",{className:"text-xs text-slate-400",children:"Aorta"}),me.jsxs("span",{className:"text-sm font-mono font-bold text-red-400",children:[Math.round(t.data.pressureAorta)," ",me.jsx("span",{className:"text-xs text-slate-500",children:"mmHg"})]})]}),me.jsxs("div",{className:"flex items-center justify-between gap-6",children:[me.jsx("span",{className:"text-xs text-slate-400",children:"LV"}),me.jsxs("span",{className:"text-sm font-mono font-bold text-orange-400",children:[Math.round(t.data.pressureVentricle)," ",me.jsx("span",{className:"text-xs text-slate-500",children:"mmHg"})]})]}),me.jsxs("div",{className:"flex items-center justify-between gap-6",children:[me.jsx("span",{className:"text-xs text-slate-400",children:"LA"}),me.jsxs("span",{className:"text-sm font-mono font-bold text-blue-400",children:[Math.round(t.data.pressureAtrium)," ",me.jsx("span",{className:"text-xs text-slate-500",children:"mmHg"})]})]}),me.jsxs("div",{className:"flex items-center justify-between gap-6 pt-2 border-t border-slate-700",children:[me.jsx("span",{className:"text-xs text-slate-400",children:"Volume"}),me.jsxs("span",{className:"text-sm font-mono font-bold text-emerald-400",children:[Math.round(t.data.volume)," ",me.jsx("span",{className:"text-xs text-slate-500",children:"mL"})]})]})]})}),me.jsx("div",{className:"absolute bottom-4 left-4 pointer-events-none select-none",children:me.jsxs("div",{className:"bg-slate-900/90 backdrop-blur-sm px-3 py-2.5 rounded-lg border border-slate-700 shadow-lg space-y-1.5",children:[me.jsx("div",{className:"text-xs font-bold text-slate-300 mb-1.5",children:"Legend"}),me.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-slate-300",children:[me.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-red-500 shadow-[0_0_10px_rgba(239,68,68,0.7)]"}),"Oxygenated Blood"]}),me.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-slate-300",children:[me.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-green-500 shadow-[0_0_10px_rgba(34,197,94,0.7)]"}),"Valve Open"]}),me.jsxs("div",{className:"flex items-center gap-2.5 text-xs text-slate-300",children:[me.jsx("span",{className:"w-2.5 h-2.5 rounded-full bg-yellow-500"}),"Valve Closed"]})]})}),me.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 pointer-events-none select-none opacity-40",children:me.jsx("div",{className:"text-slate-500 text-sm text-center font-medium",children:"Drag to Rotate  Scroll to Zoom"})})]});function eEe(){const[t,e]=he.useState(0),[n,r]=he.useState(!1),[i,a]=he.useState(.5),o=he.useRef(),s=bge(t),[l,u]=he.useState(null),c=he.useRef({bicuspid:!0,aortic:!1}),f=g=>{n&&e(y=>{const x=y+.005*i;return x>.8?0:x}),o.current=requestAnimationFrame(f)};he.useEffect(()=>(n?o.current=requestAnimationFrame(f):cancelAnimationFrame(o.current),()=>cancelAnimationFrame(o.current)),[n,i]),he.useEffect(()=>{c.current.bicuspid&&!s.isBicuspidOpen&&h("LUB - 1st Heart Sound"),c.current.aortic&&!s.isAorticOpen&&h("DUP - 2nd Heart Sound"),c.current={bicuspid:s.isBicuspidOpen,aortic:s.isAorticOpen}},[s.isBicuspidOpen,s.isAorticOpen]);const h=g=>{u(g),setTimeout(()=>u(null),600)},m=g=>{g&&g.activeLabel&&(e(Number(g.activeLabel)),r(!1))};return me.jsxs("div",{className:"min-h-screen bg-slate-950 text-slate-100 font-sans p-4 lg:p-8 flex flex-col",children:[me.jsxs("header",{className:"mb-6 flex justify-between items-center",children:[me.jsxs("div",{children:[me.jsxs("h1",{className:"text-3xl font-extrabold tracking-tight text-white",children:["Cardiac Cycle ",me.jsx("span",{className:"text-red-500",children:"Simulator"})]}),me.jsx("p",{className:"text-slate-400 mt-1",children:"HKDSE Biology: Pressure Changes & Valve Mechanics"})]}),me.jsxs("div",{className:"flex gap-2",children:[me.jsxs("button",{onClick:()=>r(!n),className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition shadow-lg shadow-blue-900/20",children:[n?me.jsx(xge,{size:18}):me.jsx(_ge,{size:18}),n?"Pause":"Play Cycle"]}),me.jsx("button",{onClick:()=>e(0),className:"p-2 bg-slate-800 border border-slate-700 rounded-lg hover:bg-slate-700 text-slate-300",title:"Reset",children:me.jsx(Sge,{size:18})})]})]}),me.jsxs("main",{className:"flex-1 grid grid-cols-1 lg:grid-cols-2 gap-8",children:[me.jsxs("div",{className:"flex flex-col gap-4",children:[me.jsxs("div",{className:"relative aspect-[4/5] bg-slate-900 rounded-2xl shadow-xl overflow-hidden border border-slate-800 ring-1 ring-white/10",children:[me.jsx(QMe,{data:s,isBicuspidOpen:s.isBicuspidOpen,isAorticOpen:s.isAorticOpen,soundVisual:l}),me.jsxs("div",{className:"absolute top-4 right-4 bg-slate-900/90 backdrop-blur px-3 py-1 rounded-full text-sm font-bold border border-slate-700 shadow-sm text-blue-200",children:["Phase: ",s.phase]})]}),me.jsx("div",{className:"bg-slate-900 border border-indigo-900/50 p-4 rounded-xl",children:me.jsxs("div",{className:"flex items-start gap-3",children:[me.jsx(yge,{className:"text-indigo-400 mt-1 shrink-0",size:20}),me.jsxs("div",{children:[me.jsx("h3",{className:"font-bold text-indigo-300 mb-1",children:"Current Mechanics"}),me.jsxs("p",{className:"text-slate-300 text-sm leading-relaxed",children:[s.phase==="Atrial Systole"&&"Atria contract, pushing remaining blood into ventricles. Bicuspid valve is open.",s.phase==="Isovolumetric Contraction"&&"Ventricles contract. Pressure rises sharply. Valves CLOSED. Volume constant (Iso-volumetric).",s.phase==="Ventricular Ejection"&&"Ventricle P > Aortic P. Semilunar triggers open. Blood ejects rapidly.",s.phase==="Isovolumetric Relaxation"&&"Ventricles relax. Pressure drops. Valves CLOSED. Volume constant.",s.phase==="Ventricular Diastole"&&"Ventricle P < Atrium P. Mitral Valve opens. Passive filling occurs."]})]})]})}),(s.time>.45||s.time<.1)&&me.jsxs("div",{className:"bg-yellow-950/30 border border-yellow-900/50 p-4 rounded-xl",children:[me.jsx("h4",{className:"font-bold text-yellow-500 text-sm mb-1",children:"DSE Key Point: Elastic Recoil"}),me.jsxs("p",{className:"text-yellow-200/80 text-sm",children:["Validating Aortic Pressure floor: Notice Aortic Pressure holds at ~80 mmHg even during diastole. This is due to the",me.jsx("strong",{className:"text-yellow-400",children:" elastic recoil"})," of the aortic wall maintaining blood flow."]})]})]}),me.jsxs("div",{className:"bg-slate-900 p-6 rounded-2xl shadow-lg border border-slate-800 flex flex-col",children:[me.jsxs("div",{className:"mb-4",children:[me.jsx("h2",{className:"text-xl font-bold text-white",children:"Pressure Changes (Left Heart)"}),me.jsx("p",{className:"text-sm text-slate-400",children:"Hover over the graph to scrub time."})]}),me.jsx("div",{className:"flex-1 w-full min-h-[400px]",children:me.jsx(Fne,{width:"100%",height:"100%",children:me.jsxs(mge,{data:GE,margin:{top:10,right:30,left:0,bottom:20},onMouseMove:m,onMouseLeave:()=>r(!0),children:[me.jsx(t5,{strokeDasharray:"3 3",stroke:"#334155",vertical:!1}),me.jsx(q_,{dataKey:"time",type:"number",domain:[0,.8],tickCount:9,stroke:"#94a3b8",label:{value:"Time (s)",position:"insideBottomRight",offset:-10,fill:"#94a3b8"}}),me.jsx(K_,{domain:[0,140],stroke:"#94a3b8",label:{value:"Pressure (mmHg)",angle:-90,position:"insideLeft",fill:"#94a3b8"}}),me.jsx(To,{trigger:"hover",contentStyle:{backgroundColor:"rgba(15, 23, 42, 0.95)",borderRadius:"8px",border:"1px solid #334155",color:"white"},itemStyle:{color:"#e2e8f0"},labelStyle:{color:"#94a3b8"}}),me.jsx($u,{type:"monotone",dataKey:"pressureAorta",stroke:"#ef4444",strokeWidth:3,dot:!1,name:"Aorta Pressure"}),me.jsx($u,{type:"monotone",dataKey:"pressureVentricle",stroke:"#f59e0b",strokeWidth:2,dot:!1,name:"Left Ventricle Pressure"}),me.jsx($u,{type:"monotone",dataKey:"pressureAtrium",stroke:"#3b82f6",strokeWidth:2,strokeDasharray:"5 5",dot:!1,name:"Left Atrium Pressure"}),me.jsx(V_,{x:s.time,stroke:"#6366f1",strokeDasharray:"3 3"})]})})}),me.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-6 text-center text-sm",children:[me.jsxs("div",{className:"p-3 bg-red-950/30 rounded-lg border border-red-900/50",children:[me.jsx("div",{className:"font-bold text-red-400",children:"Aorta P."}),me.jsxs("div",{className:"text-xl font-mono text-red-200",children:[Math.round(s.pressureAorta)," ",me.jsx("span",{className:"text-xs",children:"mmHg"})]})]}),me.jsxs("div",{className:"p-3 bg-amber-950/30 rounded-lg border border-amber-900/50",children:[me.jsx("div",{className:"font-bold text-amber-500",children:"Ventricle P."}),me.jsxs("div",{className:"text-xl font-mono text-amber-200",children:[Math.round(s.pressureVentricle)," ",me.jsx("span",{className:"text-xs",children:"mmHg"})]})]}),me.jsxs("div",{className:"p-3 bg-blue-950/30 rounded-lg border border-blue-900/50",children:[me.jsx("div",{className:"font-bold text-blue-400",children:"Atrium P."}),me.jsxs("div",{className:"text-xl font-mono text-blue-200",children:[Math.round(s.pressureAtrium)," ",me.jsx("span",{className:"text-xs",children:"mmHg"})]})]})]})]})]})]})}Eb.createRoot(document.getElementById("root")).render(me.jsx(Se.StrictMode,{children:me.jsx(eEe,{})}));
