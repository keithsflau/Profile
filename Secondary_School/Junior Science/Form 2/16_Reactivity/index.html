<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Reactivity Series | S2 Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Outfit", sans-serif;
        background: #fff1f2;
      }
      .bubble {
        animation: rise 2s infinite ease-in;
        opacity: 0;
      }
      @keyframes rise {
        0% {
          transform: translateY(0) scale(0.5);
          opacity: 0;
        }
        50% {
          opacity: 1;
        }
        100% {
          transform: translateY(-50px) scale(1);
          opacity: 0;
        }
      }
      .explosion {
        animation: boom 0.5s forwards;
      }
      @keyframes boom {
        0% {
          transform: scale(0);
          opacity: 1;
        }
        100% {
          transform: scale(3);
          opacity: 0;
        }
      }
    </style>
  </head>
  <body class="bg-rose-50 text-slate-800 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const metals = [
        { id: "k", name: "Potassium (K)", reactivity: 10, color: "#a3a3a3" }, // Lilac flame
        { id: "na", name: "Sodium (Na)", reactivity: 9, color: "#d4d4d4" }, // Yellow flame
        { id: "ca", name: "Calcium (Ca)", reactivity: 8, color: "#e5e5e5" }, // Red flame
        { id: "mg", name: "Magnesium (Mg)", reactivity: 7, color: "#f5f5f5" }, // Bright white
        { id: "al", name: "Aluminium (Al)", reactivity: 6, color: "#d1d5db" },
        { id: "zn", name: "Zinc (Zn)", reactivity: 5, color: "#9ca3af" },
        { id: "fe", name: "Iron (Fe)", reactivity: 4, color: "#78716c" },
        { id: "cu", name: "Copper (Cu)", reactivity: 2, color: "#b45309" },
        { id: "au", name: "Gold (Au)", reactivity: 1, color: "#fbbf24" },
      ];

      const reagents = [
        { id: "water", name: "Cold Water", minReact: 8 }, // K, Na, Ca
        { id: "acid", name: "Dilute Acid", minReact: 4 }, // K ... Fe
        { id: "oxygen", name: "Oxygen (Heating)", minReact: 2 }, // All except Au/Ag mostly
      ];

      const App = () => {
        const [selectedMetal, setSelectedMetal] = useState(metals[3]); // Mg default
        const [selectedReagent, setSelectedReagent] = useState(reagents[1]); // Acid default
        const [reacting, setReacting] = useState(false);

        const startReaction = () => {
          setReacting(true);
          setTimeout(() => setReacting(false), 3000);
        };

        const intensity =
          selectedMetal.reactivity >= selectedReagent.minReact
            ? selectedMetal.reactivity - selectedReagent.minReact + 2 // scale reaction
            : 0;

        const getReactionDesc = () => {
          if (intensity === 0) return "No visible reaction.";
          if (selectedReagent.id === "water")
            return "Fizzes, moves around, releases Hydrogen.";
          if (selectedReagent.id === "acid")
            return "Effervescence (Bubbles), Hydrogen gas released, Metal dissolves.";
          if (selectedReagent.id === "oxygen")
            return "Glows, forms oxide layer/powder.";
          return "";
        };

        return (
          <div className="p-8 max-w-6xl mx-auto min-h-screen flex flex-col items-center">
            <header className="text-center mb-10 w-full">
              <span className="text-rose-600 font-bold uppercase text-xs tracking-widest">
                Form 2 Science â€¢ Unit 9
              </span>
              <h1 className="text-4xl font-extrabold text-slate-800 mb-2">
                Reactivity Series
              </h1>
              <p className="text-slate-500">
                Test how metals react with Water, Acid, and Oxygen.
              </p>
            </header>

            <div className="flex flex-col lg:flex-row gap-12 w-full">
              {/* Selector */}
              <div className="w-full lg:w-1/3 space-y-8">
                <div className="bg-white p-6 rounded-3xl shadow-md border border-rose-100">
                  <h3 className="font-bold text-slate-400 uppercase text-xs tracking-widest mb-4">
                    1. Select Metal
                  </h3>
                  <div className="space-y-2 h-64 overflow-y-auto pr-2 custom-scroll">
                    {metals.map((m) => (
                      <button
                        key={m.id}
                        onClick={() => setSelectedMetal(m)}
                        className={`w-full p-3 rounded-xl flex items-center justify-between border-2 transition-all ${
                          selectedMetal.id === m.id
                            ? "bg-rose-100 border-rose-500 text-rose-700"
                            : "border-slate-100 text-slate-600 hover:bg-slate-50"
                        }`}
                      >
                        <span className="font-bold">{m.name}</span>
                        {/* Reactivity Bar */}
                        <div className="flex gap-0.5">
                          {Array.from({ length: m.reactivity }).map((_, i) => (
                            <div
                              key={i}
                              className="w-1 h-3 bg-rose-400 rounded-full"
                            ></div>
                          ))}
                        </div>
                      </button>
                    ))}
                  </div>
                </div>

                <div className="bg-white p-6 rounded-3xl shadow-md border border-rose-100">
                  <h3 className="font-bold text-slate-400 uppercase text-xs tracking-widest mb-4">
                    2. Select Reagent
                  </h3>
                  <div className="flex gap-2">
                    {reagents.map((r) => (
                      <button
                        key={r.id}
                        onClick={() => setSelectedReagent(r)}
                        className={`flex-1 py-3 rounded-xl font-bold text-xs md:text-sm border-2 transition-all ${
                          selectedReagent.id === r.id
                            ? "bg-rose-500 border-rose-600 text-white"
                            : "border-slate-100 text-slate-500 hover:bg-slate-50"
                        }`}
                      >
                        {r.name}
                      </button>
                    ))}
                  </div>
                </div>
              </div>

              {/* Reaction View */}
              <div className="w-full lg:w-2/3 flex flex-col gap-6">
                <div className="bg-slate-800 rounded-3xl shadow-xl border-4 border-slate-700 relative min-h-[400px] flex items-end justify-center overflow-hidden">
                  {/* Background based on reagent */}
                  <div
                    className={`absolute inset-0 opacity-20 ${
                      selectedReagent.id === "oxygen"
                        ? "bg-orange-900"
                        : "bg-blue-900"
                    }`}
                  ></div>

                  {selectedReagent.id !== "oxygen" && (
                    /* Beaker for Water/Acid */
                    <div className="relative w-48 h-64 border-x-4 border-b-4 border-white/30 rounded-b-3xl mb-10 bg-white/10 backdrop-blur-sm z-10 flex items-end justify-center">
                      {/* Liquid */}
                      <div
                        className={`w-full ${
                          selectedReagent.id === "acid"
                            ? "h-40 bg-yellow-100/20"
                            : "h-48 bg-blue-200/20"
                        } rounded-b-[20px] transition-all relative overflow-hidden`}
                      >
                        {/* Reaction Bubbles */}
                        {reacting &&
                          intensity > 0 &&
                          Array.from({ length: intensity * 5 }).map((_, i) => (
                            <div
                              key={i}
                              className="bubble absolute w-2 h-2 bg-white/50 rounded-full"
                              style={{
                                left: `${Math.random() * 80 + 10}%`,
                                top: "80%",
                                animationDuration: `${0.5 + Math.random()}s`,
                                animationDelay: `${Math.random()}s`,
                              }}
                            ></div>
                          ))}
                      </div>

                      {/* Metal Piece */}
                      <div
                        className={`absolute bottom-4 w-16 h-8 rounded shadow-lg transition-all duration-1000 ${
                          reacting && intensity > 5 ? "animate-bounce" : ""
                        }`}
                        style={{ backgroundColor: selectedMetal.color }}
                      >
                        {reacting && selectedMetal.id === "k" && (
                          <div className="absolute inset-0 bg-purple-500 blur-xl opacity-50 animate-pulse"></div>
                        )}{" "}
                        {/* Lilac Flame */}
                        {reacting && selectedMetal.id === "na" && (
                          <div className="absolute inset-0 bg-yellow-500 blur-xl opacity-50 animate-pulse"></div>
                        )}{" "}
                        {/* Yellow Flame */}
                      </div>
                    </div>
                  )}

                  {selectedReagent.id === "oxygen" && (
                    /* Tripod / Bunsen Burner setup */
                    <div className="flex flex-col items-center mb-10 relative z-10">
                      {/* Metal */}
                      <div
                        className={`w-20 h-5 rounded mb-10 transition-all ${
                          reacting && intensity > 0
                            ? "bg-white shadow-[0_0_50px_white]"
                            : ""
                        }`}
                        style={{
                          backgroundColor:
                            Reacting && intensity > 0
                              ? "#fff"
                              : selectedMetal.color,
                        }}
                      ></div>
                      {/* Flame */}
                      <div className="relative">
                        <div className="w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-b-[60px] border-b-orange-500 blur-sm animate-pulse"></div>
                        <div className="absolute top-4 left-1 w-0 h-0 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[40px] border-b-blue-500 blur-sm opacity-80"></div>
                      </div>
                      <div className="w-32 h-4 bg-slate-500 mt-2 rounded"></div>{" "}
                      {/* Burner Base */}
                    </div>
                  )}
                </div>

                <div className="flex justify-between items-center bg-white p-6 rounded-3xl shadow-lg border border-rose-100">
                  <div className="flex-1">
                    <h3 className="font-bold text-slate-700 text-lg mb-1">
                      Reaction Status
                    </h3>
                    <p className="text-slate-500 text-sm h-6">
                      {reacting
                        ? intensity > 0
                          ? getReactionDesc()
                          : "No Reaction"
                        : "Ready to test."}
                    </p>
                  </div>
                  <button
                    onClick={startReaction}
                    disabled={reacting}
                    className="px-8 py-3 bg-rose-600 hover:bg-rose-700 text-white font-bold rounded-full shadow-lg transition-transform hover:scale-105 disabled:opacity-50 disabled:scale-100"
                  >
                    {reacting ? "Reacting..." : "Start Test"}
                  </button>
                </div>
              </div>
            </div>

            <footer className="mt-12 text-center">
              <a
                href="../index.html"
                className="text-rose-600/50 hover:text-rose-600 transition font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i> Back to
                Dashboard
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
