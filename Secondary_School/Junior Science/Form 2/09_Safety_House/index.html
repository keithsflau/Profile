<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Electrical Safety Hunt | S2 Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Outfit", sans-serif;
        background: #fff7ed;
      }
      .hazard-zone {
        cursor: pointer;
        border: 2px dashed transparent;
        transition: all 0.3s;
      }
      .hazard-zone:hover {
        border-color: rgba(239, 68, 68, 0.5);
        background: rgba(239, 68, 68, 0.1);
      }
      .found {
        border-color: #ef4444;
        background: rgba(239, 68, 68, 0.3);
        animation: pulse 2s infinite;
      }
    </style>
  </head>
  <body class="bg-orange-50 text-slate-800 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState } = React;

      const hazards = [
        {
          id: 1,
          name: "Overloaded Socket",
          desc: "Too many plugs in one extension cord caused overheating.",
          x: 20,
          y: 60,
          w: 10,
          h: 10,
          icon: "fa-plug-circle-exclamation",
        },
        {
          id: 2,
          name: "Water Near Appliance",
          desc: "Toaster placed right next to the kitchen sink.",
          x: 45,
          y: 55,
          w: 10,
          h: 15,
          icon: "fa-glass-water",
        },
        {
          id: 3,
          name: "Frayed Wire",
          desc: "Damaged insulation exposes live wires.",
          x: 70,
          y: 70,
          w: 15,
          h: 5,
          icon: "fa-bolt",
        },
        {
          id: 4,
          name: "Trailing Cable",
          desc: "Cable across walkway is a trip hazard and can pull appliances down.",
          x: 30,
          y: 85,
          w: 20,
          h: 5,
          icon: "fa-triangle-exclamation",
        },
        {
          id: 5,
          name: "Wet Hands Switch",
          desc: "Using light switch with wet hands.",
          x: 10,
          y: 40,
          w: 5,
          h: 5,
          icon: "fa-hand-holding-droplet",
        },
      ];

      const App = () => {
        const [found, setFound] = useState([]);
        const [dialog, setDialog] = useState(null);

        const handleClick = (id) => {
          if (!found.includes(id)) {
            setFound([...found, id]);
          }
          const h = hazards.find((x) => x.id === id);
          setDialog(h);
        };

        return (
          <div className="p-8 max-w-6xl mx-auto min-h-screen flex flex-col items-center">
            <header className="text-center mb-10 w-full">
              <span className="text-orange-600 font-bold uppercase text-xs tracking-widest">
                Form 2 Science â€¢ Unit 8
              </span>
              <h1 className="text-4xl font-extrabold text-slate-800 mb-2">
                Electrical Safety Hunt
              </h1>
              <p className="text-slate-500">
                Find 5 dangerous electrical hazards in this kitchen.
              </p>
            </header>

            <div className="flex flex-col lg:flex-row gap-8 w-full items-start">
              {/* Game Scene */}
              <div className="relative w-full lg:w-3/4 aspect-video bg-white rounded-3xl shadow-xl border-4 border-orange-100 overflow-hidden group">
                {/* Background Image (Placeholder) */}
                <div className="absolute inset-0 bg-[url('https://img.freepik.com/free-vector/kitchen-interior-design-background_23-2147966453.jpg?w=1380')] bg-cover bg-center opacity-80"></div>

                {/* Dark Overlay for focus */}
                <div className="absolute inset-0 bg-slate-900/10 hover:bg-transparent transition-colors duration-500"></div>

                {/* Hazard Zones */}
                {hazards.map((h) => (
                  <div
                    key={h.id}
                    onClick={() => handleClick(h.id)}
                    className={`absolute rounded-lg ${
                      found.includes(h.id) ? "found" : "hazard-zone"
                    }`}
                    style={{
                      left: `${h.x}%`,
                      top: `${h.y}%`,
                      width: `${h.w}%`,
                      height: `${h.h}%`,
                    }}
                  >
                    {found.includes(h.id) && (
                      <div className="absolute -top-8 left-1/2 -translate-x-1/2 bg-red-600 text-white rounded-full w-8 h-8 flex items-center justify-center shadow-lg animate-bounce">
                        <i className={`fa-solid ${h.icon}`}></i>
                      </div>
                    )}
                  </div>
                ))}
              </div>

              {/* Sidebar / Dialog */}
              <div className="w-full lg:w-1/4 flex flex-col gap-6">
                {/* Score */}
                <div className="bg-white p-6 rounded-2xl shadow-md border border-slate-100">
                  <h3 className="font-bold text-slate-400 uppercase text-xs tracking-widest mb-2">
                    Hazards Found
                  </h3>
                  <div className="text-5xl font-extrabold text-orange-500 mb-2">
                    {found.length} / {hazards.length}
                  </div>
                  <div className="w-full h-2 bg-slate-100 rounded-full">
                    <div
                      className="h-full bg-orange-500 rounded-full transition-all duration-300"
                      style={{
                        width: `${(found.length / hazards.length) * 100}%`,
                      }}
                    ></div>
                  </div>
                </div>

                {/* Details Card */}
                {dialog ? (
                  <div className="bg-white p-6 rounded-2xl shadow-xl border-l-4 border-red-500 animate-slide-up">
                    <div className="flex items-center gap-3 mb-4 text-red-600">
                      <i className={`fa-solid ${dialog.icon} text-2xl`}></i>
                      <h3 className="font-bold text-lg leading-tight">
                        {dialog.name}
                      </h3>
                    </div>
                    <p className="text-slate-600 text-sm mb-4">{dialog.desc}</p>
                    <button
                      onClick={() => setDialog(null)}
                      className="text-sm font-bold text-slate-400 hover:text-slate-600"
                    >
                      Close
                    </button>
                  </div>
                ) : (
                  <div className="bg-orange-100 p-6 rounded-2xl border border-orange-200 text-orange-800 text-sm">
                    <p>
                      <strong>Instructions:</strong> Click on areas in the
                      kitchen that look unsafe. Look for water, damaged wires,
                      or overloading.
                    </p>
                  </div>
                )}

                {found.length === hazards.length && (
                  <div className="bg-green-100 p-6 rounded-2xl border border-green-200 text-green-800 animate-pulse">
                    <h3 className="font-bold text-lg mb-2">
                      <i className="fa-solid fa-check-circle"></i> Safe House!
                    </h3>
                    <p className="text-sm">
                      You have identified all the risks. Always stay safe around
                      electricity!
                    </p>
                  </div>
                )}
              </div>
            </div>

            <footer className="mt-12 text-center">
              <a
                href="../index.html"
                className="text-orange-600/50 hover:text-orange-600 transition font-bold"
              >
                <i className="fa-solid fa-arrow-left mr-2"></i> Back to
                Dashboard
              </a>
            </footer>
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
