<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Photosynthesis Lab | S2 Science</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      crossorigin
      src="https://unpkg.com/react@18/umd/react.production.min.js"
    ></script>
    <script
      crossorigin
      src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/js/all.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;600;800&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Outfit", sans-serif;
        background: #f0fdf4;
      }
      .leaf-vein {
        background-image: linear-gradient(
          45deg,
          transparent 48%,
          #14532d 49%,
          #14532d 51%,
          transparent 52%
        );
      }
      .bubble {
        animation: rise 4s infinite linear;
      }
      @keyframes rise {
        0% {
          opacity: 0;
          transform: translateY(0) scale(0.5);
        }
        50% {
          opacity: 1;
        }
        100% {
          opacity: 0;
          transform: translateY(-50px) scale(1);
        }
      }
    </style>
  </head>
  <body class="bg-green-50 text-slate-800 min-h-screen">
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;

      const App = () => {
        const [sunlight, setSunlight] = useState(true);
        const [co2, setCo2] = useState(true);
        const [water, setWater] = useState(true);
        const [production, setProduction] = useState(0); // 0-100%
        const [starchTest, setStarchTest] = useState("none"); // none, boil, alcohol, iodine

        // Production logic
        useEffect(() => {
          let interval;
          if (sunlight && co2 && water) {
            interval = setInterval(() => {
              setProduction((prev) => Math.min(100, prev + 1));
            }, 50);
          } else {
            interval = setInterval(() => {
              setProduction((prev) => Math.max(0, prev - 2));
            }, 50);
          }
          return () => clearInterval(interval);
        }, [sunlight, co2, water]);

        const getLeafColor = () => {
          if (starchTest === "none") return "bg-green-500";
          if (starchTest === "boil") return "bg-green-600"; // Softened
          if (starchTest === "alcohol")
            return "bg-white border-2 border-slate-200"; // Decolorized
          if (starchTest === "iodine")
            return production > 50 ? "bg-indigo-900" : "bg-amber-600"; // Blue-black if starch, Brown if not
        };

        return (
          <div className="p-8 max-w-6xl mx-auto min-h-screen flex flex-col items-center">
            <header className="text-center mb-10 w-full">
              <span className="text-green-600 font-bold uppercase text-xs tracking-widest">
                Form 2 Science • Unit 7
              </span>
              <h1 className="text-5xl font-extrabold text-slate-800 mb-2">
                Photosynthesis Lab
              </h1>
              <p className="text-slate-500">
                Inputs: Carbon Dioxide + Water. Condition: Sunlight. Outputs:
                Glucose + Oxygen.
              </p>
            </header>

            <nav className="flex gap-4 mb-8 bg-white p-2 rounded-xl shadow border border-green-100">
              <button
                onClick={() => setStarchTest("none")}
                className={`px-4 py-2 rounded-lg font-bold ${
                  starchTest === "none"
                    ? "bg-green-500 text-white"
                    : "text-slate-500"
                }`}
              >
                1. Grow Plant
              </button>
              <button
                onClick={() => setStarchTest("iodine")}
                className={`px-4 py-2 rounded-lg font-bold ${
                  starchTest !== "none"
                    ? "bg-amber-500 text-white"
                    : "text-slate-500"
                }`}
              >
                2. Starch Test
              </button>
            </nav>

            <div className="grid grid-cols-1 lg:grid-cols-2 gap-12 w-full">
              {/* Simulation View */}
              <div className="bg-white rounded-3xl shadow-xl overflow-hidden border border-green-100 relative h-[500px] flex items-end justify-center">
                {starchTest === "none" ? (
                  <>
                    {/* Sky/Sun */}
                    <div
                      className={`absolute top-0 left-0 w-full h-full transition-colors duration-1000 ${
                        sunlight ? "bg-sky-200" : "bg-slate-900"
                      }`}
                    >
                      {sunlight && (
                        <div className="absolute top-10 right-10 w-24 h-24 rounded-full bg-yellow-400 shadow-[0_0_60px_rgba(250,204,21,0.8)] animate-pulse"></div>
                      )}
                      {!sunlight && (
                        <div className="absolute top-10 right-10 w-20 h-20 rounded-full bg-slate-100 shadow-[0_0_20px_rgba(255,255,255,0.2)]"></div>
                      )}
                    </div>

                    {/* Ground */}
                    <div className="absolute bottom-0 w-full h-32 bg-stone-700"></div>

                    {/* Plant */}
                    <div className="relative z-10 flex flex-col items-center">
                      <div className="w-4 h-64 bg-green-700 rounded-full"></div>{" "}
                      {/* Stem */}
                      {/* Leaves */}
                      <div className="absolute top-20 -left-16 w-20 h-10 bg-green-500 rounded-full rotate-[-30deg] leaf-vein origin-right"></div>
                      <div className="absolute top-32 -right-16 w-20 h-10 bg-green-500 rounded-full rotate-[30deg] leaf-vein origin-left"></div>
                      {/* Oxygen Bubbles (if active) */}
                      {production > 0 && (
                        <>
                          <div className="bubble absolute top-20 -left-10 w-4 h-4 rounded-full bg-white/50 border border-white"></div>
                          <div
                            className="bubble absolute top-32 -right-10 w-3 h-3 rounded-full bg-white/50 border border-white"
                            style={{ animationDelay: "1s" }}
                          ></div>
                          <div
                            className="bubble absolute top-10 left-0 w-2 h-2 rounded-full bg-white/50 border border-white"
                            style={{ animationDelay: "2s" }}
                          ></div>
                        </>
                      )}
                    </div>

                    {/* Labels */}
                    {co2 && (
                      <div className="absolute top-1/2 left-10 text-white/50 font-bold animate-pulse">
                        CO₂ Entering
                      </div>
                    )}
                    {water && (
                      <div className="absolute bottom-10 left-10 text-blue-300 font-bold animate-pulse">
                        H₂O Absorbed
                      </div>
                    )}
                    {production > 0 && (
                      <div className="absolute top-1/3 right-10 text-white font-bold animate-bounce">
                        O₂ Released
                      </div>
                    )}
                  </>
                ) : (
                  /* Starch Test View */
                  <div className="w-full h-full bg-slate-100 flex flex-col items-center justify-center p-8">
                    <div className="text-slate-500 mb-8 font-bold text-center">
                      {starchTest === "iodine" && "Adding Iodine Solution..."}
                    </div>

                    {/* Petri Dish */}
                    <div className="w-64 h-64 rounded-full border-4 border-slate-300 bg-white shadow-lg flex items-center justify-center relative overflow-hidden">
                      {/* Leaf */}
                      <div
                        className={`w-32 h-48 rounded-[100%] transition-colors duration-1000 ${getLeafColor()}`}
                      ></div>

                      {/* Dropper */}
                      {starchTest === "iodine" && (
                        <div className="absolute top-10 right-20 text-4xl text-amber-700 animate-bounce">
                          <i className="fa-solid fa-eye-dropper"></i>
                        </div>
                      )}
                    </div>

                    <div className="mt-8 bg-white p-4 rounded-xl border border-slate-200 shadow-sm max-w-sm text-center">
                      <h3 className="font-bold text-slate-800">Observation</h3>
                      <p className="text-sm text-slate-500 mt-2">
                        {production > 50
                          ? "The leaf turns Blue-Black. Starch IS present (Photosynthesis occurred)."
                          : "The leaf stays Brown/Orange. Starch IS NOT present (No Photosynthesis)."}
                      </p>
                    </div>
                  </div>
                )}
              </div>

              {/* Controls */}
              <div className="space-y-6">
                {starchTest === "none" && (
                  <div className="bg-white p-8 rounded-3xl shadow-lg border border-green-100">
                    <h3 className="font-bold text-slate-400 uppercase text-xs tracking-widest mb-6">
                      Conditions
                    </h3>

                    <div className="space-y-4">
                      <button
                        onClick={() => setSunlight(!sunlight)}
                        className={`w-full p-4 rounded-xl border-2 flex items-center justify-between transition-all ${
                          sunlight
                            ? "border-yellow-400 bg-yellow-50 text-yellow-700"
                            : "border-slate-200 text-slate-400"
                        }`}
                      >
                        <div className="flex items-center gap-3">
                          <i className="fa-solid fa-sun text-2xl"></i>
                          <span className="font-bold">Sunlight</span>
                        </div>
                        <div
                          className={`w-12 h-6 rounded-full p-1 transition-colors ${
                            sunlight ? "bg-green-500" : "bg-slate-300"
                          }`}
                        >
                          <div
                            className={`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform ${
                              sunlight ? "translate-x-6" : "translate-x-0"
                            }`}
                          ></div>
                        </div>
                      </button>

                      <button
                        onClick={() => setCo2(!co2)}
                        className={`w-full p-4 rounded-xl border-2 flex items-center justify-between transition-all ${
                          co2
                            ? "border-sky-400 bg-sky-50 text-sky-700"
                            : "border-slate-200 text-slate-400"
                        }`}
                      >
                        <div className="flex items-center gap-3">
                          <i className="fa-solid fa-wind text-2xl"></i>
                          <span className="font-bold">Carbon Dioxide</span>
                        </div>
                        <div
                          className={`w-12 h-6 rounded-full p-1 transition-colors ${
                            co2 ? "bg-green-500" : "bg-slate-300"
                          }`}
                        >
                          <div
                            className={`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform ${
                              co2 ? "translate-x-6" : "translate-x-0"
                            }`}
                          ></div>
                        </div>
                      </button>

                      <button
                        onClick={() => setWater(!water)}
                        className={`w-full p-4 rounded-xl border-2 flex items-center justify-between transition-all ${
                          water
                            ? "border-blue-500 bg-blue-50 text-blue-700"
                            : "border-slate-200 text-slate-400"
                        }`}
                      >
                        <div className="flex items-center gap-3">
                          <i className="fa-solid fa-droplet text-2xl"></i>
                          <span className="font-bold">Water</span>
                        </div>
                        <div
                          className={`w-12 h-6 rounded-full p-1 transition-colors ${
                            water ? "bg-green-500" : "bg-slate-300"
                          }`}
                        >
                          <div
                            className={`w-4 h-4 bg-white rounded-full shadow-md transform transition-transform ${
                              water ? "translate-x-6" : "translate-x-0"
                            }`}
                          ></div>
                        </div>
                      </button>
                    </div>

                    <div className="mt-8">
                      <div className="flex justify-between text-sm font-bold text-slate-500 mb-2">
                        <span>Glucose Production (Stored as Starch)</span>
                        <span>{Math.round(production)}%</span>
                      </div>
                      <div className="w-full h-4 bg-slate-100 rounded-full overflow-hidden">
                        <div
                          className="h-full bg-green-500 transition-all duration-300"
                          style={{ width: `${production}%` }}
                        ></div>
                      </div>
                    </div>
                  </div>
                )}

                {starchTest !== "none" && (
                  <div className="bg-white p-8 rounded-3xl shadow-lg border border-amber-100">
                    <h3 className="font-bold text-slate-800 text-xl mb-4">
                      The Iodine Test
                    </h3>
                    <p className="text-slate-500 mb-4">
                      Iodine solution is used to test for the presence of
                      starch. Glucose produced during photosynthesis is stored
                      as starch in leaves.
                    </p>
                    <ul className="space-y-4 text-sm text-slate-700">
                      <li className="flex items-start gap-3">
                        <span className="w-6 h-6 rounded-full bg-amber-600 text-white flex items-center justify-center font-bold text-xs">
                          1
                        </span>
                        <span>
                          <strong>Steps:</strong> Boil leaf to kill cells ->
                          Alcohol to remove chlorophyll -> Add Iodine.
                        </span>
                      </li>
                      <li className="flex items-start gap-3">
                        <span className="w-6 h-6 rounded-full bg-indigo-900 text-white flex items-center justify-center font-bold text-xs">
                          2
                        </span>
                        <span>
                          <strong>Positive Result:</strong> Turns Blue-Black
                          (Starch present).
                        </span>
                      </li>
                      <li className="flex items-start gap-3">
                        <span className="w-6 h-6 rounded-full bg-amber-400 text-white flex items-center justify-center font-bold text-xs">
                          3
                        </span>
                        <span>
                          <strong>Negative Result:</strong> Stays Brown/Orange
                          (No Starch).
                        </span>
                      </li>
                    </ul>
                  </div>
                )}
              </div>
            </div>

            
          </div>
        );
      };

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
