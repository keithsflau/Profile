<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <title>約翰福音研讀工具</title>
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1"
    />
    <style>
      :root {
        color-scheme: light;
        --bg: #f5f7fb;
        --bg-elevated: #ffffff;
        --bg-soft: #eef2ff;
        --accent: #0f766e;
        --accent-soft: rgba(15, 118, 110, 0.08);
        --accent-strong: #0d9488;
        --text: #0f172a;
        --muted: #4b5563;
        --border: #d7e0f0;
        --shadow-soft: 0 26px 70px rgba(15, 23, 42, 0.08);
        --radius-lg: 18px;
        --radius-xl: 22px;
        --radius-pill: 999px;
        --transition-fast: 180ms ease-out;
        --transition: 220ms ease-out;
        --transition-slow: 380ms ease-out;
        --font-sans: system-ui, -apple-system, BlinkMacSystemFont, "SF Pro Text",
          "Segoe UI", sans-serif;
      }

      * {
        box-sizing: border-box;
      }

      body {
        margin: 0;
        min-height: 100vh;
        font-family: var(--font-sans);
        background: radial-gradient(circle at top, #fdfdfb 0, #f0f5ff 55%, #dce7ff 110%);
        color: var(--text);
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
      }

      .page {
        max-width: 1280px;
        margin: 0 auto;
        padding: 24px 16px;
      }

      .header {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 22px;
      }

      @media (min-width: 720px) {
        .header {
          flex-direction: row;
          align-items: center;
          justify-content: space-between;
        }
      }

      .title-block {
        position: relative;
        padding-left: 14px;
      }

      .title-block::before {
        content: '';
        position: absolute;
        inset: 0 auto 0 0;
        width: 4px;
        border-radius: 999px;
        background: linear-gradient(180deg, #0ea5e9, #0f766e);
        box-shadow: 0 0 0 1px rgba(14, 165, 233, 0.2), 0 12px 30px rgba(14, 165, 233, 0.25);
      }

      .title-main {
        display: flex;
        align-items: center;
        gap: 10px;
      }

      .title {
        margin: 0;
        font-size: 1.85rem;
        letter-spacing: 0.05em;
        text-transform: uppercase;
        color: #0f172a;
      }

      .title-chip {
        padding: 4px 12px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(15, 118, 110, 0.3);
        color: #0f766e;
        font-size: 0.78rem;
        letter-spacing: 0.08em;
        text-transform: uppercase;
        background: rgba(15, 118, 110, 0.08);
      }

      .subtitle {
        margin: 6px 0 0;
        font-size: 0.95rem;
        color: var(--muted);
      }

      .header-actions {
        display: flex;
        flex-wrap: wrap;
        gap: 8px;
        justify-content: flex-start;
      }

      @media (min-width: 720px) {
        .header-actions {
          justify-content: flex-end;
        }
      }

      .pill {
        display: inline-flex;
        align-items: center;
        gap: 8px;
        padding: 7px 12px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(15, 118, 110, 0.3);
        background: #ffffff;
        color: #0f766e;
        font-size: 0.78rem;
        letter-spacing: 0.06em;
        text-transform: uppercase;
        white-space: nowrap;
      }

      .pill-dot {
        width: 7px;
        height: 7px;
        border-radius: 999px;
        background: radial-gradient(circle at 30% 0, #36c2cf 0, #0f766e 80%);
        box-shadow:
          0 0 0 1px rgba(14, 165, 233, 0.4);
      }

      .layout {
        display: flex;
        flex-direction: column;
        gap: 20px;
        align-items: stretch;
      }

      .card {
        position: relative;
        background: #ffffff;
        border-radius: var(--radius-xl);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-soft);
        overflow: hidden;
      }

      .card::before {
        content: '';
        position: absolute;
        inset: -18%;
        background:
          radial-gradient(circle at 12% 8%, rgba(14, 165, 233, 0.2), transparent 55%),
          radial-gradient(circle at 90% 12%, rgba(15, 118, 110, 0.18), transparent 60%);
        opacity: 0;
        transition: opacity var(--transition-slow);
        pointer-events: none;
      }

      .card:hover::before {
        opacity: 1;
      }

      .card-header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 14px 16px 8px;
        border-bottom: 1px solid var(--border);
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.08), rgba(15, 118, 110, 0.05));
      }

      .card-title-block {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .card-title {
        font-size: 0.92rem;
        text-transform: uppercase;
        letter-spacing: 0.15em;
        color: #0f172a;
      }

      .card-subtitle {
        font-size: 0.8rem;
        color: var(--muted);
      }

      .card-chip {
        padding: 3px 9px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(15, 118, 110, 0.3);
        background: rgba(14, 165, 233, 0.08);
        font-size: 0.72rem;
        letter-spacing: 0.15em;
        color: #0f766e;
        text-transform: uppercase;
      }

      .intro-body {
        padding: 16px 18px 18px;
        display: grid;
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.1fr);
        gap: 14px;
      }

      @media (max-width: 720px) {
        .intro-body {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .intro-section-label {
        font-size: 0.75rem;
        text-transform: uppercase;
        letter-spacing: 0.13em;
        color: var(--muted);
        margin-bottom: 6px;
      }

      .intro-heading {
        font-size: 1.05rem;
        margin-bottom: 6px;
        color: #0f172a;
      }

      .intro-text {
        font-size: 1rem;
        color: var(--muted);
        line-height: 1.8;
        max-width: 70ch;
      }

      .intro-grid-meta {
        display: grid;
        grid-template-columns: repeat(2, minmax(0, 1fr));
        gap: 8px;
        margin-top: 8px;
      }

      @media (max-width: 720px) {
        .intro-grid-meta {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .meta-row {
        display: flex;
        flex-direction: column;
        gap: 2px;
      }

      .meta-label {
        font-size: 0.72rem;
        text-transform: uppercase;
        letter-spacing: 0.13em;
        color: #4b5563;
      }

      .meta-value {
        font-size: 0.88rem;
        color: #0f172a;
      }

      .meta-ref {
        font-size: 0.82rem;
        color: #0f766e;
      }

      .intro-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
        margin-top: 8px;
      }

      .tag {
        padding: 3px 9px;
        border-radius: var(--radius-pill);
        border: 1px solid rgba(15, 118, 110, 0.3);
        background: rgba(15, 23, 42, 0.9);
        font-size: 0.8rem;
        color: #0f766e;
      }

      .tag strong {
        color: #dcfce7;
        font-weight: 500;
      }

      .tabs {
        margin-top: 16px;
        background: #ffffff;
        border-radius: var(--radius-xl);
        border: 1px solid var(--border);
        box-shadow: var(--shadow-soft);
        overflow: hidden;
        position: relative;
      }

      .tabs-header {
        position: relative;
        display: flex;
        gap: 4px;
        padding: 6px;
        border-bottom: 1px solid var(--border);
        background: linear-gradient(135deg, rgba(14, 165, 233, 0.08), rgba(15, 118, 110, 0.07));
      }

      .tab-button {
        position: relative;
        flex: 1;
        border: none;
        border-radius: 999px;
        padding: 8px 10px;
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.13em;
        color: var(--muted);
        background: transparent;
        cursor: pointer;
        transition: color var(--transition-fast), transform var(--transition-fast);
        z-index: 1;
        white-space: nowrap;
      }

      .tab-button:hover {
        color: #0f172a;
        transform: translateY(-1px);
      }

      .tab-button.active {
        color: #f9fafb;
      }

      .tab-indicator {
        position: absolute;
        top: 6px;
        bottom: 6px;
        border-radius: 999px;
        background: linear-gradient(135deg, #36c2cf, #0f766e);
        box-shadow: 0 8px 20px rgba(15, 118, 110, 0.25);
        transition: transform var(--transition), width var(--transition);
        pointer-events: none;
      }

      .tabs-body {
        position: relative;
        padding: 10px 10px 12px;
        overflow: hidden;
      }

      .panel {
        display: none;
        opacity: 0;
        transform: translateY(6px);
        transition: opacity var(--transition), transform var(--transition);
      }

      .panel.active {
        display: block;
        opacity: 1;
        transform: translateY(0);
      }

      .panel-grid {
        display: grid;
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.3fr);
        gap: 12px;
      }

      @media (max-width: 880px) {
        .panel-grid {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .section-title {
        font-size: 0.85rem;
        text-transform: uppercase;
        letter-spacing: 0.18em;
        color: #4b5563;
        margin-bottom: 6px;
      }

      .section-heading {
        font-size: 1.02rem;
        margin-bottom: 6px;
        color: #0f172a;
      }

      .section-text {
        font-size: 0.86rem;
        color: #0f172a;
        line-height: 1.7;
      }

      .chip-row {
        margin-top: 8px;
        display: flex;
        flex-wrap: wrap;
        gap: 6px;
      }

      .chip-pill {
        padding: 3px 9px;
        border-radius: var(--radius-pill);
        border: 1px solid var(--border);
        background-color: rgba(15, 23, 42, 0.9);
        color: #0f172a;
        font-size: 0.74rem;
      }

      .chip-pill span {
        color: #a5b4fc;
      }

      .panel-columns {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.5fr);
        gap: 16px;
      }

      @media (max-width: 1040px) {
        .panel-columns {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .list-card {
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
        background: #ffffff;
        padding: 10px 11px 11px;
      }

      .list-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin-bottom: 4px;
      }

      .list-title {
        font-size: 0.8rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: #0f172a;
      }

      .list-sub {
        font-size: 0.75rem;
        color: var(--muted);
      }

      .scroll {
        max-height: 320px;
        overflow: auto;
        padding-right: 4px;
        scrollbar-width: thin;
        scrollbar-color: rgba(75, 85, 99, 0.9) transparent;
      }

      .scroll::-webkit-scrollbar {
        width: 6px;
      }

      .scroll::-webkit-scrollbar-track {
        background: transparent;
      }

      .scroll::-webkit-scrollbar-thumb {
        background: rgba(75, 85, 99, 0.8);
        border-radius: 999px;
      }

      .person-list,
      .outline-list,
      .term-list {
        list-style: none;
        padding: 0;
        margin: 0;
        display: grid;
        gap: 6px;
      }

      .item-button {
        width: 100%;
        text-align: left;
        border-radius: 12px;
        border: 1px solid rgba(209, 213, 219, 0.95);
        background: #ffffff;
        padding: 7px 8px;
        cursor: pointer;
        transition:
          border-color var(--transition-fast),
          background-color var(--transition-fast),
          transform var(--transition-fast),
          box-shadow var(--transition-fast);
        display: flex;
        gap: 8px;
        align-items: flex-start;
      }

      .item-button:hover {
        transform: translateY(-1px);
        box-shadow: 0 8px 18px rgba(148, 163, 184, 0.45);
        border-color: rgba(248, 180, 0, 0.9);
      }

      .item-button.active {
        border-color: rgba(248, 180, 0, 1);
        box-shadow:
          0 0 0 1px rgba(251, 191, 36, 0.8),
          0 0 18px rgba(251, 191, 36, 0.9);
      }

      .item-badge {
        min-width: 26px;
        padding: 1px 4px;
        border-radius: 999px;
        border: 1px solid rgba(56, 189, 248, 0.8);
        font-size: 0.7rem;
        color: #e0f2fe;
        text-align: center;
      }

      .item-content {
        flex: 1;
      }

      .item-title-row {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 8px;
      }

      .item-title {
        font-size: 0.86rem;
        color: #0f172a;
      }

      .item-ref {
        font-size: 0.78rem;
        color: #1d4ed8;
        white-space: nowrap;
      }

      .item-desc {
        margin-top: 2px;
        font-size: 0.8rem;
        color: var(--muted);
      }

      .detail-card {
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
        background: #ffffff;
        padding: 12px 12px 14px;
        min-height: 220px;
      }

      .detail-label {
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: #4b5563;
        margin-bottom: 4px;
      }

      .detail-heading-row {
        display: flex;
        flex-wrap: wrap;
        align-items: baseline;
        justify-content: space-between;
        gap: 6px;
        margin-bottom: 4px;
      }

      .detail-heading {
        font-size: 1.02rem;
        color: #0f172a;
      }

      .detail-tags {
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
      }

      .detail-tag {
        padding: 2px 7px;
        border-radius: 999px;
        border: 1px solid var(--border);
        font-size: 0.72rem;
        color: #0f172a;
      }

      .detail-layout {
        display: grid;
        grid-template-columns: minmax(0, 1.1fr) minmax(0, 1.2fr);
        gap: 14px;
        margin-top: 6px;
      }

      @media (max-width: 880px) {
        .detail-layout {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .detail-block-title {
        font-size: 0.82rem;
        text-transform: uppercase;
        letter-spacing: 0.14em;
        color: #4b5563;
        margin-bottom: 3px;
      }

      .detail-text {
        font-size: 1rem;
        color: var(--muted);
        line-height: 1.8;
        max-width: 70ch;
      }

      .scripture-box {
        margin-top: 5px;
        padding: 6px 7px;
        border-radius: 12px;
        border: 1px dashed rgba(209, 213, 219, 0.95);
        background-color: #fffbeb;
      }

      .scripture-ref {
        font-size: 0.8rem;
        color: #92400e;
        margin-bottom: 2px;
      }

      .scripture-text {
        font-size: 1rem;
        color: #0f172a;
        line-height: 1.85;
        max-width: 72ch;
      }

      .scripture-note {
        margin-top: 3px;
        font-size: 0.76rem;
        color: #4b5563;
      }

      .term-head-row {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        gap: 8px;
      }

      .term-main {
        font-size: 1rem;
        color: #0f172a;
      }

      .term-original {
        font-size: 0.86rem;
        color: #a5b4fc;
      }

      .term-pron {
        font-size: 0.78rem;
        color: #4b5563;
      }

      .term-badge {
        font-size: 0.75rem;
        color: #f9fafb;
        padding: 2px 7px;
        border-radius: 999px;
        border: 1px solid rgba(56, 189, 248, 0.9);
        background: radial-gradient(circle at 0 0, rgba(56, 189, 248, 0.2), transparent 70%);
        white-space: nowrap;
      }

      .term-text {
        margin-top: 4px;
        font-size: 0.98rem;
        color: var(--muted);
        line-height: 1.8;
        max-width: 72ch;
      }

      .term-scriptures {
        margin-top: 5px;
        font-size: 0.8rem;
        color: #a5b4fc;
      }

      .term-tag-row {
        margin-top: 4px;
        display: flex;
        flex-wrap: wrap;
        gap: 4px;
      }

      .term-small-tag {
        font-size: 0.74rem;
        padding: 2px 6px;
        border-radius: 999px;
        border: 1px solid var(--border);
        color: #0f172a;
      }

      .theme-grid {
        display: grid;
        grid-template-columns: minmax(0, 1.2fr) minmax(0, 1.2fr);
        gap: 12px;
      }

      @media (max-width: 960px) {
        .theme-grid {
          grid-template-columns: minmax(0, 1fr);
        }
      }

      .theme-card {
        border-radius: var(--radius-lg);
        border: 1px solid var(--border);
        background: #ffffff;
        padding: 8px 9px 10px;
      }

      .theme-card.iam {
        grid-column: 1 / -1;
      }

      .theme-label {
        font-size: 0.78rem;
        text-transform: uppercase;
        letter-spacing: 0.16em;
        color: #4b5563;
        margin-bottom: 4px;
      }

      .theme-title {
        font-size: 1.02rem;
        color: #0f172a;
        margin-bottom: 4px;
      }

      .theme-text {
        font-size: 1rem;
        color: var(--muted);
        line-height: 1.8;
        max-width: 72ch;
      }

      .theme-refs {
        margin-top: 4px;
        font-size: 0.8rem;
        color: #a5b4fc;
      }

      .footer {
        margin-top: 16px;
        font-size: 0.75rem;
        color: #6b7280;
        text-align: right;
      }

      .footer span {
        color: #4b5563;
      }

      .fade-in {
        animation: fadeIn 0.35s ease-out;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(4px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }

      .pulse-ring {
        position: absolute;
        inset: auto auto -8px 16px;
        width: 54px;
        height: 54px;
        border-radius: 999px;
        background: radial-gradient(circle, rgba(56, 189, 248, 0.18), transparent 70%);
        filter: blur(4px);
        opacity: 0.9;
        pointer-events: none;
        animation: pulse 3s ease-in-out infinite;
      }

      @keyframes pulse {
        0% {
          transform: scale(0.9);
          opacity: 0.65;
        }
        50% {
          transform: scale(1.05);
          opacity: 1;
        }
        100% {
          transform: scale(0.9);
          opacity: 0.65;
        }
      }
    </style>
      <link rel="stylesheet" href="../../../../visit-counter.css">
</head>
  <body>
    <div class="page">
      <header class="header">
        <div class="title-block">
          <div class="title-main">
            <h1 class="title">約翰福音</h1>
            <div class="title-chip">研讀介面</div>
          </div>
          <p class="subtitle">
            透過經文分段、主要人物、原文難字與屬靈重點，按部就班默想整卷。
          </p>
        </div>
        <div class="header-actions">
          <div class="pill">
            <span class="pill-dot"></span>
            <span>靈修 &amp; 查經</span>
          </div>
          <div class="pill">
            <span>結構</span> / <span>人物</span> / <span>主題</span> / <span>原文</span>
          </div>
        </div>
      </header>

      <main class="layout">
        <section class="card">
          <div class="pulse-ring"></div>
          <header class="card-header">
            <div class="card-title-block">
              <div class="card-title">卷首概覽</div>
              <div class="card-subtitle">寫作背景、目的與特色</div>
            </div>
            <span class="card-chip">Overview</span>
          </header>
          <div class="intro-body">
            <div>
              <div class="intro-section-label">背景</div>
              <div class="intro-heading">作者、對象與寫作情景</div>
              <p class="intro-text">
                傳統視本卷作者為「主所愛的門徒」約翰，當時已進入晚年，回望多年跟隨主的經歷，將耶穌的言行重新整理，以深刻而精簡的方式呈現。
                讀者包括已信與慕道者，特別面對猶太人會堂排斥及外邦文化衝擊的人群。
              </p>
              <div class="intro-grid-meta">
                <div class="meta-row">
                  <div class="meta-label">大約成書</div>
                  <div class="meta-value">約主後 80–90 年</div>
                  <div class="meta-ref">晚期福音書之一</div>
                </div>
                <div class="meta-row">
                  <div class="meta-label">主要地點</div>
                  <div class="meta-value">耶路撒冷為中心，配合多次節期</div>
                  <div class="meta-ref">約 2–5, 7–12, 18–20 章</div>
                </div>
              </div>
            </div>
            <div>
              <div class="intro-section-label">寫作目的</div>
              <div class="intro-heading">為要叫人信耶穌是基督</div>
              <p class="intro-text">
                本卷清楚宣告：「叫你們信耶穌是基督，是神的兒子；並且叫你們信了他，就可以因他的名得生命。」
                全卷精選記載「神蹟」與「我是」宣告，引導讀者認識耶穌的身分、十字架與復活，並進入與主親密的生命關係。
              </p>
              <div class="intro-tags">
                <span class="tag"><strong>關鍵經文：</strong>約 20:30–31</span>
                <span class="tag"><strong>核心題材：</strong>信、生命、榮耀、道路真理生命</span>
                <span class="tag"><strong>風格：</strong>選錄神蹟與對話，重點在深度而非篇幅</span>
              </div>
            </div>
          </div>
        </section>

        <section class="tabs" id="study-tabs">
          <div class="tabs-header" id="tabs-header">
            <button class="tab-button active" data-tab="persons">人物研讀</button>
            <button class="tab-button" data-tab="outline">經文分段</button>
            <button class="tab-button" data-tab="themes">屬靈重點</button>
            <button class="tab-button" data-tab="terms">原文難字</button>
            <div class="tab-indicator" id="tab-indicator"></div>
          </div>
          <div class="tabs-body">
            <section class="panel active" data-panel="persons">
              <div class="panel-columns">
                <div class="list-card">
                  <div class="list-header">
                    <div>
                      <div class="list-title">主要人物</div>
                      <div class="list-sub">按人物背景與屬靈特色選讀</div>
                    </div>
                    <div class="list-sub">點選左方人物，以右欄詳讀</div>
                  </div>
                  <div class="scroll">
                    <ul class="person-list" id="person-list"></ul>
                  </div>
                </div>
                <div class="detail-card fade-in" id="person-detail">
                  <div class="detail-label">人物詳情</div>
                  <div class="detail-heading-row">
                    <div class="detail-heading">請先在左邊選擇一位人物</div>
                    <div class="detail-tags">
                      <span class="detail-tag">背景</span>
                      <span class="detail-tag">性格</span>
                      <span class="detail-tag">屬靈提醒</span>
                    </div>
                  </div>
                  <p class="detail-text">
                    左邊列出約翰福音中具代表性的人物（如尼哥底母、撒馬利亞婦人、彼得等），點選後將顯示背景介紹、性格特色、轉折故事與屬靈提醒。你亦可在經文框內自行加入完整經文作深入默想。
                  </p>
                  <div class="scripture-box">
                    <div class="scripture-ref">經文顯示區</div>
                    <p class="scripture-text">
                      這裡可貼上相關經文原文或譯文（例如和合本），作個人讀經使用；如往後在不同 folder 套用此版面，只需更新下方資料即可。
                    </p>
                    <p class="scripture-note">提示：可按段落抄錄要點，或只寫關鍵句子與重點字詞。</p>
                  </div>
                </div>
              </div>
            </section>

            <section class="panel" data-panel="outline">
              <div class="panel-columns">
                <div class="list-card">
                  <div class="list-header">
                    <div>
                      <div class="list-title">結構分段</div>
                      <div class="list-sub">由序言到復活顯現的主線</div>
                    </div>
                    <div class="list-sub">點選段落，以右欄查看重點</div>
                  </div>
                  <div class="scroll">
                    <ul class="outline-list" id="outline-list"></ul>
                  </div>
                </div>
                <div class="detail-card fade-in" id="outline-detail">
                  <div class="detail-label">段落與屬靈意義</div>
                  <div class="detail-heading-row">
                    <div class="detail-heading">請先在左邊選擇一個分段</div>
                    <div class="detail-tags">
                      <span class="detail-tag">觀察</span>
                      <span class="detail-tag">解釋</span>
                      <span class="detail-tag">應用</span>
                    </div>
                  </div>
                  <p class="detail-text">
                    每一段落均可按「觀察－解釋－應用」循序默想：先留意重複詞語、對比與象徵，再思想該段如何指向耶穌的身分與工作，最後按今天處境具體回應。
                  </p>
                  <div class="scripture-box">
                    <div class="scripture-ref">經文顯示區</div>
                    <p class="scripture-text">
                      若你已有既定分段，可在左邊自行增減段落資料；右邊此區則可用作貼上該段全文，或只寫重點經文與摘要。
                    </p>
                    <p class="scripture-note">建議：將一卷書分數週研讀，每週集中處理其中一至兩個分段。</p>
                  </div>
                </div>
              </div>
            </section>

            <section class="panel" data-panel="themes">
              <div class="panel-grid theme-grid">
                <article class="theme-card">
                  <div class="theme-label">主題一</div>
                  <div class="theme-title">耶穌是「道」、是「生命」</div>
                  <p class="theme-text">
                    開卷即宣告「道」太初與神同在，且「道」成了肉身，住在人中間。這不單指出主的永恆身分，也說明真正生命只在祂裡面。
                    約翰刻意揀選七個神蹟，以「記號」方式顯明耶穌的榮耀，叫人信而得生命。
                  </p>
                  <p class="theme-refs">參：1:1–18；3:16；5:24；10:10；14:6；20:31</p>
                </article>

                <article class="theme-card">
                  <div class="theme-label">主題二</div>
                  <div class="theme-title">信與不信的對比</div>
                  <p class="theme-text">
                    本卷多次描寫人對耶穌的不同回應：有人誤解、退後，有人雖軟弱卻仍跟從。「信」不是單一次決定，而是不斷回應光、留在主裡、持守到底的生命路程。
                  </p>
                  <p class="theme-refs">參：3:18–21；6:60–69；8:30–32；12:37–43；15:1–10</p>
                </article>

                <article class="theme-card">
                  <div class="theme-label">主題三</div>
                  <div class="theme-title">十字架榮耀與羔羊形象</div>
                  <p class="theme-text">
                    「榮耀」在本卷中不單是得勝場面，更特別指向十字架：主在被舉起時，反而顯明神的愛與公義，成就救贖。
                    從施洗者所說「看哪，神的羔羊」，到末了「成了」一語，整卷都在鋪陳這榮耀的道路。
                  </p>
                  <p class="theme-refs">參：1:29；3:14–16；12:23–28；13:31–32；19:28–30</p>
                </article>

                <article class="theme-card">
                  <div class="theme-label">主題四</div>
                  <div class="theme-title">聖靈與群體生活</div>
                  <p class="theme-text">
                    從活水的應許到晚餐樓房中的教導，主應許「保惠師」要住在門徒裡面，引導、安慰、提醒主的話。
                    主也以「新命令」吩咐門徒彼此相愛，使人因群體見證而認出門徒是屬於祂。
                  </p>
                  <p class="theme-refs">參：7:37–39；13:34–35；14–16 章；17 章</p>
                </article>

                <article class="theme-card iam">
                  <div class="theme-label">核心結構</div>
                  <div class="theme-title">約翰福音中的七個「我是」</div>
                  <p class="theme-text">
                    本卷以七個「我是」宣告，立體地顯出主的身分與救恩豐富：由基本需要（糧、光、門）到關係（牧人）、生死大事（復活與生命），再到人生路向（道路真理生命）與長期栽培（真葡萄樹）。
                    這七個宣告不只是標語，而是與具體神蹟、對話與門徒生命歷程緊緊相連。
                  </p>
                  <p class="theme-text">
                    研讀時可一方面按經文原有次序逐段查考，另一方面也可以主題方式串連七個「我是」，觀察：在各自處境下，主如何進入人心、拆毀錯誤安全感，並邀請人進入與祂更深的關係。
                  </p>
                  <div class="theme-refs">經文概覽：6:35；8:12；10:7, 9, 11, 14；11:25–26；14:6；15:1, 5</div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">一．我是生命的糧（6:35, 48–51）</div>
                    <p class="scripture-text">
                      背景是五餅二魚後的對話，群眾仍只是追求飽足，主卻指出真正的糧是從天上降下，賜生命給世界。
                      這糧最終指向祂為世人捨命的身體，超越曠野嗎哪，只解決短暫需要。信徒被邀請天天以主為生命中心，勝過以物質與成就作安全感。
                    </p>
                    <p class="scripture-note">可在旁註記：對比「勞力得來的食物」與「存到永生的食物」（6:27）。</p>
                  </div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">二．我是世界的光（8:12；9:5）</div>
                    <p class="scripture-text">
                      在住棚節光火儀式的背景下，主宣告自己是世界的光；並在醫治生來瞎眼的人時，再次表明祂是光。
                      光一方面揭露黑暗與虛假，一方面引路與保護。真正跟隨光的人不再住在黑暗中，而是學習在真理中行事，讓主光照自己最不願被觸碰的角落。
                    </p>
                    <p class="scripture-note">可觀察 9 章中「看得見／看不見」的反諷：自以為看見的人反而瞎了。</p>
                  </div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">三．我是羊的門；四．我是好牧人（10:7, 9, 11, 14）</div>
                    <p class="scripture-text">
                      「門」指出進出與得保護的唯一道路；「好牧人」則顯出主用生命看顧羊群，與雇工只顧自己形成強烈對比。
                      主按名認識每一隻羊，按時領牠們出入得草場。信徒既是羊，也被呼召學像牧人，學習為別人付代價，而不是只求自己安舒。
                    </p>
                    <p class="scripture-note">可把「來要叫羊得生命，並且得的更豐盛」（10:10）與前面三個偷竊者對比細讀。</p>
                  </div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">五．我是復活與生命（11:25–26）</div>
                    <p class="scripture-text">
                      在拉撒路已經死去四天、家人失望痛苦的環境下，主宣告祂不只是「叫人復活」的中介，而是本身就是「復活與生命」。
                      信祂的人，即使經歷身體死亡，也仍在祂裡面得生命，並且現在就可以活出在永恆中才完全顯明的生命質素——盼望、愛與信靠。
                    </p>
                    <p class="scripture-note">可對照馬大、馬利亞兩姊妹對主的反應，思想自己面對延遲與失望時的態度。</p>
                  </div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">六．我是道路、真理、生命（14:6）</div>
                    <p class="scripture-text">
                      門徒因將要離別而憂愁，主指出祂不是單單指一條路、講一套真理、賜一種生命，而是自己就是那條路、那位真理、那個生命。
                      從此，認識父唯有藉著祂；跟隨祂的人，在迷惘世代中找到方向，在眾多聲音中得着可靠標準，在乾涸心靈中得到活潑生命。
                    </p>
                    <p class="scripture-note">可在這段經文旁加入個人禱告回應，將人生不同範疇交在主的帶領下。</p>
                  </div>

                  <div class="scripture-box" style="margin-top: 8px">
                    <div class="scripture-ref">七．我是真葡萄樹（15:1, 5）</div>
                    <p class="scripture-text">
                      這是呼召門徒長期與主連結的圖畫：父是栽培的人，主是真葡萄樹，門徒是枝子。枝子離開樹幹就枯乾；住在主裡面，就多結果子，榮耀父。
                      修剪雖然不舒服，卻是為了讓枝子更結果子。信徒被邀請學習在日常生活中保持與主的實際連結，而不只是短暫的感動。
                    </p>
                    <p class="scripture-note">
                      建議把自己生命中幾個主要範圍（家庭、事奉、工作等）寫在旁邊，思想在哪些範圍特別需要「住在主裡面」。
                    </p>
                  </div>
                </article>
              </div>
            </section>

            <section class="panel" data-panel="terms">
              <div class="panel-grid">
                <div class="list-card">
                  <div class="list-header">
                    <div>
                      <div class="list-title">原文難字</div>
                      <div class="list-sub">挑選在本卷常見且含義深刻的詞彙</div>
                    </div>
                    <div class="list-sub">點選以右欄詳讀</div>
                  </div>
                  <div class="scroll">
                    <ul class="term-list" id="term-list"></ul>
                  </div>
                </div>
                <div class="detail-card fade-in" id="term-detail">
                  <div class="detail-label">詞語詳解</div>
                  <div class="detail-heading-row">
                    <div class="detail-heading">請先在左邊選擇一個詞語</div>
                    <div class="detail-tags">
                      <span class="detail-tag">用法</span>
                      <span class="detail-tag">神學重點</span>
                      <span class="detail-tag">生命應用</span>
                    </div>
                  </div>
                  <p class="detail-text">
                    這裡特別預留空間處理原文難字：可簡列字形、音譯、基本字義，再指出在約翰福音的獨特用法，以及對今日信徒的提醒。
                    例子包括：「道」（λόγος）、「獨生」（μονογενής）、「相信」（πιστεύω）、「住在」（μένω）等。
                  </p>
                  <div class="scripture-box">
                    <div class="scripture-ref">建議使用方式</div>
                    <p class="scripture-text">
                      左列表列出重點詞語，右欄可寫簡短註釋與常見經文。若日後在其他經卷或人物的 folder 裡採用同一版面，只需更新左邊詞語清單與右邊說明即可。
                    </p>
                    <p class="scripture-note">
                      小心區分：此處著重屬靈與經文意義，不以學術考證為主；避免加入不必要的艱深技術用語，只求幫助讀者更明白經文信息。
                    </p>
                  </div>
                </div>
              </div>
            </section>
          </div>
        </section>
      
    <!-- Visit Counter -->
    <div id="visit-counter-container"></div>
</main>

      
    </div>

    <script>
      const persons = [
        {
          id: 'jesus',
          order: '主角',
          name: '耶穌',
          ref: '全卷',
          summary: '「道」成了肉身，是神的兒子，是救主、君王與羔羊。',
          background:
            '約翰筆下的耶穌，同時顯出完全的神性與完全的人性：祂從太初就與父同在，又在歷史中取了肉身，進入人群。祂知道人心深處需要，又願意親近、醫治、教導與拯救。',
          traits:
            '溫柔卻堅定，知道自己從哪裡來，要往哪裡去；與父完全合一，凡事尋求父的旨意。既能對個別生命說話，也能在群體中設立新的關係與命令。',
          story:
            '從與尼哥底母的夜談，到在井旁主動接觸撒馬利亞婦人，以及為門徒洗腳、在十字架上承擔罪債，再到復活後尋回彼得，整卷呈現出一位願意付上代價、領人進入新生命的主。',
          spiritual:
            '研讀全卷時，可不斷問自己：這一段經文如何顯出耶穌是誰？祂如何與人相遇？又如何呼召我回應？不要只停留在故事表面，而是帶著敬畏與愛慕，細心觀察主的心腸與行動。',
          keyVerses: '約 1:1–18；3:16；10:10–18；13:1–15；19:28–30；20:26–29',
          note: '可按需要在此區加入你常用的譯本經文，或只摘錄重點句子作默想。'
        },
        {
          id: 'nicodemus',
          order: '人物 1',
          name: '尼哥底母',
          ref: '3:1–21；7:45–52；19:38–42',
          summary: '一位追求真理的宗教領袖，由夜裡來見，到後來公開站出來。',
          background:
            '他是猶太人的官，屬法利賽人，在宗教與社會地位上都屬高層。夜裡來到耶穌面前，或出於謹慎，或出於害怕別人眼光，但內心顯示他渴望明白真理。',
          traits:
            '起初帶著尊重卻仍然不明白重生的真義，習慣用理性與舊有觀念來理解屬天的事。隨著故事推進，他的勇氣逐漸成長，願意在眾人面前為耶穌說話，最後更與約瑟一同埋葬耶穌。',
          story:
            '他從「夜裡來」的尋問者，成為在公會中為耶穌發聲的人，最後更在極危險的時刻，帶著沒藥與沉香替主安葬。這條路反映出信心由隱密到公開的過程。',
          spiritual:
            '很多人像尼哥底母一樣，外在看似敬虔，內心卻仍渴望更真實的生命。主並沒有責備他問得太慢，反而以耐心引導他跨出一步又一步。默想他的一生，有助我們學習在原有宗教背景中更新，真正經歷重生。',
          keyVerses: '約 3:1–10；7:50–51；19:39',
          note: '可在經文框內抄錄約 3 章的重生對話，標記重複詞「重生」、「從水和聖靈生」等，幫助觀察。'
        },
        {
          id: 'samaritan-woman',
          order: '人物 2',
          name: '撒馬利亞婦人',
          ref: '4:1–42',
          summary: '在正午遇見主，由羞愧隱藏變為勇敢見證者。',
          background:
            '她屬撒馬利亞人，與猶太人彼此敵視，又因婚姻歷史複雜而被看輕。她在正午時分來打水，或許是為了避開眾人視線，心中帶著孤單與羞愧。',
          traits:
            '起初對耶穌存疑，從「你這猶太人」到稱祂為「先知」，最後承認祂是基督。她的改變不是因外在環境立刻更新，而是在與主對話中被真理光照，心靈得著活水。',
          story:
            '當她被主揭露最深的傷口時，沒有被定罪反而被醫治，隨即放下水罐回城向眾人見證。她曾經躲避人群，後來卻成為帶領全城認識耶穌的器皿。',
          spiritual:
            '這故事提醒我們：主肯主動跨越族群、性別與道德界線，去尋找被社會遺棄的人。被主認識並非羞辱，而是得釋放的開始；真正的敬拜不在於地方，而在於心靈與誠實。',
          keyVerses: '約 4:10–14；4:23–26；4:39–42',
          note: '可在經文框中標示主如何由「求水」帶出「活水」，再進入真正敬拜的教導，觀察對話推進。'
        },
        {
          id: 'peter',
          order: '人物 3',
          name: '彼得',
          ref: '1:40–42；6:68–69；13:6–9, 36–38；18–21 章',
          summary: '熱心卻軟弱的門徒，最終在主復活後被恢復並委派。',
          background:
            '出身漁夫，性格直接、熱情。早在最初便被主呼召跟隨，成為門徒中具代表性的一位，常作眾人的發言者。',
          traits:
            '愛主卻常憑衝動行事：曾高聲表明忠心，卻又在壓力下三次不認主。但他同時有勇氣承認自己無路可退，只能投靠主。',
          story:
            '他經歷在水面上行走、見證變像，又看見主被補、受審與受死。復活後，主三次問他「你愛我嗎」，既是提醒也是真實的恢復，將牧養群羊的責任交給他。',
          spiritual:
            '彼得的故事安慰許多因失敗而自卑的人：主看重的不是從不跌倒，而是願否在跌倒後回到祂面前、重新被祂使用。學習彼得留在主的目光裡，讓祂的問題刺透我們的心，再次起來跟隨。',
          keyVerses: '約 6:68–69；13:37–38；18:25–27；21:15–19',
          note: '建議在經文框中排列三次不認主與三次問愛的對照，反思自己對主的愛是否只停留在口頭。'
        }
      ];

      const outlines = [
        {
          id: 'prologue',
          order: '一',
          title: '序言：道成肉身的光（1:1–18）',
          ref: '1:1–18',
          summary: '宣告耶穌是太初的道、真光與獨生子，將神表明出來。',
          observation:
            '留意重複的字：「道」、「生命」、「光」、「見證」、「信」、「從」。經文由太初到人間，再到個人領受，呈現由上到下、由遠到近的漸進關係。',
          interpretation:
            '「道」不單是信息，更是位格；「成了肉身」顯示神親自進入人類歷史。從前沒有人見過神，如今在懷裡的獨生子將祂表明出來，叫人可以真實認識神。',
          application:
            '信主不只是接受一套道理，而是接待這位成了肉身的主，讓祂的光進入自己的黑暗。可以問：我在哪些範圍仍抗拒光照？是否真的讓主在我生命中作王？',
          keyVerses: '約 1:1–5, 9–14, 18',
          note: '可在經文框內抄下 1:1–5,14，標註主詞與動詞，幫助理解經文結構。'
        },
        {
          id: 'signs-1',
          order: '二',
          title: '初期神蹟與個人相遇（1:19–4:54）',
          ref: '1:19–4:54',
          summary:
            '記載施洗約翰見證、頭幾位門徒蒙召、迦拿婚宴變水為酒、耶穌與尼哥底母及撒馬利亞婦人對話。',
          observation:
            '本段多次出現「看哪」、「來」、「跟從」、「信」等字眼。耶穌既在公開場合行神蹟，也在私下對話中啟示自己。',
          interpretation:
            '神蹟被稱為「記號」，是指向耶穌身分的路牌，而非終點。不同背景的人（宗教領袖、被看輕的婦人、外邦官員）都被邀請進入相同的生命。',
          application:
            '反省自己是否只尋求外在神蹟，而忽略聆聽主在心中的邀請。學習像門徒一樣，願意放下舊有安全感，跨出跟隨的一步。',
          keyVerses: '約 1:29；2:11；3:16；4:13–14, 39–42',
          note: '可根據需要拆成更細段，逐次研讀，例如：1:19–51；2:1–25；3:1–36；4:1–54。'
        },
        {
          id: 'book-of-signs',
          order: '三',
          title: '記號之書：公開事奉與爭論（5–12 章）',
          ref: '5–12 章',
          summary:
            '圍繞數個節期與神蹟，描寫群眾、宗教領袖與門徒對耶穌的不同回應，信與不信的張力愈趨明顯。',
          observation:
            '主多次以「我是」宣告自己，並以具體行動印證：醫治癱子、五餅二魚、在海上行走、開瞎子的眼、叫拉撒路復活等；同時逼近受難時刻。',
          interpretation:
            '每一個神蹟都在預告十字架與復活的意義：主是生命的糧、世界的光、好牧人、復活與生命。拒絕光的人就住在黑暗裡，接受光的人便得著新的生命方向。',
          application:
            '默想自己在困難中如何看主的作為：只求眼前問題解決，還是被帶領去更深信靠祂是誰？亦要留意，宗教熱心並不等同真正的信心。',
          keyVerses: '約 6:35；8:12；10:11；11:25–26；12:23–26',
          note: '建議按節期劃分研讀（如逾越節、住棚節等），觀察主在節期中如何重新詮釋真正的意義。'
        },
        {
          id: 'book-of-glory',
          order: '四',
          title: '榮耀之書：最後晚餐至復活（13–21 章）',
          ref: '13–21 章',
          summary:
            '從為門徒洗腳、離別信息、代禱，到受難、復活與再次顯現，揭示十字架榮耀與群體使命。',
          observation:
            '重複出現「彼此相愛」、「住在」、「喜樂」、「保惠師」等字眼。氣氛從憂愁轉為喜樂，從懼怕轉為差遣。',
          interpretation:
            '洗腳行動體現愛的典範；十字架不是失敗，而是愛的極致與得勝；復活顯現則恢復軟弱的人，並差派他們成為見證。',
          application:
            '思考自己在群體中如何實踐彼此相愛與謙卑服事。遇到軟弱與跌倒時，要記得復活主仍主動尋回門徒，給予新的起點與使命。',
          keyVerses: '約 13:1–15, 34–35；14:16–18；15:1–12；19:30；20:21–29；21:15–19',
          note: '可按查經需要分成多次研讀，特別是 13–17 章可作為退修或靈修營的主題。'
        }
      ];

      const terms = [
        {
          id: 'logos',
          order: '一',
          term: '道',
          original: 'λόγος (logos)',
          pron: '音：羅戈斯',
          brief: '既指說話、信息，也指理性與秩序；在約翰福音中指向位格性的主。',
          explanation:
            '在 1:1–18，「道」不是抽象概念，而是與神同在、就是神，並且成了肉身。這既否定把真理只當作道理的看法，也糾正只求經歷卻忽略啟示內容的傾向。',
          theology:
            '藉着「道」，神創造萬有、啟示自己、施行救恩；因此，跟隨主的人是與這位「道」建立關係，而非單單接受一套新的哲學或宗教儀式。',
          application:
            '當我們讀經或聽講道時，真正追求的不是知識累積，而是與主相遇。可以問：我今天打開經文，是為了完成責任，還是渴望讓「道」光照與更新我？',
          scriptures: '約 1:1–3, 14；比較：來 1:1–3',
          tags: ['身份稱謂', '啟示', '基礎觀念']
        },
        {
          id: 'monogenes',
          order: '二',
          term: '獨生子',
          original: 'μονογενής (monogenēs)',
          pron: '音：摩諾根內斯',
          brief: '強調獨一無二、無可比擬的兒子身分，而不只是數量上的「一個」。',
          explanation:
            '在約翰福音中，「獨生子」指向父與子的獨特關係：子與父同尊同榮，同享本質，卻在救恩歷史中樂意順服差遣，成為捨己的羔羊。',
          theology:
            '這稱呼同時表明神的愛：父願意差遣這位獨一的兒子，為世人捨命；並且藉著祂，使很多人得以成為神的兒女，進入親密的家人關係。',
          application:
            '當我們說「神愛世人」時，不要讓這句話變得抽象；要記得這愛具體顯明在十字架上的獨生子。默想時可把自己代入經文，細味這份為我而來的愛。',
          scriptures: '約 1:14, 18；3:16, 18',
          tags: ['身分', '愛', '十字架']
        },
        {
          id: 'pisteuo',
          order: '三',
          term: '信',
          original: 'πιστεύω (pisteuō)',
          pron: '音：皮斯堤歐',
          brief: '包括相信、倚靠、交託與持續留在某人裡面。',
          explanation:
            '約翰福音沒有用名詞「信心」，而是多次使用動詞「相信」，顯示信不是靜態狀態，而是持續的回應與關係。經文也常用「信入」（信到祂裡面）的表達。',
          theology:
            '真正的信不只是承認某些教義正確，而是把自己交在耶穌手中，讓祂成為生命的主。這信會帶來方向與價值觀的轉變，而不是只停留在理智層面。',
          application:
            '可以問自己：我相信主到甚麼地步？當主的話與自己的計劃衝突時，是誰作決定？及時在掙扎中向主誠實禱告，求祂加增信心。',
          scriptures: '約 1:12；3:16, 18, 36；6:29；11:25–27；20:31',
          tags: ['回應', '生命行動']
        },
        {
          id: 'meno',
          order: '四',
          term: '住在',
          original: 'μένω (menō)',
          pron: '音：梅諾',
          brief: '停留、常在，形容持續、穩定的關係。',
          explanation:
            '在葡萄樹的比喻裡，主呼召門徒「住在」祂裡面，好像枝子連於樹幹一樣。這不是短暫情緒高漲，而是長期、日常、實際的連結與依靠。',
          theology:
            '「住在」關乎身分與生活：門徒不是偶爾來到主面前，而是整個生命以祂為居所與根基。離了祂，就不能做甚麼；在祂裡面，就多結果子，榮耀父。',
          application:
            '可反思自己每天的節奏，有沒有為與主相處預留空間？當壓力臨到時，第一個反應是靠自己還是轉向祂？',
          scriptures: '約 8:31；14:10, 23；15:1–10',
          tags: ['關係', '靈修生活']
        }
      ];

      function initTabs() {
        const tabsContainer = document.getElementById('study-tabs');
        const tabsHeader = document.getElementById('tabs-header');
        const tabButtons = Array.from(
          tabsHeader.querySelectorAll('.tab-button')
        );
        const panels = Array.from(
          tabsContainer.querySelectorAll('.panel')
        );
        const indicator = document.getElementById('tab-indicator');

        function updateIndicator(targetButton) {
          const rect = targetButton.getBoundingClientRect();
          const parentRect = tabsHeader.getBoundingClientRect();
          const width = rect.width;
          const x = rect.left - parentRect.left;
          indicator.style.width = width + 'px';
          indicator.style.transform = 'translateX(' + x + 'px)';
        }

        function activateTab(tabId) {
          tabButtons.forEach((btn) => {
            const isActive = btn.dataset.tab === tabId;
            btn.classList.toggle('active', isActive);
            if (isActive) updateIndicator(btn);
          });

          panels.forEach((panel) => {
            const isActive = panel.dataset.panel === tabId;
            panel.classList.toggle('active', isActive);
          });
        }

        tabButtons.forEach((btn) => {
          btn.addEventListener('click', () => {
            const tabId = btn.dataset.tab;
            activateTab(tabId);
          });
        });

        window.addEventListener('load', () => {
          const active = tabButtons.find((b) => b.classList.contains('active'));
          if (active) updateIndicator(active);
        });

        window.addEventListener('resize', () => {
          const active = tabButtons.find((b) => b.classList.contains('active'));
          if (active) updateIndicator(active);
        });
      }

      function initPersons() {
        const list = document.getElementById('person-list');
        const detail = document.getElementById('person-detail');
        let activeId = null;

        function renderList() {
          list.innerHTML = '';
          persons.forEach((p) => {
            const li = document.createElement('li');
            const btn = document.createElement('button');
            btn.className = 'item-button';
            btn.dataset.id = p.id;
            btn.innerHTML =
              '<div class="item-badge">' +
              (p.order || '') +
              '</div>' +
              '<div class="item-content">' +
              '<div class="item-title-row">' +
              '<div class="item-title">' +
              p.name +
              '</div>' +
              '<div class="item-ref">' +
              p.ref +
              '</div>' +
              '</div>' +
              '<div class="item-desc">' +
              p.summary +
              '</div>' +
              '</div>';
            li.appendChild(btn);
            list.appendChild(li);
          });
        }

        function renderDetail(person) {
          detail.innerHTML =
            '<div class="detail-label">人物詳情</div>' +
            '<div class="detail-heading-row">' +
            '<div class="detail-heading">' +
            person.name +
            '</div>' +
            '<div class="detail-tags">' +
            '<span class="detail-tag">背景</span>' +
            '<span class="detail-tag">性格</span>' +
            '<span class="detail-tag">屬靈提醒</span>' +
            '</div>' +
            '</div>' +
            '<div class="detail-layout">' +
            '<div>' +
            '<div class="detail-block-title">背景與故事</div>' +
            '<p class="detail-text">' +
            person.background +
            '</p>' +
            '<p class="detail-text">' +
            person.story +
            '</p>' +
            '</div>' +
            '<div>' +
            '<div class="detail-block-title">人物特色與屬靈反思</div>' +
            '<p class="detail-text"><strong>人物特色：</strong> ' +
            person.traits +
            '</p>' +
            '<p class="detail-text"><strong>屬靈意義：</strong> ' +
            person.spiritual +
            '</p>' +
            '<div class="scripture-box">' +
            '<div class="scripture-ref">經文：' +
            person.keyVerses +
            '</div>' +
            '<p class="scripture-text">（請在此貼上或寫下這些經文的重點內容，作個人讀經使用。）</p>' +
            '<p class="scripture-note">' +
            person.note +
            '</p>' +
            '</div>' +
            '</div>' +
            '</div>';
        }

        list.addEventListener('click', (e) => {
          const btn = e.target.closest('.item-button');
          if (!btn) return;
          const id = btn.dataset.id;
          if (id === activeId) return;
          activeId = id;

          Array.from(list.querySelectorAll('.item-button')).forEach((el) => {
            el.classList.toggle('active', el === btn);
          });

          const person = persons.find((p) => p.id === id);
          if (person) {
            renderDetail(person);
          }
        });

        renderList();
      }

      function initOutlines() {
        const list = document.getElementById('outline-list');
        const detail = document.getElementById('outline-detail');
        let activeId = null;

        function renderList() {
          list.innerHTML = '';
          outlines.forEach((o) => {
            const li = document.createElement('li');
            const btn = document.createElement('button');
            btn.className = 'item-button';
            btn.dataset.id = o.id;
            btn.innerHTML =
              '<div class="item-badge">' +
              o.order +
              '</div>' +
              '<div class="item-content">' +
              '<div class="item-title-row">' +
              '<div class="item-title">' +
              o.title +
              '</div>' +
              '<div class="item-ref">' +
              o.ref +
              '</div>' +
              '</div>' +
              '<div class="item-desc">' +
              o.summary +
              '</div>' +
              '</div>';
            li.appendChild(btn);
            list.appendChild(li);
          });
        }

        function renderDetail(outline) {
          detail.innerHTML =
            '<div class="detail-label">段落與屬靈意義</div>' +
            '<div class="detail-heading-row">' +
            '<div class="detail-heading">' +
            outline.title +
            '</div>' +
            '<div class="detail-tags">' +
            '<span class="detail-tag">觀察</span>' +
            '<span class="detail-tag">解釋</span>' +
            '<span class="detail-tag">應用</span>' +
            '</div>' +
            '</div>' +
            '<div class="detail-layout">' +
            '<div>' +
            '<div class="detail-block-title">經文重點</div>' +
            '<p class="detail-text"><strong>段落摘要：</strong> ' +
            outline.summary +
            '</p>' +
            '<p class="detail-text"><strong>觀察：</strong> ' +
            outline.observation +
            '</p>' +
            '<p class="detail-text"><strong>解釋：</strong> ' +
            outline.interpretation +
            '</p>' +
            '</div>' +
            '<div>' +
            '<div class="detail-block-title">屬靈應用</div>' +
            '<p class="detail-text">' +
            outline.application +
            '</p>' +
            '<div class="scripture-box">' +
            '<div class="scripture-ref">經文：' +
            outline.keyVerses +
            '</div>' +
            '<p class="scripture-text">（可在此加入該段經文內容或重點金句，以配合主題默想。）</p>' +
            '<p class="scripture-note">' +
            outline.note +
            '</p>' +
            '</div>' +
            '</div>' +
            '</div>';
        }

        list.addEventListener('click', (e) => {
          const btn = e.target.closest('.item-button');
          if (!btn) return;
          const id = btn.dataset.id;
          if (id === activeId) return;
          activeId = id;

          Array.from(list.querySelectorAll('.item-button')).forEach((el) => {
            el.classList.toggle('active', el === btn);
          });

          const outline = outlines.find((o) => o.id === id);
          if (outline) {
            renderDetail(outline);
          }
        });

        renderList();
      }

      function initTerms() {
        const list = document.getElementById('term-list');
        const detail = document.getElementById('term-detail');
        let activeId = null;

        function renderList() {
          list.innerHTML = '';
          terms.forEach((t) => {
            const li = document.createElement('li');
            const btn = document.createElement('button');
            btn.className = 'item-button';
            btn.dataset.id = t.id;
            btn.innerHTML =
              '<div class="item-badge">' +
              t.order +
              '</div>' +
              '<div class="item-content">' +
              '<div class="item-title-row">' +
              '<div class="item-title">' +
              t.term +
              ' · ' +
              t.original +
              '</div>' +
              '</div>' +
              '<div class="item-desc">' +
              t.brief +
              '</div>' +
              '</div>';
            li.appendChild(btn);
            list.appendChild(li);
          });
        }

        function renderDetail(term) {
          detail.innerHTML =
            '<div class="detail-label">詞語詳解</div>' +
            '<div class="detail-heading-row">' +
            '<div>' +
            '<div class="term-head-row">' +
            '<div>' +
            '<div class="term-main">' +
            term.term +
            '</div>' +
            '<div class="term-original">' +
            term.original +
            '</div>' +
            '<div class="term-pron">' +
            term.pron +
            '</div>' +
            '</div>' +
            '</div>' +
            '</div>' +
            '<div class="detail-tags">' +
            '<span class="detail-tag">原本文義</span>' +
            '<span class="detail-tag">經文用法</span>' +
            '<span class="detail-tag">生命應用</span>' +
            '</div>' +
            '</div>' +
            '<p class="term-text"><strong>簡介：</strong> ' +
            term.brief +
            '</p>' +
            '<p class="term-text"><strong>解釋：</strong> ' +
            term.explanation +
            '</p>' +
            '<p class="term-text"><strong>屬靈重點：</strong> ' +
            term.theology +
            '</p>' +
            '<p class="term-text"><strong>應用：</strong> ' +
            term.application +
            '</p>' +
            '<div class="scripture-box">' +
            '<div class="scripture-ref">經文：' +
            term.scriptures +
            '</div>' +
            '<p class="scripture-text">建議在此貼上或簡列相關經文重點字句，加深背誦與默想。</p>' +
            '<p class="scripture-note">實際使用時，也可新增更多原文詞語，例如：榮耀、生命、真理、世界等。</p>' +
            '</div>' +
            '<div class="term-tag-row">' +
            term.tags
              .map(function (tag) {
                return '<span class="term-small-tag">' + tag + '</span>';
              })
              .join('') +
            '</div>';
        }

        list.addEventListener('click', (e) => {
          const btn = e.target.closest('.item-button');
          if (!btn) return;
          const id = btn.dataset.id;
          if (id === activeId) return;
          activeId = id;

          Array.from(list.querySelectorAll('.item-button')).forEach((el) => {
            el.classList.toggle('active', el === btn);
          });

          const term = terms.find((t) => t.id === id);
          if (term) {
            renderDetail(term);
          }
        });

        renderList();
      }

      document.addEventListener('DOMContentLoaded', function () {
        initTabs();
        initPersons();
        initOutlines();
        initTerms();
      });
    </script>
  
    
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
<!-- Visit Counter Script -->
    <script src="../../../../visit-counter.js"></script>
    <script>
        const SCRIPT_URL = 'https://script.google.com/macros/s/AKfycby5jEjDAcEM6TttPbwwh1tvXPo_-W7YrNlKfJRV82PjkmAHvR_wILhA7h-zIRPF7oTRTw/exec';
        VisitCounter.init('bible_study/經卷/四福音/約翰福音/index', {
            scriptUrl: SCRIPT_URL,
            containerId: 'visit-counter-container'
        });
    </script>
</body>
</html>




