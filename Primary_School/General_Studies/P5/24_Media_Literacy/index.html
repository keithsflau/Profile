<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Media Literacy</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f1f5f9;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Media Detective",
          zh: "Â™íÈ´îÂÅµÊé¢",
          ja: "„É°„Éá„Ç£„Ç¢Êé¢ÂÅµ",
          ko: "ÎØ∏ÎîîÏñ¥ ÌÉêÏ†ï",
          es: "Detective de medios",
          de: "Mediendetektiv",
          fi: "Mediaetsiv√§",
          fr: "D√©tective m√©dia",
          ar: "ŸÖÿ≠ŸÇŸÇ ÿ•ÿπŸÑÿßŸÖŸä",
          it: "Detective Media",
        },
        instruction: {
          en: "Is this post Trustworthy or Suspicious?",
          zh: "ÈÄôÂâáÂ∏ñÂ≠êÊòØÂÄºÂæó‰ø°‰ªªÈÇÑÊòØÂèØÁñëÁöÑÔºü",
          ja: "„Åì„ÅÆÊäïÁ®ø„ÅØ‰ø°È†º„Åß„Åç„Åæ„Åô„Åã„ÄÅ„Åù„Çå„Å®„ÇÇÁñë„Çè„Åó„ÅÑ„Åß„Åô„ÅãÔºü",
          ko: "Ïù¥ Í≤åÏãúÎ¨ºÏùÄ Ïã†Î¢∞Ìï† Ïàò ÏûàÎÇòÏöî, ÏïÑÎãàÎ©¥ ÏùòÏã¨Ïä§Îü¨Ïö¥Í∞ÄÏöî?",
          es: "¬øEs esta publicaci√≥n confiable o sospechosa?",
          de: "Ist dieser Beitrag vertrauensw√ºrdig oder verd√§chtig?",
          fi: "Onko t√§m√§ julkaisu luotettava vai ep√§ilytt√§v√§?",
          fr: "Ce message est-il digne de confiance ou suspect ?",
          ar: "ŸáŸÑ Ÿáÿ∞ÿß ÿßŸÑŸÖŸÜÿ¥Ÿàÿ± ÿ¨ÿØŸäÿ± ÿ®ÿßŸÑÿ´ŸÇÿ© ÿ£ŸÖ ŸÖÿ¥ÿ®ŸàŸáÿü",
          it: "Questo post √® Affidabile o Sospetto?",
        },
        trust: {
          en: "Trustworthy",
          zh: "ÂÄºÂæó‰ø°‰ªª",
          ja: "‰ø°È†º„Åß„Åç„Çã",
          ko: "Ïã†Î¢∞Ìï† Ïàò ÏûàÏùå",
          es: "Confiable",
          de: "Vertrauensw√ºrdig",
          fi: "Luotettava",
          fr: "Digne de confiance",
          ar: "ÿ¨ÿØŸäÿ± ÿ®ÿßŸÑÿ´ŸÇÿ©",
          it: "Affidabile",
        },
        sus: {
          en: "Suspicious",
          zh: "ÂèØÁñë",
          ja: "Áñë„Çè„Åó„ÅÑ",
          ko: "ÏùòÏã¨Ïä§Îü¨ÏõÄ",
          es: "Sospechoso",
          de: "Verd√§chtig",
          fi: "Ep√§ilytt√§v√§",
          fr: "Suspect",
          ar: "ŸÖÿ¥ÿ®ŸàŸá",
          it: "Sospetto",
        },

        p1: {
          en: "Free iPhone! Click here now! Won't last!",
          zh: "ÂÖçË≤ªÈÄÅ iPhoneÔºÅÁ´ãÂç≥ÈªûÊìäÔºÅÊ©üÊúÉÈõ£ÂæóÔºÅ",
          ja: "iPhoneÁÑ°Êñô„Éó„É¨„Çº„É≥„ÉàÔºÅ‰ªä„Åô„Åê„ÇØ„É™„ÉÉ„ÇØÔºÅ",
          ko: "Î¨¥Î£å ÏïÑÏù¥Ìè∞! ÏßÄÍ∏à ÌÅ¥Î¶≠ÌïòÏÑ∏Ïöî!",
        }, // Sus
        p2: {
          en: "Typhoon signal No. 8 issued. - Observatory",
          zh: "Â§©ÊñáÂè∞ÁôºÂá∫ÂÖ´ËôüÈ¢±È¢®‰ø°Ëôü„ÄÇ",
          ja: "Âè∞È¢®Ë≠¶Â†±8Âè∑Áô∫‰ª§„ÄÇ - Ê∞óË±°Âè∞",
          ko: "ÌÉúÌíç 8Ìò∏ Ïã†Ìò∏ Î∞úÎ†π. - Í∏∞ÏÉÅÏ≤≠",
        }, // Trust
        p3: {
          en: "Eat this magic bean to cure all diseases!",
          zh: "ÂêÉ‰∫ÜÈÄôÂÄãÁ•ûÂ•áË±ÜÂ≠êËÉΩÊ≤ªÁôæÁóÖÔºÅ",
          ja: "„Åì„ÅÆÈ≠îÊ≥ï„ÅÆË±Ü„ÇíÈ£ü„Åπ„Çå„Å∞ÂÖ®„Å¶„ÅÆÁóÖÊ∞ó„ÅåÊ≤ª„ÇãÔºÅ",
          ko: "Ïù¥ ÎßàÎ≤ï ÏΩ©ÏùÑ Î®πÏúºÎ©¥ ÎßåÎ≥ëÌÜµÏπò!",
        }, // Sus
        p4: {
          en: "School will be closed tomorrow. - Edu Bureau",
          zh: "ÊïôËÇ≤Â±ÄÂÆ£‰ΩàÊòéÊó•ÂÅúË™≤„ÄÇ",
          ja: "ÊòéÊó•„ÅØ‰ºëÊ†°„Åß„Åô„ÄÇ - ÊïôËÇ≤Â±Ä",
          ko: "ÎÇ¥Ïùº Ìú¥ÍµêÌï©ÎãàÎã§. - ÍµêÏú°Íµ≠",
        }, // Trust

        correct: { en: "Correct!", zh: "Ê≠£Á¢∫ÔºÅ", ja: "Ê≠£Ëß£ÔºÅ", ko: "Ï†ïÎãµ!" },
        wrong: {
          en: "Wrong!",
          zh: "ÈåØË™§ÔºÅ",
          ja: "‰∏çÊ≠£Ëß£ÔºÅ",
          ko: "ÌãÄÎ†∏ÏäµÎãàÎã§!",
        },
      };

      const posts = [
        { id: "p1", type: "sus", author: "LuckyWinner123" },
        { id: "p2", type: "trust", author: "Official News Channel" },
        { id: "p3", type: "sus", author: "Dr. Magic" },
        { id: "p4", type: "trust", author: "Gov Education Dept" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = posts[index];

        const handleAnswer = (ans) => {
          if (feedback) return;
          if (ans === current.type) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % posts.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-indigo-700">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg">
              <div className="text-center font-bold text-slate-500 mb-4">
                {getText("instruction")}
              </div>

              {/* Phone Mockup */}
              <div className="bg-white rounded-[3rem] border-8 border-slate-800 p-6 shadow-2xl relative overflow-hidden min-h-[500px]">
                {/* Notch */}
                <div className="absolute top-0 left-1/2 -translate-x-1/2 w-32 h-6 bg-slate-800 rounded-b-xl"></div>

                {/* Post */}
                <div className="mt-8 bg-slate-50 p-4 rounded-xl shadow-sm border border-slate-200">
                  <div className="flex items-center gap-2 mb-2">
                    <div className="w-10 h-10 rounded-full bg-slate-300 flex items-center justify-center font-bold text-slate-500">
                      {current.author[0]}
                    </div>
                    <div className="font-bold text-sm text-slate-800">
                      {current.author}
                    </div>
                  </div>
                  <div className="text-lg font-medium text-slate-800 leading-relaxed min-h-[100px] flex items-center">
                    {getText(current.id)}
                  </div>
                  <div className="mt-4 flex gap-4 text-xs text-slate-400 font-bold">
                    <span>‚ù§Ô∏è 1.2k</span>
                    <span>üí¨ 342</span>
                    <span>‚ÜóÔ∏è 56</span>
                  </div>
                </div>

                {/* Action Buttons */}
                <div className="absolute bottom-6 left-6 right-6 flex gap-4">
                  <button
                    onClick={() => handleAnswer("sus")}
                    className="flex-1 bg-red-500 hover:bg-red-600 text-white py-4 rounded-xl font-bold shadow-lg flex flex-col items-center"
                  >
                    <span className="text-2xl">‚ö†Ô∏è</span>
                    {getText("sus")}
                  </button>
                  <button
                    onClick={() => handleAnswer("trust")}
                    className="flex-1 bg-green-500 hover:bg-green-600 text-white py-4 rounded-xl font-bold shadow-lg flex flex-col items-center"
                  >
                    <span className="text-2xl">‚úÖ</span>
                    {getText("trust")}
                  </button>
                </div>

                {feedback && (
                  <div
                    className={`absolute inset-0 bg-white/90 flex items-center justify-center z-20`}
                  >
                    <div
                      className={`text-5xl font-black ${
                        feedback === "correct"
                          ? "text-green-500"
                          : "text-red-500"
                      } animate-bounce`}
                    >
                      {getText(feedback)}
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
