<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Body Systems Map</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fff1f2;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Human Body Systems",
          zh: "äººé«”ç³»çµ±åœ°åœ–",
          ja: "äººä½“ã‚·ã‚¹ãƒ†ãƒ ",
          ko: "ì¸ì²´ ì‹œìŠ¤í…œ",
          es: "Sistemas del cuerpo humano",
          de: "Menschliche KÃ¶rpersysteme",
          fi: "Ihmiskehon jÃ¤rjestelmÃ¤t",
          fr: "SystÃ¨mes du corps humain",
          ar: "Ø£Ù†Ø¸Ù…Ø© Ø¬Ø³Ù… Ø§Ù„Ø¥Ù†Ø³Ø§Ù†",
          it: "Sistemi del Corpo Umano",
        },
        instruction: {
          en: "Drag the organ to the correct position.",
          zh: "å°‡å™¨å®˜æ‹–åˆ°æ­£ç¢ºçš„ä½ç½®ã€‚",
          ja: "è‡“å™¨ã‚’æ­£ã—ã„ä½ç½®ã«ãƒ‰ãƒ©ãƒƒã‚°ã—ã¦ãã ã•ã„ã€‚",
          ko: "ì¥ê¸°ë¥¼ ì˜¬ë°”ë¥¸ ìœ„ì¹˜ë¡œ ë“œë˜ê·¸í•˜ì„¸ìš”.",
          es: "Arrastra el Ã³rgano a la posiciÃ³n correcta.",
          de: "Ziehe das Organ an die richtige Position.",
          fi: "VedÃ¤ elin oikeaan asentoon.",
          fr: "Faites glisser l'organe Ã  la bonne position.",
          ar: "Ø§Ø³Ø­Ø¨ Ø§Ù„Ø¹Ø¶Ùˆ Ø¥Ù„Ù‰ Ø§Ù„Ù…ÙˆØ¶Ø¹ Ø§Ù„ØµØ­ÙŠØ­.",
          it: "Trascina l'organo nella posizione corretta.",
        },
        brain: {
          en: "Brain (Nervous)",
          zh: "å¿ƒè‡Ÿ (ç¥ç¶“ç³»çµ±)",
          ja: "è„³ (ç¥çµŒç³»)",
          ko: "ë‡Œ (ì‹ ê²½ê³„)",
          es: "Cerebro (Nervioso)",
          de: "Gehirn (Nervensystem)",
          fi: "Aivot (Hermo)",
          fr: "Cerveau (Nerveux)",
          ar: "Ø¯Ù…Ø§Øº (Ø¹ØµØ¨ÙŠ)",
          it: "Cervello (Nervoso)",
        },
        lungs: {
          en: "Lungs (Respiratory)",
          zh: "è‚º (å‘¼å¸ç³»çµ±)",
          ja: "è‚º (å‘¼å¸å™¨ç³»)",
          ko: "í (í˜¸í¡ê¸°ê³„)",
          es: "Pulmones (Respiratorio)",
          de: "Lungen (Atmungssystem)",
          fi: "Keuhkot (Hengitys)",
          fr: "Poumons (Respiratoire)",
          ar: "Ø±Ø¦ØªÙŠÙ† (ØªÙ†ÙØ³ÙŠ)",
          it: "Polmoni (Respiratorio)",
        },
        heart: {
          en: "Heart (Circulatory)",
          zh: "å¿ƒè‡Ÿ (å¾ªç’°ç³»çµ±)",
          ja: "å¿ƒè‡“ (å¾ªç’°å™¨ç³»)",
          ko: "ì‹¬ì¥ (ìˆœí™˜ê³„)",
          es: "CorazÃ³n (Circulatorio)",
          de: "Herz (Kreislaufsystem)",
          fi: "SydÃ¤n (Verenkierto)",
          fr: "CÅ“ur (Circulatoire)",
          ar: "Ù‚Ù„Ø¨ (Ø¯ÙˆØ±ÙŠ)",
          it: "Cuore (Circolatorio)",
        },
        stomach: {
          en: "Stomach (Digestive)",
          zh: "èƒƒ (æ¶ˆåŒ–ç³»çµ±)",
          ja: "èƒƒ (æ¶ˆåŒ–å™¨ç³»)",
          ko: "ìœ„ (ì†Œí™”ê³„)",
          es: "EstÃ³mago (Digestivo)",
          de: "Magen (Verdauungssystem)",
          fi: "Maha (Ruuansulatus)",
          fr: "Estomac (Digestif)",
          ar: "Ù…Ø¹Ø¯Ø© (Ù‡Ø¶Ù…ÙŠ)",
          it: "Stomaco (Digerente)",
        },
        intestine: {
          en: "Intestines (Digestive)",
          zh: "è…¸ (æ¶ˆåŒ–ç³»çµ±)",
          ja: "è…¸ (æ¶ˆåŒ–å™¨ç³»)",
          ko: "ì¥ (ì†Œí™”ê³„)",
          es: "Intestinos (Digestivo)",
          de: "Darm (Verdauungssystem)",
          fi: "Suolisto (Ruuansulatus)",
          fr: "Intestins (Digestif)",
          ar: "Ø£Ù…Ø¹Ø§Ø¡ (Ù‡Ø¶Ù…ÙŠ)",
          it: "Intestino (Digerente)",
        },
        bones: {
          en: "Bones (Skeletal)",
          zh: "éª¨éª¼ (éª¨éª¼ç³»çµ±)",
          ja: "éª¨ (éª¨æ ¼ç³»)",
          ko: "ë¼ˆ (ê³¨ê²©ê³„)",
          es: "Huesos (EsquelÃ©tico)",
          de: "Knochen (Skelettsystem)",
          fi: "Luut (Luuranko)",
          fr: "Os (Squelettique)",
          ar: "Ø¹Ø¸Ø§Ù… (Ù‡ÙŠÙƒÙ„ÙŠ)",
          it: "Ossa (Scheletrico)",
        },

        nervous: {
          en: "Nervous System",
          zh: "ç¥ç¶“ç³»çµ±",
          ja: "ç¥çµŒç³»",
          ko: "ì‹ ê²½ê³„",
          es: "Sistema nervioso",
          de: "Nervensystem",
          fi: "HermojÃ¤rjestelmÃ¤",
          fr: "SystÃ¨me nerveux",
          ar: "Ø¬Ù‡Ø§Ø² Ø¹ØµØ¨ÙŠ",
          it: "Sistema Nervoso",
        },
        respiratory: {
          en: "Respiratory System",
          zh: "å‘¼å¸ç³»çµ±",
          ja: "å‘¼å¸å™¨ç³»",
          ko: "í˜¸í¡ê¸°ê³„",
          es: "Sistema respiratorio",
          de: "Atmungssystem",
          fi: "HengityselimistÃ¶",
          fr: "SystÃ¨me respiratoire",
          ar: "Ø¬Ù‡Ø§Ø² ØªÙ†ÙØ³ÙŠ",
          it: "Sistema Respiratorio",
        },
        circulatory: {
          en: "Circulatory System",
          zh: "å¾ªç’°ç³»çµ±",
          ja: "å¾ªç’°å™¨ç³»",
          ko: "ìˆœí™˜ê³„",
          es: "Sistema circulatorio",
          de: "Kreislaufsystem",
          fi: "VerenkiertoelimistÃ¶",
          fr: "SystÃ¨me circulatoire",
          ar: "Ø¬Ù‡Ø§Ø² Ø¯ÙˆØ±ÙŠ",
          it: "Sistema Circolatorio",
        },
        digestive: {
          en: "Digestive System",
          zh: "æ¶ˆåŒ–ç³»çµ±",
          ja: "æ¶ˆåŒ–å™¨ç³»",
          ko: "ì†Œí™”ê³„",
          es: "Sistema digestivo",
          de: "Verdauungssystem",
          fi: "RuuansulatuselimistÃ¶",
          fr: "SystÃ¨me digestif",
          ar: "Ø¬Ù‡Ø§Ø² Ù‡Ø¶Ù…ÙŠ",
          it: "Sistema Digerente",
        },
      };

      const organs = [
        { id: "brain", icon: "ğŸ§ ", top: 5, left: 45, system: "nervous" },
        { id: "lungs", icon: "ğŸ«", top: 25, left: 35, system: "respiratory" }, // Slightly left/right
        { id: "heart", icon: "â¤ï¸", top: 28, left: 48, system: "circulatory" },
        { id: "stomach", icon: "ğŸ¥Ÿ", top: 40, left: 45, system: "digestive" }, // Dumpling as stomach proxy
        { id: "intestine", icon: "ğŸŒ­", top: 50, left: 45, system: "digestive" }, // Hotdog as proxy
        { id: "bones", icon: "ğŸ¦´", top: 70, left: 45, system: "skeletal" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [placed, setPlaced] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const handleDrop = (e, targetId) => {
          e.preventDefault();
          const draggedId = e.dataTransfer.getData("id");
          if (draggedId === targetId) {
            setPlaced([...placed, targetId]);
          }
        };

        const handleDragStart = (e, id) => {
          e.dataTransfer.setData("id", id);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-4 text-rose-600">
              {getText("title")}
            </h1>
            <p className="mb-4 text-slate-500 font-bold">
              {getText("instruction")}
            </p>

            <div className="flex flex-col md:flex-row gap-8 w-full max-w-4xl items-start">
              {/* Body Outline */}
              <div className="relative w-full md:w-[400px] h-[600px] bg-rose-50 rounded-[4rem] border-4 border-rose-200 shadow-xl mx-auto flex justify-center">
                {/* Human Silhouette (Simple SVG) */}
                <svg
                  className="absolute inset-0 w-full h-full opacity-20 pointer-events-none"
                  viewBox="0 0 100 200"
                >
                  <path
                    d="M50,10 A10,10 0 0,1 50,30 A10,10 0 0,1 50,10 M50,30 L50,90 M20,40 L80,40 M50,90 L30,190 M50,90 L70,190"
                    stroke="#f43f5e"
                    strokeWidth="2"
                    fill="none"
                    strokeLinecap="round"
                  />
                </svg>

                {/* Drop Zones */}
                {organs.map((o) => (
                  <div
                    key={o.id}
                    onDragOver={(e) => e.preventDefault()}
                    onDrop={(e) => handleDrop(e, o.id)}
                    className={`absolute w-16 h-16 rounded-full border-2 border-dashed border-rose-300 flex items-center justify-center transition-all bg-white/50
                            ${
                              placed.includes(o.id)
                                ? "border-solid border-green-500 bg-white shadow-lg"
                                : ""
                            }
                         `}
                    style={{ top: `${o.top}%`, left: `${o.left}%` }}
                  >
                    {placed.includes(o.id) ? (
                      <div className="text-4xl">{o.icon}</div>
                    ) : (
                      <div className="text-[10px] text-center text-rose-400 font-bold leading-tight px-1 break-words w-full">
                        {getText(o.id).split(" ")[0]}
                      </div>
                    )}
                  </div>
                ))}
              </div>

              {/* Inventory */}
              <div className="w-full md:w-1/3 flex flex-col gap-4 bg-white p-6 rounded-2xl shadow-xl">
                <h2 className="font-bold border-b pb-2 mb-2 text-rose-800">
                  Organs
                </h2>
                <div className="grid grid-cols-2 gap-4">
                  {organs.map(
                    (o) =>
                      !placed.includes(o.id) && (
                        <div
                          key={o.id}
                          draggable
                          onDragStart={(e) => handleDragStart(e, o.id)}
                          className="p-4 bg-rose-50 rounded-xl cursor-grab active:cursor-grabbing border border-rose-100 hover:bg-rose-100 flex flex-col items-center gap-2"
                        >
                          <div className="text-4xl">{o.icon}</div>
                          <div className="text-xs font-bold text-slate-700 text-center">
                            {getText(o.id)}
                          </div>
                        </div>
                      )
                  )}
                </div>
                {placed.length === organs.length && (
                  <div className="mt-4 bg-green-100 text-green-800 p-4 rounded-xl font-bold text-center animate-bounce">
                    Complete! Great Job.
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
