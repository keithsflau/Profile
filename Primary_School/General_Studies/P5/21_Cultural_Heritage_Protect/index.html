<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Cultural Heritage Protection</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fdfaf5;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Protecting Heritage",
          zh: "‰øùË≠∑ÊñáÂåñÈÅ∫Áî¢",
          ja: "ÊñáÂåñÈÅ∫Áî£„ÅÆ‰øùË≠∑",
          ko: "Î¨∏Ìôî Ïú†ÏÇ∞ Î≥¥Ìò∏",
          es: "Protecci√≥n del patrimonio",
          de: "Schutz des Kulturerbes",
          fi: "Kulttuuriperinn√∂n suojelu",
          fr: "Protection du patrimoine",
          ar: "ÿ≠ŸÖÿßŸäÿ© ÿßŸÑÿ™ÿ±ÿßÿ´",
          it: "Protezione del Patrimonio",
        },
        instruction: {
          en: "Is this action GOOD or BAD for heritage?",
          zh: "ÈÄôÂÄãË°åÁÇ∫Â∞çÊñáÂåñÈÅ∫Áî¢ÊòØÂ•ΩÈÇÑÊòØÂ£ûÔºü",
          ja: "„Åì„ÅÆË°åÂãï„ÅØÈÅ∫Áî£„Å´„Å®„Å£„Å¶ËâØ„ÅÑ„Åß„Åô„Åã„ÄÅÊÇ™„ÅÑ„Åß„Åô„ÅãÔºü",
          ko: "Ïù¥ ÌñâÎèôÏùÄ Ïú†ÏÇ∞Ïóê Ï¢ãÏùÄÍ∞ÄÏöî, ÎÇòÏÅúÍ∞ÄÏöî?",
          es: "¬øEs esta acci√≥n BUENA o MALA para el patrimonio?",
          de: "Ist diese Handlung GUT oder SCHLECHT f√ºr das Erbe?",
          fi: "Onko t√§m√§ toimi HYV√Ñ vai HUONO perinn√∂lle?",
          fr: "Cette action est-elle BONNE ou MAUVAISE pour le patrimoine ?",
          ar: "ŸáŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ•ÿ¨ÿ±ÿßÿ° ÿ¨ŸäÿØ ÿ£ŸÖ ÿ≥Ÿäÿ¶ ŸÑŸÑÿ™ÿ±ÿßÿ´ÿü",
          it: "Questa azione √® BUONA o CATTIVA per il patrimonio?",
        },
        do: {
          en: "DO (Good)",
          zh: "ÊáâË©≤ÂÅö (Â•Ω)",
          ja: "„Åô„Çã„Åπ„Åç (ËâØ„ÅÑ)",
          ko: "Ìï¥Ïïº Ìï® (Ï¢ãÏùå)",
          es: "HACER (Bueno)",
          de: "TUN (Gut)",
          fi: "TEE (Hyv√§)",
          fr: "FAIRE (Bon)",
          ar: "ÿßŸÅÿπŸÑ (ÿ¨ŸäÿØ)",
          it: "FARE (Buono)",
        },
        dont: {
          en: "DON'T (Bad)",
          zh: "‰∏çÊáâË©≤ÂÅö (Â£û)",
          ja: "„Åó„Å¶„ÅØ„ÅÑ„Åë„Å™„ÅÑ (ÊÇ™„ÅÑ)",
          ko: "ÌïòÏßÄ ÎßàÏÑ∏Ïöî (ÎÇòÏÅ®)",
          es: "NO HACER (Malo)",
          de: "NICHT TUN (Schlecht)",
          fi: "√ÑL√Ñ TEE (Huono)",
          fr: "NE PAS FAIRE (Mauvais)",
          ar: "ŸÑÿß ÿ™ŸÅÿπŸÑ (ÿ≥Ÿäÿ¶)",
          it: "NON FARE (Cattivo)",
        },

        a1: {
          en: "Draw graffiti on old walls.",
          zh: "Âú®Âè§ÁâÜ‰∏äÂ°óÈ¥â„ÄÇ",
          ja: "Âè§„ÅÑÂ£Å„Å´ËêΩÊõ∏„Åç„Çí„Åô„Çã„ÄÇ",
          ko: "Ïò§ÎûòÎêú Î≤ΩÏóê ÎÇôÏÑúÌïòÍ∏∞.",
        },
        a2: {
          en: "Take photos without flash.",
          zh: "ÊãçÁÖßÊôÇ‰∏ç‰ΩøÁî®ÈñÉÂÖâÁáà„ÄÇ",
          ja: "„Éï„É©„ÉÉ„Ç∑„É•„Å™„Åó„ÅßÂÜôÁúü„ÇíÊíÆ„Çã„ÄÇ",
          ko: "ÌîåÎûòÏãú ÏóÜÏù¥ ÏÇ¨ÏßÑ Ï∞çÍ∏∞.",
        },
        a3: {
          en: "Climb on statues.",
          zh: "ÊîÄÁà¨ÈõïÂÉè„ÄÇ",
          ja: "ÂÉè„Å´Áôª„Çã„ÄÇ",
          ko: "ÎèôÏÉÅÏóê Ïò¨ÎùºÍ∞ÄÍ∏∞.",
        },
        a4: {
          en: "Follow visitor rules.",
          zh: "ÈÅµÂÆàÂèÉËßÄË¶èÂâá„ÄÇ",
          ja: "Ë®™ÂïèËÄÖ„ÅÆ„É´„Éº„É´„Å´Âæì„ÅÜ„ÄÇ",
          ko: "Î∞©Î¨∏Ïûê Í∑úÏπô Îî∞Î•¥Í∏∞.",
        },
        a5: {
          en: "Pick up trash.",
          zh: "ÊíøËµ∑ÂûÉÂúæ (‰øùÊåÅÊ∏ÖÊΩî)„ÄÇ",
          ja: "„Ç¥„Éü„ÇíÊãæ„ÅÜ„ÄÇ",
          ko: "Ïì∞Î†àÍ∏∞ Ï§çÍ∏∞.",
        },
        a6: {
          en: "Carve your name on wood.",
          zh: "Âú®Êú®È†≠‰∏äÂàª‰∏äÂêçÂ≠ó„ÄÇ",
          ja: "Êú®„Å´ÂêçÂâç„ÇíÂΩ´„Çã„ÄÇ",
          ko: "ÎÇòÎ¨¥Ïóê Ïù¥Î¶Ñ ÏÉàÍ∏∞Í∏∞.",
        },

        correct: { en: "Correct!", zh: "Ê≠£Á¢∫ÔºÅ", ja: "Ê≠£Ëß£ÔºÅ", ko: "Ï†ïÎãµ!" },
        wrong: {
          en: "Wrong!",
          zh: "ÈåØË™§ÔºÅ",
          ja: "‰∏çÊ≠£Ëß£ÔºÅ",
          ko: "ÌãÄÎ†∏ÏäµÎãàÎã§!",
        },
      };

      const actions = [
        { id: "a1", type: "dont", icon: "üé®" },
        { id: "a2", type: "do", icon: "üì∑" },
        { id: "a3", type: "dont", icon: "üßó" },
        { id: "a4", type: "do", icon: "üìú" },
        { id: "a5", type: "do", icon: "üöÆ" },
        { id: "a6", type: "dont", icon: "üî™" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = actions[index];

        const handleAnswer = (ans) => {
          if (feedback) return;
          if (ans === current.type) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % actions.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-amber-800">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg bg-white p-8 rounded-3xl shadow-xl text-center border-4 border-amber-100">
              <div className="mb-8 p-10 bg-amber-50 rounded-2xl flex flex-col items-center">
                <div className="text-8xl mb-4">{current.icon}</div>
                <div className="text-2xl font-bold text-slate-800">
                  {getText(current.id)}
                </div>
              </div>

              <div className="flex gap-4">
                <button
                  onClick={() => handleAnswer("do")}
                  className="flex-1 bg-green-100 hover:bg-green-200 text-green-900 py-6 rounded-2xl font-black text-xl flex flex-col items-center gap-2 border-b-4 border-green-300 active:border-b-0 active:translate-y-1"
                >
                  <span className="text-4xl">üëç</span>
                  {getText("do")}
                </button>
                <button
                  onClick={() => handleAnswer("dont")}
                  className="flex-1 bg-red-100 hover:bg-red-200 text-red-900 py-6 rounded-2xl font-black text-xl flex flex-col items-center gap-2 border-b-4 border-red-300 active:border-b-0 active:translate-y-1"
                >
                  <span className="text-4xl">üëé</span>
                  {getText("dont")}
                </button>
              </div>

              {feedback && (
                <div
                  className={`mt-6 text-3xl font-black ${
                    feedback === "correct" ? "text-green-600" : "text-red-500"
                  } animate-bounce`}
                >
                  {getText(feedback)}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
