<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Rock Cycle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #44403c;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "The Rock Cycle",
          zh: "å²©çŸ³å¾ªç’°",
          ja: "å²©çŸ³ãƒªã‚µã‚¤ã‚¯ãƒ«",
          ko: "ì•”ì„ì˜ ìˆœí™˜",
          es: "El ciclo de las rocas",
          de: "Der Gesteinskreislauf",
          fi: "Kivien kiertokulku",
          fr: "Le cycle des roches",
          ar: "Ø¯ÙˆØ±Ø© Ø§Ù„ØµØ®ÙˆØ±",
          it: "Il Ciclo delle Rocce",
        },
        instruction: {
          en: "Explore how rocks change over time.",
          zh: "æ¢ç´¢å²©çŸ³éš¨æ™‚é–“è®ŠåŒ–çš„éç¨‹ã€‚",
          ja: "å²©çŸ³ãŒæ™‚é–“ã¨ã¨ã‚‚ã«ã©ã®ã‚ˆã†ã«å¤‰åŒ–ã™ã‚‹ã‹èª¿ã¹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚",
          ko: "ì‹œê°„ì´ ì§€ë‚¨ì— ë”°ë¼ ì•”ì„ì´ ì–´ë–»ê²Œ ë³€í•˜ëŠ”ì§€ ì•Œì•„ë³´ì„¸ìš”.",
          es: "Explora cÃ³mo cambian las rocas con el tiempo.",
          de: "Erforsche, wie sich Gesteine im Laufe der Zeit verÃ¤ndern.",
          fi: "Tutki, miten kivet muuttuvat ajan myÃ¶tÃ¤.",
          fr: "DÃ©couvrez comment les roches changent avec le temps.",
          ar: "Ø§Ø³ØªÙƒØ´Ù ÙƒÙŠÙ ØªØªØºÙŠØ± Ø§Ù„ØµØ®ÙˆØ± Ø¨Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª.",
          it: "Esplora come le rocce cambiano nel tempo.",
        },
        magma: {
          en: "Magma",
          zh: "å²©æ¼¿",
          ja: "ãƒã‚°ãƒ",
          ko: "ë§ˆê·¸ë§ˆ",
          es: "Magma",
          de: "Magma",
          fi: "Magma",
          fr: "Magma",
          ar: "Ø§Ù„ØµÙ‡Ø§Ø±Ø©",
          it: "Magma",
        },
        igneous: {
          en: "Igneous Rock",
          zh: "ç«æˆå²©",
          ja: "ç«æˆå²©",
          ko: "í™”ì„±ì•”",
          es: "Roca Ã­gnea",
          de: "Magmatisches Gestein",
          fi: "Magmakivi",
          fr: "Roche magmatique",
          ar: "ØµØ®ÙˆØ± Ù†Ø§Ø±ÙŠØ©",
          it: "Roccia Ignea",
        },
        sediment: {
          en: "Sediment",
          zh: "æ²‰ç©ç‰©",
          ja: "å †ç©ç‰©",
          ko: "í‡´ì ë¬¼",
          es: "Sedimento",
          de: "Sediment",
          fi: "Sedimentti",
          fr: "SÃ©diment",
          ar: "Ø±ÙˆØ§Ø³Ø¨",
          it: "Sedimento",
        },
        sedimentary: {
          en: "Sedimentary Rock",
          zh: "æ²‰ç©å²©",
          ja: "å †ç©å²©",
          ko: "í‡´ì ì•”",
          es: "Roca sedimentaria",
          de: "Sedimentgestein",
          fi: "Sedimenttikivi",
          fr: "Roche sÃ©dimentaire",
          ar: "ØµØ®ÙˆØ± Ø±Ø³ÙˆØ¨ÙŠØ©",
          it: "Roccia Sedimentaria",
        },
        metamorphic: {
          en: "Metamorphic Rock",
          zh: "è®Šè³ªå²©",
          ja: "å¤‰æˆå²©",
          ko: "ë³€ì„±ì•”",
          es: "Roca metamÃ³rfica",
          de: "Metamorphes Gestein",
          fi: "Metamorfinen kivi",
          fr: "Roche mÃ©tamorphique",
          ar: "ØµØ®ÙˆØ± Ù…ØªØ­ÙˆÙ„Ø©",
          it: "Roccia Metamorfica",
        },

        process_cool: { en: "Cooling", zh: "å†·å»", ja: "å†·å´", ko: "ëƒ‰ê°" },
        process_weather: {
          en: "Weathering",
          zh: "é¢¨åŒ–ä¾µè•",
          ja: "é¢¨åŒ–",
          ko: "í’í™”",
        },
        process_compact: {
          en: "Compaction",
          zh: "å£“å¯¦",
          ja: "åœ§ç¸®",
          ko: "ì••ì¶•",
        },
        process_heat: {
          en: "Heat & Pressure",
          zh: "é«˜æº«é«˜å£“",
          ja: "ç†±ã¨åœ§åŠ›",
          ko: "ì—´ê³¼ ì••ë ¥",
        },
        process_melt: { en: "Melting", zh: "ç†”åŒ–", ja: "æº¶è", ko: "ìš©í•´" },
      };

      const stages = [
        {
          id: "magma",
          icon: "ğŸŒ‹",
          color: "bg-red-600",
          next: "igneous",
          process: "process_cool",
        },
        {
          id: "igneous",
          icon: "ğŸª¨",
          color: "bg-gray-600",
          next: "sediment",
          process: "process_weather",
        },
        {
          id: "sediment",
          icon: "ğŸœï¸",
          color: "bg-yellow-600",
          next: "sedimentary",
          process: "process_compact",
        },
        {
          id: "sedimentary",
          icon: "ğŸ§±",
          color: "bg-orange-700",
          next: "metamorphic",
          process: "process_heat",
        },
        {
          id: "metamorphic",
          icon: "ğŸ’",
          color: "bg-purple-700",
          next: "magma",
          process: "process_melt",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [currentStageId, setCurrentStageId] = useState("magma");

        const getText = (key) => t[key][lang] || t[key]["en"];
        const currentStage = stages.find((s) => s.id === currentStageId);

        const handleNext = () => {
          setCurrentStageId(currentStage.next);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-stone-300">
              {getText("title")}
            </h1>

            <div className="relative w-full max-w-2xl h-[500px]">
              {/* Circular Cycle Visualization */}
              <div className="absolute inset-0 border-[20px] border-stone-700 rounded-full opacity-50"></div>

              {/* Stages positioned in circle */}
              {stages.map((s, i) => {
                const angle = (i * 360) / stages.length - 90; // Start top
                const radius = 200;
                const x = Math.cos((angle * Math.PI) / 180) * radius;
                const y = Math.sin((angle * Math.PI) / 180) * radius;

                const isActive = s.id === currentStageId;

                return (
                  <div
                    key={s.id}
                    onClick={() => setCurrentStageId(s.id)}
                    className={`absolute w-24 h-24 rounded-full flex items-center justify-center text-4xl shadow-lg border-4 transition-all cursor-pointer z-10
                            ${s.color} ${
                      isActive
                        ? "border-white scale-125 z-20"
                        : "border-stone-500 opacity-60"
                    }
                         `}
                    style={{
                      left: `calc(50% + ${x}px)`,
                      top: `calc(50% + ${y}px)`,
                      transform: "translate(-50%, -50%)",
                    }}
                  >
                    {s.icon}
                  </div>
                );
              })}

              {/* Center Info Card */}
              <div className="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-64 text-center">
                <div className="text-6xl mb-4 animate-bounce">
                  {currentStage.icon}
                </div>
                <h2 className="text-2xl font-bold mb-2">
                  {getText(currentStage.id)}
                </h2>

                <div className="text-stone-400 mb-4 text-xs font-mono">
                  NEXT PROCESS:
                </div>
                <button
                  onClick={handleNext}
                  className="bg-stone-100 text-stone-900 px-6 py-3 rounded-full font-bold hover:bg-white transition-transform active:scale-95 shadow-lg"
                >
                  â¡ï¸ {getText(currentStage.process)}
                </button>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
