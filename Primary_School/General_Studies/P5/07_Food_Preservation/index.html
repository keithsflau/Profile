<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Food Preservation</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #ecfccb;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Food Preservation",
          zh: "é£Ÿç‰©ä¿å­˜æ–¹æ³•",
          ja: "é£Ÿå“ä¿å­˜",
          ko: "ì‹í’ˆ ë³´ì¡´",
          es: "ConservaciÃ³n de alimentos",
          de: "Lebensmittelkonservierung",
          fi: "Ruoan sÃ¤ilÃ¶ntÃ¤",
          fr: "Conservation des aliments",
          ar: "Ø­ÙØ¸ Ø§Ù„Ø£ØºØ°ÙŠØ©",
          it: "Conservazione del Cibo",
        },
        instruction: {
          en: "Match the food to the best preservation method.",
          zh: "å°‡é£Ÿç‰©èˆ‡æœ€ä½³ä¿å­˜æ–¹æ³•é…å°ã€‚",
          ja: "é£Ÿå“ã‚’æœ€é©ãªä¿å­˜æ–¹æ³•ã«åˆã‚ã›ã¦ãã ã•ã„ã€‚",
          ko: "ìŒì‹ì„ ê°€ì¥ ì¢‹ì€ ë³´ì¡´ ë°©ë²•ê³¼ ì—°ê²°í•˜ì„¸ìš”.",
          es: "Relaciona la comida con el mejor mÃ©todo de conservaciÃ³n.",
          de: "Ordne das Lebensmittel der besten Konservierungsmethode zu.",
          fi: "YhdistÃ¤ ruoka parhaaseen sÃ¤ilÃ¶ntÃ¤menetelmÃ¤Ã¤n.",
          fr: "Associez l'aliment Ã  la meilleure mÃ©thode de conservation.",
          ar: "Ø·Ø§Ø¨Ù‚ Ø§Ù„Ø·Ø¹Ø§Ù… Ø¨Ø£ÙØ¶Ù„ Ø·Ø±ÙŠÙ‚Ø© Ù„Ø­ÙØ¸Ù‡.",
          it: "Abbina il cibo al miglior metodo di conservazione.",
        },
        canning: {
          en: "Canning",
          zh: "è£½æˆç½é ­",
          ja: "ç¼¶è©°",
          ko: "í†µì¡°ë¦¼",
          es: "Enlatado",
          de: "Konservierung",
          fi: "SÃ¤ilÃ¶ntÃ¤",
          fr: "Mise en conserve",
          ar: "Ø§Ù„ØªØ¹Ù„ÙŠØ¨",
          it: "Inscatolamento",
        },
        freezing: {
          en: "Freezing",
          zh: "å†·å‡",
          ja: "å†·å‡",
          ko: "ëƒ‰ë™",
          es: "CongelaciÃ³n",
          de: "Einfrieren",
          fi: "Pakastaminen",
          fr: "CongÃ©lation",
          ar: "ØªØ¬Ù…ÙŠØ¯",
          it: "Congelamento",
        },
        drying: {
          en: "Drying",
          zh: "ä¹¾ç‡¥/è„«æ°´",
          ja: "ä¹¾ç‡¥",
          ko: "ê±´ì¡°",
          es: "Secado",
          de: "Trocknen",
          fi: "Kuivaus",
          fr: "SÃ©chage",
          ar: "ØªØ¬ÙÙŠÙ",
          it: "Essiccazione",
        },
        salting: {
          en: "Salting / Pickling",
          zh: "é†ƒè£½",
          ja: "å¡©æ¼¬ã‘",
          ko: "ì—¼ì¥",
          es: "SalazÃ³n",
          de: "PÃ¶keln",
          fi: "Suolaus",
          fr: "Salaison",
          ar: "Ø§Ù„ØªÙ…Ù„ÙŠØ­",
          it: "Salagione",
        },

        fish: {
          en: "Fish (Salted)",
          zh: "é¹¹é­š",
          ja: "å¡©æ¼¬ã‘é­š",
          ko: "ì ˆì¸ ìƒì„ ",
        }, // Specifically salted fish
        soup: { en: "Soup", zh: "æ¹¯", ja: "ã‚¹ãƒ¼ãƒ—", ko: "ìˆ˜í”„" },
        meat: { en: "Meat", zh: "è‚‰é¡", ja: "è‚‰", ko: "ê³ ê¸°" },
        grapes: {
          en: "Grapes (Raisins)",
          zh: "è‘¡è„ (è‘¡è„ä¹¾)",
          ja: "ãƒ–ãƒ‰ã‚¦ (ãƒ¬ãƒ¼ã‚ºãƒ³)",
          ko: "í¬ë„ (ê±´í¬ë„)",
        },
        correct: { en: "Correct!", zh: "æ­£ç¢ºï¼", ja: "æ­£è§£ï¼", ko: "ì •ë‹µ!" },
      };

      const foods = [
        { id: "meat", method: "freezing", icon: "ğŸ¥©" },
        { id: "soup", method: "canning", icon: "ğŸ¥«" }, // Canned soup
        { id: "grapes", method: "drying", icon: "ğŸ‡" }, // Raisins
        { id: "fish", method: "salting", icon: "ğŸŸ" }, // Salted fish
      ];

      const methods = ["canning", "freezing", "drying", "salting"];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const currentFood = foods[index];

        const handleAnswer = (m) => {
          if (feedback) return;
          if (m === currentFood.method) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % foods.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-lime-800">
              {getText("title")}
            </h1>

            <div className="bg-white p-8 rounded-3xl shadow-xl w-full max-w-lg text-center border-4 border-lime-200">
              <div className="text-slate-500 font-bold mb-6">
                {getText("instruction")}
              </div>

              <div className="bg-lime-50 p-10 rounded-full w-48 h-48 mx-auto mb-8 flex items-center justify-center border-4 border-dashed border-lime-300">
                <div className="text-8xl animate-bounce-slow">
                  {currentFood.icon}
                </div>
              </div>

              <div className="grid grid-cols-2 gap-4">
                {methods.map((m) => (
                  <button
                    key={m}
                    onClick={() => handleAnswer(m)}
                    className="bg-lime-100 hover:bg-lime-200 text-lime-900 py-4 rounded-xl font-bold transition-colors border-b-4 border-lime-300 active:translate-y-1 active:border-b-0"
                  >
                    {getText(m)}
                  </button>
                ))}
              </div>

              {feedback && (
                <div
                  className={`mt-6 text-3xl font-black ${
                    feedback === "correct" ? "text-green-600" : "text-red-500"
                  }`}
                >
                  {feedback === "correct" ? getText("correct") : "Try Again!"}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
