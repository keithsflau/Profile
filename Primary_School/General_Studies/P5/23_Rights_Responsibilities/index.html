<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Rights and Responsibilities</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f0f9ff;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Rights vs Responsibilities",
          zh: "æ¬Šåˆ©èˆ‡ç¾©å‹™",
          ja: "æ¨©åˆ©ã¨ç¾©å‹™",
          ko: "ê¶Œë¦¬ì™€ ì˜ë¬´",
          es: "Derechos vs Responsabilidades",
          de: "Rechte vs Pflichten",
          fi: "Oikeudet vs Velvollisuudet",
          fr: "Droits vs ResponsabilitÃ©s",
          ar: "Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ù‚Ø§Ø¨Ù„ Ø§Ù„Ù…Ø³Ø¤ÙˆÙ„ÙŠØ§Øª",
          it: "Diritti vs ResponsabilitÃ ",
        },
        instruction: {
          en: "Is this a Right or a Responsibility?",
          zh: "é€™æ˜¯æ¬Šåˆ©é‚„æ˜¯ç¾©å‹™ (è²¬ä»»)ï¼Ÿ",
          ja: "ã“ã‚Œã¯æ¨©åˆ©ã§ã™ã‹ã€ãã‚Œã¨ã‚‚è²¬ä»»ã§ã™ã‹ï¼Ÿ",
          ko: "ì´ê²ƒì€ ê¶Œë¦¬ì¸ê°€ìš”, ì•„ë‹ˆë©´ ì˜ë¬´ì¸ê°€ìš”?",
          es: "Â¿Es esto un derecho o una responsabilidad?",
          de: "Ist das ein Recht oder eine Pflicht?",
          fi: "Onko tÃ¤mÃ¤ oikeus vai velvollisuus?",
          fr: "Est-ce un droit ou une responsabilitÃ© ?",
          ar: "Ù‡Ù„ Ù‡Ø°Ø§ Ø­Ù‚ Ø£Ù… Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©ØŸ",
          it: "Ãˆ un Diritto o una ResponsabilitÃ ?",
        },
        right: {
          en: "Right",
          zh: "æ¬Šåˆ©",
          ja: "æ¨©åˆ©",
          ko: "ê¶Œë¦¬",
          es: "Derecho",
          de: "Recht",
          fi: "Oikeus",
          fr: "Droit",
          ar: "Ø­Ù‚",
          it: "Diritto",
        },
        resp: {
          en: "Responsibility",
          zh: "ç¾©å‹™ (è²¬ä»»)",
          ja: "ç¾©å‹™",
          ko: "ì˜ë¬´",
          es: "Responsabilidad",
          de: "Pflicht",
          fi: "Velvollisuus",
          fr: "ResponsabilitÃ©",
          ar: "Ù…Ø³Ø¤ÙˆÙ„ÙŠØ©",
          it: "ResponsabilitÃ ",
        },

        i1: {
          en: "Vote in elections",
          zh: "é¸èˆ‰æŠ•ç¥¨",
          ja: "é¸æŒ™ã§ã®æŠ•ç¥¨",
          ko: "ì„ ê±° íˆ¬í‘œ",
        }, // Right
        i2: {
          en: "Pay taxes",
          zh: "ç¹³ç´ç¨…æ¬¾",
          ja: "ç¨Žé‡‘ã‚’æ‰•ã†",
          ko: "ì„¸ê¸ˆ ë‚©ë¶€",
        }, // Resp
        i3: {
          en: "Freedom of Speech",
          zh: "è¨€è«–è‡ªç”±",
          ja: "è¨€è«–ã®è‡ªç”±",
          ko: "ì–¸ë¡ ì˜ ìžìœ ",
        }, // Right
        i4: {
          en: "Obey the laws",
          zh: "éµå®ˆæ³•å¾‹",
          ja: "æ³•å¾‹ã‚’å®ˆã‚‹",
          ko: "ë²•ë¥  ì¤€ìˆ˜",
        }, // Resp
        i5: {
          en: "Education",
          zh: "æŽ¥å—æ•™è‚²",
          ja: "æ•™è‚²ã‚’å—ã‘ã‚‹",
          ko: "êµìœ¡ë°›ì„ ê¶Œë¦¬",
        }, // Right
        i6: {
          en: "Protect environment",
          zh: "ä¿è­·ç’°å¢ƒ",
          ja: "ç’°å¢ƒã‚’ä¿è­·ã™ã‚‹",
          ko: "í™˜ê²½ ë³´í˜¸",
        }, // Resp

        correct: { en: "Correct!", zh: "æ­£ç¢ºï¼", ja: "æ­£è§£ï¼", ko: "ì •ë‹µ!" },
        wrong: {
          en: "Try Again",
          zh: "å†è©¦ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦",
          ko: "ë‹¤ì‹œ ì‹œë„",
        },
      };

      const items = [
        { id: "i1", type: "right", icon: "ðŸ—³ï¸" },
        { id: "i2", type: "resp", icon: "ðŸ’°" },
        { id: "i3", type: "right", icon: "ðŸ—£ï¸" },
        { id: "i4", type: "resp", icon: "âš–ï¸" },
        { id: "i5", type: "right", icon: "ðŸ“š" },
        { id: "i6", type: "resp", icon: "â™»ï¸" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = items[index];

        const handleAnswer = (ans) => {
          if (feedback) return;
          if (ans === current.type) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % items.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-sky-800">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg bg-white p-8 rounded-3xl shadow-xl text-center border-4 border-sky-100">
              <div className="text-sky-500 font-bold mb-8">
                {getText("instruction")}
              </div>

              <div className="bg-sky-50 p-10 rounded-2xl mb-8 flex flex-col items-center">
                <div className="text-8xl mb-4 animate-bounce-slow">
                  {current.icon}
                </div>
                <div className="text-3xl font-bold text-slate-800">
                  {getText(current.id)}
                </div>
              </div>

              <div className="flex gap-4">
                <button
                  onClick={() => handleAnswer("right")}
                  className="flex-1 bg-yellow-100 hover:bg-yellow-200 text-yellow-900 py-6 rounded-2xl font-black text-xl border-b-4 border-yellow-300 active:border-b-0 active:translate-y-1"
                >
                  {getText("right")}
                </button>
                <button
                  onClick={() => handleAnswer("resp")}
                  className="flex-1 bg-blue-100 hover:bg-blue-200 text-blue-900 py-6 rounded-2xl font-black text-xl border-b-4 border-blue-300 active:border-b-0 active:translate-y-1"
                >
                  {getText("resp")}
                </button>
              </div>

              {feedback && (
                <div
                  className={`mt-6 text-3xl font-black ${
                    feedback === "correct" ? "text-green-600" : "text-red-500"
                  } animate-pulse`}
                >
                  {getText(feedback)}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
