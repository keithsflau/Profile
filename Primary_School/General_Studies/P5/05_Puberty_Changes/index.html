<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Puberty Changes</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fdf2f8;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Changes in Puberty",
          zh: "é’æ˜¥æœŸçš„è®ŠåŒ–",
          ja: "æ€æ˜¥æœŸã®å¤‰åŒ–",
          ko: "ì‚¬ì¶˜ê¸°ì˜ ë³€í™”",
          es: "Cambios en la pubertad",
          de: "VerÃ¤nderungen in der PubertÃ¤t",
          fi: "MurrosiÃ¤n muutokset",
          fr: "Changements Ã  la pubertÃ©",
          ar: "Ø§Ù„ØªØºÙŠØ±Ø§Øª ÙÙŠ Ø³Ù† Ø§Ù„Ø¨Ù„ÙˆØº",
          it: "Cambiamenti nella PubertÃ ",
        },
        instruction: {
          en: "Who experiences this change? (Boy, Girl, or Both)",
          zh: "èª°æœƒç¶“æ­·é€™å€‹è®ŠåŒ–ï¼Ÿ(ç”·ç”Ÿã€å¥³ç”Ÿæˆ–å…©è€…)",
          ja: "èª°ãŒã“ã®å¤‰åŒ–ã‚’çµŒé¨“ã—ã¾ã™ã‹ï¼Ÿï¼ˆç”·ã®å­ã€å¥³ã®å­ã€ã¾ãŸã¯ä¸¡æ–¹ï¼‰",
          ko: "ëˆ„ê°€ ì´ ë³€í™”ë¥¼ ê²ªë‚˜ìš”? (ë‚¨ìž, ì—¬ìž ë˜ëŠ” ë‘˜ ë‹¤)",
          es: "Â¿QuiÃ©n experimenta este cambio? (Chico, Chica o Ambos)",
          de: "Wer erlebt diese VerÃ¤nderung? (Junge, MÃ¤dchen oder beide)",
          fi: "Kuka kokee tÃ¤mÃ¤n muutoksen? (Poika, tyttÃ¶ tai molemmat)",
          fr: "Qui vit ce changement ? (GarÃ§on, Fille ou les deux)",
          ar: "Ù…Ù† ÙŠØ®ØªØ¨Ø± Ù‡Ø°Ø§ Ø§Ù„ØªØºÙŠÙŠØ±ØŸ (ØµØ¨ÙŠØŒ ÙØªØ§Ø©ØŒ Ø£Ùˆ ÙƒÙ„Ø§Ù‡Ù…Ø§)",
          it: "Chi sperimenta questo cambiamento? (Ragazzo, Ragazza o Entrambi)",
        },
        boy: {
          en: "Boy",
          zh: "ç”·ç”Ÿ",
          ja: "ç”·ã®å­",
          ko: "ë‚¨ìž",
          es: "Chico",
          de: "Junge",
          fi: "Poika",
          fr: "GarÃ§on",
          ar: "ØµØ¨ÙŠ",
          it: "Ragazzo",
        },
        girl: {
          en: "Girl",
          zh: "å¥³ç”Ÿ",
          ja: "å¥³ã®å­",
          ko: "ì—¬ìž",
          es: "Chica",
          de: "MÃ¤dchen",
          fi: "TyttÃ¶",
          fr: "Fille",
          ar: "ÙØªØ§Ø©",
          it: "Ragazza",
        },
        both: {
          en: "Both",
          zh: "å…©è€…çš†æ˜¯",
          ja: "ä¸¡æ–¹",
          ko: "ë‘˜ ë‹¤",
          es: "Ambos",
          de: "Beide",
          fi: "Molemmat",
          fr: "Les deux",
          ar: "ÙƒÙ„Ø§Ù‡Ù…Ø§",
          it: "Entrambi",
        },
        correct: {
          en: "Correct!",
          zh: "æ­£ç¢ºï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µ!",
          es: "Â¡Correcto!",
          de: "Richtig!",
          fi: "Oikein!",
          fr: "Correct !",
          ar: "ØµØ­ÙŠØ­!",
          it: "Corretto!",
        },

        c1: {
          en: "Voice deepens (Adam's Apple)",
          zh: "è²éŸ³è®Šä½Žæ²‰ (å–‰çµ)",
          ja: "å£°ãŒä½Žããªã‚‹ï¼ˆå–‰ä»ï¼‰",
          ko: "ëª©ì†Œë¦¬ê°€ êµµì–´ì§ (ìš¸ëŒ€ë¼ˆ)",
          es: "La voz se agrava (Nuez de AdÃ¡n)",
          de: "Stimme wird tiefer (Adamsapfel)",
          fi: "Ã„Ã¤ni madaltuu (Aataminomena)",
          fr: "La voix devient grave (Pomme d'Adam)",
          ar: "ÙŠØªØ¹Ù…Ù‚ Ø§Ù„ØµÙˆØª (ØªÙØ§Ø­Ø© Ø¢Ø¯Ù…)",
          it: "La voce si approfondisce (Pomo d'Adamo)",
        },
        c2: {
          en: "Breasts develop",
          zh: "ä¹³æˆ¿ç™¼è‚²",
          ja: "èƒ¸ãŒç™ºé”ã™ã‚‹",
          ko: "ê°€ìŠ´ ë°œë‹¬",
          es: "Senos se desarrollan",
          de: "BrÃ¼ste entwickeln sich",
          fi: "Rinnat kehittyvÃ¤t",
          fr: "Les seins se dÃ©veloppent",
          ar: "ØªØ·ÙˆØ± Ø§Ù„Ø«Ø¯ÙŠ",
          it: "Seni sviluppati",
        },
        c3: {
          en: "Growth spurt (Taller)",
          zh: "å¿«é€Ÿé•·é«˜",
          ja: "æ€¥æ¿€ãªæˆé•·ï¼ˆèƒŒãŒä¼¸ã³ã‚‹ï¼‰",
          ko: "ê¸‰ì„±ìž¥ (í‚¤ê°€ í¼)",
          es: "EstirÃ³n (MÃ¡s alto)",
          de: "Wachstumsschub (GrÃ¶ÃŸer)",
          fi: "KasvupyrÃ¤hdys (Pidempi)",
          fr: "PoussÃ©e de croissance (Plus grand)",
          ar: "Ø·ÙØ±Ø© Ø§Ù„Ù†Ù…Ùˆ (Ø£Ø·ÙˆÙ„)",
          it: "Scatto di crescita (PiÃ¹ alto)",
        },
        c4: {
          en: "Acne / Pimples",
          zh: "æš—ç˜¡ / é’æ˜¥ç—˜",
          ja: "ãƒ‹ã‚­ãƒ“",
          ko: "ì—¬ë“œë¦„",
          es: "AcnÃ© / Granos",
          de: "Akne / Pickel",
          fi: "Akne / FinnejÃ¤",
          fr: "AcnÃ© / Boutons",
          ar: "Ø­Ø¨ Ø§Ù„Ø´Ø¨Ø§Ø¨ / Ø§Ù„Ø¨Ø«ÙˆØ±",
          it: "Acne / Brufoli",
        },
        c5: {
          en: "Menstruation (Period)",
          zh: "æœˆç¶“ä¾†æ½®",
          ja: "æœˆçµŒï¼ˆç”Ÿç†ï¼‰",
          ko: "ì›”ê²½ (ìƒë¦¬)",
          es: "MenstruaciÃ³n (Periodo)",
          de: "Menstruation (Periode)",
          fi: "Kuukautiset",
          fr: "Menstruation (RÃ¨gles)",
          ar: "Ø§Ù„Ø­ÙŠØ¶ (Ø§Ù„Ø¯ÙˆØ±Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©)",
          it: "Mestruazioni (Ciclo)",
        },
        c6: {
          en: "Facial hair grows",
          zh: "ç”Ÿé•·é¬é¬š",
          ja: "ã²ã’ãŒç”Ÿãˆã‚‹",
          ko: "ìˆ˜ì—¼ì´ ìžëžŒ",
          es: "Crece vello facial",
          de: "Gesichtshaar wÃ¤chst",
          fi: "Kasvokarvat kasvavat",
          fr: "Les poils du visage poussent",
          ar: "ÙŠÙ†Ù…Ùˆ Ø´Ø¹Ø± Ø§Ù„ÙˆØ¬Ù‡",
          it: "Crescono i peli del viso",
        },
      };

      const changes = [
        { id: "c1", type: "boy", icon: "ðŸ—£ï¸" },
        { id: "c2", type: "girl", icon: "ðŸ‘™" },
        { id: "c3", type: "both", icon: "ðŸ“" },
        { id: "c4", type: "both", icon: "ðŸ˜£" },
        { id: "c5", type: "girl", icon: "ðŸ“…" },
        { id: "c6", type: "boy", icon: "ðŸ§”" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = changes[index];

        const handleAnswer = (ans) => {
          if (feedback) return;
          if (ans === current.type) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % changes.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-indigo-600">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg bg-white p-8 rounded-3xl shadow-xl border-4 border-indigo-100 text-center relative overflow-hidden">
              {/* Question Card */}
              <div className="bg-indigo-50 p-8 rounded-2xl mb-8 flex flex-col items-center">
                <div className="text-8xl mb-4 animate-bounce-slow filter drop-shadow">
                  {current.icon}
                </div>
                <div className="text-2xl font-bold text-slate-800 min-h-[4rem] flex items-center justify-center">
                  {getText(current.id)}
                </div>
              </div>

              <div className="font-bold text-slate-400 mb-6">
                {getText("instruction")}
              </div>

              <div className="flex gap-4">
                <button
                  onClick={() => handleAnswer("boy")}
                  className="flex-1 bg-blue-100 hover:bg-blue-200 text-blue-800 py-4 rounded-xl font-bold border-2 border-blue-300 transition-colors"
                >
                  ðŸ‘¦ {getText("boy")}
                </button>
                <button
                  onClick={() => handleAnswer("both")}
                  className="flex-1 bg-purple-100 hover:bg-purple-200 text-purple-800 py-4 rounded-xl font-bold border-2 border-purple-300 transition-colors"
                >
                  ðŸ‘« {getText("both")}
                </button>
                <button
                  onClick={() => handleAnswer("girl")}
                  className="flex-1 bg-pink-100 hover:bg-pink-200 text-pink-800 py-4 rounded-xl font-bold border-2 border-pink-300 transition-colors"
                >
                  ðŸ‘§ {getText("girl")}
                </button>
              </div>

              {feedback && (
                <div
                  className={`absolute inset-0 bg-white/90 flex items-center justify-center z-10`}
                >
                  <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    className={`text-4xl font-black px-8 py-4 rounded-xl shadow-2xl ${
                      feedback === "correct"
                        ? "bg-green-500 text-white"
                        : "bg-red-500 text-white"
                    }`}
                  >
                    {feedback === "correct" ? getText("correct") : "Oops!"}
                  </motion.div>
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
