<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Financial Planner</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f0fdf4;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Pocket Money Planner",
          zh: "é›¶ç”¨éŒ¢è¦åŠƒå¸«",
          ja: "ãŠå°é£ã„ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼",
          ko: "ìš©ëˆ ê³„íšê¸°",
          es: "Planificador de dinero de bolsillo",
          de: "Taschengeldplaner",
          fi: "Taskurahasuunnittelija",
          fr: "Planificateur d'argent de poche",
          ar: "Ù…Ø®Ø·Ø· Ù…ØµØ±ÙˆÙ Ø§Ù„Ø¬ÙŠØ¨",
          it: "Pianificatore Paghetta",
        },
        instruction: {
          en: "Save money to buy the Bike ($100)!",
          zh: "å„²è“„è³¼è²·å–®è»Š ($100)ï¼",
          ja: "è‡ªè»¢è»Šï¼ˆ$100ï¼‰ã‚’è²·ã†ãŸã‚ã«ãŠé‡‘ã‚’è²¯ã‚ã‚ˆã†ï¼",
          ko: "ìì „ê±°($100)ë¥¼ ì‚¬ê¸° ìœ„í•´ ëˆì„ ëª¨ìœ¼ì„¸ìš”!",
          es: "Â¡Ahorra dinero para comprar la bicicleta ($100)!",
          de: "Spare Geld, um das Fahrrad zu kaufen ($100)!",
          fi: "SÃ¤Ã¤stÃ¤ rahaa ostaaksesi pyÃ¶rÃ¤n ($100)!",
          fr: "Ã‰conomisez de l'argent pour acheter le vÃ©lo (100 $) !",
          ar: "Ø§Ø¯Ø®Ø± Ø§Ù„Ù…Ø§Ù„ Ù„Ø´Ø±Ø§Ø¡ Ø§Ù„Ø¯Ø±Ø§Ø¬Ø© (100 Ø¯ÙˆÙ„Ø§Ø±)!",
          it: "Risparmia per comprare la bici ($100)!",
        },
        income: {
          en: "Income (Weekly)",
          zh: "æ”¶å…¥ (æ¯é€±)",
          ja: "åå…¥ (æ¯é€±)",
          ko: "ìˆ˜ì… (ì£¼ê°„)",
          es: "Ingresos (Semanal)",
          de: "Einkommen (WÃ¶chentlich)",
          fi: "Tulot (Viikoittain)",
          fr: "Revenu (Hebdomadaire)",
          ar: "Ø¯Ø®Ù„ (Ø£Ø³Ø¨ÙˆØ¹ÙŠ)",
          it: "Entrate (Settimanali)",
        },
        spend: {
          en: "Spend",
          zh: "èŠ±è²»",
          ja: "ä½¿ã†",
          ko: "ì§€ì¶œ",
          es: "Gastar",
          de: "Ausgeben",
          fi: "Kuluta",
          fr: "DÃ©penser",
          ar: "Ø¥Ù†ÙØ§Ù‚",
          it: "Spendere",
        },
        save: {
          en: "Save",
          zh: "å„²è“„",
          ja: "è²¯é‡‘",
          ko: "ì €ì¶•",
          es: "Ahorrar",
          de: "Sparen",
          fi: "SÃ¤Ã¤stÃ¤",
          fr: "Ã‰conomiser",
          ar: "Ø§Ø¯Ø®Ø§Ø±",
          it: "Risparmiare",
        },

        snack: {
          en: "Buy Snacks (-$10)",
          zh: "è²·é›¶é£Ÿ (-$10)",
          ja: "ãŠè“å­ã‚’è²·ã† (-$10)",
          ko: "ê°„ì‹ êµ¬ë§¤ (-$10)",
        },
        toy: {
          en: "Buy Toy (-$20)",
          zh: "è²·ç©å…· (-$20)",
          ja: "ãŠã‚‚ã¡ã‚ƒã‚’è²·ã† (-$20)",
          ko: "ì¥ë‚œê° êµ¬ë§¤ (-$20)",
        },
        allowance: {
          en: "Allowance (+$30)",
          zh: "é›¶ç”¨éŒ¢ (+$30)",
          ja: "ãŠå°é£ã„ (+$30)",
          ko: "ìš©ëˆ (+$30)",
        },

        wallet: {
          en: "Wallet:",
          zh: "éŒ¢åŒ…ï¼š",
          ja: "è²¡å¸ƒï¼š",
          ko: "ì§€ê°‘:",
          es: "Cartera:",
          de: "Brieftasche:",
          fi: "Lompakko:",
          fr: "Portefeuille :",
          ar: "Ù…Ø­ÙØ¸Ø©:",
          it: "Portafoglio:",
        },
        goal: {
          en: "Goal:",
          zh: "ç›®æ¨™ï¼š",
          ja: "ç›®æ¨™ï¼š",
          ko: "ëª©í‘œ:",
          es: "Meta:",
          de: "Ziel:",
          fi: "Tavoite:",
          fr: "Objectif :",
          ar: "Ù‡Ø¯Ù:",
          it: "Obiettivo:",
        },
        success: {
          en: "Goal Reached! ğŸš²",
          zh: "é”æˆç›®æ¨™ï¼ğŸš²",
          ja: "ç›®æ¨™é”æˆï¼ğŸš²",
          ko: "ëª©í‘œ ë‹¬ì„±! ğŸš²",
          es: "Â¡Meta alcanzada! ğŸš²",
          de: "Ziel erreicht! ğŸš²",
          fi: "Tavoite saavutettu! ğŸš²",
          fr: "Objectif atteint ! ğŸš²",
          ar: "ØªÙ… Ø§Ù„ÙˆØµÙˆÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù! ğŸš²",
          it: "Obiettivo Raggiunto! ğŸš²",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [money, setMoney] = useState(0);
        const [history, setHistory] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const GOAL = 100;

        const handleTransaction = (amount, type) => {
          if (money + amount < 0) return; // No debt
          setMoney(money + amount);
          setHistory([...history, { amount, type }]);
        };

        const reset = () => {
          setMoney(0);
          setHistory([]);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-green-700">
              {getText("title")}
            </h1>

            <div className="mb-8 font-bold text-slate-500 text-xl text-center">
              {getText("instruction")}
            </div>

            <div className="flex flex-col md:flex-row gap-8 w-full max-w-4xl">
              {/* Visual Tracker */}
              <div className="flex-1 bg-white p-6 rounded-3xl shadow-xl border-4 border-green-100 flex flex-col items-center">
                <div className="text-6xl mb-4">ğŸ·</div>
                <div className="text-3xl font-black mb-2 text-green-600">
                  {getText("wallet")} ${money}
                </div>

                <div className="w-full bg-slate-200 h-8 rounded-full mt-4 overflow-hidden border border-slate-300">
                  <motion.div
                    className="h-full bg-green-500"
                    animate={{
                      width: `${Math.min(100, (money / GOAL) * 100)}%`,
                    }}
                  ></motion.div>
                </div>
                <div className="w-full flex justify-between text-xs font-bold text-slate-400 mt-1">
                  <span>$0</span>
                  <span>
                    {getText("goal")} ${GOAL}
                  </span>
                </div>

                {money >= GOAL && (
                  <div className="mt-8 bg-yellow-100 text-yellow-800 p-4 rounded-xl font-bold text-2xl animate-bounce">
                    {getText("success")}
                  </div>
                )}
              </div>

              {/* Actions */}
              <div className="flex-1 flex flex-col gap-4">
                <button
                  onClick={() => handleTransaction(30, "allowance")}
                  disabled={money >= GOAL}
                  className="bg-green-100 hover:bg-green-200 text-green-800 p-6 rounded-2xl font-bold text-xl flex justify-between items-center transition-transform active:scale-95 disabled:opacity-50"
                >
                  <span>ğŸ“… {getText("allowance")}</span>
                  <span className="text-3xl">ğŸ’°</span>
                </button>

                <button
                  onClick={() => handleTransaction(-10, "snack")}
                  disabled={money < 10 || money >= GOAL}
                  className="bg-red-50 hover:bg-red-100 text-red-800 p-6 rounded-2xl font-bold text-xl flex justify-between items-center transition-transform active:scale-95 disabled:opacity-50"
                >
                  <span>ğŸ« {getText("snack")}</span>
                  <span className="text-3xl">ğŸ’¸</span>
                </button>

                <button
                  onClick={() => handleTransaction(-20, "toy")}
                  disabled={money < 20 || money >= GOAL}
                  className="bg-red-50 hover:bg-red-100 text-red-800 p-6 rounded-2xl font-bold text-xl flex justify-between items-center transition-transform active:scale-95 disabled:opacity-50"
                >
                  <span>ğŸ¤– {getText("toy")}</span>
                  <span className="text-3xl">ğŸ’¸</span>
                </button>

                <button
                  onClick={reset}
                  className="mt-4 text-slate-400 font-bold underline hover:text-slate-600"
                >
                  Reset
                </button>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
