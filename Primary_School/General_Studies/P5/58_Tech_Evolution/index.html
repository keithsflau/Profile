<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Tech Evolution</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f1f5f9;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Technology Evolution",
          zh: "ç§‘æŠ€æ¼”è®Š",
          ja: "æŠ€è¡“ã®é€²åŒ–",
          ko: "ê¸°ìˆ ì˜ ì§„í™”",
          es: "EvoluciÃ³n tecnolÃ³gica",
          de: "Technologische Entwicklung",
          fi: "Teknologinen kehitys",
          fr: "Ã‰volution technologique",
          ar: "ØªØ·ÙˆØ± Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§",
          it: "Evoluzione Tecnologica",
        },
        instruction: {
          en: "Match the Old tech to the New tech.",
          zh: "å°‡èˆŠç§‘æŠ€èˆ‡æ–°ç§‘æŠ€é…å°ã€‚",
          ja: "å¤ã„æŠ€è¡“ã¨æ–°ã—ã„æŠ€è¡“ã‚’åˆã‚ã›ã¦ãã ã•ã„ã€‚",
          ko: "êµ¬ì‹ ê¸°ìˆ ê³¼ ì‹ ê¸°ìˆ ì„ ì—°ê²°í•˜ì„¸ìš”.",
          es: "Empareja la tecnologÃ­a antigua con la nueva.",
          de: "Ordne die alte Technologie der neuen zu.",
          fi: "YhdistÃ¤ vanha tekniikka uuteen.",
          fr: "Associez l'ancienne technologie Ã  la nouvelle.",
          ar: "Ø·Ø§Ø¨Ù‚ Ø§Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„Ù‚Ø¯ÙŠÙ…Ø© Ø¨Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©.",
          it: "Abbina la vecchia tecnologia alla nuova.",
        },
        letter: { en: "Letter", zh: "æ›¸ä¿¡", ja: "æ‰‹ç´™", ko: "í¸ì§€" },
        email: {
          en: "Email / App",
          zh: "é›»éƒµ / App",
          ja: "ãƒ¡ãƒ¼ãƒ« / ã‚¢ãƒ—ãƒª",
          ko: "ì´ë©”ì¼ / ì•±",
        },

        abacus: { en: "Abacus", zh: "ç®—ç›¤", ja: "ãã‚ã°ã‚“", ko: "ì£¼íŒ" },
        calc: { en: "Calculator", zh: "è¨ˆç®—æ©Ÿ", ja: "é›»å“", ko: "ê³„ì‚°ê¸°" },

        horse: { en: "Horse Carriage", zh: "é¦¬è»Š", ja: "é¦¬è»Š", ko: "ë§ˆì°¨" },
        car: {
          en: "Electric Car",
          zh: "é›»å‹•è»Š",
          ja: "é›»æ°—è‡ªå‹•è»Š",
          ko: "ì „ê¸°ì°¨",
        },

        candle: { en: "Candle", zh: "è Ÿç‡­", ja: "ã‚ã†ãã", ko: "ì–‘ì´ˆ" },
        bulb: { en: "LED Bulb", zh: "LEDç‡ˆæ³¡", ja: "LEDé›»çƒ", ko: "LED ì „êµ¬" },

        correct: {
          en: "Correct! Evolution.",
          zh: "æ­£ç¢ºï¼é€²æ­¥äº†ã€‚",
          ja: "æ­£è§£ï¼é€²åŒ–ã€‚",
          ko: "ì •ë‹µ! ì§„í™”.",
        },
      };

      const pairs = [
        { id: 1, old: "letter", new: "email", iconOld: "âœ‰ï¸", iconNew: "ğŸ“±" },
        { id: 2, old: "abacus", new: "calc", iconOld: "ğŸ§®", iconNew: "ğŸ“Ÿ" },
        { id: 3, old: "horse", new: "car", iconOld: "ğŸ", iconNew: "ğŸš—" },
        { id: 4, old: "candle", new: "bulb", iconOld: "ğŸ•¯ï¸", iconNew: "ğŸ’¡" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [poolOld, setPoolOld] = useState([]);
        const [poolNew, setPoolNew] = useState([]);
        const [selectedOld, setSelectedOld] = useState(null);
        const [matches, setMatches] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          setPoolOld(
            pairs
              .map((p) => ({ ...p, type: "old" }))
              .sort(() => Math.random() - 0.5)
          );
          setPoolNew(
            pairs
              .map((p) => ({ ...p, type: "new" }))
              .sort(() => Math.random() - 0.5)
          );
        }, []);

        const handleSelect = (item, type) => {
          if (type === "old") {
            setSelectedOld(item);
          } else {
            if (selectedOld) {
              if (selectedOld.id === item.id) {
                setMatches([...matches, selectedOld.id]);
                setPoolOld(poolOld.filter((i) => i.id !== selectedOld.id));
                setPoolNew(poolNew.filter((i) => i.id !== item.id));
                setSelectedOld(null);
              } else {
                // flash red
                setSelectedOld(null);
              }
            }
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-blue-800">
              {getText("title")}
            </h1>
            <p className="mb-8 font-bold text-slate-500">
              {getText("instruction")}
            </p>

            <div className="w-full max-w-4xl flex justify-between gap-12">
              {/* Old Column */}
              <div className="flex-1 flex flex-col gap-4">
                <h2 className="text-center font-bold text-slate-400 border-b pb-2">
                  PAST
                </h2>
                {poolOld.map((item) => (
                  <button
                    key={item.id}
                    onClick={() => handleSelect(item, "old")}
                    className={`p-6 rounded-xl shadow-md border-2 text-xl font-bold flex items-center gap-4 transition-all
                            ${
                              selectedOld && selectedOld.id === item.id
                                ? "bg-blue-100 border-blue-500 ring-4 ring-blue-200"
                                : "bg-white border-slate-200 hover:bg-slate-50"
                            }
                         `}
                  >
                    <span className="text-4xl">{item.iconOld}</span>
                    {getText(item.old)}
                  </button>
                ))}
              </div>

              {/* Arrow */}
              <div className="flex items-center text-slate-300 text-6xl">â”</div>

              {/* New Column */}
              <div className="flex-1 flex flex-col gap-4">
                <h2 className="text-center font-bold text-slate-400 border-b pb-2">
                  PRESENT
                </h2>
                {poolNew.map((item) => (
                  <button
                    key={item.id}
                    onClick={() => handleSelect(item, "new")}
                    className="p-6 rounded-xl shadow-md border-2 border-slate-200 bg-white hover:bg-slate-50 text-xl font-bold flex items-center gap-4 hover:border-blue-300"
                  >
                    <span className="text-4xl">{item.iconNew}</span>
                    {getText(item.new)}
                  </button>
                ))}
              </div>
            </div>

            {matches.length === pairs.length && (
              <div className="mt-12 text-4xl font-black text-green-600 animate-bounce">
                {getText("correct")}
              </div>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
