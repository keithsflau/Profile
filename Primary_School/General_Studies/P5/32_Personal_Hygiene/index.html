<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Personal Hygiene</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #e0f2fe;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Hygiene Hero",
          zh: "è¡›ç”Ÿå°è‹±é›„",
          ja: "è¡›ç”Ÿãƒ’ãƒ¼ãƒ­ãƒ¼",
          ko: "ìœ„ìƒ ì˜ì›…",
          es: "HÃ©roe de la higiene",
          de: "Hygiene-Held",
          fi: "Hygieniasankari",
          fr: "HÃ©ros de l'hygiÃ¨ne",
          ar: "Ø¨Ø·Ù„ Ø§Ù„Ù†Ø¸Ø§ÙØ©",
          it: "Eroe dell'Igiene",
        },
        instruction: {
          en: "Tap the germs to clean up!",
          zh: "é»æ“Šç´°èŒé€²è¡Œæ¸…æ½”ï¼",
          ja: "ç´°èŒã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãã‚Œã„ã«ã—ã‚ˆã†ï¼",
          ko: "ì„¸ê· ì„ íƒ­í•˜ì—¬ ì²­ì†Œí•˜ì„¸ìš”!",
          es: "Â¡Toca los gÃ©rmenes para limpiar!",
          de: "Tippe auf die Keime zum AufrÃ¤umen!",
          fi: "Napauta bakteereita puhdistaaksesi!",
          fr: "Touchez les germes pour nettoyer !",
          ar: "Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø¬Ø±Ø§Ø«ÙŠÙ… Ù„Ù„ØªÙ†Ø¸ÙŠÙ!",
          it: "Tocca i germi per pulire!",
        },
        clean: {
          en: "Sparkling Clean!",
          zh: "ä¹¾æ·¨äº®éº—ï¼",
          ja: "ãƒ”ã‚«ãƒ”ã‚«ï¼",
          ko: "ë°˜ì§ë°˜ì§ ê¹¨ë—í•´ìš”!",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [germs, setGerms] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          // Spawn germs
          const arr = Array.from({ length: 10 }).map((_, i) => ({
            id: i,
            x: Math.random() * 80 + 10,
            y: Math.random() * 80 + 10,
            icon: ["ğŸ¦ ", "ğŸª°", "ğŸ’¨"][Math.floor(Math.random() * 3)],
            visible: true,
          }));
          setGerms(arr);
        }, []);

        const cleanGerm = (id) => {
          setGerms((prev) =>
            prev.map((g) => (g.id === id ? { ...g, visible: false } : g))
          );
        };

        const remaining = germs.filter((g) => g.visible).length;

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-4 text-cyan-600">
              {getText("title")}
            </h1>
            <p className="mb-4 text-slate-500 font-bold">
              {getText("instruction")}
            </p>

            <div className="relative w-[350px] h-[500px] bg-white rounded-full shadow-2xl border-8 border-cyan-200 overflow-hidden flex items-center justify-center">
              {/* Character */}
              <div className="text-[200px] relative z-0">
                {remaining === 0 ? "âœ¨ğŸ§–âœ¨" : "ğŸ§–"}
              </div>

              {/* Dirt Overlay */}
              {germs.map(
                (g) =>
                  g.visible && (
                    <motion.button
                      key={g.id}
                      initial={{ scale: 0 }}
                      animate={{ scale: 1 }}
                      whileTap={{ scale: 1.5, opacity: 0 }}
                      onClick={() => cleanGerm(g.id)}
                      className="absolute w-12 h-12 flex items-center justify-center text-4xl z-10 cursor-pointer hover:scale-110"
                      style={{ top: `${g.y}%`, left: `${g.x}%` }}
                    >
                      {g.icon}
                    </motion.button>
                  )
              )}
            </div>

            {remaining === 0 && (
              <motion.div
                initial={{ scale: 0 }}
                animate={{ scale: 1 }}
                className="mt-8 px-8 py-4 bg-yellow-400 text-yellow-900 rounded-full font-black text-2xl shadow-lg"
              >
                {getText("clean")}
              </motion.div>
            )}

            {remaining === 0 && (
              <button
                onClick={() => window.location.reload()}
                className="mt-4 text-slate-400 underline"
              >
                Play Again
              </button>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
