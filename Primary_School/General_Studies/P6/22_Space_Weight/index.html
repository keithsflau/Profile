<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Space Weight</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #0f172a;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Weight in Space",
          zh: "Â§™Á©∫‰∏≠ÁöÑÈáçÈáè",
          ja: "ÂÆáÂÆô„Åß„ÅÆ‰ΩìÈáç",
          ko: "Ïö∞Ï£ºÏùò Î¨¥Í≤å",
          es: "Peso en el espacio",
          de: "Gewicht im Weltraum",
          fi: "Paino avaruudessa",
          fr: "Poids dans l'espace",
          ar: "ÿßŸÑŸàÿ≤ŸÜ ŸÅŸä ÿßŸÑŸÅÿ∂ÿßÿ°",
          it: "Peso nello Spazio",
        },
        instruction: {
          en: "Enter your mass (kg) and travel to different planets!",
          zh: "Ëº∏ÂÖ•‰Ω†ÁöÑË≥™Èáè (kg) ‰∏¶ÂâçÂæÄ‰∏çÂêåÁöÑÊòüÁêÉÔºÅ",
          ja: "Ë≥™Èáè (kg) „ÇíÂÖ•Âäõ„Åó„Å¶„ÄÅ„Åï„Åæ„Åñ„Åæ„Å™ÊÉëÊòü„Å´ÁßªÂãï„Åó„Åæ„Åó„Çá„ÅÜÔºÅ",
          ko: "ÏßàÎüâ(kg)ÏùÑ ÏûÖÎ†•ÌïòÍ≥† Îã§Î•∏ ÌñâÏÑ±ÏúºÎ°ú Ïó¨ÌñâÌïòÏÑ∏Ïöî!",
          es: "¬°Ingresa tu masa (kg) y viaja a diferentes planetas!",
          de: "Gib deine Masse (kg) ein und reise zu verschiedenen Planeten!",
          fi: "Sy√∂t√§ massasi (kg) ja matkusta eri planeetoille!",
          fr: "Entrez votre masse (kg) et voyagez vers diff√©rentes plan√®tes !",
          ar: "ÿ£ÿØÿÆŸÑ ŸÉÿ™ŸÑÿ™ŸÉ (ŸÉÿ¨ŸÖ) Ÿàÿ≥ÿßŸÅÿ± ÿ•ŸÑŸâ ŸÉŸàÿßŸÉÿ® ŸÖÿÆÿ™ŸÑŸÅÿ©!",
          it: "Inserisci la tua massa (kg) e viaggia su pianeti diversi!",
        },
        earth: { en: "Earth", zh: "Âú∞ÁêÉ", ja: "Âú∞ÁêÉ", ko: "ÏßÄÍµ¨" },
        moon: { en: "Moon", zh: "ÊúàÁêÉ", ja: "Êúà", ko: "Îã¨" },
        mars: { en: "Mars", zh: "ÁÅ´Êòü", ja: "ÁÅ´Êòü", ko: "ÌôîÏÑ±" },
        jupiter: { en: "Jupiter", zh: "Êú®Êòü", ja: "Êú®Êòü", ko: "Î™©ÏÑ±" },

        mass: { en: "Mass", zh: "Ë≥™Èáè", ja: "Ë≥™Èáè", ko: "ÏßàÎüâ" },
        weight: { en: "Weight", zh: "ÈáçÈáè", ja: "ÈáçÈáè", ko: "Î¨¥Í≤å" },
        gravity: { en: "Gravity", zh: "ÈáçÂäõ", ja: "ÈáçÂäõ", ko: "Ï§ëÎ†•" },
      };

      const planets = [
        { id: "earth", gravity: 1, color: "bg-blue-500", icon: "üåç" },
        { id: "moon", gravity: 0.165, color: "bg-gray-400", icon: "üåë" },
        { id: "mars", gravity: 0.38, color: "bg-red-500", icon: "ü™ê" }, // Mars kinda red
        { id: "jupiter", gravity: 2.34, color: "bg-orange-400", icon: "üü†" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [mass, setMass] = useState(40); // kg
        const [selectedPlanet, setSelectedPlanet] = useState(planets[0]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        // Weight = Mass * Gravity (Simple relative to Earth=1)
        const weight = (mass * selectedPlanet.gravity).toFixed(1);

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-sky-400">
              {getText("title")}
            </h1>

            <div className="mb-8 w-full max-w-md bg-slate-800 p-6 rounded-2xl flex flex-col items-center gap-4">
              <label className="text-slate-400 font-bold">
                {getText("instruction")}
              </label>
              <div className="flex items-center gap-4">
                <input
                  type="number"
                  value={mass}
                  onChange={(e) => setMass(Number(e.target.value))}
                  className="w-24 text-center text-2xl font-black text-black rounded-lg p-2"
                />
                <span className="text-2xl font-bold">kg</span>
              </div>
            </div>

            <div className="grid grid-cols-2 lg:grid-cols-4 gap-6 w-full max-w-5xl">
              {planets.map((p) => (
                <button
                  key={p.id}
                  onClick={() => setSelectedPlanet(p)}
                  className={`p-6 rounded-3xl transition-all shadow-xl flex flex-col items-center gap-4 border-4
                         ${
                           selectedPlanet.id === p.id
                             ? "border-white scale-105 bg-slate-700"
                             : "border-transparent bg-slate-800 hover:bg-slate-700 opacity-80"
                         }
                      `}
                >
                  <div className="text-6xl animate-pulse">{p.icon}</div>
                  <div className="text-2xl font-bold">{getText(p.id)}</div>
                </button>
              ))}
            </div>

            <div className="mt-12 w-full max-w-lg bg-white text-slate-900 p-8 rounded-3xl shadow-[0_0_50px_rgba(255,255,255,0.2)] text-center relative overflow-hidden">
              <div
                className={`absolute top-0 left-0 w-full h-4 ${selectedPlanet.color}`}
              ></div>

              <h2 className="text-3xl font-black mb-2">
                {getText(selectedPlanet.id)}
              </h2>
              <div className="text-sm text-slate-500 font-bold mb-6">
                {getText("gravity")}: {selectedPlanet.gravity}x Earth
              </div>

              <div className="flex justify-around items-end">
                <div>
                  <div className="text-sm font-bold text-slate-400 uppercase">
                    {getText("mass")}
                  </div>
                  <div className="text-3xl font-black text-slate-700">
                    {mass} kg
                  </div>
                  <div className="text-xs text-slate-400">(Constant)</div>
                </div>

                <div className="text-4xl">‚ûî</div>

                <div>
                  <div className="text-sm font-bold text-slate-400 uppercase">
                    {getText("weight")}
                  </div>
                  <div className="text-5xl font-black text-sky-600">
                    {weight} kg
                  </div>
                  <div className="text-xs text-slate-400">(Apparent)</div>
                </div>
              </div>

              {/* Character visual scale often used in cartoons for gravity */}
              <div className="mt-6 flex justify-center">
                <motion.div
                  key={selectedPlanet.id}
                  initial={{ scale: 1, y: 0 }}
                  animate={{
                    // Higher gravity = squashed, Lower gravity = floaty/stretched
                    scaleY: selectedPlanet.gravity > 1 ? 0.8 : 1.1,
                    y: selectedPlanet.gravity < 1 ? -20 : 0,
                  }}
                  transition={{ type: "spring", bounce: 0.5 }}
                  className="text-6xl"
                >
                  üßë‚ÄçüöÄ
                </motion.div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
