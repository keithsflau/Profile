<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Disease Vectors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fdf4f4;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Disease Transmission",
          zh: "ç–¾ç—…å‚³æ’­",
          ja: "ç—…æ°—ã®ä¼æŸ“",
          ko: "ì§ˆë³‘ ì „íŒŒ",
          es: "TransmisiÃ³n de enfermedades",
          de: "KrankheitsÃ¼bertragung",
          fi: "Taudin leviÃ¤minen",
          fr: "Transmission des maladies",
          ar: "Ø§Ù†ØªÙ‚Ø§Ù„ Ø§Ù„Ø£Ù…Ø±Ø§Ø¶",
          it: "Trasmissione Malattie",
        },
        instruction: {
          en: "How is this disease spread?",
          zh: "é€™ç¨®ç–¾ç—…æ˜¯å¦‚ä½•å‚³æ’­çš„ï¼Ÿ",
          ja: "ã“ã®ç—…æ°—ã¯ã©ã®ã‚ˆã†ã«åºƒã¾ã‚Šã¾ã™ã‹ï¼Ÿ",
          ko: "ì´ ì§ˆë³‘ì€ ì–´ë–»ê²Œ ì „íŒŒë˜ë‚˜ìš”?",
          es: "Â¿CÃ³mo se propaga esta enfermedad?",
          de: "Wie wird diese Krankheit verbreitet?",
          fi: "Miten tÃ¤mÃ¤ tauti leviÃ¤Ã¤?",
          fr: "Comment cette maladie se propage-t-elle ?",
          ar: "ÙƒÙŠÙ ÙŠÙ†ØªØ´Ø± Ù‡Ø°Ø§ Ø§Ù„Ù…Ø±Ø¶ØŸ",
          it: "Come si diffonde questa malattia?",
        },
        mosquito: { en: "Mosquito", zh: "èšŠå­", ja: "èšŠ", ko: "ëª¨ê¸°" },
        rat: {
          en: "Rat / Flea",
          zh: "è€é¼  / è·³èš¤",
          ja: "ãƒã‚ºãƒŸ / ãƒãƒŸ",
          ko: "ì¥ / ë²¼ë£©",
        },
        droplet: {
          en: "Air / Droplets",
          zh: "ç©ºæ°£ / é£›æ²«",
          ja: "ç©ºæ°— / é£›æ²«",
          ko: "ê³µê¸° / ë¹„ë§",
        },
        food: {
          en: "Contaminated Food",
          zh: "å—æ±¡æŸ“é£Ÿç‰©",
          ja: "æ±šæŸ“ã•ã‚ŒãŸé£Ÿå“",
          ko: "ì˜¤ì—¼ëœ ìŒì‹",
        },
        contact: {
          en: "Direct Contact",
          zh: "ç›´æ¥æ¥è§¸",
          ja: "ç›´æ¥æ¥è§¦",
          ko: "ì§ì ‘ ì ‘ì´‰",
        },

        dengue: {
          en: "Dengue Fever",
          zh: "ç™»é©ç†±",
          ja: "ãƒ‡ãƒ³ã‚°ç†±",
          ko: "ë…ê¸°ì—´",
        },
        malaria: { en: "Malaria", zh: "ç˜§ç–¾", ja: "ãƒãƒ©ãƒªã‚¢", ko: "ë§ë¼ë¦¬ì•„" },
        plague: {
          en: "Plague",
          zh: "é¼ ç–« (é»‘æ­»ç—…)",
          ja: "ãƒšã‚¹ãƒˆ",
          ko: "í‘ì‚¬ë³‘",
        },
        flu: {
          en: "Influenza / Flu",
          zh: "æµè¡Œæ€§æ„Ÿå†’",
          ja: "ã‚¤ãƒ³ãƒ•ãƒ«ã‚¨ãƒ³ã‚¶",
          ko: "ë…ê°",
        },
        cholera: { en: "Cholera", zh: "éœäº‚", ja: "ã‚³ãƒ¬ãƒ©", ko: "ì½œë ˆë¼" },
        chickenpox: { en: "Chickenpox", zh: "æ°´ç—˜", ja: "æ°´ç–±ç˜¡", ko: "ìˆ˜ë‘" },

        correct: { en: "Correct!", zh: "æ­£ç¢ºï¼", ja: "æ­£è§£ï¼", ko: "ì •ë‹µ!" },
        wrong: {
          en: "Wrong vector.",
          zh: "å‚³æ’­åª’ä»‹éŒ¯èª¤ã€‚",
          ja: "é–“é•ã£ãŸåª’ä»‹ã€‚",
          ko: "ì˜ëª»ëœ ë§¤ê°œì²´ì…ë‹ˆë‹¤.",
        },
      };

      const pairs = [
        { id: "dengue", vector: "mosquito", icon: "ğŸ¦Ÿ" },
        { id: "malaria", vector: "mosquito", icon: "ğŸ¦Ÿ" },
        { id: "plague", vector: "rat", icon: "ğŸ€" },
        { id: "flu", vector: "droplet", icon: "ğŸ—£ï¸" },
        { id: "cholera", vector: "food", icon: "ğŸ¥˜" }, // Food/Water
        { id: "chickenpox", vector: "contact", icon: "ğŸ¤" }, // Contact/Air
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = pairs[index];
        const vectors = ["mosquito", "rat", "droplet", "food", "contact"];

        const handleAnswer = (v) => {
          if (feedback) return;
          if (current.vector === v) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % pairs.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 1000);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-rose-800">
              {getText("title")}
            </h1>

            <div className="w-full max-w-2xl bg-white p-8 rounded-3xl shadow-xl flex flex-col items-center">
              <div className="text-center font-bold text-slate-500 mb-6">
                {getText("instruction")}
              </div>

              <div className="bg-rose-50 p-12 rounded-full mb-8 text-2xl font-bold text-rose-800 border-4 border-rose-200">
                {getText(current.id)}
              </div>

              <div className="grid grid-cols-2 md:grid-cols-3 gap-4 w-full">
                {vectors.map((v) => (
                  <button
                    key={v}
                    onClick={() => handleAnswer(v)}
                    className="p-6 bg-slate-100 hover:bg-slate-200 rounded-xl font-bold flex flex-col items-center transition-all active:scale-95"
                  >
                    <span className="text-3xl mb-2">
                      {v === "mosquito"
                        ? "ğŸ¦Ÿ"
                        : v === "rat"
                        ? "ğŸ€"
                        : v === "droplet"
                        ? "ğŸ—£ï¸"
                        : v === "food"
                        ? "ğŸ¥˜"
                        : "ğŸ¤"}
                    </span>
                    {getText(v)}
                  </button>
                ))}
              </div>

              {feedback && (
                <div
                  className={`mt-8 text-3xl font-black ${
                    feedback === "correct" ? "text-green-600" : "text-red-500"
                  } animate-pulse`}
                >
                  {getText(feedback)}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
