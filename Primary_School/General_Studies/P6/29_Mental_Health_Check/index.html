<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Mental Health Check</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f0fdfa;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Mood Check-in",
          zh: "å¿ƒæƒ…æª¢æŸ¥ç«™",
          ja: "æ°—åˆ†ãƒã‚§ãƒƒã‚¯ã‚¤ãƒ³",
          ko: "ê¸°ë¶„ ì²´í¬ì¸",
          es: "Registro de estado de Ã¡nimo",
          de: "Stimmungs-Check",
          fi: "Mielialan tarkistus",
          fr: "VÃ©rification de l'humeur",
          ar: "Ø§Ù„ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ø²Ø§Ø¬",
          it: "Controllo Umore",
        },
        how_feeling: {
          en: "How are you feeling?",
          zh: "ä½ æ„Ÿè¦ºå¦‚ä½•ï¼Ÿ",
          ja: "æ°—åˆ†ã¯ã©ã†ã§ã™ã‹ï¼Ÿ",
          ko: "ê¸°ë¶„ì´ ì–´ë– ì„¸ìš”?",
          es: "Â¿CÃ³mo te sientes?",
          de: "Wie fÃ¼hlst du dich?",
          fi: "MiltÃ¤ sinusta tuntuu?",
          fr: "Comment vous sentez-vous ?",
          ar: "ÙƒÙŠÙ ØªØ´Ø¹Ø±ØŸ",
          it: "Come ti senti?",
        },

        happy: {
          en: "Happy / Excited",
          zh: "å¿«æ¨‚ / èˆˆå¥®",
          ja: "å¹¸ã› / èˆˆå¥®",
          ko: "í–‰ë³µí•¨ / ì‹ ë‚¨",
        },
        sad: {
          en: "Sad / Lonely",
          zh: "å‚·å¿ƒ / å­¤ç¨",
          ja: "æ‚²ã—ã„ / å­¤ç‹¬",
          ko: "ìŠ¬í”” / ì™¸ë¡œì›€",
        },
        angry: {
          en: "Angry / Frustrated",
          zh: "ç”Ÿæ°£ / æ²®å–ª",
          ja: "æ€’ã‚Š / ã‚¤ãƒ©ã‚¤ãƒ©",
          ko: "í™”ë‚¨ / ì¢Œì ˆ",
        },
        tired: {
          en: "Tired / Stressed",
          zh: "ç–²ç´¯ / å£“åŠ›",
          ja: "ç–²ã‚ŒãŸ / ã‚¹ãƒˆãƒ¬ã‚¹",
          ko: "í”¼ê³¤í•¨ / ìŠ¤íŠ¸ë ˆìŠ¤",
        },

        tip_happy: {
          en: "Great! Share your joy with a friend!",
          zh: "å¤ªå¥½äº†ï¼èˆ‡æœ‹å‹åˆ†äº«ä½ çš„å¿«æ¨‚ï¼",
          ja: "ç´ æ™´ã‚‰ã—ã„ï¼å‹é”ã¨å–œã³ã‚’åˆ†ã‹ã¡åˆãŠã†ï¼",
          ko: "ì¢‹ì•„ìš”! ì¹œêµ¬ì™€ ê¸°ì¨ì„ ë‚˜ëˆ„ì„¸ìš”!",
        },
        tip_sad: {
          en: "It's okay to cry. Talk to someone you trust.",
          zh: "å“­ä¹Ÿæ²’é—œä¿‚ã€‚æ‰¾ä¿¡ä»»çš„äººå‚¾è¨´ã€‚",
          ja: "æ³£ã„ã¦ã‚‚å¤§ä¸ˆå¤«ã€‚ä¿¡é ¼ã§ãã‚‹äººã«è©±ã—ã¦ã€‚",
          ko: "ìš¸ì–´ë„ ê´œì°®ì•„ìš”. ë¯¿ì„ ìˆ˜ ìžˆëŠ” ì‚¬ëžŒê³¼ ì´ì•¼ê¸°í•˜ì„¸ìš”.",
        },
        tip_angry: {
          en: "Take 5 deep breaths. Count to 10.",
          zh: "æ·±å‘¼å¸5æ¬¡ã€‚æ•¸åˆ°10ã€‚",
          ja: "æ·±å‘¼å¸ã‚’5å›žã—ã¦ã€‚10ã¾ã§æ•°ãˆã¦ã€‚",
          ko: "ì‹¬í˜¸í¡ì„ 5ë²ˆ í•˜ì„¸ìš”. 10ê¹Œì§€ ì„¸ì–´ë³´ì„¸ìš”.",
        },
        tip_tired: {
          en: "Take a break. Listen to music or nap.",
          zh: "ä¼‘æ¯ä¸€ä¸‹ã€‚è½è½éŸ³æ¨‚æˆ–å°ç¡ã€‚",
          ja: "ä¼‘æ†©ã—ã¦ã€‚éŸ³æ¥½ã‚’è´ãã‹ã€æ˜¼å¯ã‚’ã—ã¦ã€‚",
          ko: "íœ´ì‹ì„ ì·¨í•˜ì„¸ìš”. ìŒì•…ì„ ë“£ê±°ë‚˜ ë‚®ìž ì„ ìžì„¸ìš”.",
        },

        select: { en: "Select", zh: "é¸æ“‡", ja: "é¸æŠž", ko: "ì„ íƒ" },
      };

      const moods = [
        {
          id: "happy",
          icon: "ðŸ˜„",
          tip: "tip_happy",
          color: "bg-yellow-100 border-yellow-300 text-yellow-800",
        },
        {
          id: "sad",
          icon: "ðŸ˜¢",
          tip: "tip_sad",
          color: "bg-blue-100 border-blue-300 text-blue-800",
        },
        {
          id: "angry",
          icon: "ðŸ˜¡",
          tip: "tip_angry",
          color: "bg-red-100 border-red-300 text-red-800",
        },
        {
          id: "tired",
          icon: "ðŸ¥±",
          tip: "tip_tired",
          color: "bg-purple-100 border-purple-300 text-purple-800",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [selectedMood, setSelectedMood] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-12 text-teal-600">
              {getText("title")}
            </h1>

            {!selectedMood ? (
              <>
                <p className="text-2xl font-bold text-slate-500 mb-8">
                  {getText("how_feeling")}
                </p>
                <div className="grid grid-cols-2 gap-6 w-full max-w-lg">
                  {moods.map((m) => (
                    <button
                      key={m.id}
                      onClick={() => setSelectedMood(m)}
                      className="p-8 bg-white hover:bg-slate-50 rounded-3xl shadow-lg flex flex-col items-center gap-4 transition-transform hover:scale-105 active:scale-95"
                    >
                      <div className="text-6xl">{m.icon}</div>
                      <div className="font-bold text-slate-700">
                        {getText(m.id)}
                      </div>
                    </button>
                  ))}
                </div>
              </>
            ) : (
              <div className="w-full max-w-lg flex flex-col items-center animate-fadeIn">
                <div
                  className={`w-full p-12 rounded-3xl shadow-xl flex flex-col items-center text-center border-4 ${selectedMood.color}`}
                >
                  <div className="text-8xl mb-6">{selectedMood.icon}</div>
                  <h2 className="text-3xl font-black mb-4">
                    {getText(selectedMood.id)}
                  </h2>
                  <p className="text-xl font-medium">
                    {getText(selectedMood.tip)}
                  </p>
                </div>
                <button
                  onClick={() => setSelectedMood(null)}
                  className="mt-8 px-8 py-3 bg-slate-500 hover:bg-slate-600 text-white rounded-full font-bold shadow-lg"
                >
                  Back
                </button>
              </div>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
