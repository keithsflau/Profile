<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Stress Management</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fdf2f8;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Stress Buster",
          zh: "æ¸›å£“å°ˆå“¡",
          ja: "ã‚¹ãƒˆãƒ¬ã‚¹ãƒã‚¹ã‚¿ãƒ¼",
          ko: "ìŠ¤íŠ¸ë ˆìŠ¤ í•´ì†Œ",
          es: "Destructor del estrÃ©s",
          de: "Stresskiller",
          fi: "Stressinpoistaja",
          fr: "Anti-stress",
          ar: "Ù…Ø²ÙŠÙ„ Ø§Ù„ØªÙˆØªØ±",
          it: "Anti-Stress",
        },
        instruction: {
          en: "Does this Increase Stress or Reduce Stress?",
          zh: "é€™æœƒå¢žåŠ å£“åŠ›é‚„æ˜¯æ¸›è¼•å£“åŠ›ï¼Ÿ",
          ja: "ã“ã‚Œã¯ã‚¹ãƒˆãƒ¬ã‚¹ã‚’å¢—ã‚„ã—ã¾ã™ã‹ã€æ¸›ã‚‰ã—ã¾ã™ã‹ï¼Ÿ",
          ko: "ì´ê²ƒì´ ìŠ¤íŠ¸ë ˆìŠ¤ë¥¼ ì¦ê°€ì‹œí‚¤ë‚˜ìš”, ê°ì†Œì‹œí‚¤ë‚˜ìš”?",
          es: "Â¿Esto aumenta el estrÃ©s o lo reduce?",
          de: "ErhÃ¶ht dies den Stress oder reduziert es ihn?",
          fi: "LisÃ¤Ã¤kÃ¶ vai vÃ¤hentÃ¤Ã¤kÃ¶ tÃ¤mÃ¤ stressiÃ¤?",
          fr: "Cela augmente-t-il ou rÃ©duit-il le stress ?",
          ar: "Ù‡Ù„ Ù‡Ø°Ø§ ÙŠØ²ÙŠØ¯ Ù…Ù† Ø§Ù„ØªÙˆØªØ± Ø£Ù… ÙŠÙ‚Ù„Ù„ Ù…Ù† Ø§Ù„ØªÙˆØªØ±ØŸ",
          it: "Questo Aumenta lo Stress o Riduce lo Stress?",
        },
        increase: {
          en: "Increases Stress ðŸ˜«",
          zh: "å¢žåŠ å£“åŠ› ðŸ˜«",
          ja: "ã‚¹ãƒˆãƒ¬ã‚¹å¢—åŠ  ðŸ˜«",
          ko: "ìŠ¤íŠ¸ë ˆìŠ¤ ì¦ê°€ ðŸ˜«",
          es: "Aumenta el estrÃ©s ðŸ˜«",
          de: "ErhÃ¶ht Stress ðŸ˜«",
          fi: "LisÃ¤Ã¤ stressiÃ¤ ðŸ˜«",
          fr: "Augmente le stress ðŸ˜«",
          ar: "ÙŠØ²ÙŠØ¯ Ø§Ù„ØªÙˆØªØ± ðŸ˜«",
          it: "Aumenta Stress ðŸ˜«",
        },
        reduce: {
          en: "Reduces Stress ðŸ˜Œ",
          zh: "æ¸›è¼•å£“åŠ› ðŸ˜Œ",
          ja: "ã‚¹ãƒˆãƒ¬ã‚¹æ¸›å°‘ ðŸ˜Œ",
          ko: "ìŠ¤íŠ¸ë ˆìŠ¤ ê°ì†Œ ðŸ˜Œ",
          es: "Reduce el estrÃ©s ðŸ˜Œ",
          de: "Reduziert Stress ðŸ˜Œ",
          fi: "VÃ¤hentÃ¤Ã¤ stressiÃ¤ ðŸ˜Œ",
          fr: "RÃ©duit le stress ðŸ˜Œ",
          ar: "ÙŠÙ‚Ù„Ù„ Ø§Ù„ØªÙˆØªØ± ðŸ˜Œ",
          it: "Riduce Stress ðŸ˜Œ",
        },

        s1: {
          en: "Staying up late study",
          zh: "ç†¬å¤œæº«ç¿’",
          ja: "å¤œé…ãã¾ã§å‹‰å¼·ã™ã‚‹",
          ko: "ë°¤ëŠ¦ê²Œê¹Œì§€ ê³µë¶€í•˜ê¸°",
        },
        s2: {
          en: "Talk to parents/friends",
          zh: "èˆ‡çˆ¶æ¯/æœ‹å‹å‚¾è¨´",
          ja: "è¦ªã‚„å‹é”ã¨è©±ã™",
          ko: "ë¶€ëª¨ë‹˜/ì¹œêµ¬ì™€ ëŒ€í™”í•˜ê¸°",
        },
        s3: { en: "Deep breathing", zh: "æ·±å‘¼å¸", ja: "æ·±å‘¼å¸", ko: "ì‹¬í˜¸í¡" },
        s4: {
          en: "Bottling up feelings",
          zh: "å£“æŠ‘æƒ…ç·’",
          ja: "æ„Ÿæƒ…ã‚’æŠ‘ãˆè¾¼ã‚€",
          ko: "ê°ì • ì–µëˆ„ë¥´ê¸°",
        },
        s5: { en: "Exercise / Sports", zh: "é‹å‹•", ja: "é‹å‹•", ko: "ìš´ë™" },
        s6: {
          en: "Comparison with others",
          zh: "èˆ‡ä»–äººæ¯”è¼ƒ",
          ja: "ä»–äººã¨ã®æ¯”è¼ƒ",
          ko: "íƒ€ì¸ê³¼ ë¹„êµí•˜ê¸°",
        },

        correct: { en: "Correct!", zh: "æ­£ç¢ºï¼", ja: "æ­£è§£ï¼", ko: "ì •ë‹µ!" },
        wrong: {
          en: "Think again.",
          zh: "å†æƒ³ä¸€æƒ³ã€‚",
          ja: "ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã€‚",
          ko: "ë‹¤ì‹œ ìƒê°í•´ ë³´ì„¸ìš”.",
        },
      };

      const scenarios = [
        { id: "s1", type: "increase" },
        { id: "s2", type: "reduce" },
        { id: "s3", type: "reduce" },
        { id: "s4", type: "increase" },
        { id: "s5", type: "reduce" },
        { id: "s6", type: "increase" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const current = scenarios[index];

        const handleAnswer = (type) => {
          if (feedback) return;
          if (type === current.type) {
            setFeedback("correct");
            setTimeout(() => {
              setFeedback(null);
              setIndex((index + 1) % scenarios.length);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 500);
          }
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-pink-700">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg bg-pink-50 p-8 rounded-3xl shadow-xl border-4 border-pink-200 text-center">
              <div className="font-bold text-slate-500 mb-8">
                {getText("instruction")}
              </div>

              <div className="bg-white p-10 rounded-2xl shadow-sm mb-8">
                <div className="text-3xl font-black text-slate-800">
                  {getText(current.id)}
                </div>
              </div>

              <div className="flex flex-col gap-4">
                <button
                  onClick={() => handleAnswer("increase")}
                  className="bg-red-100 hover:bg-red-200 text-red-800 p-4 rounded-xl font-bold text-lg transition-transform active:scale-95"
                >
                  {getText("increase")}
                </button>
                <button
                  onClick={() => handleAnswer("reduce")}
                  className="bg-green-100 hover:bg-green-200 text-green-800 p-4 rounded-xl font-bold text-lg transition-transform active:scale-95"
                >
                  {getText("reduce")}
                </button>
              </div>

              {feedback && (
                <div
                  className={`mt-6 text-2xl font-black ${
                    feedback === "correct"
                      ? "text-green-600"
                      : "text-orange-500"
                  } animate-pulse`}
                >
                  {getText(feedback)}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
