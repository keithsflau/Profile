<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Time Zone Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f8fafc;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Global Time",
          zh: "ä¸–ç•Œæ™‚é–“",
          ja: "ä¸–ç•Œæ™‚è¨ˆ",
          ko: "ì„¸ê³„ ì‹œê°„",
          es: "Hora global",
          de: "Weltzeit",
          fi: "Maailmanaika",
          fr: "Temps mondial",
          ar: "Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠ",
          it: "Ora Globale",
        },
        london: {
          en: "London (GMT+0)",
          zh: "å€«æ•¦ (GMT+0)",
          ja: "ãƒ­ãƒ³ãƒ‰ãƒ³ (GMT+0)",
          ko: "ëŸ°ë˜ (GMT+0)",
        },
        hk: {
          en: "Hong Kong (GMT+8)",
          zh: "é¦™æ¸¯ (GMT+8)",
          ja: "é¦™æ¸¯ (GMT+8)",
          ko: "í™ì½© (GMT+8)",
        },
        ny: {
          en: "New York (GMT-5)",
          zh: "ç´ç´„ (GMT-5)",
          ja: "ãƒ‹ãƒ¥ãƒ¼ãƒ¨ãƒ¼ã‚¯ (GMT-5)",
          ko: "ë‰´ìš• (GMT-5)",
        },
        tokyo: {
          en: "Tokyo (GMT+9)",
          zh: "æ±äº¬ (GMT+9)",
          ja: "æ±äº¬ (GMT+9)",
          ko: "ë„ì¿„ (GMT+9)",
        },

        diff: { en: "Difference:", zh: "æ™‚å·®ï¼š", ja: "æ™‚å·®ï¼š", ko: "ì‹œì°¨:" },
        hours: { en: "hours", zh: "å°æ™‚", ja: "æ™‚é–“", ko: "ì‹œê°„" },
      };

      const cities = [
        { id: "london", offset: 0, icon: "ğŸ‡¬ğŸ‡§" },
        { id: "hk", offset: 8, icon: "ğŸ‡­ğŸ‡°" },
        { id: "tokyo", offset: 9, icon: "ğŸ‡¯ğŸ‡µ" },
        { id: "ny", offset: -5, icon: "ğŸ‡ºğŸ‡¸" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [baseHour, setBaseHour] = useState(12); // Base on GMT 12:00

        const getText = (key) => t[key][lang] || t[key]["en"];

        const formatTime = (hour24) => {
          let h = hour24 % 24;
          if (h < 0) h += 24;
          const ampm = h >= 12 ? "PM" : "AM";
          const showH = h % 12 || 12;
          return `${showH}:00 ${ampm}`;
        };

        const getBgColor = (hour24) => {
          let h = hour24 % 24;
          if (h < 0) h += 24;
          if (h >= 6 && h < 18) return "bg-sky-100 text-sky-900"; // Day
          return "bg-slate-800 text-slate-100"; // Night
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-slate-700">
              {getText("title")}
            </h1>

            <div className="w-full max-w-lg mb-8 bg-white p-6 rounded-2xl shadow-md flex flex-col items-center">
              <div className="text-slate-400 font-bold mb-2">
                GMT (Greenwich Mean Time)
              </div>
              <div className="text-4xl font-black text-slate-800 mb-4">
                {formatTime(baseHour)}
              </div>
              <input
                type="range"
                min="0"
                max="23"
                value={baseHour}
                onChange={(e) => setBaseHour(Number(e.target.value))}
                className="w-full h-4 bg-slate-200 rounded-lg appearance-none cursor-grab"
              />
            </div>

            <div className="grid grid-cols-1 md:grid-cols-2 gap-4 w-full max-w-4xl">
              {cities.map((city) => {
                const localHour = baseHour + city.offset;
                return (
                  <div
                    key={city.id}
                    className={`p-6 rounded-2xl shadow-lg flex items-center justify-between transition-colors duration-500 ${getBgColor(
                      localHour
                    )}`}
                  >
                    <div>
                      <div className="text-4xl mb-2">{city.icon}</div>
                      <div className="font-bold text-lg">
                        {getText(city.id)}
                      </div>
                    </div>
                    <div className="text-4xl font-black font-mono">
                      {formatTime(localHour)}
                    </div>
                  </div>
                );
              })}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
