<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Solar System</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #000;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Solar System Sorter",
          zh: "太陽系排序",
          ja: "太陽系ソーター",
          ko: "태양계 정렬",
          es: "Clasificador del sistema solar",
          de: "Sonnensystem-Sortierer",
          fi: "Aurinkokunnan lajittelija",
          fr: "Trieur du système solaire",
          ar: "فارز النظام الشمسي",
          it: "Ordinatore del Sistema Solare",
        },
        instruction: {
          en: "Order planets from the Sun.",
          zh: "按距離太陽的順序排列行星。",
          ja: "太陽からの距離順に惑星を並べてください。",
          ko: "태양으로부터의 거리에 따라 행성을 정렬하세요.",
          es: "Ordena los planetas desde el Sol.",
          de: "Ordne die Planeten von der Sonne aus.",
          fi: "Järjestä planeetat Auringosta.",
          fr: "Ordonnez les planètes depuis le Soleil.",
          ar: "رتب الكواكب من الشمس.",
          it: "Ordina i pianeti dal Sole.",
        },
        check: { en: "Check", zh: "檢查", ja: "確認", ko: "확인" },
        correct: {
          en: "Perfect Alignment!",
          zh: "完美排列！",
          ja: "完璧な配置！",
          ko: "완벽한 정렬!",
        },
        wrong: {
          en: "Not quite right...",
          zh: "不太正確...",
          ja: "正しくありません...",
          ko: "아닙니다...",
        },

        mercury: { en: "Mercury", zh: "水星", ja: "水星", ko: "수성" },
        venus: { en: "Venus", zh: "金星", ja: "金星", ko: "금성" },
        earth: { en: "Earth", zh: "地球", ja: "地球", ko: "지구" },
        mars: { en: "Mars", zh: "火星", ja: "火星", ko: "화성" },
        jupiter: { en: "Jupiter", zh: "木星", ja: "木星", ko: "목성" },
        saturn: { en: "Saturn", zh: "土星", ja: "土星", ko: "토성" },
        uranus: { en: "Uranus", zh: "天王星", ja: "天王星", ko: "천왕성" },
        neptune: { en: "Neptune", zh: "海王星", ja: "海王星", ko: "해왕성" },
      };

      const planets = [
        { id: "mercury", color: "#a1a1aa", size: "w-4 h-4" },
        { id: "venus", color: "#fcd34d", size: "w-6 h-6" },
        { id: "earth", color: "#3b82f6", size: "w-6 h-6" },
        { id: "mars", color: "#ef4444", size: "w-5 h-5" },
        { id: "jupiter", color: "#d97706", size: "w-16 h-16" },
        { id: "saturn", color: "#fef08a", size: "w-14 h-14" }, // needs ring
        { id: "uranus", color: "#22d3ee", size: "w-10 h-10" },
        { id: "neptune", color: "#1d4ed8", size: "w-10 h-10" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [order, setOrder] = useState(
          [...planets].sort(() => Math.random() - 0.5)
        );
        const [feedback, setFeedback] = useState("");

        const getText = (key) => t[key][lang] || t[key]["en"];

        const move = (fromIdx, toIdx) => {
          if (toIdx < 0 || toIdx >= order.length) return;
          const newOrder = [...order];
          const item = newOrder[fromIdx];
          newOrder.splice(fromIdx, 1);
          newOrder.splice(toIdx, 0, item);
          setOrder(newOrder);
          setFeedback("");
        };

        const check = () => {
          const correct = order.every((p, i) => p.id === planets[i].id);
          setFeedback(correct ? "correct" : "wrong");
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-yellow-400">
              {getText("title")}
            </h1>
            <p className="mb-8 font-bold text-slate-400">
              {getText("instruction")}
            </p>

            <div className="flex flex-col gap-2 w-full max-w-xl mb-8">
              {/* Sun */}
              <div className="w-full h-12 bg-yellow-500 rounded-full mb-4 flex items-center justify-center font-bold text-black shadow-[0_0_20px_orange]">
                Sun / 太陽 / 太陽 / 태양
              </div>

              {order.map((p, idx) => (
                <div
                  key={p.id}
                  className="flex items-center gap-4 bg-gray-900 p-2 rounded-lg border border-gray-700"
                >
                  <div className="flex flex-col gap-1">
                    <button
                      onClick={() => move(idx, idx - 1)}
                      className="text-slate-500 hover:text-white"
                    >
                      ▲
                    </button>
                    <button
                      onClick={() => move(idx, idx + 1)}
                      className="text-slate-500 hover:text-white"
                    >
                      ▼
                    </button>
                  </div>
                  <div
                    className={`rounded-full ${p.color} ${p.size}`}
                    style={{ backgroundColor: p.color }}
                  ></div>
                  <div className="flex-1 font-bold">{getText(p.id)}</div>
                </div>
              ))}
            </div>

            <button
              onClick={check}
              className="px-8 py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700"
            >
              {getText("check")}
            </button>

            {feedback && (
              <div
                className={`mt-4 text-2xl font-black ${
                  feedback === "correct" ? "text-green-400" : "text-red-400"
                }`}
              >
                {getText(feedback)}
              </div>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
