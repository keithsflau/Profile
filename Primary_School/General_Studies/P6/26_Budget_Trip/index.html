<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Trip Budget</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #ecfeff;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Budget Planner",
          zh: "é ç®—è¨ˆåŠƒå“¡",
          ja: "äºˆç®—ãƒ—ãƒ©ãƒ³ãƒŠãƒ¼",
          ko: "ì˜ˆì‚° ê³„íšì",
          es: "Planificador de presupuesto",
          de: "Budgetplaner",
          fi: "Budjettisuunnittelija",
          fr: "Planificateur de budget",
          ar: "Ù…Ø®Ø·Ø· Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ©",
          it: "Pianificatore Budget",
        },
        instruction: {
          en: "Plan a trip with $1000!",
          zh: "ç”¨ $1000 è¨ˆåŠƒä¸€æ¬¡æ—…è¡Œï¼",
          ja: "$1000ã§æ—…è¡Œã‚’è¨ˆç”»ã—ã¾ã—ã‚‡ã†ï¼",
          ko: "$1000ë¡œ ì—¬í–‰ì„ ê³„íší•˜ì„¸ìš”!",
          es: "Â¡Planifica un viaje con $1000!",
          de: "Plane eine Reise mit 1000 $!",
          fi: "Suunnittele matka 1000 dollarilla!",
          fr: "Planifiez un voyage avec 1000 $ !",
          ar: "Ø®Ø·Ø· Ù„Ø±Ø­Ù„Ø© Ø¨Ù…Ø¨Ù„Øº 1000 Ø¯ÙˆÙ„Ø§Ø±!",
          it: "Pianifica un viaggio con $1000!",
        },
        transport: { en: "Transport", zh: "äº¤é€š", ja: "äº¤é€š", ko: "êµí†µ" },
        hotel: { en: "Hotel", zh: "ä½å®¿", ja: "å®¿æ³Š", ko: "ìˆ™ë°•" },
        food: { en: "Food", zh: "è†³é£Ÿ", ja: "é£Ÿäº‹", ko: "ìŒì‹" },

        bus: {
          en: "Bus ($50)",
          zh: "å·´å£« ($50)",
          ja: "ãƒã‚¹ ($50)",
          ko: "ë²„ìŠ¤ ($50)",
        },
        plane: {
          en: "Plane ($500)",
          zh: "é£›æ©Ÿ ($500)",
          ja: "é£›è¡Œæ©Ÿ ($500)",
          ko: "ë¹„í–‰ê¸° ($500)",
        },

        hostel: {
          en: "Hostel ($100)",
          zh: "é’å¹´æ—…èˆ ($100)",
          ja: "ãƒ›ã‚¹ãƒ†ãƒ« ($100)",
          ko: "í˜¸ìŠ¤í…” ($100)",
        },
        luxury: {
          en: "5-Star ($400)",
          zh: "äº”æ˜Ÿç´š ($400)",
          ja: "5ã¤æ˜Ÿ ($400)",
          ko: "5ì„±ê¸‰ ($400)",
        },

        street: {
          en: "Street Food ($50)",
          zh: "è¡—é ­å°åƒ ($50)",
          ja: "å±‹å° ($50)",
          ko: "ê¸¸ê±°ë¦¬ ìŒì‹ ($50)",
        },
        fine: {
          en: "Fine Dining ($200)",
          zh: "é«˜ç´šé¤å»³ ($200)",
          ja: "é«˜ç´šæ–™ç† ($200)",
          ko: "ê³ ê¸‰ ì‹ì‚¬ ($200)",
        },

        balance: { en: "Balance:", zh: "é¤˜é¡ï¼š", ja: "æ®‹é«˜ï¼š", ko: "ì”ì•¡:" },
        success: {
          en: "Trip Booked! âœˆï¸",
          zh: "æ—…ç¨‹å·²é è¨‚ï¼âœˆï¸",
          ja: "äºˆç´„å®Œäº†ï¼âœˆï¸",
          ko: "ì—¬í–‰ ì˜ˆì•½ ì™„ë£Œ! âœˆï¸",
        },
        fail: {
          en: "Over Budget! ğŸ’¸",
          zh: "è¶…å‡ºé ç®—ï¼ğŸ’¸",
          ja: "äºˆç®—ã‚ªãƒ¼ãƒãƒ¼ï¼ğŸ’¸",
          ko: "ì˜ˆì‚° ì´ˆê³¼! ğŸ’¸",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [choices, setChoices] = useState({
          transport: 0,
          hotel: 0,
          food: 0,
        });

        const getText = (key) => t[key][lang] || t[key]["en"];

        const budget = 1000;
        const total = choices.transport + choices.hotel + choices.food;
        const remaining = budget - total;

        const options = {
          transport: [
            { cost: 50, label: "bus", icon: "ğŸšŒ" },
            { cost: 500, label: "plane", icon: "âœˆï¸" },
          ],
          hotel: [
            { cost: 100, label: "hostel", icon: "ğŸ›ï¸" },
            { cost: 400, label: "luxury", icon: "ğŸ¨" },
          ],
          food: [
            { cost: 50, label: "street", icon: "ğŸŒ­" },
            { cost: 200, label: "fine", icon: "ğŸ½ï¸" },
          ],
        };

        const handleSelect = (cat, val) => {
          setChoices({ ...choices, [cat]: val });
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-cyan-700">
              {getText("title")}
            </h1>
            <p className="mb-4 font-bold text-slate-500">
              {getText("instruction")}
            </p>

            <div className="w-full max-w-xl bg-white p-8 rounded-3xl shadow-xl border-4 border-cyan-100 flex flex-col gap-8">
              {/* Balance Display */}
              <div
                className={`text-center p-4 rounded-xl border-2 ${
                  remaining >= 0
                    ? "bg-green-100 border-green-300 text-green-800"
                    : "bg-red-100 border-red-300 text-red-800"
                }`}
              >
                <div className="text-sm font-bold uppercase">
                  {getText("balance")}
                </div>
                <div className="text-5xl font-black">${remaining}</div>
              </div>

              {/* Categories */}
              {Object.keys(options).map((cat) => (
                <div key={cat}>
                  <h3 className="font-bold text-slate-400 mb-2 uppercase text-xs tracking-wider">
                    {getText(cat)}
                  </h3>
                  <div className="flex gap-4">
                    {options[cat].map((opt) => (
                      <button
                        key={opt.label}
                        onClick={() => handleSelect(cat, opt.cost)}
                        className={`flex-1 p-4 rounded-xl flex flex-col items-center border-2 transition-all
                                  ${
                                    choices[cat] === opt.cost
                                      ? "bg-cyan-500 border-cyan-600 text-white shadow-lg scale-105"
                                      : "bg-slate-50 border-slate-200 text-slate-500 hover:bg-slate-100"
                                  }
                               `}
                      >
                        <span className="text-3xl mb-1">{opt.icon}</span>
                        <span className="font-bold text-sm">
                          {getText(opt.label)}
                        </span>
                      </button>
                    ))}
                  </div>
                </div>
              ))}

              {remaining >= 0 &&
                choices.transport > 0 &&
                choices.hotel > 0 &&
                choices.food > 0 && (
                  <div className="mt-4 text-center text-3xl font-black text-cyan-600 animate-bounce">
                    {getText("success")}
                  </div>
                )}

              {remaining < 0 && (
                <div className="mt-4 text-center text-3xl font-black text-red-500 animate-shake">
                  {getText("fail")}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
