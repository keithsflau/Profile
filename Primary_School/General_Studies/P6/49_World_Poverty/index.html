<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - World Poverty</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fafaf9;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Budgeting for Needs",
          zh: "ç‚ºéœ€æ±‚åšé ç®—",
          ja: "ãƒ‹ãƒ¼ã‚ºã®ãŸã‚ã®äºˆç®—",
          ko: "í•„ìš”ì— ëŒ€í•œ ì˜ˆì‚°",
          es: "Presupuesto para necesidades",
          de: "Budgetierung fÃ¼r BedÃ¼rfnisse",
          fi: "Budjetointi tarpeisiin",
          fr: "BudgÃ©tisation des besoins",
          ar: "Ø§Ù„Ù…ÙŠØ²Ø§Ù†ÙŠØ© Ù„Ù„Ø§Ø­ØªÙŠØ§Ø¬Ø§Øª",
          it: "Budget per i Bisogni",
        },
        instruction: {
          en: "Buy only the essentials with limited money ($10).",
          zh: "ç”¨æœ‰é™çš„é‡‘éŒ¢ ($10) åªè²·å¿…éœ€å“ã€‚",
          ja: "é™ã‚‰ã‚ŒãŸãŠé‡‘ï¼ˆ$10ï¼‰ã§å¿…éœ€å“ã ã‘ã‚’è²·ã£ã¦ãã ã•ã„ã€‚",
          ko: "ì œí•œëœ ëˆ($10)ìœ¼ë¡œ í•„ìˆ˜í’ˆë§Œ êµ¬ì…í•˜ì„¸ìš”.",
          es: "Compra solo lo esencial con dinero limitado ($10).",
          de: "Kaufe nur das NÃ¶tigste mit begrenztem Geld ($10).",
          fi: "Osta vain vÃ¤lttÃ¤mÃ¤ttÃ¶myystarvikkeet rajoitetulla rahalla (10 $).",
          fr: "Achetez uniquement l'essentiel avec un budget limitÃ© (10 $).",
          ar: "Ø§Ø´ØªØ±Ù Ø§Ù„Ø¶Ø±ÙˆØ±ÙŠØ§Øª ÙÙ‚Ø· Ø¨Ø£Ù…ÙˆØ§Ù„ Ù…Ø­Ø¯ÙˆØ¯Ø© (10 Ø¯ÙˆÙ„Ø§Ø±Ø§Øª).",
          it: "Acquista solo l'essenziale con soldi limitati ($10).",
        },
        water: {
          en: "Clean Water ($3)",
          zh: "ä¹¾æ·¨æ°´ ($3)",
          ja: "ãã‚Œã„ãªæ°´ ($3)",
          ko: "ê¹¨ë—í•œ ë¬¼ ($3)",
        },
        food: {
          en: "Food ($4)",
          zh: "é£Ÿç‰© ($4)",
          ja: "é£Ÿã¹ç‰© ($4)",
          ko: "ìŒì‹ ($4)",
        },
        toy: {
          en: "Toy ($5)",
          zh: "ç©å…· ($5)",
          ja: "ãŠã‚‚ã¡ã‚ƒ ($5)",
          ko: "ì¥ë‚œê° ($5)",
        },
        medicine: {
          en: "Medicine ($3)",
          zh: "è—¥ç‰© ($3)",
          ja: "è–¬ ($3)",
          ko: "ì•½ ($3)",
        },
        candy: {
          en: "Candy ($2)",
          zh: "ç³–æœ ($2)",
          ja: "ã‚­ãƒ£ãƒ³ãƒ‡ã‚£ãƒ¼ ($2)",
          ko: "ì‚¬íƒ• ($2)",
        },

        balance: {
          en: "Balance: $",
          zh: "é¤˜é¡ï¼š$",
          ja: "æ®‹é«˜: $",
          ko: "ì”ì•¡: $",
        },
        result_ok: {
          en: "Good! You have the essentials.",
          zh: "å¾ˆå¥½ï¼ä½ æœ‰äº†å¿…éœ€å“ã€‚",
          ja: "è‰¯ã„ï¼å¿…éœ€å“ãŒæƒã„ã¾ã—ãŸã€‚",
          ko: "ì¢‹ì•„ìš”! í•„ìˆ˜í’ˆì´ ìˆìŠµë‹ˆë‹¤.",
        },
        result_fail: {
          en: "Missing essentials!",
          zh: "ç¼ºå°‘å¿…éœ€å“ï¼",
          ja: "å¿…éœ€å“ãŒè¶³ã‚Šã¾ã›ã‚“ï¼",
          ko: "í•„ìˆ˜í’ˆì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤!",
        },
      };

      const items = [
        { id: "water", cost: 3, essential: true, icon: "ğŸ’§" },
        { id: "food", cost: 4, essential: true, icon: "ğŸš" },
        { id: "medicine", cost: 3, essential: true, icon: "ğŸ’Š" },
        { id: "toy", cost: 5, essential: false, icon: "ğŸ§¸" },
        { id: "candy", cost: 2, essential: false, icon: "ğŸ¬" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [balance, setBalance] = useState(10);
        const [cart, setCart] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const toggle = (item) => {
          if (cart.includes(item.id)) {
            setCart(cart.filter((c) => c !== item.id));
            setBalance(balance + item.cost);
          } else {
            if (balance >= item.cost) {
              setCart([...cart, item.id]);
              setBalance(balance - item.cost);
            }
          }
        };

        const hasEssentials = items
          .filter((i) => i.essential)
          .every((i) => cart.includes(i.id));

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-stone-700">
              {getText("title")}
            </h1>
            <p className="mb-8 font-bold text-slate-500">
              {getText("instruction")}
            </p>

            <div className="text-3xl font-bold mb-8 p-4 bg-yellow-100 rounded-xl border border-yellow-300 w-full max-w-md text-center">
              {getText("balance")}
              {balance}
            </div>

            <div className="grid grid-cols-2 lg:grid-cols-3 gap-4 w-full max-w-3xl mb-8">
              {items.map((item) => (
                <button
                  key={item.id}
                  onClick={() => toggle(item)}
                  className={`p-4 rounded-xl border-2 flex flex-col items-center gap-2 shadow-sm transition-all ${
                    cart.includes(item.id)
                      ? "bg-green-100 border-green-500"
                      : "bg-white border-slate-200"
                  }`}
                  disabled={!cart.includes(item.id) && balance < item.cost}
                >
                  <div className="text-4xl">{item.icon}</div>
                  <div className="font-bold">{getText(item.id)}</div>
                </button>
              ))}
            </div>

            {balance === 0 && (
              <div
                className={`text-2xl font-black p-4 rounded-xl animate-bounce ${
                  hasEssentials
                    ? "bg-green-100 text-green-700"
                    : "bg-red-100 text-red-700"
                }`}
              >
                {getText(hasEssentials ? "result_ok" : "result_fail")}
              </div>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
