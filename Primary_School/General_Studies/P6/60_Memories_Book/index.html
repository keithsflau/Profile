<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Memories Book</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #fdf4f0;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Primary School Memories",
          zh: "å°å­¸å›æ†¶éŒ„",
          ja: "å°å­¦æ ¡ã®æ€ã„å‡º",
          ko: "ì´ˆë“±í•™êµ ì¶”ì–µ",
          es: "Recuerdos de la escuela primaria",
          de: "Erinnerungen an die Grundschule",
          fi: "Alakoulumuistoja",
          fr: "Souvenirs de l'Ã©cole primaire",
          ar: "Ø°ÙƒØ±ÙŠØ§Øª Ø§Ù„Ø§Ø¨ØªØ¯Ø§Ø¦ÙŠØ©",
          it: "Ricordi della Scuola Primaria",
        },
        instruction: {
          en: "Arrange the photos in the album.",
          zh: "å°‡ç…§ç‰‡æ•´ç†åˆ°ç›¸å†Šä¸­ã€‚",
          ja: "ã‚¢ãƒ«ãƒãƒ ã«å†™çœŸã‚’æ•´ç†ã—ã¦ãã ã•ã„ã€‚",
          ko: "ì•¨ë²”ì— ì‚¬ì§„ì„ ì •ë¦¬í•˜ì„¸ìš”.",
          es: "Organiza las fotos en el Ã¡lbum.",
          de: "Ordne die Fotos im Album an.",
          fi: "JÃ¤rjestÃ¤ valokuvat albumiin.",
          fr: "Organisez les photos dans l'album.",
          ar: "Ø±ØªØ¨ Ø§Ù„ØµÙˆØ± ÙÙŠ Ø§Ù„Ø£Ù„Ø¨ÙˆÙ….",
          it: "Organizza le foto nell'album.",
        },
        trip: { en: "Field Trip", zh: "å¯¦åœ°è€ƒå¯Ÿ", ja: "é è¶³", ko: "ê²¬í•™" },
        sports: {
          en: "Sports Day",
          zh: "é‹å‹•æœƒ",
          ja: "é‹å‹•ä¼š",
          ko: "ì²´ìœ¡ ëŒ€íšŒ",
        },
        exam: {
          en: "First Exam",
          zh: "ç¬¬ä¸€æ¬¡è€ƒè©¦",
          ja: "æœ€åˆã®è©¦é¨“",
          ko: "ì²« ì‹œí—˜",
        },
        grad: { en: "Graduation", zh: "ç•¢æ¥­ç¦®", ja: "å’æ¥­å¼", ko: "ì¡¸ì—…ì‹" },

        complete: {
          en: "What a journey!",
          zh: "å¤šéº¼ç¾å¥½çš„æ—…ç¨‹ï¼",
          ja: "ç´ æ™´ã‚‰ã—ã„æ—…ã§ã—ãŸï¼",
          ko: "ì •ë§ ë©‹ì§„ ì—¬ì •ì´ì—ˆì–´ìš”!",
        },
      };

      const photos = [
        { id: "trip", icon: "ğŸšŒ", color: "bg-green-200" },
        { id: "sports", icon: "ğŸƒ", color: "bg-blue-200" },
        { id: "exam", icon: "ğŸ“", color: "bg-slate-200" },
        { id: "grad", icon: "ğŸ“", color: "bg-yellow-200" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [placed, setPlaced] = useState([]);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const add = (id) => {
          if (!placed.includes(id)) setPlaced([...placed, id]);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-orange-900">
              {getText("title")}
            </h1>
            <p className="mb-8 font-bold text-slate-500">
              {getText("instruction")}
            </p>

            <div className="flex flex-col md:flex-row gap-8 w-full max-w-5xl">
              {/* Photo Stack */}
              <div className="w-full md:w-1/4 grid grid-cols-2 gap-4 h-fit">
                {photos.map((p) => (
                  <button
                    key={p.id}
                    onClick={() => add(p.id)}
                    disabled={placed.includes(p.id)}
                    className={`aspect-square rounded-xl shadow border-4 border-white flex flex-col items-center justify-center transition-all ${
                      placed.includes(p.id)
                        ? "opacity-20 translate-x-10"
                        : "hover:scale-110 rotate-3 hover:rotate-0"
                    } ${p.color}`}
                  >
                    <div className="text-4xl">{p.icon}</div>
                    <div className="text-xs font-bold mt-2">
                      {getText(p.id)}
                    </div>
                  </button>
                ))}
              </div>

              {/* Album */}
              <div className="flex-1 bg-amber-100 rounded-lg shadow-2xl p-8 min-h-[400px] border-l-[12px] border-amber-800 relative perspective-1000">
                <div className="absolute top-0 right-0 w-8 h-full bg-gradient-to-l from-black/10 to-transparent pointer-events-none"></div>{" "}
                {/* Page curve effect */}
                <div className="grid grid-cols-2 gap-8 h-full">
                  {placed.map((id, i) => {
                    const p = photos.find((ph) => ph.id === id);
                    return (
                      <motion.div
                        key={id}
                        initial={{ scale: 0, rotate: -10 }}
                        animate={{ scale: 1, rotate: i % 2 === 0 ? -3 : 3 }}
                        className={`bg-white p-2 pb-8 shadow-md flex flex-col items-center transform`}
                      >
                        <div
                          className={`w-full aspect-video ${p.color} flex items-center justify-center text-6xl`}
                        >
                          {p.icon}
                        </div>
                        <div className="mt-4 font-handwriting font-bold text-slate-600">
                          {getText(p.id)}
                        </div>
                      </motion.div>
                    );
                  })}
                </div>
                {placed.length === photos.length && (
                  <div className="absolute inset-0 flex items-center justify-center bg-black/50 rounded-lg">
                    <div className="bg-white px-8 py-4 rounded-xl text-3xl font-black text-orange-600 animate-bounce">
                      {getText("complete")} â¤ï¸
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
