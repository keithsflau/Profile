<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Endangered Species</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f0fdf4;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Endangered Species",
          zh: "ç€•å±ç‰©ç¨®",
          ja: "çµ¶æ»…å±æƒ§ç¨®",
          ko: "ë©¸ì¢… ìœ„ê¸° ì¢…",
          es: "Especies en peligro de extinciÃ³n",
          de: "Bedrohte Arten",
          fi: "Uhanalaiset lajit",
          fr: "EspÃ¨ces en voie de disparition",
          ar: "Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ Ø§Ù„Ù…Ù‡Ø¯Ø¯Ø© Ø¨Ø§Ù„Ø§Ù†Ù‚Ø±Ø§Ø¶",
          it: "Specie in Via di Estinzione",
        },
        instruction: {
          en: "Click on the animal to learn why it's endangered.",
          zh: "é»æ“Šå‹•ç‰©ä»¥äº†è§£ç‰ å€‘ç‚ºä½•ç€•å±ã€‚",
          ja: "å‹•ç‰©ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ã€ãªãœçµ¶æ»…ã®å±æ©Ÿã«ç€•ã—ã¦ã„ã‚‹ã®ã‹ã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚",
          ko: "ë™ë¬¼ì„ í´ë¦­í•˜ì—¬ ë©¸ì¢… ìœ„ê¸°ì— ì²˜í•œ ì´ìœ ë¥¼ ì•Œì•„ë³´ì„¸ìš”.",
          es: "Haz clic en el animal para saber por quÃ© estÃ¡ en peligro.",
          de: "Klicke auf das Tier, um zu erfahren, warum es bedroht ist.",
          fi: "Klikkaa elÃ¤intÃ¤ oppiaksesi miksi se on uhanalainen.",
          fr: "Cliquez sur l'animal pour savoir pourquoi il est en danger.",
          ar: "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ø­ÙŠÙˆØ§Ù† Ù„Ù…Ø¹Ø±ÙØ© Ø³Ø¨Ø¨ ØªØ¹Ø±Ø¶Ù‡ Ù„Ù„Ø®Ø·Ø±.",
          it: "Clicca sull'animale per capire perchÃ© Ã¨ in pericolo.",
        },
        panda: {
          en: "Giant Panda",
          zh: "å¤§ç†Šè²“",
          ja: "ã‚¸ãƒ£ã‚¤ã‚¢ãƒ³ãƒˆãƒ‘ãƒ³ãƒ€",
          ko: "ìì´ì–¸íŠ¸ íŒë‹¤",
        },
        polarbear: {
          en: "Polar Bear",
          zh: "åŒ—æ¥µç†Š",
          ja: "ãƒ›ãƒƒã‚­ãƒ§ã‚¯ã‚°ãƒ",
          ko: "ë¶ê·¹ê³°",
        },
        rhino: {
          en: "Black Rhino",
          zh: "é»‘çŠ€ç‰›",
          ja: "ã‚¯ãƒ­ã‚µã‚¤",
          ko: "ê²€ì€ ì½”ë¿”ì†Œ",
        },
        tiger: { en: "Tiger", zh: "è€è™", ja: "ãƒˆãƒ©", ko: "í˜¸ë‘ì´" },

        reason_habitat: {
          en: "Habitat Loss (Bamboo forests)",
          zh: "æ£²æ¯åœ°å–ªå¤± (ç«¹æ—)",
          ja: "ç”Ÿæ¯åœ°ã®å–ªå¤± (ç«¹æ—)",
          ko: "ì„œì‹ì§€ ì†ì‹¤ (ëŒ€ë‚˜ë¬´ ìˆ²)",
        },
        reason_climate: {
          en: "Climate Change (Melting ice)",
          zh: "æ°£å€™è®ŠåŒ– (å†°å±¤èåŒ–)",
          ja: "æ°—å€™å¤‰å‹• (æ°·ã®èè§£)",
          ko: "ê¸°í›„ ë³€í™” (ì–¼ìŒ ë…¹ìŒ)",
        },
        reason_poach: {
          en: "Poaching (Horns/Fur)",
          zh: "éæ³•å·çµ (è§’/çš®æ¯›)",
          ja: "å¯†çŒŸ (è§’/æ¯›çš®)",
          ko: "ë°€ë µ (ë¿”/ê°€ì£½)",
        },

        status: {
          en: "Status: Vulnerable/Endangered",
          zh: "ç‹€æ…‹ï¼šæ˜“å±/ç€•å±",
          ja: "ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ï¼šçµ¶æ»…å±æƒ§",
          ko: "ìƒíƒœ: ì·¨ì•½/ë©¸ì¢… ìœ„ê¸°",
        },
      };

      const animals = [
        {
          id: "panda",
          x: 75,
          y: 35,
          reason: "reason_habitat",
          icon: "ğŸ¼",
          bg: "bg-green-100",
        },
        {
          id: "polarbear",
          x: 50,
          y: 10,
          reason: "reason_climate",
          icon: "ğŸ»â€â„ï¸",
          bg: "bg-blue-100",
        },
        {
          id: "rhino",
          x: 55,
          y: 60,
          reason: "reason_poach",
          icon: "ğŸ¦",
          bg: "bg-orange-100",
        },
        {
          id: "tiger",
          x: 70,
          y: 45,
          reason: "reason_poach",
          icon: "ğŸ…",
          bg: "bg-orange-100",
        },
        // Approximate map locations: Panda (China), Polar Bear (Arctic), Rhino (Africa), Tiger (Asia)
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [selected, setSelected] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-green-800">
              {getText("title")}
            </h1>

            <div className="w-full max-w-5xl aspect-video bg-blue-50 rounded-3xl overflow-hidden shadow-2xl relative border-4 border-blue-200">
              {/* Simplified World Map SVG Background */}
              <svg
                viewBox="0 0 100 50"
                className="absolute inset-0 w-full h-full pointer-events-none opacity-30"
              >
                <path d="M5,10 L35,10 L30,45 L15,40 Z" fill="#d1fae5" />{" "}
                {/* Americas */}
                <path d="M40,15 L65,15 L60,45 L45,40 Z" fill="#d1fae5" />{" "}
                {/* EU/Africa */}
                <path d="M70,10 L95,10 L90,45 L80,35 Z" fill="#d1fae5" />{" "}
                {/* Asia/Aus */}
              </svg>

              {animals.map((a) => (
                <button
                  key={a.id}
                  onClick={() => setSelected(a)}
                  className={`absolute w-16 h-16 rounded-full border-4 border-white shadow-lg flex items-center justify-center text-4xl hover:scale-125 transition-transform z-10 ${
                    a.bg
                  }
                         ${
                           selected && selected.id === a.id
                             ? "scale-125 ring-4 ring-yellow-400"
                             : ""
                         }
                      `}
                  style={{ left: `${a.x}%`, top: `${a.y}%` }}
                >
                  {a.icon}
                </button>
              ))}

              {/* Info Card Overlay */}
              {selected && (
                <motion.div
                  key={selected.id}
                  initial={{ y: 50, opacity: 0 }}
                  animate={{ y: 0, opacity: 1 }}
                  className="absolute bottom-4 left-4 right-4 bg-white/90 backdrop-blur-md p-6 rounded-2xl shadow-xl flex items-center gap-6"
                >
                  <div className="text-6xl">{selected.icon}</div>
                  <div>
                    <h2 className="text-3xl font-black text-slate-800">
                      {getText(selected.id)}
                    </h2>
                    <div className="text-lg font-bold text-red-500 mb-1">
                      {getText("status")}
                    </div>
                    <p className="text-xl text-slate-600">
                      âš ï¸ {getText(selected.reason)}
                    </p>
                  </div>
                  <button
                    onClick={() => setSelected(null)}
                    className="ml-auto w-10 h-10 rounded-full bg-slate-200 hover:bg-slate-300 font-bold"
                  >
                    âœ•
                  </button>
                </motion.div>
              )}

              {!selected && (
                <div className="absolute top-4 left-1/2 -translate-x-1/2 bg-white/80 px-6 py-2 rounded-full font-bold text-slate-500">
                  {getText("instruction")}
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
