<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šæ¤ç‰©ç”Ÿå‘½é€±æœŸ | Plant Lifecycle</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(180deg, #dcfce7 0%, #4ade80 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Plant Lifecycle",
          zh: "æ¤ç‰©ç”Ÿå‘½é€±æœŸ",
          ja: "æ¤ç‰©ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«",
          ko: "ì‹ë¬¼ì˜ ìƒëª… ì£¼ê¸°",
          es: "Ciclo de Vida de las Plantas",
          de: "Lebenszyklus der Pflanzen",
          fi: "Kasvin elinkaari",
          fr: "Cycle de vie des plantes",
          ar: "Ø¯ÙˆØ±Ø© Ø­ÙŠØ§Ø© Ø§Ù„Ù†Ø¨Ø§Øª",
          it: "Ciclo Vitale delle Piante",
        },
        instruction: {
          en: "Put them in order!",
          zh: "æŒ‰é †åºæ’åˆ—ï¼",
          ja: "é †ç•ªã«ä¸¦ã¹ã¦ï¼",
          ko: "ìˆœì„œëŒ€ë¡œ ë†“ìœ¼ì„¸ìš”!",
          es: "Â¡Ponlos en orden!",
          de: "Bring sie in die richtige Reihenfolge!",
          fi: "Laita ne jÃ¤rjestykseen!",
          fr: "Mettez-les dans l'ordre !",
          ar: "Ø±ØªØ¨Ù‡Ù…!",
          it: "Mettili in ordine!",
        },

        seed: {
          en: "1. Seed",
          zh: "1. ç¨®å­",
          ja: "1. ç¨®",
          ko: "1. ì”¨ì•—",
          es: "1. Semilla",
          de: "1. Samen",
          fi: "1. Siemen",
          fr: "1. Graine",
          ar: "1. Ø¨Ø°Ø±Ø©",
          it: "1. Seme",
        },
        germination: {
          en: "2. Germination",
          zh: "2. ç™¼èŠ½",
          ja: "2. ç™ºèŠ½",
          ko: "2. ë°œì•„",
          es: "2. GerminaciÃ³n",
          de: "2. Keimung",
          fi: "2. ItÃ¤minen",
          fr: "2. Germination",
          ar: "2. Ø¥Ù†Ø¨Ø§Øª",
          it: "2. Germinazione",
        },
        sprout: {
          en: "3. Sprout",
          zh: "3. å¹¼è‹—",
          ja: "3. èŠ½",
          ko: "3. ìƒˆì‹¹",
          es: "3. Brote",
          de: "3. Spross",
          fi: "3. Verso",
          fr: "3. Pousse",
          ar: "3. Ø¨Ø±Ø¹Ù…",
          it: "3. Germoglio",
        },
        adult: {
          en: "4. Adult Plant",
          zh: "4. æˆé•·",
          ja: "4. æˆæœ¨",
          ko: "4. ì„±ì²´ ì‹ë¬¼",
          es: "4. Planta Adulta",
          de: "4. Ausgewachsene Pflanze",
          fi: "4. Aikuinen kasvi",
          fr: "4. Plante adulte",
          ar: "4. Ù†Ø¨Ø§Øª Ø¨Ø§Ù„Øº",
          it: "4. Pianta Adulta",
        },
        flower: {
          en: "5. Flowering",
          zh: "5. é–‹èŠ±",
          ja: "5. é–‹èŠ±",
          ko: "5. ê°œí™”",
          es: "5. FloraciÃ³n",
          de: "5. BlÃ¼te",
          fi: "5. Kukinta",
          fr: "5. Floraison",
          ar: "5. Ø¥Ø²Ù‡Ø§Ø±",
          it: "5. Fioritura",
        },
        fruit: {
          en: "6. Fruiting",
          zh: "6. çµæœ",
          ja: "6. çµå®Ÿ",
          ko: "6. ê²°ì‹¤",
          es: "6. FructificaciÃ³n",
          de: "6. FrÃ¼chte tragen",
          fi: "6. HedelmÃ¤nmuodostus",
          fr: "6. Fructification",
          ar: "6. Ø¥Ø«Ù…Ø§Ø±",
          it: "6. Fruttificazione",
        },

        check: {
          en: "Check Order",
          zh: "æª¢æŸ¥é †åº",
          ja: "é †åºã‚’ç¢ºèª",
          ko: "ìˆœì„œ í™•ì¸",
          es: "Verificar Orden",
          de: "Reihenfolge prÃ¼fen",
          fi: "Tarkista jÃ¤rjestys",
          fr: "VÃ©rifier l'ordre",
          ar: "ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ±ØªÙŠØ¨",
          it: "Controlla Ordine",
        },
        perfect: {
          en: "Perfect Order!",
          zh: "é †åºæ­£ç¢ºï¼",
          ja: "å®Œç’§ãªé †åºï¼",
          ko: "ì™„ë²½í•œ ìˆœì„œì…ë‹ˆë‹¤!",
          es: "Â¡Orden Perfecto!",
          de: "Perfekte Reihenfolge!",
          fi: "TÃ¤ydellinen jÃ¤rjestys!",
          fr: "Ordre parfait !",
          ar: "ØªØ±ØªÙŠØ¨ Ù…Ø«Ø§Ù„ÙŠ!",
          it: "Ordine Perfetto!",
        },
        wrong: {
          en: "Something is wrong...",
          zh: "é †åºæœ‰èª¤...",
          ja: "ä½•ã‹ãŒé–“é•ã£ã¦ã„ã¾ã™...",
          ko: "ë¬´ì–¸ê°€ ì˜ëª»ë˜ì—ˆìŠµë‹ˆë‹¤...",
          es: "Algo estÃ¡ mal...",
          de: "Etwas stimmt nicht...",
          fi: "Jokin on pielessÃ¤...",
          fr: "Quelque chose ne va pas...",
          ar: "Ù‡Ù†Ø§Ùƒ Ø®Ø·Ø£ Ù…Ø§...",
          it: "Qualcosa non va...",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
      };

      // Lifecycle of a Bean or Tomato mostly
      const correctOrder = [
        "seed",
        "germination",
        "sprout",
        "adult",
        "flower",
        "fruit",
      ];

      const stages = [
        { id: "seed", icon: "ğŸŒ°" },
        { id: "germination", icon: "ğŸŒ±" },
        { id: "sprout", icon: "ğŸŒ¿" },
        { id: "adult", icon: "ğŸŒ³" },
        { id: "flower", icon: "ğŸŒ¼" },
        { id: "fruit", icon: "ğŸ" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [userOrder, setUserOrder] = useState([]);
        const [pool, setPool] = useState([]);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          setPool([...stages].sort(() => Math.random() - 0.5));
          setUserOrder([]);
          setFeedback(null);
        };

        const addToLine = (item) => {
          if (feedback === "perfect") return;
          setUserOrder((prev) => [...prev, item]);
          setPool((prev) => prev.filter((i) => i.id !== item.id));
          setFeedback(null);
        };

        const removeFromLine = (item) => {
          if (feedback === "perfect") return;
          setPool((prev) => [...prev, item]);
          setUserOrder((prev) => prev.filter((i) => i.id !== item.id));
          setFeedback(null);
        };

        const check = () => {
          if (userOrder.length !== correctOrder.length) return;

          const isCorrect = userOrder.every(
            (item, i) => item.id === correctOrder[i]
          );
          if (isCorrect) {
            setFeedback("perfect");
          } else {
            setFeedback("wrong");
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-green-800 mb-2 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              ğŸŒ» {getText("title")}
            </h1>
            <p className="font-bold text-green-900 mb-8">
              {getText("instruction")}
            </p>

            {/* Timeline Area (Drop Zone) */}
            <div className="w-full max-w-6xl min-h-[200px] mb-8 relative">
              {/* Line connection visual */}
              <div className="absolute top-1/2 left-4 right-4 h-2 bg-green-800/20 rounded-full -z-10"></div>

              <div className="flex flex-wrap items-center justify-center gap-4 min-h-[200px] bg-white/40 rounded-3xl p-6 border-4 border-dashed border-green-800/30">
                <AnimatePresence>
                  {userOrder.map((item, index) => (
                    <motion.button
                      key={item.id}
                      layoutId={item.id}
                      onClick={() => removeFromLine(item)}
                      className="bg-white p-4 rounded-2xl shadow-xl flex flex-col items-center w-32 md:w-40 border-b-4 border-green-600 hover:scale-105 transition-transform"
                      initial={{ scale: 0 }}
                      animate={{ scale: 1 }}
                      exit={{ scale: 0 }}
                    >
                      <div className="text-6xl mb-2">{item.icon}</div>
                      <div className="font-bold text-sm md:text-base text-green-900 leading-tight">
                        {getText(item.id)}
                      </div>
                      <div className="absolute -top-3 -right-3 bg-green-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-md">
                        {index + 1}
                      </div>
                    </motion.button>
                  ))}
                </AnimatePresence>

                {userOrder.length === 0 && (
                  <div className="text-green-800/50 font-black text-2xl animate-pulse">
                    Start Here
                  </div>
                )}
              </div>
            </div>

            {/* Feedback */}
            <div className="h-16 mb-4">
              {feedback && (
                <motion.div
                  initial={{ scale: 0 }}
                  animate={{ scale: 1 }}
                  className={`px-8 py-3 rounded-2xl font-black text-2xl shadow-xl ${
                    feedback === "perfect"
                      ? "bg-green-600 text-white"
                      : "bg-red-500 text-white"
                  }`}
                >
                  {getText(feedback)}
                </motion.div>
              )}
            </div>

            {/* Action Button */}
            {userOrder.length === correctOrder.length &&
              feedback !== "perfect" && (
                <button
                  onClick={check}
                  className="bg-green-600 text-white px-12 py-4 rounded-full font-black text-2xl shadow-xl hover:bg-green-700 mb-8 animate-bounce"
                >
                  {getText("check")}
                </button>
              )}

            {feedback === "perfect" && (
              <button
                onClick={initGame}
                className="bg-blue-500 text-white px-12 py-4 rounded-full font-black text-2xl shadow-xl hover:bg-blue-600 mb-8"
              >
                {getText("reset")} ğŸ”„
              </button>
            )}

            {/* Pool (Source) */}
            <div className="flex flex-wrap justify-center gap-4 p-4">
              <AnimatePresence>
                {pool.map((item) => (
                  <motion.button
                    key={item.id}
                    layoutId={item.id}
                    onClick={() => addToLine(item)}
                    className="bg-white/80 p-4 rounded-2xl shadow flex flex-col items-center w-24 h-24 md:w-28 md:h-28 justify-center border-2 border-green-200 hover:bg-white hover:border-green-400 active:scale-95 transition-all"
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                  >
                    <div className="text-4xl md:text-5xl">{item.icon}</div>
                  </motion.button>
                ))}
              </AnimatePresence>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
