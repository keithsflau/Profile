<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šä»Šæ˜”é¦™æ¸¯ | Then And Now</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #d6d3d1 0%, #a8a29e 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Then And Now",
          zh: "ä»Šæ˜”é¦™æ¸¯",
          ja: "æ˜”ã¨ä»Š",
          ko: "ê·¸ë•Œì™€ ì§€ê¸ˆ",
          es: "Antes y Ahora",
          de: "Damals und Heute",
          fi: "Silloin ja nyt",
          fr: "Avant et Maintenant",
          ar: "Ø§Ù„Ù…Ø§Ø¶ÙŠ ÙˆØ§Ù„Ø­Ø§Ø¶Ø±",
          it: "Allora e Adesso",
        },
        instruction: {
          en: "Match the Old with the New!",
          zh: "å°‡èˆŠäº‹ç‰©èˆ‡æ–°äº‹ç‰©é…å°ï¼",
          ja: "å¤ã„ã‚‚ã®ã¨æ–°ã—ã„ã‚‚ã®ã‚’åˆã‚ã›ã‚ˆã†ï¼",
          ko: "ì˜› ê²ƒê³¼ ìƒˆ ê²ƒì„ ì§ì§€ìœ¼ì„¸ìš”!",
          es: "Â¡Combina lo Viejo con lo Nuevo!",
          de: "Ordne Alt und Neu zu!",
          fi: "YhdistÃ¤ vanha ja uusi!",
          fr: "Associez l'Ancien avec le Nouveau !",
          ar: "Ø·Ø§Ø¨Ù‚ Ø§Ù„Ù‚Ø¯ÙŠÙ… Ø¨Ø§Ù„Ø¬Ø¯ÙŠØ¯!",
          it: "Abbina il Vecchio con il Nuovo!",
        },

        rickshaw: {
          en: "Rickshaw",
          zh: "äººåŠ›è»Š",
          ja: "äººåŠ›è»Š",
          ko: "ì¸ë ¥ê±°",
          es: "Rickshaw",
          de: "Rikscha",
          fi: "Riksa",
          fr: "Pousse-pousse",
          ar: "Ø±ÙŠÙƒØ§Ø´Ø©",
          it: "RisciÃ²",
        },
        taxi: {
          en: "Taxi",
          zh: "çš„å£«",
          ja: "ã‚¿ã‚¯ã‚·ãƒ¼",
          ko: "íƒì‹œ",
          es: "Taxi",
          de: "Taxi",
          fi: "Taksi",
          fr: "Taxi",
          ar: "Ø³ÙŠØ§Ø±Ø© Ø£Ø¬Ø±Ø©",
          it: "Taxi",
        },

        abacus: {
          en: "Abacus",
          zh: "ç®—ç›¤",
          ja: "ãã‚ã°ã‚“",
          ko: "ì£¼íŒ",
          es: "Ãbaco",
          de: "Abakus",
          fi: "Helmitaulu",
          fr: "Abaque",
          ar: "Ø¹Ø¯Ø§Ø¯",
          it: "Abaco",
        },
        calculator: {
          en: "Calculator",
          zh: "è¨ˆç®—æ©Ÿ",
          ja: "é›»å“",
          ko: "ê³„ì‚°ê¸°",
          es: "Calculadora",
          de: "Taschenrechner",
          fi: "Laskin",
          fr: "Calculatrice",
          ar: "Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©",
          it: "Calcolatrice",
        },

        letter: {
          en: "Letter",
          zh: "æ›¸ä¿¡",
          ja: "æ‰‹ç´™",
          ko: "í¸ì§€",
          es: "Carta",
          de: "Brief",
          fi: "Kirje",
          fr: "Lettre",
          ar: "Ø±Ø³Ø§Ù„Ø©",
          it: "Lettera",
        },
        email: {
          en: "Email/Phone",
          zh: "é›»éƒµ/æ‰‹æ©Ÿ",
          ja: "ãƒ¡ãƒ¼ãƒ«/é›»è©±",
          ko: "ì´ë©”ì¼/ì „í™”",
          es: "Email/TelÃ©fono",
          de: "E-Mail/Telefon",
          fi: "SÃ¤hkÃ¶posti/Puhelin",
          fr: "Email/TÃ©lÃ©phone",
          ar: "Ø¨Ø±ÙŠØ¯ Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ/Ù‡Ø§ØªÙ",
          it: "Email/Telefono",
        },

        fan: {
          en: "Hand Fan",
          zh: "è‘µæ‰‡",
          ja: "ã†ã¡ã‚",
          ko: "ë¶€ì±„",
          es: "Abanico",
          de: "FÃ¤cher",
          fi: "Viuhka",
          fr: "Ã‰ventail",
          ar: "Ù…Ø±ÙˆØ­Ø© ÙŠØ¯ÙˆÙŠØ©",
          it: "Ventaglio",
        },
        ac: {
          en: "Air Con",
          zh: "å†·æ°£æ©Ÿ",
          ja: "ã‚¨ã‚¢ã‚³ãƒ³",
          ko: "ì—ì–´ì»¨",
          es: "Aire Acondicionado",
          de: "Klimaanlage",
          fi: "Ilmastointi",
          fr: "Climatisation",
          ar: "Ù…ÙƒÙŠÙ Ù‡ÙˆØ§Ø¡",
          it: "Aria Condizionata",
        },

        well: {
          en: "Water Well",
          zh: "äº•",
          ja: "äº•æˆ¸",
          ko: "ìš°ë¬¼",
          es: "Pozo de agua",
          de: "Brunnen",
          fi: "Kaivo",
          fr: "Puits",
          ar: "Ø¨Ø¦Ø±",
          it: "Pozzo",
        },
        tap: {
          en: "Water Tap",
          zh: "æ°´é¾é ­",
          ja: "è›‡å£",
          ko: "ìˆ˜ë„ê¼­ì§€",
          es: "Grifo",
          de: "Wasserhahn",
          fi: "Vesihana",
          fr: "Robinet",
          ar: "ØµÙ†Ø¨ÙˆØ±",
          it: "Rubinetto",
        },

        candle: {
          en: "Candle/Oil Lamp",
          zh: "è Ÿç‡­/æ²¹ç‡ˆ",
          ja: "ã‚ã†ãã/ãƒ©ãƒ³ãƒ—",
          ko: "ì–‘ì´ˆ/ê¸°ë¦„ ë¨í”„",
          es: "Vela/LÃ¡mpara de aceite",
          de: "Kerze/Ã–llampe",
          fi: "KynttilÃ¤/Ã–ljylamppu",
          fr: "Bougie/Lampe Ã  huile",
          ar: "Ø´Ù…Ø¹Ø©/Ù…ØµØ¨Ø§Ø­ Ø²ÙŠØª",
          it: "Candela/Lampada a olio",
        },
        lightbulb: {
          en: "Electric Light",
          zh: "é›»ç‡ˆ",
          ja: "é›»çƒ",
          ko: "ì „ë“±",
          es: "Luz elÃ©ctrica",
          de: "GlÃ¼hbirne",
          fi: "SÃ¤hkÃ¶valo",
          fr: "LumiÃ¨re Ã©lectrique",
          ar: "Ù…ØµØ¨Ø§Ø­ ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠ",
          it: "Luce Elettrica",
        },

        old: {
          en: "Then (Old)",
          zh: "æ˜”æ—¥ (èˆŠ)",
          ja: "æ˜”",
          ko: "ê³¼ê±° (êµ¬)",
          es: "Antes (Viejo)",
          de: "Damals (Alt)",
          fi: "Silloin (Vanha)",
          fr: "Avant (Vieux)",
          ar: "Ø«Ù… (Ù‚Ø¯ÙŠÙ…)",
          it: "Allora (Vecchio)",
        },
        new: {
          en: "Now (New)",
          zh: "ä»Šæ—¥ (æ–°)",
          ja: "ä»Š",
          ko: "í˜„ì¬ (ì‹ )",
          es: "Ahora (Nuevo)",
          de: "Heute (Neu)",
          fi: "Nyt (Uusi)",
          fr: "Maintenant (Nouveau)",
          ar: "Ø§Ù„Ø¢Ù† (Ø¬Ø¯ÙŠØ¯)",
          it: "Adesso (Nuovo)",
        },

        correct: {
          en: "Correct Match!",
          zh: "é…å°æ­£ç¢ºï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µì…ë‹ˆë‹¤!",
          es: "Â¡Pareja Correcta!",
          de: "Richtig zugeordnet!",
          fi: "Oikea pari!",
          fr: "Bonne correspondance !",
          ar: "ØªØ·Ø§Ø¨Ù‚ ØµØ­ÙŠØ­!",
          it: "Abbinamento Corretto!",
        },
        wrong: {
          en: "Not a match!",
          zh: "é…å°éŒ¯èª¤ï¼",
          ja: "é•ã„ã¾ã™ï¼",
          ko: "ì§ì´ ì•„ë‹ˆì—ìš”!",
          es: "Â¡No coincide!",
          de: "Kein Treffer!",
          fi: "Ei tÃ¤smÃ¤Ã¤!",
          fr: "Pas de correspondance !",
          ar: "Ù„Ø§ ÙŠÙˆØ¬Ø¯ ØªØ·Ø§Ø¨Ù‚!",
          it: "Non corrisponde!",
        },
        completed: {
          en: "History Expert!",
          zh: "æ­·å²å°ˆå®¶ï¼",
          ja: "æ­´å²ã®ã‚¨ã‚­ã‚¹ãƒ‘ãƒ¼ãƒˆï¼",
          ko: "ì—­ì‚¬ ì „ë¬¸ê°€!",
          es: "Â¡Experto en Historia!",
          de: "Geschichtsexperte!",
          fi: "Historia-asiantuntija!",
          fr: "Expert en histoire !",
          ar: "Ø®Ø¨ÙŠØ± Ø§Ù„ØªØ§Ø±ÙŠØ®!",
          it: "Esperto di Storia!",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
      };

      const pairs = [
        {
          id: 1,
          old: { id: "rickshaw", icon: "ğŸ›º" },
          new: { id: "taxi", icon: "ğŸš•" },
        },
        {
          id: 2,
          old: { id: "abacus", icon: "ğŸ§®" },
          new: { id: "calculator", icon: "ğŸ“±" },
        }, // Calculator app on phone
        {
          id: 3,
          old: { id: "letter", icon: "âœ‰ï¸" },
          new: { id: "email", icon: "ğŸ“§" },
        },
        { id: 4, old: { id: "fan", icon: "ğŸª­" }, new: { id: "ac", icon: "â„ï¸" } },
        {
          id: 5,
          old: { id: "well", icon: "ğŸ•³ï¸" },
          new: { id: "tap", icon: "ğŸš°" },
        },
        {
          id: 6,
          old: { id: "candle", icon: "ğŸ•¯ï¸" },
          new: { id: "lightbulb", icon: "ğŸ’¡" },
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [queue, setQueue] = useState([]);
        const [current, setCurrent] = useState(null);
        const [options, setOptions] = useState([]);
        const [feedback, setFeedback] = useState(null);
        const [score, setScore] = useState(0);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          const q = [...pairs].sort(() => Math.random() - 0.5);
          setQueue(q);
          nextRound(q[0]);
          setScore(0);
        };

        const nextRound = (round) => {
          if (!round) {
            setCurrent(null);
            return;
          }
          setCurrent(round);
          setFeedback(null);

          // Generate options: Correct answer + 3 distractors (from 'new' category of other pairs)
          const distractors = pairs
            .filter((p) => p.id !== round.id)
            .map((p) => p.new)
            .sort(() => Math.random() - 0.5)
            .slice(0, 3);
          const opts = [round.new, ...distractors].sort(
            () => Math.random() - 0.5
          );
          setOptions(opts);
        };

        const handleChoice = (opt) => {
          if (feedback) return;

          if (opt.id === current.new.id) {
            setFeedback("correct");
            setScore((s) => s + 1);
            setTimeout(() => {
              const nextIdx = queue.indexOf(current) + 1;
              if (nextIdx < queue.length) nextRound(queue[nextIdx]);
              else setCurrent(null);
            }, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 800);
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-stone-700 mb-2 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              ğŸ•°ï¸ {getText("title")}
            </h1>

            <div className="font-bold text-stone-600 mb-8 bg-white/40 px-4 py-1 rounded-full">
              {getText("instruction")}
            </div>

            {current ? (
              <div className="w-full max-w-4xl flex flex-col md:flex-row gap-8 items-center flex-1 justify-center relative">
                {/* The Old Item (Target) */}
                <div className="relative flex flex-col items-center">
                  <div className="bg-sepia-200 p-12 rounded-[2rem] shadow-2xl border-8 border-stone-400 sepia bg-[url('https://www.transparenttextures.com/patterns/aged-paper.png')] w-64 h-64 flex flex-col items-center justify-center">
                    <div className="text-8xl mb-4 opacity-80">
                      {current.old.icon}
                    </div>
                    <div className="font-black text-2xl text-stone-800 uppercase tracking-widest">
                      {getText("old")}
                    </div>
                    <div className="text-xl font-bold text-stone-700">
                      {getText(current.old.id)}
                    </div>
                  </div>
                  {/* Arrow */}
                  <div className="md:hidden text-4xl text-stone-500 my-4">
                    â¬‡ï¸
                  </div>
                </div>

                <div className="hidden md:block text-6xl text-stone-400">
                  â¡ï¸
                </div>

                {/* The New Options */}
                <div className="flex-1 w-full grid grid-cols-2 gap-4">
                  {options.map((opt) => (
                    <button
                      key={opt.id}
                      onClick={() => handleChoice(opt)}
                      disabled={feedback}
                      className="bg-white p-6 rounded-2xl shadow-lg border-2 border-stone-200 hover:border-blue-400 hover:bg-blue-50 transition-all active:scale-95 flex flex-col items-center"
                    >
                      <div className="text-5xl mb-2">{opt.icon}</div>
                      <div className="font-black text-lg text-slate-700">
                        {getText(opt.id)}
                      </div>
                    </button>
                  ))}
                </div>

                {feedback && (
                  <div
                    className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-50 px-8 py-4 rounded-3xl font-black text-3xl shadow-2xl whitespace-nowrap ${
                      feedback === "correct"
                        ? "bg-green-600 text-white"
                        : "bg-red-500 text-white"
                    }`}
                  >
                    {getText(feedback)}
                  </div>
                )}
              </div>
            ) : (
              <div className="bg-white/90 p-12 rounded-3xl shadow-xl text-center mt-20 backdrop-blur-sm">
                <div className="text-8xl mb-4">âŒ›</div>
                <h2 className="text-4xl font-black text-stone-800 mb-6">
                  {getText("completed")}
                </h2>
                <button
                  onClick={initGame}
                  className="bg-stone-600 text-white px-10 py-4 rounded-full font-black text-2xl hover:bg-stone-700 shadow-xl"
                >
                  {getText("reset")} ğŸ”„
                </button>
              </div>
            )}
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
