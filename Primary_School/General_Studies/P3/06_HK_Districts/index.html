<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šé¦™æ¸¯åœ°åœ– | HK Districts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: radial-gradient(circle at center, #bfdbfe 0%, #3b82f6 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "HK Districts",
          zh: "é¦™æ¸¯åå…«å€",
          ja: "é¦™æ¸¯ã®åŒº",
          ko: "í™ì½©ì˜ êµ¬",
          es: "Distritos de HK",
          de: "HK-Bezirke",
          fi: "HK:n alueet",
          fr: "Districts de HK",
          ar: "Ù…Ù†Ø§Ø·Ù‚ Ù‡ÙˆÙ†Øº ÙƒÙˆÙ†Øº",
          it: "Distretti di HK",
        },
        instruction: {
          en: "Find the district!",
          zh: "æ‰¾å‡ºæŒ‡å®šçš„åœ°å€ï¼",
          ja: "åœ°åŒºã‚’è¦‹ã¤ã‘ã¦ãã ã•ã„ï¼",
          ko: "êµ¬ì—­ì„ ì°¾ìœ¼ì„¸ìš”!",
          es: "Â¡Encuentra el distrito!",
          de: "Finde den Bezirk!",
          fi: "Etsi alue!",
          fr: "Trouvez le district !",
          ar: "Ø§Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ù…Ù†Ø·Ù‚Ø©!",
          it: "Trova il distretto!",
        },

        hki: {
          en: "HK Island",
          zh: "é¦™æ¸¯å³¶",
          ja: "é¦™æ¸¯å³¶",
          ko: "í™ì½©ì„¬",
          es: "Isla de HK",
          de: "HK-Insel",
          fi: "HK:n saari",
          fr: "Ãle de HK",
          ar: "Ø¬Ø²ÙŠØ±Ø© Ù‡ÙˆÙ†Øº ÙƒÙˆÙ†Øº",
          it: "Isola di HK",
        },
        kln: {
          en: "Kowloon",
          zh: "ä¹é¾",
          ja: "ä¹é¾",
          ko: "êµ¬ë£¡",
          es: "Kowloon",
          de: "Kowloon",
          fi: "Kowloon",
          fr: "Kowloon",
          ar: "ÙƒÙˆÙ„ÙˆÙ†",
          it: "Kowloon",
        },
        nt: {
          en: "New Territories",
          zh: "æ–°ç•Œ",
          ja: "æ–°ç•Œ",
          ko: "ì‹ ê³„",
          es: "Nuevos Territorios",
          de: "New Territories",
          fi: "Uudet territoriot",
          fr: "Nouveaux Territoires",
          ar: "Ø§Ù„Ø£Ù‚Ø§Ù„ÙŠÙ… Ø§Ù„Ø¬Ø¯ÙŠØ¯Ø©",
          it: "Nuovi Territori",
        },

        region_mode: {
          en: "Regions",
          zh: "ä¸‰å¤§å€åŸŸ",
          ja: "åœ°åŸŸ",
          ko: "ì§€ì—­",
          es: "Regiones",
          de: "Regionen",
          fi: "Alueet",
          fr: "RÃ©gions",
          ar: "Ù…Ù†Ø§Ø·Ù‚",
          it: "Regioni",
        },
        district_mode: {
          en: "Districts",
          zh: "åå…«å€",
          ja: "åœ°åŒº",
          ko: "êµ¬",
          es: "Distritos",
          de: "Bezirke",
          fi: "Alueet",
          fr: "Districts",
          ar: "Ù…Ù‚Ø§Ø·Ø¹Ø§Øª",
          it: "Distretti",
        },

        correct: {
          en: "Correct!",
          zh: "ç­”å°äº†ï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µì…ë‹ˆë‹¤!",
          es: "Â¡Correcto!",
          de: "Richtig!",
          fi: "Oikein!",
          fr: "Correct !",
          ar: "ØµØ­ÙŠØ­!",
          it: "Corretto!",
        },
        wrong: {
          en: "Try Again",
          zh: "å†è©¦ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦",
          ko: "ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”",
          es: "IntÃ©ntalo de nuevo",
          de: "Versuch es nochmal",
          fi: "YritÃ¤ uudelleen",
          fr: "RÃ©essayez",
          ar: "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Riprova",
        },
        score: {
          en: "Score",
          zh: "åˆ†æ•¸",
          ja: "ã‚¹ã‚³ã‚¢",
          ko: "ì ìˆ˜",
          es: "PuntuaciÃ³n",
          de: "Punktzahl",
          fi: "Pisteet",
          fr: "Score",
          ar: "Ù†ØªÙŠØ¬Ø©",
          it: "Punteggio",
        },

        // Districts
        central: {
          en: "Central & Western",
          zh: "ä¸­è¥¿å€",
          ja: "ä¸­è¥¿åŒº",
          ko: "ì¤‘ì„œêµ¬",
          es: "Central y Oeste",
          de: "Zentral & West",
          fi: "Keski- ja lÃ¤nsipiiri",
          fr: "Centre et Ouest",
          ar: "Ø§Ù„ÙˆØ³Ø· ÙˆØ§Ù„ØºØ±Ø¨",
          it: "Centrale e Occidentale",
        },
        eastern: {
          en: "Eastern",
          zh: "æ±å€",
          ja: "æ±åŒº",
          ko: "ë™êµ¬",
          es: "Este",
          de: "Ost",
          fi: "ItÃ¤inen",
          fr: "Est",
          ar: "Ø´Ø±Ù‚ÙŠ",
          it: "Orientale",
        },
        southern: {
          en: "Southern",
          zh: "å—å€",
          ja: "å—åŒº",
          ko: "ë‚¨êµ¬",
          es: "Sur",
          de: "SÃ¼d",
          fi: "EtelÃ¤inen",
          fr: "Sud",
          ar: "Ø¬Ù†ÙˆØ¨ÙŠ",
          it: "Meridionale",
        },
        wan_chai: {
          en: "Wan Chai",
          zh: "ç£ä»”å€",
          ja: "æ¹¾ä»”åŒº",
          ko: "ì™„ì°¨ì´",
          es: "Wan Chai",
          de: "Wan Chai",
          fi: "Wan Chai",
          fr: "Wan Chai",
          ar: "ÙˆØ§Ù† ØªØ´Ø§ÙŠ",
          it: "Wan Chai",
        },

        sham_shui_po: {
          en: "Sham Shui Po",
          zh: "æ·±æ°´åŸ—å€",
          ja: "æ·±æ°´åŸ—åŒº",
          ko: "ì‚¼ìˆ˜ì´í¬",
          es: "Sham Shui Po",
          de: "Sham Shui Po",
          fi: "Sham Shui Po",
          fr: "Sham Shui Po",
          ar: "Ø´Ø§Ù… Ø´ÙˆÙŠ Ø¨Ùˆ",
          it: "Sham Shui Po",
        },
        kowloon_city: {
          en: "Kowloon City",
          zh: "ä¹é¾åŸå€",
          ja: "ä¹é¾åŸåŒº",
          ko: "êµ¬ë£¡ì„±",
          es: "Ciudad de Kowloon",
          de: "Kowloon City",
          fi: "Kowloon City",
          fr: "Kowloon City",
          ar: "Ù…Ø¯ÙŠÙ†Ø© ÙƒÙˆÙ„ÙˆÙ†",
          it: "Kowloon City",
        },
        kwun_tong: {
          en: "Kwun Tong",
          zh: "è§€å¡˜å€",
          ja: "è¦³å¡˜åŒº",
          ko: "ê´€íƒ•",
          es: "Kwun Tong",
          de: "Kwun Tong",
          fi: "Kwun Tong",
          fr: "Kwun Tong",
          ar: "ÙƒÙˆÙˆÙ† ØªÙˆÙ†Øº",
          it: "Kwun Tong",
        },
        wong_tai_sin: {
          en: "Wong Tai Sin",
          zh: "é»ƒå¤§ä»™å€",
          ja: "é»„å¤§ä»™åŒº",
          ko: "í™©ëŒ€ì„ ",
          es: "Wong Tai Sin",
          de: "Wong Tai Sin",
          fi: "Wong Tai Sin",
          fr: "Wong Tai Sin",
          ar: "ÙˆÙŠÙ†Ù‡ ØªØ§ÙŠ Ø³ÙŠÙ†",
          it: "Wong Tai Sin",
        },
        yau_tsim_mong: {
          en: "Yau Tsim Mong",
          zh: "æ²¹å°–æ—ºå€",
          ja: "æ²¹å°–æ—ºåŒº",
          ko: "ìœ ì¹¨ëª½",
          es: "Yau Tsim Mong",
          de: "Yau Tsim Mong",
          fi: "Yau Tsim Mong",
          fr: "Yau Tsim Mong",
          ar: "ÙŠØ§Ùˆ ØªØ³ÙŠÙ… Ù…ÙˆÙ†Øº",
          it: "Yau Tsim Mong",
        },

        islands: {
          en: "Islands",
          zh: "é›¢å³¶å€",
          ja: "é›¢å³¶åŒº",
          ko: "ì´ë„",
          es: "Islas",
          de: "Inseln",
          fi: "Saaret",
          fr: "Ãles",
          ar: "Ø¬Ø²Ø±",
          it: "Isole",
        },
        kwai_tsing: {
          en: "Kwai Tsing",
          zh: "è‘µé’å€",
          ja: "è‘µé’åŒº",
          ko: "ì½°ì´ì¹­",
          es: "Kwai Tsing",
          de: "Kwai Tsing",
          fi: "Kwai Tsing",
          fr: "Kwai Tsing",
          ar: "ÙƒÙˆØ§ÙŠ ØªØ³ÙŠÙ†Øº",
          it: "Kwai Tsing",
        },
        north: {
          en: "North",
          zh: "åŒ—å€",
          ja: "åŒ—åŒº",
          ko: "ë¶êµ¬",
          es: "Norte",
          de: "Nord",
          fi: "Pohjoinen",
          fr: "Nord",
          ar: "Ø´Ù…Ø§Ù„ÙŠ",
          it: "Nord",
        },
        sai_kung: {
          en: "Sai Kung",
          zh: "è¥¿è²¢å€",
          ja: "è¥¿è²¢åŒº",
          ko: "ì‚¬ì´ì¿µ",
          es: "Sai Kung",
          de: "Sai Kung",
          fi: "Sai Kung",
          fr: "Sai Kung",
          ar: "Ø³Ø§ÙŠ ÙƒÙˆÙ†Øº",
          it: "Sai Kung",
        },
        sha_tin: {
          en: "Sha Tin",
          zh: "æ²™ç”°å€",
          ja: "æ²™ç”°åŒº",
          ko: "ìƒ¤í‹´",
          es: "Sha Tin",
          de: "Sha Tin",
          fi: "Sha Tin",
          fr: "Sha Tin",
          ar: "Ø´Ø§ ØªÙŠÙ†",
          it: "Sha Tin",
        },
        tai_po: {
          en: "Tai Po",
          zh: "å¤§åŸ”å€",
          ja: "å¤§åŸ”åŒº",
          ko: "íƒ€ì´í¬",
          es: "Tai Po",
          de: "Tai Po",
          fi: "Tai Po",
          fr: "Tai Po",
          ar: "ØªØ§ÙŠ Ø¨Ùˆ",
          it: "Tai Po",
        },
        tsuen_wan: {
          en: "Tsuen Wan",
          zh: "èƒç£å€",
          ja: "èƒæ¹¾åŒº",
          ko: "ì¶˜ì™„",
          es: "Tsuen Wan",
          de: "Tsuen Wan",
          fi: "Tsuen Wan",
          fr: "Tsuen Wan",
          ar: "ØªØ³ÙˆØ§Ù† ÙˆØ§Ù†",
          it: "Tsuen Wan",
        },
        tuen_mun: {
          en: "Tuen Mun",
          zh: "å±¯é–€å€",
          ja: "å±¯é–€åŒº",
          ko: "íˆ°ë¬¸",
          es: "Tuen Mun",
          de: "Tuen Mun",
          fi: "Tuen Mun",
          fr: "Tuen Mun",
          ar: "ØªÙˆÙŠÙ† Ù…ÙˆÙ†",
          it: "Tuen Mun",
        },
        yuen_long: {
          en: "Yuen Long",
          zh: "å…ƒæœ—å€",
          ja: "å…ƒæœ—åŒº",
          ko: "ìœ„ì•ˆë‘",
          es: "Yuen Long",
          de: "Yuen Long",
          fi: "Yuen Long",
          fr: "Yuen Long",
          ar: "ÙŠÙˆÙŠÙ† Ù„ÙˆÙ†Øº",
          it: "Yuen Long",
        },
      };

      // Simplified Map Data (Abstract SVG Paths/Circles)
      // Since sketching exact HK map path string is hard, we use approximate bubble locations for P3 conceptual learning.
      const mapData = [
        // NT (Green)
        { id: "north", region: "nt", x: 50, y: 15, size: 10, color: "#86efac" },
        {
          id: "yuen_long",
          region: "nt",
          x: 25,
          y: 25,
          size: 12,
          color: "#86efac",
        },
        {
          id: "tai_po",
          region: "nt",
          x: 65,
          y: 25,
          size: 10,
          color: "#86efac",
        },
        {
          id: "tuen_mun",
          region: "nt",
          x: 15,
          y: 35,
          size: 8,
          color: "#86efac",
        },
        {
          id: "sha_tin",
          region: "nt",
          x: 60,
          y: 40,
          size: 8,
          color: "#86efac",
        },
        {
          id: "tsuen_wan",
          region: "nt",
          x: 35,
          y: 40,
          size: 6,
          color: "#86efac",
        },
        {
          id: "kwai_tsing",
          region: "nt",
          x: 35,
          y: 48,
          size: 5,
          color: "#86efac",
        },
        {
          id: "sai_kung",
          region: "nt",
          x: 80,
          y: 45,
          size: 12,
          color: "#86efac",
        },
        {
          id: "islands",
          region: "nt",
          x: 15,
          y: 70,
          size: 15,
          color: "#86efac",
        }, // Lantau

        // Kowloon (Yellow)
        {
          id: "sham_shui_po",
          region: "kln",
          x: 45,
          y: 50,
          size: 5,
          color: "#fde047",
        },
        {
          id: "kowloon_city",
          region: "kln",
          x: 55,
          y: 50,
          size: 5,
          color: "#fde047",
        },
        {
          id: "wong_tai_sin",
          region: "kln",
          x: 55,
          y: 45,
          size: 4,
          color: "#fde047",
        },
        {
          id: "kwun_tong",
          region: "kln",
          x: 65,
          y: 52,
          size: 5,
          color: "#fde047",
        },
        {
          id: "yau_tsim_mong",
          region: "kln",
          x: 48,
          y: 56,
          size: 5,
          color: "#fde047",
        },

        // HK Island (Red)
        {
          id: "central",
          region: "hki",
          x: 45,
          y: 70,
          size: 6,
          color: "#fca5a5",
        },
        {
          id: "wan_chai",
          region: "hki",
          x: 52,
          y: 70,
          size: 4,
          color: "#fca5a5",
        },
        {
          id: "eastern",
          region: "hki",
          x: 60,
          y: 72,
          size: 6,
          color: "#fca5a5",
        },
        {
          id: "southern",
          region: "hki",
          x: 50,
          y: 80,
          size: 8,
          color: "#fca5a5",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [target, setTarget] = useState(null);
        const [score, setScore] = useState(0);
        const [feedback, setFeedback] = useState(null); // correct, wrong

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          pickTarget();
        }, []);

        const pickTarget = () => {
          const random = mapData[Math.floor(Math.random() * mapData.length)];
          setTarget(random);
          setFeedback(null);
        };

        const checkAnswer = (item) => {
          if (feedback) return;
          if (item.id === target.id) {
            setScore((s) => s + 10);
            setFeedback("correct");
            setTimeout(pickTarget, 1000);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 800);
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-white mb-4 mt-8 drop-shadow-md">
              ğŸ—ºï¸ {getText("title")}
            </h1>

            <div className="bg-white/90 p-4 rounded-full shadow-xl mb-6 flex gap-8 items-center">
              <div className="font-bold text-slate-500">
                {getText("instruction")}
              </div>
              {target && (
                <div className="font-black text-3xl text-blue-600 animate-pulse">
                  {getText(target.id)}
                </div>
              )}
              <div className="font-bold bg-blue-100 text-blue-800 px-3 py-1 rounded-full">
                {getText("score")}: {score}
              </div>
            </div>

            {/* Map Container */}
            <div className="relative w-full max-w-2xl aspect-[4/3] bg-blue-100 rounded-3xl shadow-2xl border-4 border-white overflow-hidden">
              {/* Sea Background */}
              <div className="absolute inset-0 opacity-10 bg-[url('data:image/svg+xml;utf8,<svg width=\'20\' height=\'20\' viewBox=\'0 0 20 20\' xmlns=\'http://www.w3.org/2000/svg\'><path d=\'M0 10 Q5 5 10 10 T20 10\' stroke=\'blue\' fill=\'none\'/></svg>')]"></div>

              {/* Regions Legend/Background blobs? No, individual bubbles best for P3 interactivity */}
              {mapData.map((item) => (
                <motion.button
                  key={item.id}
                  whileHover={{ scale: 1.1, zIndex: 10 }}
                  whileTap={{ scale: 0.9 }}
                  onClick={() => checkAnswer(item)}
                  className={`absolute rounded-full shadow-lg border-2 border-white/50 flex items-center justify-center transition-colors 
                             ${
                               feedback === "correct" && item.id === target.id
                                 ? "bg-green-500 !border-white scale-125 z-20"
                                 : ""
                             }
                             ${
                               feedback === "wrong" && item.id !== target.id
                                 ? "opacity-50"
                                 : "opacity-100"
                             }
                         `}
                  style={{
                    left: `${item.x}%`,
                    top: `${item.y}%`,
                    width: `${item.size * 1.5}%`, // slightly larger relative size
                    height: `${item.size * 1.5 * (4 / 3)}%`, // Aspect ratio fix aproximation
                    backgroundColor: item.color,
                  }}
                >
                  <div className="overflow-hidden text-[10px] md:text-xs font-bold text-slate-800 leading-none text-center px-1 pointer-events-none">
                    {/* Only show label on hover or if solved? Or always? Always is easier for P3 learning phase */}
                    {getText(item.id)}
                  </div>
                </motion.button>
              ))}

              {/* Feedback Overlay */}
              {feedback && (
                <div
                  className={`absolute inset-0 flex items-center justify-center pointer-events-none z-30`}
                >
                  <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    className={`p-6 rounded-3xl font-black text-4xl shadow-2xl ${
                      feedback === "correct"
                        ? "bg-green-500 text-white"
                        : "bg-red-500 text-white"
                    }`}
                  >
                    {getText(feedback)}
                  </motion.div>
                </div>
              )}
            </div>

            <div className="mt-8 flex gap-4 text-xs font-bold text-white/80">
              <div className="flex items-center gap-2">
                <div className="w-4 h-4 bg-[#fca5a5] rounded-full border border-white"></div>{" "}
                {getText("hki")}
              </div>
              <div className="flex items-center gap-2">
                <div className="w-4 h-4 bg-[#fde047] rounded-full border border-white"></div>{" "}
                {getText("kln")}
              </div>
              <div className="flex items-center gap-2">
                <div className="w-4 h-4 bg-[#86efac] rounded-full border border-white"></div>{" "}
                {getText("nt")}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
