<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šå¥½å…¬æ°‘ | Smart Citizen</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Smart Citizen",
          zh: "å¥½å…¬æ°‘",
          ja: "ã‚¹ãƒãƒ¼ãƒˆå¸‚æ°‘",
          ko: "ìŠ¤ë§ˆíŠ¸ ì‹œë¯¼",
          es: "Ciudadano Inteligente",
          de: "Smarter BÃ¼rger",
          fi: "Fiksu kansalainen",
          fr: "Citoyen intelligent",
          ar: "Ù…ÙˆØ§Ø·Ù† Ø°ÙƒÙŠ",
          it: "Cittadino Intelligente",
        },
        instruction: {
          en: "Is this behavior good?",
          zh: "é€™ç¨®è¡Œç‚ºæ­£ç¢ºå—ï¼Ÿ",
          ja: "ã“ã®è¡Œå‹•ã¯æ­£ã—ã„ã§ã™ã‹ï¼Ÿ",
          ko: "ì´ í–‰ë™ì€ ì˜¬ë°”ë¥¸ê°€ìš”?",
          es: "Â¿Es este comportamiento bueno?",
          de: "Ist dieses Verhalten gut?",
          fi: "Onko tÃ¤mÃ¤ kÃ¤ytÃ¶s hyvÃ¤Ã¤?",
          fr: "Ce comportement est-il bon ?",
          ar: "Ù‡Ù„ Ù‡Ø°Ø§ Ø§Ù„Ø³Ù„ÙˆÙƒ Ø¬ÙŠØ¯ØŸ",
          it: "Questo comportamento Ã¨ buono?",
        },

        good: {
          en: "Good",
          zh: "æ­£ç¢º",
          ja: "è‰¯ã„",
          ko: "ì¢‹ìŒ",
          es: "Bueno",
          de: "Gut",
          fi: "HyvÃ¤",
          fr: "Bien",
          ar: "Ø¬ÙŠØ¯",
          it: "Buono",
        },
        bad: {
          en: "Bad",
          zh: "éŒ¯èª¤",
          ja: "æ‚ªã„",
          ko: "ë‚˜ì¨",
          es: "Malo",
          de: "Schlecht",
          fi: "Huono",
          fr: "Mauvais",
          ar: "Ø³ÙŠØ¡",
          it: "Cattivo",
        },

        q1: {
          en: "Queuing up politely",
          zh: "å®ˆç§©åºæ’éšŠ",
          ja: "ç¤¼å„€æ­£ã—ãä¸¦ã¶",
          ko: "ì§ˆì„œ ìˆê²Œ ì¤„ ì„œê¸°",
          es: "Hacer cola educadamente",
          de: "HÃ¶flich anstehen",
          fi: "Jonottaa kohteliaasti",
          fr: "Faire la queue poliment",
          ar: "Ø§Ù„Ø§ØµØ·ÙØ§Ù Ø¨Ø£Ø¯Ø¨",
          it: "Fare la fila educatamente",
        },
        q2: {
          en: "Talking loudly on bus",
          zh: "åœ¨å·´å£«ä¸Šå¤§è²èªªè©±",
          ja: "ãƒã‚¹ã§å¤§å£°ã§è©±ã™",
          ko: "ë²„ìŠ¤ì—ì„œ í¬ê²Œ ë§í•˜ê¸°",
          es: "Hablar alto en el autobÃºs",
          de: "Laut im Bus sprechen",
          fi: "Puhua kovaa bussissa",
          fr: "Parler fort dans le bus",
          ar: "Ø§Ù„ØªØ­Ø¯Ø« Ø¨ØµÙˆØª Ø¹Ø§Ù„ ÙÙŠ Ø§Ù„Ø­Ø§ÙÙ„Ø©",
          it: "Parlare ad alta voce sull'autobus",
        },
        q3: {
          en: "Helping elderly crossing",
          zh: "æ‰¶é•·è€…éé¦¬è·¯",
          ja: "é«˜é½¢è€…ã®æ¨ªæ–­ã‚’æ‰‹ä¼ã†",
          ko: "ë…¸ì¸ ê¸¸ ê±´ë„ˆê¸° ë•ê¸°",
          es: "Ayudar a ancianos a cruzar",
          de: "Ã„lteren beim Ãœberqueren helfen",
          fi: "Auttaa vanhuksia ylittÃ¤mÃ¤Ã¤n",
          fr: "Aider les personnes Ã¢gÃ©es Ã  traverser",
          ar: "Ù…Ø³Ø§Ø¹Ø¯Ø© ÙƒØ¨Ø§Ø± Ø§Ù„Ø³Ù† ÙÙŠ Ø§Ù„Ø¹Ø¨ÙˆØ±",
          it: "Aiutare gli anziani ad attraversare",
        },
        q4: {
          en: "Littering on street",
          zh: "äº‚æ‹‹åƒåœ¾",
          ja: "é“ã«ã‚´ãƒŸã‚’æ¨ã¦ã‚‹",
          ko: "ê¸¸ì— ì“°ë ˆê¸° ë²„ë¦¬ê¸°",
          es: "Tirar basura en la calle",
          de: "MÃ¼ll auf die StraÃŸe werfen",
          fi: "Roskaaminen kadulla",
          fr: "Jeter des dÃ©chets dans la rue",
          ar: "Ø±Ù…ÙŠ Ø§Ù„Ù‚Ù…Ø§Ù…Ø© ÙÙŠ Ø§Ù„Ø´Ø§Ø±Ø¹",
          it: "Gettare rifiuti per strada",
        },
        q5: {
          en: "Wasting water",
          zh: "æµªè²»é£Ÿæ°´",
          ja: "æ°´ã‚’ç„¡é§„ã«ã™ã‚‹",
          ko: "ë¬¼ ë‚­ë¹„í•˜ê¸°",
          es: "Desperdiciar agua",
          de: "Wasser verschwenden",
          fi: "Veden tuhlaaminen",
          fr: "Gaspiller l'eau",
          ar: "Ù‡Ø¯Ø± Ø§Ù„Ù…ÙŠØ§Ù‡",
          it: "Sprecare acqua",
        },
        q6: {
          en: "Returning lost items",
          zh: "è·¯ä¸æ‹¾éº",
          ja: "è½ã¨ã—ç‰©ã‚’å±Šã‘ã‚‹",
          ko: "ë¶„ì‹¤ë¬¼ ëŒë ¤ì£¼ê¸°",
          es: "Devolver objetos perdidos",
          de: "Verlorene GegenstÃ¤nde zurÃ¼ckgeben",
          fi: "Kadonneiden tavaroiden palauttaminen",
          fr: "Rendre les objets perdus",
          ar: "Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…ÙÙ‚ÙˆØ¯Ø©",
          it: "Restituire oggetti smarriti",
        },

        correct: {
          en: "Correct!",
          zh: "ç­”å°äº†ï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µì…ë‹ˆë‹¤!",
          es: "Â¡Correcto!",
          de: "Richtig!",
          fi: "Oikein!",
          fr: "Correct !",
          ar: "ØµØ­ÙŠØ­!",
          it: "Corretto!",
        },
        wrong: {
          en: "Think again!",
          zh: "æƒ³ä¸€æƒ³ï¼",
          ja: "ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ï¼",
          ko: "ë‹¤ì‹œ ìƒê°í•´ë³´ì„¸ìš”!",
          es: "Â¡PiÃ©nsalo de nuevo!",
          de: "Denk nochmal nach!",
          fi: "Mieti uudelleen!",
          fr: "RÃ©flÃ©chissez encore !",
          ar: "ÙÙƒØ± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰!",
          it: "Pensaci ancora!",
        },
        completed: {
          en: "Model Citizen!",
          zh: "æ¨¡ç¯„å¥½å…¬æ°‘ï¼",
          ja: "æ¨¡ç¯„å¸‚æ°‘ï¼",
          ko: "ëª¨ë²” ì‹œë¯¼!",
          es: "Â¡Ciudadano Modelo!",
          de: "Vorbildlicher BÃ¼rger!",
          fi: "Mallikansalainen!",
          fr: "Citoyen modÃ¨le !",
          ar: "Ù…ÙˆØ§Ø·Ù† Ù†Ù…ÙˆØ°Ø¬ÙŠ!",
          it: "Cittadino Modello!",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
        score: {
          en: "Civic Score",
          zh: "å…¬æ°‘åˆ†",
          ja: "å¸‚æ°‘ã‚¹ã‚³ã‚¢",
          ko: "ì‹œë¯¼ ì ìˆ˜",
          es: "PuntuaciÃ³n CÃ­vica",
          de: "BÃ¼rger-Punktestand",
          fi: "Kansalaispisteet",
          fr: "Score civique",
          ar: "Ø§Ù„Ù†ØªÙŠØ¬Ø© Ø§Ù„Ù…Ø¯Ù†ÙŠØ©",
          it: "Punteggio Civico",
        },
      };

      const scenarios = [
        { id: "q1", type: "good", icon: "ğŸ§ğŸ§â€â™€ï¸ğŸ§â€â™‚ï¸" },
        { id: "q2", type: "bad", icon: "ğŸ—£ï¸ğŸšŒ" },
        { id: "q3", type: "good", icon: "ğŸ‘µğŸ¤" },
        { id: "q4", type: "bad", icon: "ğŸš¯" },
        { id: "q5", type: "bad", icon: "ğŸš°ğŸ’§" },
        { id: "q6", type: "good", icon: "ğŸ‘›ğŸ‘®" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [queue, setQueue] = useState([]);
        const [current, setCurrent] = useState(null);
        const [score, setScore] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          const q = [...scenarios].sort(() => Math.random() - 0.5);
          setQueue(q);
          setCurrent(q[0]);
          setScore(0);
          setFeedback(null);
        };

        const handleAnswer = (ans) => {
          // good or bad
          if (feedback) return;

          const isCorrect = ans === current.type;
          if (isCorrect) {
            setScore((s) => s + 10);
            setFeedback("correct");
          } else {
            setScore((s) => Math.max(0, s - 5));
            setFeedback("wrong");
          }

          setTimeout(() => {
            setFeedback(null);
            const nextIdx = queue.indexOf(current) + 1;
            if (nextIdx < queue.length) setCurrent(queue[nextIdx]);
            else setCurrent(null);
          }, 800);
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-violet-800 mb-4 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              ğŸ¤ {getText("title")}
            </h1>

            {current ? (
              <div className="w-full max-w-md flex flex-col items-center flex-1 justify-center relative">
                <div className="absolute top-0 right-0 lg:-right-32 font-bold bg-white text-violet-600 px-4 py-2 rounded-xl shadow">
                  {getText("score")}: {score}
                </div>

                {/* Card */}
                <motion.div
                  key={current.id}
                  initial={{ scale: 0.8, opacity: 0, rotate: -5 }}
                  animate={{ scale: 1, opacity: 1, rotate: 0 }}
                  exit={{ scale: 1.2, opacity: 0 }}
                  className="bg-white p-12 rounded-[2.5rem] shadow-2xl border-b-8 border-violet-200 mb-8 flex flex-col items-center text-center w-full aspect-square justify-center relative z-20"
                >
                  <div className="text-9xl mb-6">{current.icon}</div>
                  <h2 className="text-3xl font-black text-slate-800 leading-tight">
                    {getText(current.id)}
                  </h2>

                  {feedback && (
                    <div
                      className={`absolute inset-0 bg-white/90 rounded-[2rem] flex items-center justify-center font-black text-4xl whitespace-nowrap ${
                        feedback === "correct"
                          ? "text-green-600"
                          : "text-red-500"
                      }`}
                    >
                      {getText(feedback)}
                    </div>
                  )}
                </motion.div>

                <p className="font-bold text-violet-900 mb-8 text-xl opacity-80">
                  {getText("instruction")}
                </p>

                <div className="flex gap-6 w-full">
                  <button
                    onClick={() => handleAnswer("good")}
                    disabled={feedback}
                    className="flex-1 bg-green-500 text-white rounded-2xl py-6 font-black text-3xl shadow-xl border-b-8 border-green-700 active:border-b-0 active:translate-y-2 hover:bg-green-400 transition-colors"
                  >
                    ğŸ‘{" "}
                    <span className="text-lg block mt-2 opacity-80">
                      {getText("good")}
                    </span>
                  </button>
                  <button
                    onClick={() => handleAnswer("bad")}
                    disabled={feedback}
                    className="flex-1 bg-red-500 text-white rounded-2xl py-6 font-black text-3xl shadow-xl border-b-8 border-red-700 active:border-b-0 active:translate-y-2 hover:bg-red-400 transition-colors"
                  >
                    ğŸ‘{" "}
                    <span className="text-lg block mt-2 opacity-80">
                      {getText("bad")}
                    </span>
                  </button>
                </div>
              </div>
            ) : (
              <div className="bg-white/90 p-12 rounded-3xl shadow-xl text-center mt-20">
                <div className="text-8xl mb-4">ğŸ…</div>
                <h2 className="text-3xl font-black text-violet-800 mb-6">
                  {getText("completed")}
                </h2>
                <p className="text-xl text-slate-500 font-bold mb-8">
                  {getText("score")}: {score}
                </p>
                <button
                  onClick={initGame}
                  className="bg-violet-600 text-white px-10 py-4 rounded-full font-black text-xl hover:bg-violet-700 shadow-xl"
                >
                  {getText("reset")} ğŸ”„
                </button>
              </div>
            )}
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
