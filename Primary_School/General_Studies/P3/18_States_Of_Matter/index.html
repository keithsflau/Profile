<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šç‰©è³ªä¸‰æ…‹ | States of Matter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "States of Matter",
          zh: "ç‰©è³ªä¸‰æ…‹",
          ja: "ç‰©è³ªã®ä¸‰æ…‹",
          ko: "ë¬¼ì§ˆì˜ ìƒíƒœ",
          es: "Estados de la Materia",
          de: "AggregatzustÃ¤nde",
          fi: "Aineen olomuodot",
          fr: "Ã‰tats de la matiÃ¨re",
          ar: "Ø­Ø§Ù„Ø§Øª Ø§Ù„Ù…Ø§Ø¯Ø©",
          it: "Stati della Materia",
        },
        instruction: {
          en: "Solid, Liquid, or Gas?",
          zh: "å›ºé«”ã€æ¶²é«”é‚„æ˜¯æ°£é«”ï¼Ÿ",
          ja: "å›ºä½“ã€æ¶²ä½“ã€ã¾ãŸã¯æ°—ä½“ï¼Ÿ",
          ko: "ê³ ì²´, ì•¡ì²´, ë˜ëŠ” ê¸°ì²´?",
          es: "Â¿SÃ³lido, LÃ­quido o Gas?",
          de: "Fest, FlÃ¼ssig oder GasfÃ¶rmig?",
          fi: "KiinteÃ¤, neste vai kaasu?",
          fr: "Solide, Liquide ou Gaz ?",
          ar: "ØµÙ„Ø¨ØŒ Ø³Ø§Ø¦Ù„ØŒ Ø£Ù… ØºØ§Ø²ØŸ",
          it: "Solido, Liquido o Gas?",
        },

        solid: {
          en: "Solid",
          zh: "å›ºé«”",
          ja: "å›ºä½“",
          ko: "ê³ ì²´",
          es: "SÃ³lido",
          de: "Feststoff",
          fi: "KiinteÃ¤",
          fr: "Solide",
          ar: "ØµÙ„Ø¨",
          it: "Solido",
        },
        liquid: {
          en: "Liquid",
          zh: "æ¶²é«”",
          ja: "æ¶²ä½“",
          ko: "ì•¡ì²´",
          es: "LÃ­quido",
          de: "FlÃ¼ssigkeit",
          fi: "Neste",
          fr: "Liquide",
          ar: "Ø³Ø§Ø¦Ù„",
          it: "Liquido",
        },
        gas: {
          en: "Gas",
          zh: "æ°£é«”",
          ja: "æ°—ä½“",
          ko: "ê¸°ì²´",
          es: "Gas",
          de: "Gas",
          fi: "Kaasu",
          fr: "Gaz",
          ar: "ØºØ§Ø²",
          it: "Gas",
        },

        ice: {
          en: "Ice",
          zh: "å†°",
          ja: "æ°·",
          ko: "ì–¼ìŒ",
          es: "Hielo",
          de: "Eis",
          fi: "JÃ¤Ã¤",
          fr: "GlaÃ§on",
          ar: "Ø¬Ù„ÙŠØ¯",
          it: "Ghiaccio",
        },
        water: {
          en: "Water",
          zh: "æ°´",
          ja: "æ°´",
          ko: "ë¬¼",
          es: "Agua",
          de: "Wasser",
          fi: "Vesi",
          fr: "Eau",
          ar: "Ù…Ø§Ø¡",
          it: "Acqua",
        },
        steam: {
          en: "Steam",
          zh: "æ°´è’¸æ°£",
          ja: "è’¸æ°—",
          ko: "ì¦ê¸°",
          es: "Vapor",
          de: "Dampf",
          fi: "HÃ¶yry",
          fr: "Vapeur",
          ar: "Ø¨Ø®Ø§Ø±",
          it: "Vapore",
        },
        rock: {
          en: "Rock",
          zh: "çŸ³é ­",
          ja: "å²©",
          ko: "ë°”ìœ„",
          es: "Roca",
          de: "Stein",
          fi: "Kivi",
          fr: "Rocher",
          ar: "ØµØ®Ø±Ø©",
          it: "Roccia",
        },
        juice: {
          en: "Juice",
          zh: "æœæ±",
          ja: "ã‚¸ãƒ¥ãƒ¼ã‚¹",
          ko: "ì£¼ìŠ¤",
          es: "Jugo",
          de: "Saft",
          fi: "Mehu",
          fr: "Jus",
          ar: "Ø¹ØµÙŠØ±",
          it: "Succo",
        },
        air: {
          en: "Air in Balloon",
          zh: "æ°£çƒå…§çš„æ°£é«”",
          ja: "é¢¨èˆ¹ã®ç©ºæ°—",
          ko: "í’ì„  ì† ê³µê¸°",
          es: "Aire en globo",
          de: "Luft im Ballon",
          fi: "Ilma pallossa",
          fr: "Air dans le ballon",
          ar: "Ù‡ÙˆØ§Ø¡ ÙÙŠ Ø§Ù„Ø¨Ø§Ù„ÙˆÙ†",
          it: "Aria nel palloncino",
        },
        smoke: {
          en: "Smoke",
          zh: "ç…™",
          ja: "ç…™",
          ko: "ì—°ê¸°",
          es: "Humo",
          de: "Rauch",
          fi: "Savu",
          fr: "FumÃ©e",
          ar: "Ø¯Ø®Ø§Ù†",
          it: "Fumo",
        },
        chair: {
          en: "Chair",
          zh: "æ¤…å­",
          ja: "æ¤…å­",
          ko: "ì˜ì",
          es: "Silla",
          de: "Stuhl",
          fi: "Tuoli",
          fr: "Chaise",
          ar: "ÙƒØ±Ø³ÙŠ",
          it: "Sedia",
        },

        desc_solid: {
          en: "Fixed Shape",
          zh: "æœ‰å›ºå®šå½¢ç‹€",
          ja: "ä¸€å®šã®å½¢",
          ko: "ê³ ì •ëœ ëª¨ì–‘",
          es: "Forma fija",
          de: "Feste Form",
          fi: "KiinteÃ¤ muoto",
          fr: "Forme fixe",
          ar: "Ø´ÙƒÙ„ Ø«Ø§Ø¨Øª",
          it: "Forma fissa",
        },
        desc_liquid: {
          en: "Flows, No Shape",
          zh: "æœƒæµå‹•ï¼Œç„¡å›ºå®šå½¢ç‹€",
          ja: "æµã‚Œã‚‹ã€å½¢ãŒãªã„",
          ko: "íë¦„, ëª¨ì–‘ ì—†ìŒ",
          es: "Fluye, sin forma",
          de: "FlieÃŸt, keine Form",
          fi: "Virtaa, ei muotoa",
          fr: "Coule, pas de forme",
          ar: "ÙŠØªØ¯ÙÙ‚ØŒ Ù„Ø§ Ø´ÙƒÙ„ Ù„Ù‡",
          it: "Scorre, nessuna forma",
        },
        desc_gas: {
          en: "Spreads out",
          zh: "æœƒæ“´æ•£ï¼Œç„¡å›ºå®šå½¢ç‹€",
          ja: "åºƒãŒã‚‹",
          ko: "í¼ì§",
          es: "Se expande",
          de: "Breitet sich aus",
          fi: "LevittÃ¤ytyy",
          fr: "Se rÃ©pand",
          ar: "ÙŠÙ†ØªØ´Ø±",
          it: "Si diffonde",
        },

        correct: {
          en: "Correct!",
          zh: "ç­”å°äº†ï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µì…ë‹ˆë‹¤!",
          es: "Â¡Correcto!",
          de: "Richtig!",
          fi: "Oikein!",
          fr: "Correct !",
          ar: "ØµØ­ÙŠØ­!",
          it: "Corretto!",
        },
        wrong: {
          en: "Try Again",
          zh: "å†è©¦ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦",
          ko: "ë‹¤ì‹œ ì‹œë„í•˜ì„¸ìš”",
          es: "IntÃ©ntalo de nuevo",
          de: "Versuch es nochmal",
          fi: "YritÃ¤ uudelleen",
          fr: "RÃ©essayez",
          ar: "Ø­Ø§ÙˆÙ„ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Riprova",
        },
        completed: {
          en: "Matter Master!",
          zh: "ä¸‰æ…‹å°ˆå®¶ï¼",
          ja: "ç‰©è³ªãƒã‚¹ã‚¿ãƒ¼ï¼",
          ko: "ë¬¼ì§ˆ ë§ˆìŠ¤í„°!",
          es: "Â¡Maestro de la Materia!",
          de: "Materie-Meister!",
          fi: "Ainemestari!",
          fr: "MaÃ®tre de la matiÃ¨re !",
          ar: "Ø®Ø¨ÙŠØ± Ø§Ù„Ù…Ø§Ø¯Ø©!",
          it: "Maestro della Materia!",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
      };

      const categories = [
        {
          id: "solid",
          color: "bg-blue-200 border-blue-400",
          bg: "bg-blue-500",
          icon: "ğŸ§Š",
        },
        {
          id: "liquid",
          color: "bg-cyan-200 border-cyan-400",
          bg: "bg-cyan-500",
          icon: "ğŸ’§",
        },
        {
          id: "gas",
          color: "bg-slate-200 border-slate-400",
          bg: "bg-slate-500",
          icon: "ğŸ’¨",
        },
      ];

      const items = [
        { id: "ice", type: "solid", icon: "ğŸ§Š" },
        { id: "water", type: "liquid", icon: "ğŸ’§" },
        { id: "steam", type: "gas", icon: "â™¨ï¸" },
        { id: "rock", type: "solid", icon: "ğŸª¨" },
        { id: "juice", type: "liquid", icon: "ğŸ§ƒ" },
        { id: "air", type: "gas", icon: "ğŸˆ" },
        { id: "smoke", type: "gas", icon: "ğŸ­" },
        { id: "chair", type: "solid", icon: "ğŸª‘" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [queue, setQueue] = useState([]);
        const [current, setCurrent] = useState(null);
        const [feedback, setFeedback] = useState(null);
        const [score, setScore] = useState(0);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          const q = [...items].sort(() => Math.random() - 0.5);
          setQueue(q);
          setCurrent(q[0]);
          setScore(0);
          setFeedback(null);
        };

        const handleSort = (catId) => {
          if (feedback) return;

          if (current.type === catId) {
            setFeedback("correct");
            setScore((s) => s + 10);
            setTimeout(() => {
              setFeedback(null);
              const nextIdx = queue.indexOf(current) + 1;
              if (nextIdx < queue.length) setCurrent(queue[nextIdx]);
              else setCurrent(null);
            }, 800);
          } else {
            setFeedback("wrong");
            setTimeout(() => setFeedback(null), 800);
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-violet-800 mb-4 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              âš—ï¸ {getText("title")}
            </h1>

            {current ? (
              <div className="w-full max-w-5xl flex flex-col items-center flex-1 justify-center relative">
                {/* Floating Item */}
                <div className="relative mb-8 z-20">
                  <motion.div
                    key={current.id}
                    initial={{ scale: 0, y: 50 }}
                    animate={{ scale: 1, y: 0 }}
                    exit={{ scale: 0, opacity: 0 }}
                    className="bg-white p-12 rounded-[2.5rem] shadow-2xl border-8 border-violet-200 flex flex-col items-center justify-center w-72 h-72"
                  >
                    <div className="text-8xl mb-4">{current.icon}</div>
                    <div className="text-3xl font-black text-slate-700 leading-tight">
                      {getText(current.id)}
                    </div>
                  </motion.div>

                  {feedback && (
                    <div
                      className={`absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 z-30 px-8 py-4 rounded-full font-black text-4xl shadow-2xl whitespace-nowrap ${
                        feedback === "correct"
                          ? "bg-green-500 text-white"
                          : "bg-red-500 text-white"
                      }`}
                    >
                      {getText(feedback)}
                    </div>
                  )}
                </div>

                <p className="font-bold text-violet-900 mb-8 bg-white/60 px-6 py-1 rounded-full text-xl">
                  {getText("instruction")}
                </p>

                {/* Jars */}
                <div className="flex flex-col md:flex-row gap-6 w-full justify-center">
                  {categories.map((cat) => (
                    <button
                      key={cat.id}
                      onClick={() => handleSort(cat.id)}
                      className={`flex-1 ${cat.color} border-x-4 border-b-8 rounded-b-3xl rounded-t-lg p-6 flex flex-col items-center shadow-lg active:scale-95 transition-all relative overflow-hidden group h-64 justify-end`}
                    >
                      {/* Jar Liquid/Content Effect */}
                      <div
                        className={`absolute bottom-0 left-0 w-full h-[30%] ${cat.bg} opacity-20 group-hover:h-[40%] transition-all duration-300`}
                      ></div>

                      <div className="text-6xl mb-4 z-10 drop-shadow-lg">
                        {cat.icon}
                      </div>
                      <div className="font-black text-3xl z-10 text-slate-800">
                        {getText(cat.id)}
                      </div>
                      <div className="text-sm font-bold opacity-60 z-10 mt-2 bg-white/50 px-2 rounded">
                        {getText(`desc_${cat.id}`)}
                      </div>
                    </button>
                  ))}
                </div>
              </div>
            ) : (
              <div className="bg-white/90 p-12 rounded-3xl shadow-xl text-center mt-20">
                <div className="text-8xl mb-4">âš›ï¸</div>
                <h2 className="text-4xl font-black text-violet-800 mb-6">
                  {getText("completed")}
                </h2>
                <button
                  onClick={initGame}
                  className="bg-violet-600 text-white px-10 py-4 rounded-full font-black text-2xl hover:bg-violet-700 shadow-xl"
                >
                  {getText("reset")} ğŸ”„
                </button>
              </div>
            )}
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
