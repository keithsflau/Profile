<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šç¯€æ—¥æ—¥æ›† | Festival Calendar</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: radial-gradient(circle at center, #f5d0fe 0%, #c026d3 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Festival Calendar",
          zh: "ç¯€æ—¥æ—¥æ›†",
          ja: "ãƒ•ã‚§ã‚¹ãƒ†ã‚£ãƒãƒ«ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼",
          ko: "ì¶•ì œ ë‹¬ë ¥",
          es: "Calendario de Festivales",
          de: "Festkalender",
          fi: "Juhlakalenteri",
          fr: "Calendrier des festivals",
          ar: "ØªÙ‚ÙˆÙŠÙ… Ø§Ù„Ù…Ù‡Ø±Ø¬Ø§Ù†Ø§Øª",
          it: "Calendario dei Festival",
        },
        instruction: {
          en: "Sort festivals by order of the year!",
          zh: "æŒ‰æ™‚é–“é †åºæ’åˆ—ç¯€æ—¥ï¼",
          ja: "ä»Šå¹´ã®é †ç•ªã«ä¸¦ã¹ã¦ï¼",
          ko: "ì˜¬í•´ ìˆœì„œëŒ€ë¡œ ì¶•ì œë¥¼ ì •ë ¬í•˜ì„¸ìš”!",
          es: "Â¡Ordena los festivales por orden del aÃ±o!",
          de: "Sortiere die Feste nach der Reihenfolge im Jahr!",
          fi: "Lajittele juhlat vuoden jÃ¤rjestyksessÃ¤!",
          fr: "Triez les festivals par ordre chronologique !",
          ar: "Ø±ØªØ¨ Ø§Ù„Ù…Ù‡Ø±Ø¬Ø§Ù†Ø§Øª Ø­Ø³Ø¨ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø³Ù†Ø©!",
          it: "Ordina i festival in ordine annuale!",
        },

        cny: {
          en: "Lunar New Year",
          zh: "è¾²æ›†æ–°å¹´",
          ja: "æ—§æ­£æœˆ",
          ko: "ì„¤ë‚ ",
          es: "AÃ±o Nuevo Lunar",
          de: "Mondneujahr",
          fi: "Kiinalainen uusivuosi",
          fr: "Nouvel An lunaire",
          ar: "Ø±Ø£Ø³ Ø§Ù„Ø³Ù†Ø© Ø§Ù„Ù‚Ù…Ø±ÙŠØ©",
          it: "Capodanno Lunare",
        },
        easter: {
          en: "Easter",
          zh: "å¾©æ´»ç¯€",
          ja: "ã‚¤ãƒ¼ã‚¹ã‚¿ãƒ¼",
          ko: "ë¶€í™œì ˆ",
          es: "Pascua",
          de: "Ostern",
          fi: "PÃ¤Ã¤siÃ¤inen",
          fr: "PÃ¢ques",
          ar: "Ø¹ÙŠØ¯ Ø§Ù„ÙØµØ­",
          it: "Pasqua",
        },
        dragon: {
          en: "Dragon Boat Festival",
          zh: "ç«¯åˆç¯€",
          ja: "ç«¯åˆã®ç¯€å¥",
          ko: "ë‹¨ì˜¤ì ˆ",
          es: "Festival del Bote del DragÃ³n",
          de: "Drachenbootfest",
          fi: "LohikÃ¤Ã¤rmevenejuhla",
          fr: "FÃªte des bateaux-dragons",
          ar: "Ù…Ù‡Ø±Ø¬Ø§Ù† Ù‚ÙˆØ§Ø±Ø¨ Ø§Ù„ØªÙ†ÙŠÙ†",
          it: "Festa delle Barche Drago",
        },
        midautumn: {
          en: "Mid-Autumn Festival",
          zh: "ä¸­ç§‹ç¯€",
          ja: "ä¸­ç§‹ç¯€",
          ko: "ì¶”ì„",
          es: "Festival del Medio OtoÃ±o",
          de: "Mondfest",
          fi: "Keskisyksyn juhla",
          fr: "FÃªte de la mi-automne",
          ar: "Ù…Ù‡Ø±Ø¬Ø§Ù† Ù…Ù†ØªØµÙ Ø§Ù„Ø®Ø±ÙŠÙ",
          it: "Festa di MetÃ  Autunno",
        },
        xmas: {
          en: "Christmas",
          zh: "è–èª•ç¯€",
          ja: "ã‚¯ãƒªã‚¹ãƒã‚¹",
          ko: "í¬ë¦¬ìŠ¤ë§ˆìŠ¤",
          es: "Navidad",
          de: "Weihnachten",
          fi: "Joulu",
          fr: "NoÃ«l",
          ar: "Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯",
          it: "Natale",
        },

        janfeb: {
          en: "Jan/Feb",
          zh: "ä¸€æœˆ/äºŒæœˆ",
          ja: "1æœˆ/2æœˆ",
          ko: "1ì›”/2ì›”",
          es: "Ene/Feb",
          de: "Jan/Feb",
          fi: "Tammi/Helmi",
          fr: "Jan/FÃ©v",
          ar: "ÙŠÙ†Ø§ÙŠØ±/ÙØ¨Ø±Ø§ÙŠØ±",
          it: "Gen/Feb",
        },
        marapr: {
          en: "Mar/Apr",
          zh: "ä¸‰æœˆ/å››æœˆ",
          ja: "3æœˆ/4æœˆ",
          ko: "3ì›”/4ì›”",
          es: "Mar/Abr",
          de: "MÃ¤r/Apr",
          fi: "Maalis/Huhti",
          fr: "Mar/Avr",
          ar: "Ù…Ø§Ø±Ø³/Ø£Ø¨Ø±ÙŠÙ„",
          it: "Mar/Apr",
        },
        mayjun: {
          en: "May/Jun",
          zh: "äº”æœˆ/å…­æœˆ",
          ja: "5æœˆ/6æœˆ",
          ko: "5ì›”/6ì›”",
          es: "May/Jun",
          de: "Mai/Jun",
          fi: "Touko/KesÃ¤",
          fr: "Mai/Juin",
          ar: "Ù…Ø§ÙŠÙˆ/ÙŠÙˆÙ†ÙŠÙˆ",
          it: "Mag/Giu",
        },
        septoct: {
          en: "Sep/Oct",
          zh: "ä¹æœˆ/åæœˆ",
          ja: "9æœˆ/10æœˆ",
          ko: "9ì›”/10ì›”",
          es: "Sep/Oct",
          de: "Sep/Okt",
          fi: "Syys/Loka",
          fr: "Sep/Oct",
          ar: "Ø³Ø¨ØªÙ…Ø¨Ø±/Ø£ÙƒØªÙˆØ¨Ø±",
          it: "Set/Ott",
        },
        dec: {
          en: "December",
          zh: "åäºŒæœˆ",
          ja: "12æœˆ",
          ko: "12ì›”",
          es: "Diciembre",
          de: "Dezember",
          fi: "Joulukuu",
          fr: "DÃ©cembre",
          ar: "Ø¯ÙŠØ³Ù…Ø¨Ø±",
          it: "Dicembre",
        },

        check: {
          en: "Check Order",
          zh: "æª¢æŸ¥é †åº",
          ja: "é †åºã‚’ç¢ºèª",
          ko: "ìˆœì„œ í™•ì¸",
          es: "Verificar Orden",
          de: "Reihenfolge prÃ¼fen",
          fi: "Tarkista jÃ¤rjestys",
          fr: "VÃ©rifier l'ordre",
          ar: "ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„ØªØ±ØªÙŠØ¨",
          it: "Controlla Ordine",
        },
        perfect: {
          en: "Perfect Order!",
          zh: "é †åºæ­£ç¢ºï¼",
          ja: "å®Œç’§ãªé †åºï¼",
          ko: "ì™„ë²½í•œ ìˆœì„œì…ë‹ˆë‹¤!",
          es: "Â¡Orden Perfecto!",
          de: "Perfekte Reihenfolge!",
          fi: "TÃ¤ydellinen jÃ¤rjestys!",
          fr: "Ordre parfait !",
          ar: "ØªØ±ØªÙŠØ¨ Ù…Ø«Ø§Ù„ÙŠ!",
          it: "Ordine Perfetto!",
        },
        wrong: {
          en: "Wrong Order!",
          zh: "é †åºéŒ¯èª¤ï¼",
          ja: "é–“é•ã£ãŸé †åºï¼",
          ko: "ì˜ëª»ëœ ìˆœì„œì…ë‹ˆë‹¤!",
          es: "Â¡Orden Incorrecto!",
          de: "Falsche Reihenfolge!",
          fi: "VÃ¤Ã¤rÃ¤ jÃ¤rjestys!",
          fr: "Mauvais ordre !",
          ar: "ØªØ±ØªÙŠØ¨ Ø®Ø§Ø·Ø¦!",
          it: "Ordine Errato!",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
      };

      const correctOrder = ["cny", "easter", "dragon", "midautumn", "xmas"];

      const festivals = [
        { id: "cny", icon: "ğŸ§§", time: "janfeb" },
        { id: "easter", icon: "ğŸ°", time: "marapr" },
        { id: "dragon", icon: "ğŸš£", time: "mayjun" },
        { id: "midautumn", icon: "ğŸ¥®", time: "septoct" },
        { id: "xmas", icon: "ğŸ„", time: "dec" },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [line, setLine] = useState([]);
        const [pool, setPool] = useState([]);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          setPool([...festivals].sort(() => Math.random() - 0.5));
          setLine([]);
          setFeedback(null);
        };

        const moveToLine = (item) => {
          if (feedback === "perfect") return;
          setLine((prev) => [...prev, item]);
          setPool((prev) => prev.filter((i) => i.id !== item.id));
          setFeedback(null);
        };

        const moveToPool = (item) => {
          if (feedback === "perfect") return;
          setPool((prev) => [...prev, item]);
          setLine((prev) => prev.filter((i) => i.id !== item.id));
          setFeedback(null);
        };

        const check = () => {
          if (line.length !== correctOrder.length) return;

          const isCorrect = line.every(
            (item, i) => item.id === correctOrder[i]
          );
          if (isCorrect) {
            setFeedback("perfect");
          } else {
            setFeedback("wrong");
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-fuchsia-900 mb-2 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              ğŸ—“ï¸ {getText("title")}
            </h1>
            <div className="font-bold text-fuchsia-900 mb-6 bg-white/40 px-4 py-1 rounded-full">
              {getText("instruction")}
            </div>

            {/* Timeline View */}
            <div className="w-full max-w-6xl min-h-[220px] bg-white/80 rounded-3xl p-6 border-4 border-fuchsia-400 mb-8 relative shadow-lg">
              {/* Visual Thread */}
              <div className="absolute top-1/2 left-0 w-full h-2 bg-fuchsia-200"></div>

              <div className="flex flex-wrap items-center justify-center gap-4 relative z-10 w-full min-h-[160px]">
                <AnimatePresence>
                  {line.map((item, index) => (
                    <motion.div
                      layoutId={item.id}
                      key={item.id}
                      className="relative group"
                    >
                      {/* Time Label */}
                      <div className="absolute -top-10 left-1/2 -translate-x-1/2 bg-fuchsia-600 text-white text-xs font-bold px-2 py-1 rounded shadow opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap">
                        {getText(item.time)}
                      </div>

                      <button
                        onClick={() => moveToPool(item)}
                        className="bg-white p-4 rounded-xl shadow-lg border-2 border-fuchsia-400 hover:scale-110 transition-transform flex flex-col items-center w-28 md:w-36 h-36 justify-center"
                      >
                        <div className="text-6xl mb-2">{item.icon}</div>
                        <div className="text-sm font-bold text-center leading-tight">
                          {getText(item.id)}
                        </div>
                      </button>

                      <div className="absolute -top-3 -right-3 bg-fuchsia-600 text-white w-8 h-8 rounded-full flex items-center justify-center font-bold shadow-md">
                        {index + 1}
                      </div>
                    </motion.div>
                  ))}
                </AnimatePresence>

                {line.length === 0 && (
                  <div className="text-fuchsia-800/30 text-3xl font-black animate-pulse">
                    Drag Here
                  </div>
                )}
              </div>
            </div>

            {/* Controls */}
            <div className="h-16 mb-4">
              {feedback ? (
                <div className="flex gap-4 items-center">
                  <div
                    className={`px-8 py-2 rounded-2xl font-black text-2xl shadow-xl ${
                      feedback === "perfect"
                        ? "bg-green-500 text-white"
                        : "bg-red-500 text-white"
                    }`}
                  >
                    {getText(feedback)}
                  </div>
                  {feedback === "perfect" && (
                    <button
                      onClick={initGame}
                      className="bg-blue-600 text-white px-8 py-2 rounded-2xl font-black text-2xl shadow-xl hover:bg-blue-700 animate-bounce"
                    >
                      {getText("reset")} ğŸ”„
                    </button>
                  )}
                </div>
              ) : (
                line.length === correctOrder.length && (
                  <button
                    onClick={check}
                    className="bg-fuchsia-600 text-white px-10 py-3 rounded-full font-black text-2xl shadow-xl hover:bg-fuchsia-700"
                  >
                    {getText("check")}
                  </button>
                )
              )}
            </div>

            {/* Pool */}
            <div className="flex flex-wrap justify-center gap-4 bg-fuchsia-200/50 p-6 rounded-3xl w-full max-w-4xl border-t-4 border-fuchsia-300">
              <AnimatePresence>
                {pool.map((item) => (
                  <motion.button
                    key={item.id}
                    layoutId={item.id}
                    onClick={() => moveToLine(item)}
                    className="bg-white p-4 rounded-xl shadow border-2 border-white hover:border-fuchsia-500 active:scale-95 transition-all w-24 h-24 flex flex-col items-center justify-center"
                    initial={{ opacity: 0 }}
                    animate={{ opacity: 1 }}
                    exit={{ opacity: 0 }}
                  >
                    <div className="text-4xl md:text-5xl">{item.icon}</div>
                  </motion.button>
                ))}
              </AnimatePresence>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
