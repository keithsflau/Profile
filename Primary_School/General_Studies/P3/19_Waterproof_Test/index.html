<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°ä¸‰å¸¸è­˜ï¼šé˜²æ°´æ¸¬è©¦ | Waterproof Test</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #a5f3fc 0%, #22d3ee 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Waterproof Test",
          zh: "é˜²æ°´æ¸¬è©¦",
          ja: "é˜²æ°´ãƒ†ã‚¹ãƒˆ",
          ko: "ë°©ìˆ˜ í…ŒìŠ¤íŠ¸",
          es: "Prueba de Impermeabilidad",
          de: "Wasserdichtigkeitstest",
          fi: "VedenpitÃ¤vyystesti",
          fr: "Test d'Ã©tanchÃ©itÃ©",
          ar: "Ø§Ø®ØªØ¨Ø§Ø± Ù…Ù‚Ø§ÙˆÙ…Ø© Ø§Ù„Ù…Ø§Ø¡",
          it: "Test di ImpermeabilitÃ ",
        },
        instruction: {
          en: "Spray water to test!",
          zh: "å™´æ°´é€²è¡Œæ¸¬è©¦ï¼",
          ja: "æ°´ã‚’ã‚¹ãƒ—ãƒ¬ãƒ¼ã—ã¦ãƒ†ã‚¹ãƒˆï¼",
          ko: "ë¬¼ì„ ë¿Œë ¤ í…ŒìŠ¤íŠ¸í•˜ì„¸ìš”!",
          es: "Â¡RocÃ­a agua para probar!",
          de: "SprÃ¼he Wasser zum Testen!",
          fi: "Suihkuta vettÃ¤ testataksesi!",
          fr: "Vaporisez de l'eau pour tester !",
          ar: "Ø±Ø´ Ø§Ù„Ù…Ø§Ø¡ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±!",
          it: "Spruzza acqua per testare!",
        },

        spray: {
          en: "Spray Water",
          zh: "å™´æ°´",
          ja: "æ°´ã‚’ã‚¹ãƒ—ãƒ¬ãƒ¼",
          ko: "ë¬¼ ë¿Œë¦¬ê¸°",
          es: "Rociar Agua",
          de: "Wasser sprÃ¼hen",
          fi: "Suihkuta vettÃ¤",
          fr: "Vaporiser de l'eau",
          ar: "Ø±Ø´ Ø§Ù„Ù…Ø§Ø¡",
          it: "Spruzza Acqua",
        },
        next: {
          en: "Next Material",
          zh: "ä¸‹ä¸€å€‹ç‰©æ–™",
          ja: "æ¬¡ã®ç´ æ",
          ko: "ë‹¤ìŒ ì¬ë£Œ",
          es: "Siguiente Material",
          de: "NÃ¤chstes Material",
          fi: "Seuraava materiaali",
          fr: "MatÃ©riau suivant",
          ar: "Ø§Ù„Ù…Ø§Ø¯Ø© Ø§Ù„ØªØ§Ù„ÙŠØ©",
          it: "Materiale Successivo",
        },

        result_dry: {
          en: "It stays dry! (Waterproof)",
          zh: "ä¿æŒä¹¾çˆ½ï¼ (é˜²æ°´)",
          ja: "ä¹¾ã„ãŸã¾ã¾ã§ã™ï¼ (é˜²æ°´)",
          ko: "ë§ˆë¥¸ ìƒíƒœ ìœ ì§€! (ë°©ìˆ˜)",
          es: "Â¡Se mantiene seco! (Impermeable)",
          de: "Es bleibt trocken! (Wasserdicht)",
          fi: "Se pysyy kuivana! (VedenpitÃ¤vÃ¤)",
          fr: "Il reste sec ! (ImpermÃ©able)",
          ar: "ÙŠØ¨Ù‚Ù‰ Ø¬Ø§ÙØ§Ù‹! (Ù…Ù‚Ø§ÙˆÙ… Ù„Ù„Ù…Ø§Ø¡)",
          it: "Resta asciutto! (Impermeabile)",
        },
        result_wet: {
          en: "It gets wet! (Absorbent)",
          zh: "è®Šæ¿•äº†ï¼ (å¸æ°´)",
          ja: "æ¿¡ã‚Œã¾ã—ãŸï¼ (å¸æ°´æ€§)",
          ko: "ì –ì—ˆìŠµë‹ˆë‹¤! (í¡ìˆ˜ì„±)",
          es: "Â¡Se moja! (Absorbente)",
          de: "Es wird nass! (SaugfÃ¤hig)",
          fi: "Se kastuu! (Imukykyinen)",
          fr: "Il devient mouillÃ© ! (Absorbant)",
          ar: "ÙŠØµØ¨Ø­ Ù…Ø¨Ù„Ù„Ø§Ù‹! (Ù…Ø§Øµ)",
          it: "Si bagna! (Assorbente)",
        },

        paper: {
          en: "Paper",
          zh: "ç™½ç´™",
          ja: "ç´™",
          ko: "ì¢…ì´",
          es: "Papel",
          de: "Papier",
          fi: "Paperi",
          fr: "Papier",
          ar: "ÙˆØ±Ù‚Ø©",
          it: "Carta",
        },
        plastic: {
          en: "Plastic Sheet",
          zh: "è† ç‰‡",
          ja: "ãƒ—ãƒ©ã‚¹ãƒãƒƒã‚¯ã‚·ãƒ¼ãƒˆ",
          ko: "í”Œë¼ìŠ¤í‹± ì‹œíŠ¸",
          es: "LÃ¡mina de plÃ¡stico",
          de: "Plastikfolie",
          fi: "Muovikalvo",
          fr: "Feuille de plastique",
          ar: "Ø­?ÙŠÙØ© Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠØ©",
          it: "Foglio di plastica",
        },
        cloth: {
          en: "Cotton Cloth",
          zh: "æ£‰å¸ƒ",
          ja: "ç¶¿å¸ƒ",
          ko: "ë©´í¬",
          es: "Tela de algodÃ³n",
          de: "Baumwolltuch",
          fi: "Puuvillakangas",
          fr: "Tissu en coton",
          ar: "Ù‚Ù…Ø§Ø´ Ù‚Ø·Ù†ÙŠ",
          it: "Panno di cotone",
        },
        foil: {
          en: "Aluminium Foil",
          zh: "é‹ç®”ç´™",
          ja: "ã‚¢ãƒ«ãƒŸãƒ›ã‚¤ãƒ«",
          ko: "ì•Œë£¨ë¯¸ëŠ„ í˜¸ì¼",
          es: "Papel de aluminio",
          de: "Alufolie",
          fi: "Alumiinifolio",
          fr: "Papier aluminium",
          ar: "Ø±Ù‚Ø§Ø¦Ù‚ Ø§Ù„Ø£Ù„ÙˆÙ…Ù†ÙŠÙˆÙ…",
          it: "Foglio di alluminio",
        },
        sponge: {
          en: "Sponge",
          zh: "æµ·ç¶¿",
          ja: "ã‚¹ãƒãƒ³ã‚¸",
          ko: "ìŠ¤í€ì§€",
          es: "Esponja",
          de: "Schwamm",
          fi: "Sieni",
          fr: "Ã‰ponge",
          ar: "Ø¥Ø³ÙÙ†Ø¬Ø©",
          it: "Spugna",
        },
        raincoat: {
          en: "Raincoat",
          zh: "é›¨è¡£",
          ja: "ãƒ¬ã‚¤ãƒ³ã‚³ãƒ¼ãƒˆ",
          ko: "ìš°ë¹„",
          es: "Impermeable",
          de: "Regenmantel",
          fi: "Sadetakki",
          fr: "ImpermÃ©able",
          ar: "Ù…Ø¹Ø·Ù ÙˆØ§Ù‚ Ù…Ù† Ø§Ù„Ù…Ø·Ø±",
          it: "Impermeabile",
        },

        correct: {
          en: "Test Complete!",
          zh: "æ¸¬è©¦å®Œæˆï¼",
          ja: "ãƒ†ã‚¹ãƒˆå®Œäº†ï¼",
          ko: "í…ŒìŠ¤íŠ¸ ì™„ë£Œ!",
          es: "Â¡Prueba Completa!",
          de: "Test abgeschlossen!",
          fi: "Testi valmis!",
          fr: "Test terminÃ© !",
          ar: "Ø§ÙƒØªÙ…Ù„ Ø§Ù„Ø§Ø®ØªØ¨Ø§Ø±!",
          it: "Test Completato!",
        },
        reset: {
          en: "Test Again",
          zh: "é‡æ–°æ¸¬è©¦",
          ja: "å†ãƒ†ã‚¹ãƒˆ",
          ko: "ë‹¤ì‹œ í…ŒìŠ¤íŠ¸",
          es: "Probar de Nuevo",
          de: "Nochmal testen",
          fi: "Testaa uudelleen",
          fr: "Tester Ã  nouveau",
          ar: "Ø§Ø®ØªØ¨Ø± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Testa di Nuvo",
        },
      };

      const items = [
        { id: "paper", waterproof: false, icon: "ğŸ“„", color: "bg-white" },
        {
          id: "plastic",
          waterproof: true,
          icon: "ğŸ’³",
          color: "bg-blue-100 opacity-80",
        }, // Simulating transparency
        { id: "cloth", waterproof: false, icon: "ğŸ‘•", color: "bg-red-100" },
        { id: "foil", waterproof: true, icon: "ğŸ¥ˆ", color: "bg-gray-300" },
        {
          id: "raincoat",
          waterproof: true,
          icon: "ğŸ§¥",
          color: "bg-yellow-300",
        },
        { id: "sponge", waterproof: false, icon: "ğŸ§½", color: "bg-yellow-100" }, // Absorbent
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [currentItem, setCurrentItem] = useState(null);
        const [queue, setQueue] = useState([]);
        const [wetness, setWetness] = useState(0); // 0 to 100
        const [tested, setTested] = useState(false);
        const [animating, setAnimating] = useState(false);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          initGame();
        }, []);

        const initGame = () => {
          const q = [...items].sort(() => Math.random() - 0.5);
          setQueue(q);
          setCurrentItem(q[0]);
          setWetness(0);
          setTested(false);
        };

        const handleSpray = () => {
          if (tested || animating) return;

          setAnimating(true);
          setTimeout(() => {
            setAnimating(false);
            setTested(true);
            if (!currentItem.waterproof) {
              setWetness(100);
            } else {
              setWetness(0); // Drops bead up but item inner dry
            }
          }, 1500); // Animation duration
        };

        const next = () => {
          const nextIdx = queue.indexOf(currentItem) + 1;
          if (nextIdx < queue.length) {
            setCurrentItem(queue[nextIdx]);
            setWetness(0);
            setTested(false);
          } else {
            initGame();
          }
        };

        return (
          <div className="min-h-screen p-4 flex flex-col items-center select-none font-sans overflow-hidden">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-cyan-900 mb-4 mt-8 drop-shadow-sm bg-white/50 px-6 py-2 rounded-full">
              ğŸš¿ {getText("title")}
            </h1>

            {currentItem && (
              <div className="w-full max-w-lg flex flex-col items-center flex-1 justify-center relative">
                {/* Test Area */}
                <div className="relative w-full aspect-square bg-slate-800 rounded-3xl shadow-2xl overflow-hidden border-8 border-slate-600 mb-8 flex items-center justify-center">
                  {/* Item Holder */}
                  <div
                    className={`w-64 h-64 ${currentItem.color} rounded-xl shadow-lg flex items-center justify-center text-9xl relative transition-all duration-1000`}
                    style={{
                      filter:
                        wetness > 0 ? "brightness(0.8) sepia(0.2)" : "none",
                      transform:
                        wetness > 0 && !currentItem.waterproof
                          ? "scale(0.95)"
                          : "none", // Soggy effect
                    }}
                  >
                    {currentItem.icon}

                    {/* Water Layer */}
                    {(tested || animating) && (
                      <div className="absolute inset-0 overflow-hidden rounded-xl">
                        {/* Spray Animation */}
                        {animating && (
                          <div className="absolute top-0 left-1/2 -translate-x-1/2 -translate-y-full w-20 h-full bg-blue-400/50 blur-xl animate-spray"></div>
                        )}

                        {/* Beads (If waterproof) */}
                        {currentItem.waterproof && tested && (
                          <div className="absolute inset-0">
                            {[...Array(20)].map((_, i) => (
                              <div
                                key={i}
                                className="absolute bg-blue-400/80 rounded-full shadow-inner border border-white/50"
                                style={{
                                  width: Math.random() * 20 + 10 + "px",
                                  height: Math.random() * 20 + 10 + "px",
                                  top: Math.random() * 80 + "%",
                                  left: Math.random() * 80 + "%",
                                }}
                              ></div>
                            ))}
                          </div>
                        )}

                        {/* Soak (If not waterproof) */}
                        {!currentItem.waterproof && tested && (
                          <div className="absolute inset-0 bg-blue-900/30 mix-blend-multiply"></div>
                        )}
                      </div>
                    )}
                  </div>

                  {/* Nozzle Visual */}
                  <div className="absolute top-4 left-1/2 -translate-x-1/2 w-16 h-24 bg-gray-700 rounded-b-xl border-4 border-gray-500 z-20 flex flex-col items-center">
                    <div className="w-2 h-4 bg-black rounded-full mt-auto mb-2"></div>
                    {animating && (
                      <div className="absolute bottom-0 translate-y-full flex flex-col items-center">
                        <div className="w-0 h-0 border-l-[20px] border-l-transparent border-r-[20px] border-r-transparent border-t-[50px] border-blue-400/50 blur-sm"></div>
                      </div>
                    )}
                  </div>

                  {tested && (
                    <div
                      className={`absolute bottom-8 px-6 py-2 rounded-xl font-black text-2xl shadow-xl z-30 ${
                        currentItem.waterproof
                          ? "bg-green-500 text-white"
                          : "bg-blue-600 text-white"
                      }`}
                    >
                      {currentItem.waterproof
                        ? getText("result_dry")
                        : getText("result_wet")}
                    </div>
                  )}
                </div>

                <div className="text-2xl font-black text-cyan-900 mb-6">
                  {getText(currentItem.id)}
                </div>

                {!tested ? (
                  <button
                    onClick={handleSpray}
                    disabled={animating}
                    className={`bg-cyan-600 text-white px-12 py-6 rounded-full font-black text-3xl shadow-xl border-b-8 border-cyan-800 active:border-b-0 active:translate-y-2 transition-all ${
                      animating ? "opacity-50" : "hover:bg-cyan-500"
                    }`}
                  >
                    ğŸ’§ {getText("spray")}
                  </button>
                ) : (
                  <button
                    onClick={next}
                    className="bg-green-500 text-white px-12 py-4 rounded-full font-black text-2xl shadow-xl hover:bg-green-600 hover:scale-105 transition-all"
                  >
                    {getText("next")} â¡ï¸
                  </button>
                )}
              </div>
            )}
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
