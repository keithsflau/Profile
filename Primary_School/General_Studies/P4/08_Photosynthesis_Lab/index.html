<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Photosynthesis Lab</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: linear-gradient(180deg, #bae6fd 0%, #a3e635 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Photosynthesis Lab",
          zh: "å…‰åˆä½œç”¨å¯¦é©—å®¤",
          ja: "å…‰åˆæˆãƒ©ãƒœ",
          ko: "ê´‘í•©ì„± ì‹¤í—˜ì‹¤",
          es: "Laboratorio de FotosÃ­ntesis",
          de: "Photosynthese-Labor",
          fi: "YhteyttÃ¤mislaboratorio",
          fr: "Laboratoire de photosynthÃ¨se",
          ar: "Ù…Ø®ØªØ¨Ø± Ø§Ù„ØªØ±ÙƒÙŠØ¨ Ø§Ù„Ø¶ÙˆØ¦ÙŠ",
          it: "Laboratorio Fotosintesi",
        },
        instruction: {
          en: "Provide what the plant needs!",
          zh: "æä¾›æ¤ç‰©éœ€è¦çš„æ±è¥¿ï¼",
          ja: "æ¤ç‰©ã«å¿…è¦ãªã‚‚ã®ã‚’ä¸ãˆã¦ãã ã•ã„ï¼",
          ko: "ì‹ë¬¼ì—ê²Œ í•„ìš”í•œ ê²ƒì„ ì œê³µí•˜ì„¸ìš”!",
          es: "Â¡Proporciona lo que la planta necesita!",
          de: "Gib der Pflanze, was sie braucht!",
          fi: "Anna kasville mitÃ¤ se tarvitsee!",
          fr: "Donnez Ã  la plante ce dont elle a besoin !",
          ar: "ÙˆÙØ± Ù…Ø§ ÙŠØ­ØªØ§Ø¬Ù‡ Ø§Ù„Ù†Ø¨Ø§Øª!",
          it: "Fornisci ciÃ² di cui la pianta ha bisogno!",
        },
        sun: {
          en: "Sunlight",
          zh: "é™½å…‰",
          ja: "æ—¥å…‰",
          ko: "í–‡ë¹›",
          es: "Luz solar",
          de: "Sonnenlicht",
          fi: "Auringonvalo",
          fr: "LumiÃ¨re du soleil",
          ar: "Ø¶ÙˆØ¡ Ø§Ù„Ø´Ù…Ø³",
          it: "Luce solare",
        },
        water: {
          en: "Water",
          zh: "æ°´",
          ja: "æ°´",
          ko: "ë¬¼",
          es: "Agua",
          de: "Wasser",
          fi: "Vesi",
          fr: "Eau",
          ar: "Ù…Ø§Ø¡",
          it: "Acqua",
        },
        co2: {
          en: "Carbon Dioxide",
          zh: "äºŒæ°§åŒ–ç¢³",
          ja: "äºŒé…¸åŒ–ç‚­ç´ ",
          ko: "ì´ì‚°í™”íƒ„ì†Œ",
          es: "DiÃ³xido de carbono",
          de: "Kohlendioxid",
          fi: "Hiilidioksidi",
          fr: "Dioxyde de carbone",
          ar: "Ø«Ø§Ù†ÙŠ Ø£ÙƒØ³ÙŠØ¯ Ø§Ù„ÙƒØ±Ø¨ÙˆÙ†",
          it: "Anidride Carbonica",
        },
        oxygen: {
          en: "Oxygen",
          zh: "æ°§æ°£",
          ja: "é…¸ç´ ",
          ko: "ì‚°ì†Œ",
          es: "OxÃ­geno",
          de: "Sauerstoff",
          fi: "Happi",
          fr: "OxygÃ¨ne",
          ar: "Ø£ÙƒØ³Ø¬ÙŠÙ†",
          it: "Ossigeno",
        },
        food: {
          en: "Food (Sugar)",
          zh: "é¤Šåˆ† (ç³–)",
          ja: "é¤Šåˆ† (ç³–)",
          ko: "ì–‘ë¶„ (ì„¤íƒ•)",
          es: "Alimento (AzÃºcar)",
          de: "Nahrung (Zucker)",
          fi: "Ravinto (Sokeri)",
          fr: "Nourriture (Sucre)",
          ar: "ØºØ°Ø§Ø¡ (Ø³ÙƒØ±)",
          it: "Cibo (Zucchero)",
        },
        growing: {
          en: "Growing...",
          zh: "ç”Ÿé•·ä¸­...",
          ja: "æˆé•·ä¸­...",
          ko: "ìë¼ëŠ” ì¤‘...",
          es: "Creciendo...",
          de: "WÃ¤chst...",
          fi: "Kasvaa...",
          fr: "Pousse...",
          ar: "ÙŠÙ†Ù…Ùˆ...",
          it: "Crescita...",
        },
        done: {
          en: "Completed!",
          zh: "å®Œæˆäº†ï¼",
          ja: "å®Œäº†ï¼",
          ko: "ì™„ë£Œ!",
          es: "Â¡Completado!",
          de: "Fertig!",
          fi: "Valmis!",
          fr: "TerminÃ© !",
          ar: "Ù…Ù†ØªÙ‡Ù‰!",
          it: "Completato!",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [inputs, setInputs] = useState({
          sun: false,
          water: false,
          co2: false,
        });
        const [progress, setProgress] = useState(0);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const toggleInput = (key) => {
          setInputs((prev) => ({ ...prev, [key]: !prev[key] }));
        };

        useEffect(() => {
          if (inputs.sun && inputs.water && inputs.co2) {
            const interval = setInterval(() => {
              setProgress((p) => {
                if (p >= 100) {
                  clearInterval(interval);
                  return 100;
                }
                return p + 1;
              });
            }, 50);
            return () => clearInterval(interval);
          } else {
            // Maybe regress if not all inputs?
            // Simplification: stop growing
          }
        }, [inputs]);

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-4 text-green-800 drop-shadow-sm">
              {getText("title")}
            </h1>

            <div className="flex-1 w-full max-w-4xl relative flex items-end justify-center pb-8">
              {/* Scene */}

              {/* Ground */}
              <div className="absolute bottom-0 w-full h-32 bg-amber-800 rounded-t-3xl z-10"></div>

              {/* Plant */}
              <div
                className="relative z-20 flex flex-col items-center"
                style={{ marginBottom: "20px" }}
              >
                <motion.div
                  className="w-4 bg-green-600 rounded-full"
                  style={{ height: `${50 + progress * 2}px` }}
                ></motion.div>
                {/* Leaves */}
                <motion.div
                  className="absolute w-12 h-12 bg-green-500 rounded-tr-[30px] rounded-bl-[30px]"
                  animate={{
                    scale: inputs.sun && inputs.water && inputs.co2 ? 1.2 : 1,
                  }}
                  style={{
                    top: "20%",
                    left: "-30px",
                    opacity: progress > 20 ? 1 : 0,
                  }}
                ></motion.div>
                <motion.div
                  className="absolute w-12 h-12 bg-green-500 rounded-tl-[30px] rounded-br-[30px]"
                  animate={{
                    scale: inputs.sun && inputs.water && inputs.co2 ? 1.2 : 1,
                  }}
                  style={{
                    top: "40%",
                    right: "-30px",
                    opacity: progress > 40 ? 1 : 0,
                  }}
                ></motion.div>

                {/* Products being released */}
                {progress > 80 && (
                  <>
                    <div className="absolute -right-16 top-0 text-white font-bold animate-bounce">
                      ğŸ’¨ {getText("oxygen")}
                    </div>
                    <div className="absolute -left-16 bottom-0 text-yellow-200 font-bold animate-pulse">
                      ğŸ¬ {getText("food")}
                    </div>
                  </>
                )}
              </div>

              {/* Inputs UI Controls */}
              <div className="absolute top-4 left-4 right-4 flex justify-center gap-6 z-30">
                <button
                  onClick={() => toggleInput("sun")}
                  className={`p-4 rounded-full shadow-xl transition-all ${
                    inputs.sun
                      ? "bg-yellow-400 scale-110 ring-4 ring-yellow-200"
                      : "bg-gray-200 opacity-50"
                  }`}
                >
                  <div className="text-4xl">â˜€ï¸</div>
                  <div className="text-xs font-bold text-slate-700">
                    {getText("sun")}
                  </div>
                </button>
                <button
                  onClick={() => toggleInput("water")}
                  className={`p-4 rounded-full shadow-xl transition-all ${
                    inputs.water
                      ? "bg-blue-400 scale-110 ring-4 ring-blue-200"
                      : "bg-gray-200 opacity-50"
                  }`}
                >
                  <div className="text-4xl">ğŸ’§</div>
                  <div className="text-xs font-bold text-slate-700">
                    {getText("water")}
                  </div>
                </button>
                <button
                  onClick={() => toggleInput("co2")}
                  className={`p-4 rounded-full shadow-xl transition-all ${
                    inputs.co2
                      ? "bg-gray-400 scale-110 ring-4 ring-gray-200"
                      : "bg-gray-200 opacity-50"
                  }`}
                >
                  <div className="text-4xl">ğŸŒ«ï¸</div>
                  <div className="text-xs font-bold text-slate-700">
                    {getText("co2")}
                  </div>
                </button>
              </div>

              {/* Status */}
              <div className="absolute bottom-4 left-0 right-0 text-center z-40 text-white font-black text-2xl drop-shadow-md">
                {progress === 100
                  ? getText("done")
                  : inputs.sun && inputs.water && inputs.co2
                  ? getText("growing")
                  : getText("instruction")}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
