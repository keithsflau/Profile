<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - IT Password</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #111827;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Password Strength Checker",
          zh: "ÂØÜÁ¢ºÂº∑Â∫¶Ê∏¨Ë©¶",
          ja: "„Éë„Çπ„ÉØ„Éº„ÉâÂº∑Â∫¶„ÉÅ„Çß„ÉÉ„Ç´„Éº",
          ko: "ÎπÑÎ∞ÄÎ≤àÌò∏ Í∞ïÎèÑ Í≤ÄÏÇ¨Í∏∞",
          es: "Verificador seguro de contrase√±as",
          de: "Passwort-St√§rke-Checker",
          fi: "Salasanan vahvuustarkistus",
          fr: "V√©rificateur de force de mot de passe",
          ar: "ŸÅÿßÿ≠ÿµ ŸÇŸàÿ© ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±",
          it: "Controllo Robustezza Password",
        },
        instruction: {
          en: "Enter a password to check its strength!",
          zh: "Ëº∏ÂÖ•ÂØÜÁ¢º‰ª•Ê™¢Êü•ÂÖ∂Âº∑Â∫¶ÔºÅ",
          ja: "„Éë„Çπ„ÉØ„Éº„Éâ„ÇíÂÖ•Âäõ„Åó„Å¶Âº∑Â∫¶„ÇíÁ¢∫Ë™ç„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ",
          ko: "ÎπÑÎ∞ÄÎ≤àÌò∏Î•º ÏûÖÎ†•ÌïòÏó¨ Í∞ïÎèÑÎ•º ÌôïÏù∏ÌïòÏÑ∏Ïöî!",
          es: "¬°Ingresa una contrase√±a para verificar su seguridad!",
          de: "Geben Sie ein Passwort ein, um dessen St√§rke zu √ºberpr√ºfen!",
          fi: "Sy√∂t√§ salasana tarkistaaksesi sen vahvuuden!",
          fr: "Entrez un mot de passe pour v√©rifier sa force !",
          ar: "ÿ£ÿØÿÆŸÑ ŸÉŸÑŸÖÿ© ŸÖÿ±Ÿàÿ± ŸÑŸÑÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ŸÇŸàÿ™Ÿáÿß!",
          it: "Inserisci una password per verificarne la robustezza!",
        },
        weak: {
          en: "Weak",
          zh: "Âº±",
          ja: "Âº±„ÅÑ",
          ko: "ÏïΩÌï®",
          es: "D√©bil",
          de: "Schwach",
          fi: "Heikko",
          fr: "Faible",
          ar: "ÿ∂ÿπŸäŸÅ",
          it: "Debole",
        },
        medium: {
          en: "Medium",
          zh: "‰∏≠Á≠â",
          ja: "ÊôÆÈÄö",
          ko: "Ï§ëÍ∞Ñ",
          es: "Medio",
          de: "Mittel",
          fi: "Keskitaso",
          fr: "Moyen",
          ar: "ŸÖÿ™Ÿàÿ≥ÿ∑",
          it: "Medio",
        },
        strong: {
          en: "Strong",
          zh: "Âº∑",
          ja: "Âº∑„ÅÑ",
          ko: "Í∞ïÌï®",
          es: "Fuerte",
          de: "Stark",
          fi: "Vahva",
          fr: "Fort",
          ar: "ŸÇŸàŸä",
          it: "Forte",
        },
        tips: {
          en: "Tips: Use mix of Upper, Lower, Numbers, Symbols.",
          zh: "ÊèêÁ§∫ÔºöÊ∑∑Âêà‰ΩøÁî®Â§ßÂ∞èÂØ´„ÄÅÊï∏Â≠óÂíåÁ¨¶Ëôü„ÄÇ",
          ja: "„Éí„É≥„ÉàÔºöÂ§ßÊñáÂ≠ó„ÄÅÂ∞èÊñáÂ≠ó„ÄÅÊï∞Â≠ó„ÄÅË®òÂè∑„ÇíÊ∑∑„Åú„Å¶„Åè„Å†„Åï„ÅÑ„ÄÇ",
          ko: "ÌåÅ: ÎåÄÎ¨∏Ïûê, ÏÜåÎ¨∏Ïûê, Ïà´Ïûê, Í∏∞Ìò∏Î•º ÏÑûÏñ¥ÏÑú ÏÇ¨Ïö©ÌïòÏÑ∏Ïöî.",
          es: "Consejos: Use una mezcla de may√∫sculas, min√∫sculas, n√∫meros, s√≠mbolos.",
          de: "Tipps: Verwenden Sie eine Mischung aus Gro√ü- und Kleinbuchstaben, Zahlen und Symbolen.",
          fi: "Vinkki: K√§yt√§ sekoitusta isoja ja pieni√§ kirjaimia, numeroita ja symboleja.",
          fr: "Conseils : Utilisez un m√©lange de majuscules, minuscules, chiffres, symboles.",
          ar: "ŸÜÿµÿßÿ¶ÿ≠: ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≤Ÿäÿ¨Ÿãÿß ŸÖŸÜ ÿßŸÑÿ£ÿ≠ÿ±ŸÅ ÿßŸÑŸÉÿ®Ÿäÿ±ÿ© ŸàÿßŸÑÿµÿ∫Ÿäÿ±ÿ© ŸàÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ŸàÿßŸÑÿ±ŸÖŸàÿ≤.",
          it: "Suggerimenti: Usa un mix di Maiuscole, Minuscole, Numeri, Simboli.",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [pw, setPw] = useState("");
        const [score, setScore] = useState(0);

        const getText = (key) => t[key][lang] || t[key]["en"];

        useEffect(() => {
          let s = 0;
          if (pw.length > 5) s++;
          if (pw.length > 8) s++;
          if (/[A-Z]/.test(pw)) s++;
          if (/[0-9]/.test(pw)) s++;
          if (/[^A-Za-z0-9]/.test(pw)) s++; // Symbol

          if (pw.toLowerCase() === "password" || pw === "123456") s = 0; // Common bad passwords

          setScore(s);
        }, [pw]);

        const getStrength = () => {
          if (score < 2) return { text: "weak", color: "bg-red-500", w: "33%" };
          if (score < 4)
            return { text: "medium", color: "bg-yellow-500", w: "66%" };
          return { text: "strong", color: "bg-green-500", w: "100%" };
        };

        const strength = getStrength();

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4 bg-slate-900 text-white font-mono">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-cyan-400">
              üîê {getText("title")}
            </h1>

            <div className="w-full max-w-xl bg-slate-800 p-8 rounded-2xl shadow-2xl border border-slate-700">
              <label className="block mb-4 text-slate-400">
                {getText("instruction")}
              </label>
              <input
                type="text"
                value={pw}
                onChange={(e) => setPw(e.target.value)}
                className="w-full bg-slate-900 border-2 border-slate-600 rounded-xl p-4 text-2xl text-white focus:outline-none focus:border-cyan-500 transition-colors"
                placeholder="..."
              />

              {/* Meter */}
              <div className="mt-8 h-4 bg-slate-700 rounded-full overflow-hidden relative">
                <motion.div
                  animate={{
                    width: strength.w,
                    backgroundColor:
                      strength.color === "bg-red-500"
                        ? "#ef4444"
                        : strength.color === "bg-yellow-500"
                        ? "#eab308"
                        : "#22c55e",
                  }}
                  className="h-full transition-all"
                />
              </div>

              <div
                className={`mt-4 text-center text-3xl font-bold uppercase tracking-widest ${
                  strength.color === "bg-red-500"
                    ? "text-red-500"
                    : strength.color === "bg-yellow-500"
                    ? "text-yellow-500"
                    : "text-green-500"
                }`}
              >
                {getText(strength.text)}
              </div>

              <div className="mt-8 bg-slate-700/50 p-4 rounded-xl text-sm text-slate-400 border border-slate-600">
                {getText("tips")}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
