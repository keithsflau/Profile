<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Air Quality</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #f1f5f9;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Air Quality Index (AQI)",
          zh: "ç©ºæ°£è³ªç´ æŒ‡æ•¸",
          ja: "ç©ºæ°—è³ªæŒ‡æ•°",
          ko: "ëŒ€ê¸°ì§ˆ ì§€ìˆ˜",
          es: "Ãndice de Calidad del Aire",
          de: "LuftqualitÃ¤tsindex",
          fi: "Ilmanlaatuindeksi",
          fr: "Indice de qualitÃ© de l'air",
          ar: "Ù…Ø¤Ø´Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡",
          it: "Indice QualitÃ  Aria",
        },
        instruction: {
          en: "Match the AQI level to the health advice.",
          zh: "å°‡ç©ºæ°£è³ªç´ æ°´å¹³èˆ‡å¥åº·å»ºè­°é…å°ã€‚",
          ja: "AQIãƒ¬ãƒ™ãƒ«ã‚’å¥åº·ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã«åˆã‚ã›ã¦ãã ã•ã„ã€‚",
          ko: "AQI ìˆ˜ì¤€ì„ ê±´ê°• ì¡°ì–¸ì— ë§ì¶”ì„¸ìš”.",
          es: "Haga coincidir el nivel de AQI con los consejos de salud.",
          de: "Ordne das AQI-Level dem Gesundheitsrat zu.",
          fi: "YhdistÃ¤ ilmanlaatuindeksi terveysneuvoihin.",
          fr: "Associez le niveau IQA aux conseils de santÃ©.",
          ar: "Ø·Ø§Ø¨Ù‚ Ù…Ø³ØªÙˆÙ‰ Ù…Ø¤Ø´Ø± Ø¬ÙˆØ¯Ø© Ø§Ù„Ù‡ÙˆØ§Ø¡ Ù…Ø¹ Ø§Ù„Ù†ØµØ§Ø¦Ø­ Ø§Ù„ØµØ­ÙŠØ©.",
          it: "Abbina il livello AQI ai consigli sanitari.",
        },
        level_low: {
          en: "Low (1-3)",
          zh: "ä½ (1-3)",
          ja: "ä½ã„ (1-3)",
          ko: "ë‚®ìŒ (1-3)",
          es: "Bajo (1-3)",
          de: "Niedrig (1-3)",
          fi: "Matala (1-3)",
          fr: "Faible (1-3)",
          ar: "Ù…Ù†Ø®ÙØ¶ (1-3)",
          it: "Basso (1-3)",
        },
        level_med: {
          en: "Moderate (4-6)",
          zh: "ä¸­ (4-6)",
          ja: "ä¸­ç¨‹åº¦ (4-6)",
          ko: "ë³´í†µ (4-6)",
          es: "Moderado (4-6)",
          de: "Mittel (4-6)",
          fi: "Kohtalainen (4-6)",
          fr: "ModÃ©rÃ© (4-6)",
          ar: "Ù…ØªÙˆØ³Ø· (4-6)",
          it: "Moderato (4-6)",
        },
        level_high: {
          en: "High (7)",
          zh: "é«˜ (7)",
          ja: "é«˜ã„ (7)",
          ko: "ë†’ìŒ (7)",
          es: "Alto (7)",
          de: "Hoch (7)",
          fi: "Korkea (7)",
          fr: "Ã‰levÃ© (7)",
          ar: "Ù…Ø±ØªÙØ¹ (7)",
          it: "Alto (7)",
        },
        level_vhigh: {
          en: "Very High (8-10)",
          zh: "ç”šé«˜ (8-10)",
          ja: "éå¸¸ã«é«˜ã„ (8-10)",
          ko: "ë§¤ìš° ë†’ìŒ (8-10)",
          es: "Muy Alto (8-10)",
          de: "Sehr Hoch (8-10)",
          fi: "ErittÃ¤in korkea (8-10)",
          fr: "TrÃ¨s Ã©levÃ© (8-10)",
          ar: "Ù…Ø±ØªÙØ¹ Ø¬Ø¯Ø§ (8-10)",
          it: "Molto Alto (8-10)",
        },
        level_serious: {
          en: "Serious (10+)",
          zh: "åš´é‡ (10+)",
          ja: "æ·±åˆ» (10+)",
          ko: "ì‹¬ê° (10+)",
          es: "Grave (10+)",
          de: "Ernst (10+)",
          fi: "Vakava (10+)",
          fr: "Grave (10+)",
          ar: "Ø®Ø·ÙŠØ± (10+)",
          it: "Grave (10+)",
        },

        advice_good: {
          en: "Enjoy outdoor activities!",
          zh: "äº«å—æˆ¶å¤–æ´»å‹•ï¼",
          ja: "å±‹å¤–ã§ã®æ´»å‹•ã‚’æ¥½ã—ã‚‚ã†ï¼",
          ko: "ì•¼ì™¸ í™œë™ì„ ì¦ê¸°ì„¸ìš”!",
          es: "Â¡Disfruta de las actividades al aire libre!",
          de: "GenieÃŸen Sie Outdoor-AktivitÃ¤ten!",
          fi: "Nauti ulkoilusta!",
          fr: "Profitez des activitÃ©s de plein air !",
          ar: "Ø§Ø³ØªÙ…ØªØ¹ Ø¨Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©!",
          it: "Goditi le attivitÃ  all'aperto!",
        },
        advice_bad: {
          en: "Reduce outdoor activities.",
          zh: "æ¸›å°‘æˆ¶å¤–æ´»å‹•ã€‚",
          ja: "å±‹å¤–æ´»å‹•ã‚’æ¸›ã‚‰ã—ã¦ãã ã•ã„ã€‚",
          ko: "ì•¼ì™¸ í™œë™ì„ ì¤„ì´ì„¸ìš”.",
          es: "Reducir las actividades al aire libre.",
          de: "Reduzieren Sie Outdoor-AktivitÃ¤ten.",
          fi: "VÃ¤hennÃ¤ ulkoilua.",
          fr: "RÃ©duisez les activitÃ©s de plein air.",
          ar: "Ù‚Ù„Ù„ Ù…Ù† Ø§Ù„Ø£Ù†Ø´Ø·Ø© Ø§Ù„Ø®Ø§Ø±Ø¬ÙŠØ©.",
          it: "Riduci le attivitÃ  all'aperto.",
        },

        correct: {
          en: "Correct!",
          zh: "æ­£ç¢ºï¼",
          ja: "æ­£è§£ï¼",
          ko: "ì •ë‹µ!",
          es: "Â¡Correcto!",
          de: "Richtig!",
          fi: "Oikein!",
          fr: "Correct !",
          ar: "ØµØ­ÙŠØ­!",
          it: "Corretto!",
        },
      };

      // Simplified game: Show AQI Gauge, user picks "Go Out" or "Stay In" / Mask?
      // Or simple scale learner.
      // Let's do a Gauge Simulation. Slider moves, background changes colour, character reacts.

      const levels = [
        {
          val: 2,
          label: "level_low",
          color: "bg-green-400",
          advice: "advice_good",
          face: "ğŸ˜",
        },
        {
          val: 5,
          label: "level_med",
          color: "bg-yellow-400",
          advice: "advice_good",
          face: "ğŸ˜",
        },
        {
          val: 7,
          label: "level_high",
          color: "bg-orange-400",
          advice: "advice_bad",
          face: "ğŸ˜·",
        },
        {
          val: 9,
          label: "level_vhigh",
          color: "bg-red-500",
          advice: "advice_bad",
          face: "ğŸ¤¢",
        },
        {
          val: 11,
          label: "level_serious",
          color: "bg-purple-900",
          advice: "advice_bad",
          face: "â˜ ï¸",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [aqi, setAqi] = useState(3);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const currentLevel =
          levels.find((l) => aqi <= (l.val === 11 ? 20 : l.val + 1)) ||
          levels[4];

        // Find rough match logic:
        // 1-3 Low -> index 0 (val 2 covers 1-3 roughly in simple UI)
        // Let's just resolve based on ranges
        const getLevelData = (v) => {
          if (v <= 3) return levels[0];
          if (v <= 6) return levels[1];
          if (v === 7) return levels[2];
          if (v <= 10) return levels[3];
          return levels[4];
        };

        const data = getLevelData(aqi);

        return (
          <div
            className={`min-h-screen flex flex-col items-center p-4 transition-colors duration-1000 ${data.color} bg-opacity-20`}
          >
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-slate-800">
              {getText("title")}
            </h1>

            <div className="bg-white p-8 rounded-3xl shadow-2xl w-full max-w-xl text-center">
              <div className="text-8xl mb-4 transition-all duration-500 transform hover:scale-110">
                {data.face}
              </div>

              <div className="text-6xl font-black mb-2 text-slate-700">
                {aqi}
              </div>
              <div
                className={`inline-block px-4 py-1 rounded text-white font-bold mb-6 ${data.color}`}
              >
                {getText(data.label)}
              </div>

              <input
                type="range"
                min="1"
                max="12"
                value={aqi}
                onChange={(e) => setAqi(Number(e.target.value))}
                className="w-full h-4 bg-slate-200 rounded-lg appearance-none cursor-pointer mb-8"
              />

              <div className="bg-slate-50 p-6 rounded-xl border-2 border-slate-100">
                <div className="text-slate-500 text-sm font-bold uppercase mb-2">
                  Health Advice
                </div>
                <div className="text-xl font-bold text-slate-800">
                  {getText(data.advice)}
                </div>
              </div>
            </div>

            {/* Background Elements */}
            {aqi > 7 && (
              <div className="fixed inset-0 pointer-events-none bg-gray-500/20 z-[-1] backdrop-blur-[1px]"></div>
            )}
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
