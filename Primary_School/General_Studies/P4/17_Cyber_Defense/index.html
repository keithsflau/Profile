<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Cyber Defense</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #0f172a;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Cyber Defense: Phishing",
          zh: "Á∂≤Áµ°Èò≤Á¶¶ÔºöÈá£È≠öÈÉµ‰ª∂",
          ja: "„Çµ„Ç§„Éê„ÉºÈò≤Ë°õÔºö„Éï„Ç£„ÉÉ„Ç∑„É≥„Ç∞",
          ko: "ÏÇ¨Ïù¥Î≤Ñ Î∞©Ïñ¥: ÌîºÏã±",
          es: "Ciberdefensa: Phishing",
          de: "Cyber-Abwehr: Phishing",
          fi: "Kyberpuolustus: Tietojenkalastelu",
          fr: "Cyberd√©fense : Hame√ßonnage",
          ar: "ÿßŸÑÿØŸÅÿßÿπ ÿßŸÑÿ≥Ÿäÿ®ÿ±ÿßŸÜŸä: ÿßŸÑÿ™ÿµŸäÿØ",
          it: "Difesa Informatica: Phishing",
        },
        instruction: {
          en: "Is this email SAFE to open or a SCAM?",
          zh: "ÈÄôÂ∞ÅÈÉµ‰ª∂ÊòØÂÆâÂÖ®ÁöÑÈÇÑÊòØË©êÈ®ôÔºü",
          ja: "„Åì„ÅÆ„É°„Éº„É´„ÅØÂÆâÂÖ®„Åß„Åô„Åã„ÄÅ„Åù„Çå„Å®„ÇÇË©êÊ¨∫„Åß„Åô„ÅãÔºü",
          ko: "Ïù¥ Ïù¥Î©îÏùºÏùÄ ÏïàÏ†ÑÌïúÍ∞ÄÏöî, ÏïÑÎãàÎ©¥ ÏÇ¨Í∏∞Ïù∏Í∞ÄÏöî?",
          es: "¬øEs este correo electr√≥nico SEGURO o una ESTAFA?",
          de: "Ist diese E-Mail SICHER oder ein BETRUG?",
          fi: "Onko t√§m√§ s√§hk√∂posti TURVALLINEN vai HUIJAUS?",
          fr: "Cet e-mail est-il SANS DANGER ou une ARNAQUE ?",
          ar: "ŸáŸÑ Ÿáÿ∞ÿß ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿ¢ŸÖŸÜ ŸÑŸÑŸÅÿ™ÿ≠ ÿ£ŸÖ ÿßÿ≠ÿ™ŸäÿßŸÑÿü",
          it: "Questa email √® SICURA o una TRUFFA?",
        },
        safe: {
          en: "Safe (Reply)",
          zh: "ÂÆâÂÖ® (ÂõûË¶Ü)",
          ja: "ÂÆâÂÖ® (Ëøî‰ø°)",
          ko: "ÏïàÏ†Ñ (ÎãµÏû•)",
          es: "Seguro (Responder)",
          de: "Sicher (Antworten)",
          fi: "Turvallinen (Vastaa)",
          fr: "S√ªr (R√©pondre)",
          ar: "ÿ¢ŸÖŸÜ (ÿ±ÿØ)",
          it: "Sicuro (Rispondi)",
        },
        scam: {
          en: "Scam (Report)",
          zh: "Ë©êÈ®ô (ËàâÂ†±)",
          ja: "Ë©êÊ¨∫ (Â†±Âëä)",
          ko: "ÏÇ¨Í∏∞ (Ïã†Í≥†)",
          es: "Estafa (Reportar)",
          de: "Betrug (Melden)",
          fi: "Huijaus (Raportoi)",
          fr: "Arnaque (Signaler)",
          ar: "ÿßÿ≠ÿ™ŸäÿßŸÑ (ÿ•ÿ®ŸÑÿßÿ∫)",
          it: "Truffa (Segnala)",
        },
        correct: {
          en: "Correct! Well spotted.",
          zh: "Á≠îÂ∞ç‰∫ÜÔºÅËßÄÂØüÊïèÈä≥„ÄÇ",
          ja: "Ê≠£Ëß£ÔºÅ„Çà„ÅèÊ∞ó„Å•„Åç„Åæ„Åó„Åü„ÄÇ",
          ko: "Ï†ïÎãµ! Ïûò Î∞úÍ≤¨ÌñàÏäµÎãàÎã§.",
          es: "¬°Correcto! Bien visto.",
          de: "Richtig! Gut erkannt.",
          fi: "Oikein! Hyvin huomattu.",
          fr: "Correct ! Bien vu.",
          ar: "ÿµÿ≠Ÿäÿ≠! ŸÖŸÑÿßÿ≠ÿ∏ÿ© ÿ¨ŸäÿØÿ©.",
          it: "Corretto! Ben individuato.",
        },
        wrong: {
          en: "Watch out! Check the sender.",
          zh: "Â∞èÂøÉÔºÅÊ™¢Êü•Áôº‰ª∂‰∫∫„ÄÇ",
          ja: "Ê∞ó„Çí„Å§„Åë„Å¶ÔºÅÈÄÅ‰ø°ËÄÖ„ÇíÁ¢∫Ë™ç„Åó„Å¶„ÄÇ",
          ko: "Ï°∞Ïã¨ÌïòÏÑ∏Ïöî! Î≥¥ÎÇ∏ ÏÇ¨ÎûåÏùÑ ÌôïÏù∏ÌïòÏÑ∏Ïöî.",
          es: "¬°Cuidado! Revisa el remitente.",
          de: "Vorsicht! √úberpr√ºfen Sie den Absender.",
          fi: "Varo! Tarkista l√§hett√§j√§.",
          fr: "Attention ! V√©rifiez l'exp√©diteur.",
          ar: "ÿßÿ≠ÿ™ÿ±ÿ≥! ÿ™ÿ≠ŸÇŸÇ ŸÖŸÜ ÿßŸÑŸÖÿ±ÿ≥ŸÑ.",
          it: "Attenzione! Controlla il mittente.",
        },
        next: {
          en: "Next Email",
          zh: "‰∏ã‰∏ÄÂ∞Å",
          ja: "Ê¨°„ÅÆ„É°„Éº„É´",
          ko: "Îã§Ïùå Ïù¥Î©îÏùº",
          es: "Siguiente correo",
          de: "N√§chste E-Mail",
          fi: "Seuraava s√§hk√∂posti",
          fr: "E-mail suivant",
          ar: "ÿßŸÑÿ®ÿ±ŸäÿØ ÿßŸÑÿ•ŸÑŸÉÿ™ÿ±ŸàŸÜŸä ÿßŸÑÿ™ÿßŸÑŸä",
          it: "Email successiva",
        },
      };

      const emails = [
        {
          id: 1,
          type: "scam",
          sender: "winner@prize-giveaway-xyz.com",
          subject: "YOU WON A IPHONE! CLICK NOW!",
          body: "Click the link below to claim your prize instantly!!! Don't wait!!",
        },
        {
          id: 2,
          type: "safe",
          sender: "teacher@school.edu.hk",
          subject: "Homework Submission Reminder",
          body: "Dear Student, please remember to submit your science project by Friday. Best, Mr. Lee.",
        },
        {
          id: 3,
          type: "scam",
          sender: "security@bank-verify-account.net",
          subject: "URGENT: Verify your password",
          body: "We detected suspicious activity. Please login here to verify your Account: http://fake-link.com",
        },
        {
          id: 4,
          type: "safe",
          sender: "grandma@gmail.com",
          subject: "Happy Birthday!",
          body: "Hi dear, wishing you a great birthday! See you on Sunday. Love, Grandma.",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [index, setIndex] = useState(0);
        const [feedback, setFeedback] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];
        const currentEmail = emails[index];

        const handleChoice = (choice) => {
          if (feedback) return;
          if (choice === currentEmail.type) {
            setFeedback("correct");
          } else {
            setFeedback("wrong");
          }
        };

        const next = () => {
          setFeedback(null);
          setIndex((index + 1) % emails.length);
        };

        return (
          <div className="min-h-screen flex flex-col items-center justify-center p-4 bg-slate-900">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-3xl font-bold mb-6 text-cyan-400">
              üõ°Ô∏è {getText("title")}
            </h1>

            <div className="w-full max-w-2xl bg-white rounded-xl overflow-hidden shadow-2xl">
              {/* Browser / Email Window Header */}
              <div className="bg-slate-200 p-2 flex gap-2 border-b border-slate-300">
                <div className="w-3 h-3 rounded-full bg-red-400"></div>
                <div className="w-3 h-3 rounded-full bg-yellow-400"></div>
                <div className="w-3 h-3 rounded-full bg-green-400"></div>
                <div className="flex-1 text-center text-xs text-slate-500 font-mono">
                  Mail App v1.0
                </div>
              </div>

              {/* Email Content */}
              <div className="p-8 text-black min-h-[300px] flex flex-col gap-4">
                <div className="border-b pb-2">
                  <span className="text-slate-500 font-bold text-sm">
                    FROM:
                  </span>
                  <span
                    className={`ml-2 font-mono ${
                      currentEmail.type === "scam"
                        ? "text-red-600"
                        : "text-slate-800"
                    }`}
                  >
                    {currentEmail.sender}
                  </span>
                </div>
                <div className="border-b pb-2">
                  <span className="text-slate-500 font-bold text-sm">
                    SUBJECT:
                  </span>
                  <span className="ml-2 font-bold">{currentEmail.subject}</span>
                </div>
                <div className="bg-slate-50 p-6 rounded-lg font-serif">
                  {currentEmail.body}
                </div>
              </div>

              {/* Controls */}
              {!feedback ? (
                <div className="bg-slate-100 p-6 flex gap-4 justify-center">
                  <button
                    onClick={() => handleChoice("safe")}
                    className="flex-1 bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl shadow transition-colors"
                  >
                    ‚úÖ {getText("safe")}
                  </button>
                  <button
                    onClick={() => handleChoice("scam")}
                    className="flex-1 bg-red-500 hover:bg-red-600 text-white font-bold py-4 rounded-xl shadow transition-colors"
                  >
                    üö® {getText("scam")}
                  </button>
                </div>
              ) : (
                <div
                  className={`p-6 text-center text-white ${
                    feedback === "correct" ? "bg-green-500" : "bg-red-500"
                  }`}
                >
                  <div className="text-2xl font-bold mb-4">
                    {getText(feedback)}
                  </div>
                  <button
                    onClick={next}
                    className="bg-white/20 hover:bg-white/40 text-white font-bold py-2 px-8 rounded-full border-2 border-white"
                  >
                    {getText("next")} ‚û°Ô∏è
                  </button>
                </div>
              )}
            </div>

            <div className="mt-8 text-slate-500 text-sm italic">
              {getText("instruction")}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
