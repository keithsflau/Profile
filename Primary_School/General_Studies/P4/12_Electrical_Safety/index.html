<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Electrical Safety</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #ef4444;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Electrical Safety Hunt",
          zh: "å®¶å±…ç”¨é›»å®‰å…¨",
          ja: "é›»æ°—å®‰å…¨ãƒãƒ³ãƒˆ",
          ko: "ì „ê¸° ì•ˆì „ ì°¾ê¸°",
          es: "Caza de seguridad elÃ©ctrica",
          de: "Suche nach elektrischer Sicherheit",
          fi: "SÃ¤hkÃ¶turvallisuuden metsÃ¤stys",
          fr: "Chasse Ã  la sÃ©curitÃ© Ã©lectrique",
          ar: "Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",
          it: "Caccia alla Sicurezza Elettrica",
        },
        instruction: {
          en: "Tap the dangerous spots! (3 Hazards)",
          zh: "é»æ“Šå±éšªçš„åœ°æ–¹ï¼(3å€‹éš±æ‚£)",
          ja: "å±é™ºãªå ´æ‰€ã‚’ã‚¿ãƒƒãƒ—ã—ã¦ãã ã•ã„ï¼(3ã¤ã®å±é™º)",
          ko: "ìœ„í—˜í•œ ê³³ì„ íƒ­í•˜ì„¸ìš”! (3ê°€ì§€ ìœ„í—˜)",
          es: "Â¡Toca los lugares peligrosos! (3 peligros)",
          de: "Tippe auf die gefÃ¤hrlichen Stellen! (3 Gefahren)",
          fi: "Napauta vaarallisia paikkoja! (3 vaaraa)",
          fr: "Tapez sur les endroits dangereux ! (3 dangers)",
          ar: "Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø£Ù…Ø§ÙƒÙ† Ø§Ù„Ø®Ø·Ø±Ø©! (3 Ù…Ø®Ø§Ø·Ø±)",
          it: "Tocca i punti pericolosi! (3 Pericoli)",
        },
        found: {
          en: "Danger Found!",
          zh: "ç™¼ç¾å±éšªï¼",
          ja: "å±é™ºç™ºè¦‹ï¼",
          ko: "ìœ„í—˜ ë°œê²¬!",
          es: "Â¡Peligro encontrado!",
          de: "Gefahr gefunden!",
          fi: "Vaara lÃ¶ydetty!",
          fr: "Danger trouvÃ© !",
          ar: "ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø®Ø·Ø±!",
          it: "Pericolo Trovato!",
        },
        wet_hands: {
          en: "Don't touch switches with wet hands!",
          zh: "åˆ‡å‹¿æ¿•æ‰‹è§¸æ‘¸é–‹é—œï¼",
          ja: "æ¿¡ã‚ŒãŸæ‰‹ã§ã‚¹ã‚¤ãƒƒãƒã«è§¦ã‚Œãªã„ã§ãã ã•ã„ï¼",
          ko: "ì –ì€ ì†ìœ¼ë¡œ ìŠ¤ìœ„ì¹˜ë¥¼ ë§Œì§€ì§€ ë§ˆì„¸ìš”!",
          es: "Â¡No toques los interruptores con las manos mojadas!",
          de: "BerÃ¼hre Schalter nicht mit nassen HÃ¤nden!",
          fi: "Ã„lÃ¤ koske katkaisijoihin mÃ¤rin kÃ¤sin!",
          fr: "Ne touchez pas les interrupteurs avec les mains mouillÃ©es !",
          ar: "Ù„Ø§ ØªÙ„Ù…Ø³ Ø§Ù„Ù…ÙØ§ØªÙŠØ­ ÙˆÙŠØ¯ÙŠÙƒ Ù…Ø¨ØªÙ„Ø©!",
          it: "Non toccare gli interruttori con le mani bagnate!",
        },
        overload: {
          en: "Avoid overloading sockets!",
          zh: "é¿å…æ’åº§éè¼‰ï¼",
          ja: "ã‚³ãƒ³ã‚»ãƒ³ãƒˆã®éè² è·ã‚’é¿ã‘ã¦ãã ã•ã„ï¼",
          ko: "ì†Œì¼“ ê³¼ë¶€í•˜ë¥¼ í”¼í•˜ì„¸ìš”!",
          es: "Â¡Evita sobrecargar los enchufes!",
          de: "Vermeide Ãœberlastung der Steckdosen!",
          fi: "VÃ¤ltÃ¤ pistorasioiden ylikuormitusta!",
          fr: "Ã‰vitez de surcharger les prises !",
          ar: "ØªØ¬Ù†Ø¨ Ø§Ù„ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø²Ø§Ø¦Ø¯ Ù„Ù„Ù…Ù‚Ø§Ø¨Ø³!",
          it: "Evita di sovraccaricare le prese!",
        },
        frayed: {
          en: "Replace damaged wires!",
          zh: "æ›´æ›æå£çš„é›»ç·šï¼",
          ja: "æå‚·ã—ãŸãƒ¯ã‚¤ãƒ¤ãƒ¼ã‚’äº¤æ›ã—ã¦ãã ã•ã„ï¼",
          ko: "ì†ìƒëœ ì „ì„ ì€ êµì²´í•˜ì„¸ìš”!",
          es: "Â¡Reemplaza los cables daÃ±ados!",
          de: "Ersetze beschÃ¤digte Kabel!",
          fi: "Vaihda vaurioituneet johdot!",
          fr: "Remplacez les fils endommagÃ©s !",
          ar: "Ø§Ø³ØªØ¨Ø¯Ù„ Ø§Ù„Ø£Ø³Ù„Ø§Ùƒ Ø§Ù„ØªØ§Ù„ÙØ©!",
          it: "Sostituisci i fili danneggiati!",
        },
        complete: {
          en: "Safety Check Complete!",
          zh: "å®‰å…¨æª¢æŸ¥å®Œæˆï¼",
          ja: "å®‰å…¨ç¢ºèªå®Œäº†ï¼",
          ko: "ì•ˆì „ ì ê²€ ì™„ë£Œ!",
          es: "Â¡Control de seguridad completado!",
          de: "SicherheitsÃ¼berprÃ¼fung abgeschlossen!",
          fi: "Turvallisuustarkastus valmis!",
          fr: "ContrÃ´le de sÃ©curitÃ© terminÃ© !",
          ar: "Ø§ÙƒØªÙ…Ù„ ÙØ­Øµ Ø§Ù„Ø³Ù„Ø§Ù…Ø©!",
          it: "Controllo Sicurezza Completato!",
        },
        reset: {
          en: "Play Again",
          zh: "å†ç©ä¸€æ¬¡",
          ja: "ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤",
          ko: "ë‹¤ì‹œ í•˜ê¸°",
          es: "Jugar de Nuevo",
          de: "Nochmal spielen",
          fi: "Pelaa uudelleen",
          fr: "Rejouer",
          ar: "Ø§Ù„Ø¹Ø¨ Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Gioca di Nuovo",
        },
      };

      const hazards = [
        {
          id: "wet_hands",
          x: 20,
          y: 40,
          w: 20,
          h: 20,
          icon: "ğŸ–ï¸ğŸ’¦",
          msg: "wet_hands",
        },
        {
          id: "overload",
          x: 70,
          y: 70,
          w: 15,
          h: 15,
          icon: "ğŸ”ŒğŸ”¥",
          msg: "overload",
        },
        {
          id: "frayed",
          x: 45,
          y: 80,
          w: 20,
          h: 10,
          icon: "âš¡ğŸ",
          msg: "frayed",
        },
      ];

      function App() {
        const [lang, setLang] = useState("zh");
        const [found, setFound] = useState([]); // ids
        const [showPopup, setShowPopup] = useState(null);

        const getText = (key) => t[key][lang] || t[key]["en"];

        const handleHazardClick = (h) => {
          if (found.includes(h.id)) return;
          setFound([...found, h.id]);
          setShowPopup(h);
        };

        const closePopup = () => setShowPopup(null);

        const reset = () => {
          setFound([]);
          setShowPopup(null);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4 bg-orange-50 font-sans">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-4 text-red-600">
              âš ï¸ {getText("title")}
            </h1>

            <p className="mb-4 font-bold text-slate-600">
              {getText("instruction")}
            </p>

            <div className="relative w-full max-w-4xl h-[600px] bg-white rounded-3xl border-4 border-slate-300 shadow-xl overflow-hidden cursor-crosshair">
              {/* Background Room Scene - Simplified */}
              <div className="absolute inset-0 bg-yellow-50">
                {/* Floor */}
                <div className="absolute bottom-0 w-full h-1/4 bg-amber-200 border-t-4 border-amber-300"></div>
                {/* Table */}
                <div className="absolute bottom-10 left-10 w-40 h-32 bg-amber-700 rounded-lg"></div>
                {/* TV */}
                <div className="absolute top-20 right-20 w-60 h-40 bg-black rounded-xl border-4 border-gray-600"></div>
                {/* Socket on wall relative to TV */}
                <div className="absolute top-[280px] right-[100px] w-12 h-16 bg-white border border-gray-400"></div>
              </div>

              {/* Hazards Interactive Areas */}

              {/* 1. Wet Hands at Light Switch */}
              <div className="absolute top-[150px] left-[100px]">
                <div className="w-12 h-12 bg-white border border-gray-300 shadow-sm rounded flex items-center justify-center">
                  I/O
                </div>
                {!found.includes("wet_hands") && (
                  <motion.div
                    whileHover={{ scale: 1.1 }}
                    className="absolute -top-4 -right-8 text-4xl cursor-pointer"
                    onClick={() => handleHazardClick(hazards[0])}
                  >
                    ğŸ–ï¸ğŸ’¦
                  </motion.div>
                )}
                {found.includes("wet_hands") && (
                  <div className="absolute -top-10 -right-10 text-6xl text-green-500">
                    âœ…
                  </div>
                )}
              </div>

              {/* 2. Overloaded Socket */}
              <div className="absolute top-[300px] right-[100px]">
                {!found.includes("overload") && (
                  <motion.div
                    animate={{ scale: [1, 1.1, 1] }}
                    transition={{ repeat: Infinity, duration: 2 }}
                    className="absolute -top-10 -left-10 text-5xl cursor-pointer"
                    onClick={() => handleHazardClick(hazards[1])}
                  >
                    ğŸ”ŒğŸ”ŒğŸ”¥
                  </motion.div>
                )}
                {found.includes("overload") && (
                  <div className="absolute -top-10 -left-10 text-6xl text-green-500">
                    âœ…
                  </div>
                )}
              </div>

              {/* 3. Frayed Wire on floor */}
              <div className="absolute bottom-[50px] left-[300px]">
                <svg width="200" height="50" className="pointer-events-none">
                  <path
                    d="M0,25 Q100,0 200,25"
                    stroke="black"
                    strokeWidth="4"
                    fill="none"
                  />
                  <path d="M90,10 L110,15" stroke="red" strokeWidth="2" />{" "}
                  {/* Spark */}
                </svg>
                {!found.includes("frayed") && (
                  <motion.div
                    className="absolute left-[80px] -top-8 text-4xl cursor-pointer"
                    onClick={() => handleHazardClick(hazards[2])}
                  >
                    âš¡
                  </motion.div>
                )}
                {found.includes("frayed") && (
                  <div className="absolute left-[80px] -top-10 text-6xl text-green-500">
                    âœ…
                  </div>
                )}
              </div>

              {/* Popup */}
              {showPopup && (
                <div className="absolute inset-0 bg-black/70 flex items-center justify-center z-50 p-8">
                  <motion.div
                    initial={{ scale: 0 }}
                    animate={{ scale: 1 }}
                    className="bg-white p-8 rounded-3xl text-center max-w-lg border-8 border-red-500"
                  >
                    <div className="text-8xl mb-4">âš ï¸</div>
                    <h2 className="text-3xl font-black text-red-600 mb-4">
                      {getText("found")}
                    </h2>
                    <p className="text-2xl font-bold text-slate-800 mb-8">
                      {getText(showPopup.msg)}
                    </p>
                    <button
                      onClick={closePopup}
                      className="bg-red-500 text-white px-8 py-3 rounded-full font-bold text-xl hover:bg-red-600"
                    >
                      OK
                    </button>
                  </motion.div>
                </div>
              )}

              {/* Completion */}
              {found.length === 3 && !showPopup && (
                <div className="absolute inset-0 bg-green-500/90 flex flex-col items-center justify-center text-white z-40">
                  <div className="text-9xl mb-4">ğŸ›¡ï¸</div>
                  <h2 className="text-5xl font-black mb-8 text-center px-4">
                    {getText("complete")}
                  </h2>
                  <button
                    onClick={reset}
                    className="bg-white text-green-600 px-10 py-4 rounded-full font-black text-2xl shadow-xl hover:scale-105 transition-transform"
                  >
                    {getText("reset")}
                  </button>
                </div>
              )}
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
