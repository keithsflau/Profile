<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>General Studies - Sound and Vibration</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Segoe UI", "Microsoft JhengHei", sans-serif;
        background: #1e1b4b;
        color: white;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Seeing Sound Vibration",
          zh: "çœ‹è¦‹è²éŸ³çš„æŒ¯å‹•",
          ja: "éŸ³ã®æŒ¯å‹•ã‚’è¦‹ã‚‹",
          ko: "ì†Œë¦¬ ì§„ë™ ë³´ê¸°",
          es: "Viendo la vibraciÃ³n del sonido",
          de: "Schallvibrationen sehen",
          fi: "Ã„Ã¤nen vÃ¤rÃ¤htelyn nÃ¤keminen",
          fr: "Voir la vibration du son",
          ar: "Ø±Ø¤ÙŠØ© Ø§Ù‡ØªØ²Ø§Ø² Ø§Ù„ØµÙˆØª",
          it: "Vedere le Vibrazioni del Suono",
        },
        instruction: {
          en: "Tap the drum to make sound and see vibrations!",
          zh: "æ•²æ‰“é¼“ç”¢ç”Ÿè²éŸ³ï¼Œè§€å¯ŸæŒ¯å‹•ï¼",
          ja: "ãƒ‰ãƒ©ãƒ ã‚’å©ã„ã¦éŸ³ã‚’å‡ºã—ã€æŒ¯å‹•ã‚’è¦‹ã¦ãã ã•ã„ï¼",
          ko: "ë“œëŸ¼ì„ ë‘ë“œë ¤ ì†Œë¦¬ë¥¼ ë‚´ê³  ì§„ë™ì„ í™•ì¸í•˜ì„¸ìš”!",
          es: "Â¡Toca el tambor para hacer sonido y ver vibraciones!",
          de: "Trommele, um GerÃ¤usche zu machen und Vibrationen zu sehen!",
          fi: "Napauta rumpua tuottaaksesi Ã¤Ã¤ntÃ¤ ja nÃ¤hdÃ¤ksesi vÃ¤rÃ¤htelyn!",
          fr: "Tapez sur le tambour pour faire du son et voir les vibrations !",
          ar: "Ø§Ø¶ØºØ· Ø¹Ù„Ù‰ Ø§Ù„Ø·Ø¨Ù„ Ù„Ø¥ØµØ¯Ø§Ø± ØµÙˆØª ÙˆØ±Ø¤ÙŠØ© Ø§Ù„Ø§Ù‡ØªØ²Ø§Ø²Ø§Øª!",
          it: "Tocca il tamburo per fare suono e vedere le vibrazioni!",
        },
        hit: {
          en: "Hit Drum!",
          zh: "æ“Šé¼“ï¼",
          ja: "ãƒ‰ãƒ©ãƒ ã‚’å©ãï¼",
          ko: "ë“œëŸ¼ ì¹˜ê¸°!",
          es: "Â¡Golpea el tambor!",
          de: "Trommel schlagen!",
          fi: "LyÃ¶ rumpua!",
          fr: "Frapper le tambour !",
          ar: "Ø§Ø¶Ø±Ø¨ Ø§Ù„Ø·Ø¨Ù„!",
          it: "Colpisci il Tamburo!",
        },
        soft: {
          en: "Soft Sound",
          zh: "è¼•è²",
          ja: "æŸ”ã‚‰ã‹ã„éŸ³",
          ko: "ë¶€ë“œëŸ¬ìš´ ì†Œë¦¬",
          es: "Sonido suave",
          de: "Leiser Ton",
          fi: "PehmeÃ¤ Ã¤Ã¤ni",
          fr: "Son doux",
          ar: "ØµÙˆØª Ù†Ø§Ø¹Ù…",
          it: "Suono Debole",
        },
        loud: {
          en: "Loud Sound",
          zh: "éŸ¿è²",
          ja: "å¤§ããªéŸ³",
          ko: "í° ì†Œë¦¬",
          es: "Sonido fuerte",
          de: "Lauter Ton",
          fi: "Kova Ã¤Ã¤ni",
          fr: "Son fort",
          ar: "ØµÙˆØª Ø¹Ø§Ù„",
          it: "Suono Forte",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [vibrating, setVibrating] = useState(false);
        const [intensity, setIntensity] = useState(0); // 0, 1 (soft), 2 (loud)

        const getText = (key) => t[key][lang] || t[key]["en"];

        const hit = (level) => {
          setIntensity(level);
          setVibrating(true);
          setTimeout(() => setVibrating(false), 1000);
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl font-bold mb-8 text-pink-400">
              {getText("title")}
            </h1>

            <div className="w-full max-w-2xl flex flex-col items-center gap-12">
              {/* Visualizer Area - Particles on Drum */}
              <div className="relative w-80 h-40 bg-amber-200 rounded-b-full border-4 border-amber-800 after:content-[''] after:absolute after:top-0 after:left-0 after:right-0 after:h-10 after:bg-yellow-100 after:rounded-[100%] after:border-2 after:border-amber-800 after:-translate-y-1/2 flex justify-center">
                {/* Drum Top Surface (Invisible Hit Area roughly) */}
                <div className="absolute -top-5 w-full h-10 z-10"></div>

                {/* Rice Grains / Particles */}
                {[...Array(20)].map((_, i) => (
                  <motion.div
                    key={i}
                    className="absolute -top-4 w-2 h-4 bg-white rounded-full border border-gray-300 shadow-sm z-20"
                    style={{
                      left: 50 + ((i * 12) % 200) + "px",
                      top: -20 + Math.random() * 20,
                      rotate: Math.random() * 360,
                    }}
                    animate={
                      vibrating
                        ? {
                            y: [0, -100 * (intensity === 2 ? 1.5 : 0.5), 0],
                            x: (Math.random() - 0.5) * 50,
                            rotate: 360,
                          }
                        : {
                            y: 0,
                            rotate: 0,
                          }
                    }
                    transition={{ duration: 0.5, ease: "easeOut" }}
                  />
                ))}

                {/* Sound Waves */}
                {vibrating && (
                  <motion.div
                    className="absolute -top-10 w-40 h-40 rounded-full border-4 border-pink-500/50"
                    initial={{ scale: 0.5, opacity: 1 }}
                    animate={{ scale: 2, opacity: 0 }}
                    transition={{ repeat: Infinity, duration: 1 }}
                  ></motion.div>
                )}
              </div>

              <div className="flex gap-8">
                <button
                  onClick={() => hit(1)}
                  className="w-32 h-32 rounded-full bg-blue-500 text-white font-bold text-xl shadow-lg hover:bg-blue-600 active:scale-95 transition-transform flex flex-col items-center justify-center border-4 border-blue-300"
                >
                  <span>ğŸ¤</span>
                  {getText("soft")}
                </button>

                <button
                  onClick={() => hit(2)}
                  className="w-40 h-40 rounded-full bg-red-500 text-white font-bold text-xl shadow-lg hover:bg-red-600 active:scale-95 transition-transform flex flex-col items-center justify-center border-4 border-red-300"
                >
                  <span className="text-4xl">ğŸ’¥</span>
                  {getText("loud")}
                </button>
              </div>

              <div className="text-slate-300 text-center text-lg">
                {getText("instruction")}
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
