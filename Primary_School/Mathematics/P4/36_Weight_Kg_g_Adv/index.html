<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÈáçÈáèÂä†Ê≥ï | Weight Addition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #f5f5f4 0%, #78716c 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Weight Addition (kg & g)",
          zh: "ÈáçÈáèÂä†Ê≥ï (kg & g)",
          ja: "Èáç„Åï„ÅÆË∂≥„ÅóÁÆó (kg & g)",
          ko: "Î¨¥Í≤å ÎçßÏÖà (kg & g)",
          es: "Suma de Pesos (kg y g)",
          de: "Gewichtsaddition (kg & g)",
          fi: "Painojen yhteenlasku (kg & g)",
          fr: "Addition de poids (kg & g)",
          ar: "ÿ¨ŸÖÿπ ÿßŸÑŸàÿ≤ŸÜ (ŸÉÿ¨ŸÖ Ÿà ÿ∫)",
          it: "Addizione di peso (kg & g)",
        },
        total: {
          en: "Total Weight",
          zh: "Á∏ΩÈáçÈáè",
          ja: "Á∑èÈáçÈáè",
          ko: "Ï¥ù Î¨¥Í≤å",
          es: "Peso Total",
          de: "Gesamtgewicht",
          fi: "okonaispaino",
          fr: "Poids total",
          ar: "ÿ•ÿ¨ŸÖÿßŸÑŸä ÿßŸÑŸàÿ≤ŸÜ",
          it: "Peso totale",
        },
        note: {
          en: "Note: 1000g = 1kg, so we carried over!",
          zh: "Ê≥®ÊÑèÔºö1000 g = 1 kgÔºåÊâÄ‰ª•ÈÄ≤‰Ωç‰∫ÜÔºÅ",
          ja: "Ê≥®ÊÑèÔºö1000g = 1kg„Å™„ÅÆ„Åß„ÄÅÁπ∞„Çä‰∏ä„Åå„Çä„Åæ„Åó„ÅüÔºÅ",
          ko: "Ï∞∏Í≥†: 1000g = 1kgÏù¥ÎØÄÎ°ú Ïò¨Î¶ºÎêòÏóàÏäµÎãàÎã§!",
          es: "Nota: 1000g = 1kg, ¬°as√≠ que llevamos una!",
          de: "Hinweis: 1000g = 1kg, also haben wir √ºbertragen!",
          fi: "Huomaa: 1000g = 1kg, joten muunnettiin!",
          fr: "Remarque : 1000 g = 1 kg, nous avons donc retenu !",
          ar: "ŸÖŸÑÿßÿ≠ÿ∏ÿ©: 1000 ÿ∫ = 1 ŸÉÿ¨ŸÖÿå ŸÑÿ∞ŸÑŸÉ ŸÇŸÖŸÜÿß ÿ®ÿßŸÑÿ™ÿ±ÿ≠ŸäŸÑ!",
          it: "Nota: 1000g = 1kg, quindi abbiamo riportato!",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const getText = (key) => t[key][lang] || t[key]["en"];

        const [kg1, setKg1] = useState(2);
        const [g1, setG1] = useState(600);
        const [kg2, setKg2] = useState(1);
        const [g2, setG2] = useState(500);

        const totalG = g1 + g2;
        const extraKg = Math.floor(totalG / 1000);
        const finalG = totalG % 1000;
        const finalKg = kg1 + kg2 + extraKg;

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-stone-800 mb-8 mt-8">
              ‚öñÔ∏è {getText("title")}
            </h1>

            <div className="bg-white/95 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full flex flex-col gap-12">
              <div className="flex justify-center items-center gap-6 flex-wrap">
                {/* Item 1 */}
                <div className="bg-stone-100 p-6 rounded-2xl flex flex-col items-center w-full md:w-48 border-2 border-stone-200">
                  <div className="text-4xl">üì¶</div>
                  <div className="flex items-center gap-2 mt-4">
                    <input
                      type="number"
                      value={kg1}
                      onChange={(e) => setKg1(parseInt(e.target.value) || 0)}
                      className="w-16 text-center text-xl font-bold bg-white rounded"
                    />{" "}
                    kg
                    <input
                      type="number"
                      value={g1}
                      onChange={(e) => setG1(parseInt(e.target.value) || 0)}
                      className="w-20 text-center text-xl font-bold bg-white rounded"
                    />{" "}
                    g
                  </div>
                </div>

                <div className="text-4xl font-black text-stone-400">+</div>

                {/* Item 2 */}
                <div className="bg-stone-100 p-6 rounded-2xl flex flex-col items-center w-full md:w-48 border-2 border-stone-200">
                  <div className="text-4xl">üéí</div>
                  <div className="flex items-center gap-2 mt-4">
                    <input
                      type="number"
                      value={kg2}
                      onChange={(e) => setKg2(parseInt(e.target.value) || 0)}
                      className="w-16 text-center text-xl font-bold bg-white rounded"
                    />{" "}
                    kg
                    <input
                      type="number"
                      value={g2}
                      onChange={(e) => setG2(parseInt(e.target.value) || 0)}
                      className="w-20 text-center text-xl font-bold bg-white rounded"
                    />{" "}
                    g
                  </div>
                </div>
              </div>

              <div className="flex flex-col items-center bg-stone-50 p-8 rounded-2xl border-4 border-stone-300">
                <div className="text-xl font-bold text-stone-500 mb-4">
                  {getText("total")}
                </div>

                <div className="flex items-end gap-2 text-2xl font-bold text-stone-600 mb-4">
                  <span>{kg1 + kg2} kg</span>
                  <span>+</span>
                  <span
                    className={
                      totalG >= 1000
                        ? "text-red-500 font-black animate-pulse"
                        : ""
                    }
                  >
                    {totalG} g
                  </span>
                </div>

                <div className="h-1 w-full bg-stone-300 rounded mb-4"></div>

                <div className="text-6xl font-black text-stone-800">
                  {finalKg} <span className="text-3xl">kg</span> {finalG}{" "}
                  <span className="text-3xl">g</span>
                </div>

                {totalG >= 1000 && (
                  <div className="bg-red-100 text-red-600 px-4 py-2 rounded-lg mt-4 font-bold">
                    {getText("note")}
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
