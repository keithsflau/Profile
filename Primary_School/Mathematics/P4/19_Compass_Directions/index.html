<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÊñπÂêëÊåáÂçóÈáù | Compass Directions</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #cffafe 0%, #22d3ee 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Compass Directions",
          zh: "ÊñπÂêëÊåáÂçóÈáù",
          ja: "ÁæÖÈáùÁõ§„ÅÆÊñπÂêë",
          ko: "ÎÇòÏπ®Î∞ò Î∞©Ìñ•",
          es: "Direcciones de la Br√∫jula",
          de: "Kompassrichtungen",
          fi: "Kompassisuunnat",
          fr: "Directions de la boussole",
          ar: "ÿßÿ™ÿ¨ÿßŸáÿßÿ™ ÿßŸÑÿ®ŸàÿµŸÑÿ©",
          it: "Direzioni della bussola",
        },
        currentDirection: {
          en: "Current Direction",
          zh: "ÁõÆÂâçÊñπÂêë",
          ja: "ÁèæÂú®„ÅÆÊñπÂêë",
          ko: "ÌòÑÏû¨ Î∞©Ìñ•",
          es: "Direcci√≥n Actual",
          de: "Aktuelle Richtung",
          fi: "Nykyinen suunta",
          fr: "Direction actuelle",
          ar: "ÿßŸÑÿßÿ™ÿ¨ÿßŸá ÿßŸÑÿ≠ÿßŸÑŸä",
          it: "Direzione attuale",
        },
        N: {
          en: "North (N)",
          zh: "ÂåóÊñπ (N)",
          ja: "Âåó (N)",
          ko: "Î∂ÅÏ™Ω (N)",
          es: "Norte (N)",
          de: "Norden (N)",
          fi: "Pohjoinen (N)",
          fr: "Nord (N)",
          ar: "ÿßŸÑÿ¥ŸÖÿßŸÑ (N)",
          it: "Nord (N)",
        },
        NE: {
          en: "Northeast (NE)",
          zh: "Êù±Âåó (NE)",
          ja: "ÂåóÊù± (NE)",
          ko: "Î∂ÅÎèô (NE)",
          es: "Noreste (NE)",
          de: "Nordosten (NE)",
          fi: "Koillinen (NE)",
          fr: "Nord-Est (NE)",
          ar: "ÿ¥ŸÖÿßŸÑ ÿ¥ÿ±ŸÇ (NE)",
          it: "Nord-Est (NE)",
        },
        E: {
          en: "East (E)",
          zh: "Êù±Êñπ (E)",
          ja: "Êù± (E)",
          ko: "ÎèôÏ™Ω (E)",
          es: "Este (E)",
          de: "Osten (E)",
          fi: "It√§ (E)",
          fr: "Est (E)",
          ar: "ÿßŸÑÿ¥ÿ±ŸÇ (E)",
          it: "Est (E)",
        },
        SE: {
          en: "Southeast (SE)",
          zh: "Êù±Âçó (SE)",
          ja: "ÂçóÊù± (SE)",
          ko: "ÎÇ®Îèô (SE)",
          es: "Sureste (SE)",
          de: "S√ºdosten (SE)",
          fi: "Kaakko (SE)",
          fr: "Sud-Est (SE)",
          ar: "ÿ¨ŸÜŸàÿ® ÿ¥ÿ±ŸÇ (SE)",
          it: "Sud-Est (SE)",
        },
        S: {
          en: "South (S)",
          zh: "ÂçóÊñπ (S)",
          ja: "Âçó (S)",
          ko: "ÎÇ®Ï™Ω (S)",
          es: "Sur (S)",
          de: "S√ºden (S)",
          fi: "Etel√§ (S)",
          fr: "Sud (S)",
          ar: "ÿßŸÑÿ¨ŸÜŸàÿ® (S)",
          it: "Sud (S)",
        },
        SW: {
          en: "Southwest (SW)",
          zh: "Ë•øÂçó (SW)",
          ja: "ÂçóË•ø (SW)",
          ko: "ÎÇ®ÏÑú (SW)",
          es: "Suroeste (SW)",
          de: "S√ºdwesten (SW)",
          fi: "Lounas (SW)",
          fr: "Sud-Ouest (SW)",
          ar: "ÿ¨ŸÜŸàÿ® ÿ∫ÿ±ÿ® (SW)",
          it: "Sud-Ovest (SW)",
        },
        W: {
          en: "West (W)",
          zh: "Ë•øÊñπ (W)",
          ja: "Ë•ø (W)",
          ko: "ÏÑúÏ™Ω (W)",
          es: "Oeste (W)",
          de: "Westen (W)",
          fi: "L√§nsi (W)",
          fr: "Ouest (W)",
          ar: "ÿßŸÑÿ∫ÿ±ÿ® (W)",
          it: "Ovest (W)",
        },
        NW: {
          en: "Northwest (NW)",
          zh: "Ë•øÂåó (NW)",
          ja: "ÂåóË•ø (NW)",
          ko: "Î∂ÅÏÑú (NW)",
          es: "Noroeste (NW)",
          de: "Nordwesten (NW)",
          fi: "Luode (NW)",
          fr: "Nord-Ouest (NW)",
          ar: "ÿ¥ŸÖÿßŸÑ ÿ∫ÿ±ÿ® (NW)",
          it: "Nord-Ovest (NW)",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [direction, setDirection] = useState("N");

        const getText = (key) => t[key][lang] || t[key]["en"];

        const dirs = [
          { id: "N", angle: 0, nameKey: "N" },
          { id: "NE", angle: 45, nameKey: "NE" },
          { id: "E", angle: 90, nameKey: "E" },
          { id: "SE", angle: 135, nameKey: "SE" },
          { id: "S", angle: 180, nameKey: "S" },
          { id: "SW", angle: 225, nameKey: "SW" },
          { id: "W", angle: 270, nameKey: "W" },
          { id: "NW", angle: 315, nameKey: "NW" },
        ];

        const current = dirs.find((d) => d.id === direction);
        const currentName = getText(current.nameKey);

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-cyan-900 mb-8 mt-8">
              üß≠ {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full flex flex-col md:flex-row items-center gap-12">
              <div className="relative w-[300px] h-[300px] md:w-[400px] md:h-[400px] bg-slate-100 rounded-full border-8 border-slate-300 shadow-inner flex items-center justify-center shrink-0">
                {/* Markings */}
                {dirs.map((d) => (
                  <div
                    key={d.id}
                    className="absolute font-black text-slate-400"
                    style={{
                      transform: `rotate(${d.angle}deg) translate(0, -140px) rotate(-${d.angle}deg)`,
                    }}
                  >
                    {d.id}
                  </div>
                ))}

                {/* Needle */}
                <motion.div
                  animate={{ rotate: current.angle }}
                  transition={{ type: "spring", stiffness: 100, damping: 15 }}
                  className="w-16 h-36 md:h-48 bg-transparent absolute"
                  style={{ transformOrigin: "center bottom", bottom: "50%" }}
                >
                  {/* North needle half - red */}
                  <div className="h-full w-4 bg-red-500 mx-auto rounded-t-full shadow-lg"></div>
                </motion.div>
                <motion.div
                  animate={{ rotate: current.angle + 180 }}
                  transition={{ type: "spring", stiffness: 100, damping: 15 }}
                  className="w-16 h-36 md:h-48 bg-transparent absolute"
                  style={{ transformOrigin: "center bottom", bottom: "50%" }}
                >
                  {/* South needle half - white */}
                  <div className="h-full w-4 bg-white mx-auto rounded-t-full border border-slate-200 shadow-lg"></div>
                </motion.div>

                <div className="w-8 h-8 bg-slate-300 rounded-full border-2 border-slate-400 absolute z-10"></div>
              </div>

              <div className="flex flex-col gap-4 w-full max-w-xs">
                <div className="text-center mb-4">
                  <div className="text-slate-500 font-bold mb-1">
                    {getText("currentDirection")}
                  </div>
                  <div className="text-3xl font-black text-cyan-600">
                    {currentName}
                  </div>
                </div>

                <div className="grid grid-cols-3 gap-2">
                  <button
                    onClick={() => setDirection("NW")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    NW
                  </button>
                  <button
                    onClick={() => setDirection("N")}
                    className="p-3 bg-red-100 rounded-lg hover:bg-red-200 font-bold text-red-700"
                  >
                    N
                  </button>
                  <button
                    onClick={() => setDirection("NE")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    NE
                  </button>

                  <button
                    onClick={() => setDirection("W")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    W
                  </button>
                  <div className="p-3 flex items-center justify-center">üß≠</div>
                  <button
                    onClick={() => setDirection("E")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    E
                  </button>

                  <button
                    onClick={() => setDirection("SW")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    SW
                  </button>
                  <button
                    onClick={() => setDirection("S")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    S
                  </button>
                  <button
                    onClick={() => setDirection("SE")}
                    className="p-3 bg-slate-100 rounded-lg hover:bg-cyan-100 font-bold"
                  >
                    SE
                  </button>
                </div>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
