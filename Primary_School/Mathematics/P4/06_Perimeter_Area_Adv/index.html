<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÂë®ÁïåËàáÈù¢Á©çÈÄ≤Èöé | Perimeter & Area</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #fff7ed 0%, #fb923c 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Composite Shapes Challenge",
          zh: "Ë§áÂêàÂúñÂΩ¢ÊåëÊà∞",
          ja: "Ë§áÂêàÂõ≥ÂΩ¢„ÉÅ„É£„É¨„É≥„Ç∏",
          ko: "Î≥µÌï© ÎèÑÌòï ÎèÑÏ†Ñ",
          es: "Desaf√≠o de Formas Compuestas",
          de: "Zusammengesetzte Formen",
          fi: "Monimutkaiset kuviot",
          fr: "D√©fi des formes composites",
          ar: "ÿ™ÿ≠ÿØŸä ÿßŸÑÿ£ÿ¥ŸÉÿßŸÑ ÿßŸÑŸÖÿ±ŸÉÿ®ÿ©",
          it: "Sfida delle forme composte",
        },
        showPerimeter: {
          en: "Show Perimeter",
          zh: "È°ØÁ§∫Âë®Áïå",
          ja: "Âë®Âõ≤„ÇíË°®Á§∫",
          ko: "ÎëòÎ†à ÌëúÏãú",
          es: "Mostrar Per√≠metro",
          de: "Umfang anzeigen",
          fi: "N√§yt√§ piiri",
          fr: "Afficher le p√©rim√®tre",
          ar: "ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÖÿ≠Ÿäÿ∑",
          it: "Mostra perimetro",
        },
        hidePerimeter: {
          en: "Hide Perimeter",
          zh: "Èö±ËóèÂë®Áïå",
          ja: "Âë®Âõ≤„ÇíÈö†„Åô",
          ko: "ÎëòÎ†à Ïà®Í∏∞Í∏∞",
          es: "Ocultar Per√≠metro",
          de: "Umfang ausblenden",
          fi: "Piilota piiri",
          fr: "Masquer le p√©rim√®tre",
          ar: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑŸÖÿ≠Ÿäÿ∑",
          it: "Nascondi perimetro",
        },
        showArea: {
          en: "Show Area",
          zh: "È°ØÁ§∫Èù¢Á©ç",
          ja: "Èù¢Á©ç„ÇíË°®Á§∫",
          ko: "Î©¥Ï†Å ÌëúÏãú",
          es: "Mostrar √Årea",
          de: "Fl√§che anzeigen",
          fi: "N√§yt√§ pinta-ala",
          fr: "Afficher la surface",
          ar: "ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©",
          it: "Mostra area",
        },
        hideArea: {
          en: "Hide Area",
          zh: "Èö±ËóèÈù¢Á©ç",
          ja: "Èù¢Á©ç„ÇíÈö†„Åô",
          ko: "Î©¥Ï†Å Ïà®Í∏∞Í∏∞",
          es: "Ocultar √Årea",
          de: "Fl√§che ausblenden",
          fi: "Piilota pinta-ala",
          fr: "Masquer la surface",
          ar: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©",
          it: "Nascondi area",
        },
        perimeterCalc: {
          en: "Perimeter Calculation",
          zh: "Âë®ÁïåË®àÁÆó",
          ja: "Âë®Âõ≤„ÅÆË®àÁÆó",
          ko: "ÎëòÎ†à Í≥ÑÏÇ∞",
          es: "C√°lculo del Per√≠metro",
          de: "Umfangsberechnung",
          fi: "Piirin laskenta",
          fr: "Calcul du p√©rim√®tre",
          ar: "ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÖÿ≠Ÿäÿ∑",
          it: "Calcolo del perimetro",
        },
        perimeterTip: {
          en: "Displacement Method: Move inner edges out to form a large rectangle!",
          zh: "Áßª‰ΩçÊ≥ïÔºöÊääÂÖßÂáπÁöÑÈÇäÁßªÂá∫‰æÜÔºåËÆäÊàê‰∏ÄÂÄãÂ§ßÈï∑ÊñπÂΩ¢ÔºÅ",
          ja: "ÁßªÂãïÊ≥ïÔºöÂÜÖÂÅ¥„ÅÆËæ∫„ÇíÂ§ñÂÅ¥„Å´ÁßªÂãï„Åó„Å¶Â§ß„Åç„Å™Èï∑ÊñπÂΩ¢„Çí‰Ωú„ÇãÔºÅ",
          ko: "Ïù¥ÎèôÎ≤ï: ÏïàÏ™Ω Î™®ÏÑúÎ¶¨Î•º Î∞îÍπ•Ï™ΩÏúºÎ°ú Ïù¥ÎèôÌïòÏó¨ ÌÅ∞ ÏßÅÏÇ¨Í∞ÅÌòïÏùÑ ÎßåÎìúÏÑ∏Ïöî!",
          es: "M√©todo de Desplazamiento: ¬°Mueve los bordes internos hacia afuera para formar un rect√°ngulo grande!",
          de: "Verschiebungsmethode: Verschiebe innere Kanten nach au√üen, um ein gro√ües Rechteck zu bilden!",
          fi: "Siirtomenetelm√§: Siirr√§ sis√§reunat ulosp√§in muodostaaksesi suuren suorakulmion!",
          fr: "M√©thode de d√©placement : D√©placez les bords int√©rieurs vers l'ext√©rieur pour former un grand rectangle !",
          ar: "ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ•ÿ≤ÿßÿ≠ÿ©: ÿ≠ÿ±ŸÉ ÿßŸÑÿ≠ŸàÿßŸÅ ÿßŸÑÿØÿßÿÆŸÑŸäÿ© ŸÑŸÑÿÆÿßÿ±ÿ¨ ŸÑÿ™ÿ¥ŸÉŸäŸÑ ŸÖÿ≥ÿ™ÿ∑ŸäŸÑ ŸÉÿ®Ÿäÿ±!",
          it: "Metodo di spostamento: Sposta i bordi interni verso l'esterno per formare un grande rettangolo!",
        },
        areaCalc: {
          en: "Area Calculation",
          zh: "Èù¢Á©çË®àÁÆó",
          ja: "Èù¢Á©çË®àÁÆó",
          ko: "Î©¥Ï†Å Í≥ÑÏÇ∞",
          es: "C√°lculo del √Årea",
          de: "Fl√§chenberechnung",
          fi: "Pinta-alan laskenta",
          fr: "Calcul de la surface",
          ar: "ÿ≠ÿ≥ÿßÿ® ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©",
          it: "Calcolo dell'area",
        },
        areaTip: {
          en: "Subtraction Method: Large Rectangle Area - Missing Part Area",
          zh: "Â°´ÂÖÖÊ≥ïÔºöÂ§ßÈï∑ÊñπÂΩ¢Èù¢Á©ç - Áº∫Â§±ÈÉ®ÂàÜÈù¢Á©ç",
          ja: "Âºï„ÅçÁÆóÔºöÂ§ß„Åç„Å™Èï∑ÊñπÂΩ¢„ÅÆÈù¢Á©ç - Ê¨†„Åë„Å¶„ÅÑ„ÇãÈÉ®ÂàÜ„ÅÆÈù¢Á©ç",
          ko: "ÎπºÍ∏∞ Î∞©Î≤ï: ÌÅ∞ ÏßÅÏÇ¨Í∞ÅÌòï Î©¥Ï†Å - Îπ†ÏßÑ Î∂ÄÎ∂Ñ Î©¥Ï†Å",
          es: "M√âtodo de Resta: √Årea del Rect√°ngulo Grande - √Årea de la Parte Faltante",
          de: "Subtraktionsmethode: Gro√üe Rechteckfl√§che - Fehlende Teilfl√§che",
          fi: "V√§hennysmenetelm√§: Suuren suorakulmion pinta-ala - Puuttuvan osan pinta-ala",
          fr: "M√©thode de soustraction : Surface du grand rectangle - Surface de la partie manquante",
          ar: "ÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ∑ÿ±ÿ≠: ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÖÿ≥ÿ™ÿ∑ŸäŸÑ ÿßŸÑŸÉÿ®Ÿäÿ± - ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑÿ¨ÿ≤ÿ° ÿßŸÑŸÖŸÅŸÇŸàÿØ",
          it: "Metodo di sottrazione: Area del rettangolo grande - Area della parte mancante",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        // Shape: L-shape
        // Outer dimensions: W=10, H=8
        // Cutout: w=4, h=3
        const W = 10,
          H = 8,
          cutW = 4,
          cutH = 3;
        // Vertices for SVG path (L-shape)
        // (0,0) -> (W,0) -> (W, H-cutH) -> (W-cutW, H-cutH) -> (W-cutW, H) -> (0,H)

        const scale = 30;
        const p = `M0,0 L${W * scale},0 L${W * scale},${(H - cutH) * scale} L${
          (W - cutW) * scale
        },${(H - cutH) * scale} L${(W - cutW) * scale},${H * scale} L0,${
          H * scale
        } Z`;

        const [showArea, setShowArea] = useState(false);
        const [showPerimeter, setShowPerimeter] = useState(false);

        const area = W * H - cutW * cutH;
        const perimeter = W + H + (W - cutW) + cutH + cutW + (H - cutH);

        const getText = (key) => t[key][lang] || t[key]["en"];

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-orange-900 mb-8 mt-8">
              üß± {getText("title")}
            </h1>
            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full flex flex-col items-center">
              <div className="mb-8 relative p-8 bg-orange-50 rounded-3xl">
                <svg
                  width={W * scale + 40}
                  height={H * scale + 40}
                  className="overflow-visible"
                >
                  <g transform="translate(20,20)">
                    <path
                      d={p}
                      fill="#fdba74"
                      stroke="#c2410c"
                      strokeWidth="4"
                    />
                    {/* Labels */}
                    <text
                      x={(W * scale) / 2}
                      y="-10"
                      textAnchor="middle"
                      className="font-bold text-lg fill-orange-900"
                    >
                      {W}cm
                    </text>
                    <text
                      x="-15"
                      y={(H * scale) / 2}
                      textAnchor="middle"
                      className="font-bold text-lg fill-orange-900"
                      transform={`rotate(-90,-15,${(H * scale) / 2})`}
                    >
                      {H}cm
                    </text>

                    <text
                      x={(W - cutW / 2) * scale}
                      y={(H - cutH) * scale - 10}
                      textAnchor="middle"
                      className="font-bold text-sm fill-orange-800"
                    >
                      {cutW}cm
                    </text>
                    <text
                      x={(W - cutW) * scale + 10}
                      y={H * scale - (cutH * scale) / 2}
                      textAnchor="start"
                      className="font-bold text-sm fill-orange-800"
                    >
                      {cutH}cm
                    </text>
                  </g>
                </svg>
              </div>

              <div className="flex gap-4 mb-8 flex-wrap justify-center">
                <button
                  onClick={() => setShowPerimeter(!showPerimeter)}
                  className="px-6 py-3 bg-blue-500 text-white rounded-xl font-bold shadow-lg"
                >
                  {showPerimeter
                    ? getText("hidePerimeter")
                    : getText("showPerimeter")}
                </button>
                <button
                  onClick={() => setShowArea(!showArea)}
                  className="px-6 py-3 bg-green-500 text-white rounded-xl font-bold shadow-lg"
                >
                  {showArea ? getText("hideArea") : getText("showArea")}
                </button>
              </div>

              <div className="grid grid-cols-1 md:grid-cols-2 gap-8 w-full">
                {showPerimeter && (
                  <div className="bg-blue-100 p-6 rounded-2xl border-2 border-blue-400">
                    <h3 className="text-xl font-bold text-blue-900 mb-2">
                      {getText("perimeterCalc")}
                    </h3>
                    <p className="text-blue-800 mb-2">
                      {getText("perimeterTip")}
                    </p>
                    <div className="text-3xl font-black text-blue-700">
                      ({W} + {H}) √ó 2 = {perimeter} cm
                    </div>
                  </div>
                )}
                {showArea && (
                  <div className="bg-green-100 p-6 rounded-2xl border-2 border-green-400">
                    <h3 className="text-xl font-bold text-green-900 mb-2">
                      {getText("areaCalc")}
                    </h3>
                    <p className="text-green-800 mb-2">{getText("areaTip")}</p>
                    <div className="text-lg font-bold">
                      ({W} √ó {H}) - ({cutW} √ó {cutH})
                    </div>
                    <div className="text-3xl font-black text-green-700">
                      = {W * H} - {cutW * cutH} = {area} cm¬≤
                    </div>
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
