<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°å››æ•¸å­¸ï¼šåˆ†æ•¸æ¢ç´¢æ¨‚åœ’</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .fraction-line {
        height: 3px;
        background: currentColor;
        width: 100%;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { PieChart, Cake, Star, Check } = window.LucideReact;

      function App() {
        const [numerator, setNumerator] = useState(1);
        const [denominator, setDenominator] = useState(4);
        const [shape, setShape] = useState("circle"); // circle, rectangle, strip

        const MAX_PARTS = 12;

        const gcd = (a, b) => (b === 0 ? a : gcd(b, a % b));
        const simplify = (num, den) => {
          const divisor = gcd(num, den);
          return { num: num / divisor, den: den / divisor };
        };

        const simplified = simplify(numerator, denominator);
        const decimal = (numerator / denominator).toFixed(3);
        const percentage = ((numerator / denominator) * 100).toFixed(1);

        const renderCircle = () => {
          const anglePerPart = 360 / denominator;
          const parts = [];

          for (let i = 0; i < denominator; i++) {
            const angle = anglePerPart * i - 90;
            const isFilled = i < numerator;

            parts.push(
              <div
                key={i}
                className="absolute w-full h-full"
                style={{
                  transformOrigin: "center",
                  transform: `rotate(${angle}deg)`,
                }}
              >
                <div
                  className={`absolute w-1/2 h-1/2 origin-bottom-right ${
                    isFilled ? "bg-yellow-400" : "bg-white/30"
                  } border-2 border-white`}
                  style={{
                    clipPath: `polygon(100% 100%, 100% 0, ${
                      Math.cos((anglePerPart * Math.PI) / 180) * 100
                    }% ${Math.sin((anglePerPart * Math.PI) / 180) * 100}%)`,
                  }}
                />
              </div>
            );
          }

          return (
            <div className="relative w-64 h-64 mx-auto">
              <svg
                className="absolute inset-0 w-full h-full"
                viewBox="0 0 200 200"
              >
                {[...Array(denominator)].map((_, i) => {
                  const angle = (360 / denominator) * i;
                  const x1 = 100;
                  const y1 = 100;
                  const x2 =
                    100 + 100 * Math.cos(((angle - 90) * Math.PI) / 180);
                  const y2 =
                    100 + 100 * Math.sin(((angle - 90) * Math.PI) / 180);
                  const isFilled = i < numerator;

                  const largeArcFlag = 360 / denominator > 180 ? 1 : 0;
                  const x3 =
                    100 +
                    100 *
                      Math.cos(
                        ((angle - 90 + 360 / denominator) * Math.PI) / 180
                      );
                  const y3 =
                    100 +
                    100 *
                      Math.sin(
                        ((angle - 90 + 360 / denominator) * Math.PI) / 180
                      );

                  return (
                    <motion.path
                      key={i}
                      d={`M ${x1} ${y1} L ${x2} ${y2} A 100 100 0 ${largeArcFlag} 1 ${x3} ${y3} Z`}
                      fill={isFilled ? "#fbbf24" : "#ffffff40"}
                      stroke="white"
                      strokeWidth="2"
                      initial={{ opacity: 0, scale: 0 }}
                      animate={{ opacity: 1, scale: 1 }}
                      transition={{ delay: i * 0.05 }}
                    />
                  );
                })}
              </svg>
            </div>
          );
        };

        const renderRectangle = () => {
          const cols = Math.ceil(Math.sqrt(denominator));
          const rows = Math.ceil(denominator / cols);

          return (
            <div
              className="grid gap-2 w-full max-w-md mx-auto"
              style={{ gridTemplateColumns: `repeat(${cols}, 1fr)` }}
            >
              {[...Array(denominator)].map((_, i) => (
                <motion.div
                  key={i}
                  className={`aspect-square rounded-lg border-2 border-white ${
                    i < numerator ? "bg-yellow-400" : "bg-white/30"
                  }`}
                  initial={{ opacity: 0, scale: 0 }}
                  animate={{ opacity: 1, scale: 1 }}
                  transition={{ delay: i * 0.03 }}
                />
              ))}
            </div>
          );
        };

        const renderStrip = () => {
          return (
            <div className="w-full max-w-2xl mx-auto">
              <div
                className="grid gap-1"
                style={{ gridTemplateColumns: `repeat(${denominator}, 1fr)` }}
              >
                {[...Array(denominator)].map((_, i) => (
                  <motion.div
                    key={i}
                    className={`h-24 rounded-lg border-2 border-white ${
                      i < numerator ? "bg-yellow-400" : "bg-white/30"
                    }`}
                    initial={{ opacity: 0, scaleX: 0 }}
                    animate={{ opacity: 1, scaleX: 1 }}
                    transition={{ delay: i * 0.05 }}
                  />
                ))}
              </div>
            </div>
          );
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <header className="text-center mb-8">
              <div className="inline-flex items-center gap-3 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-4">
                <PieChart className="text-white" size={24} />
                <span className="text-white font-bold text-lg">å°å››æ•¸å­¸</span>
              </div>
              <h1 className="text-5xl md:text-6xl font-black text-white mb-2 tracking-tight">
                åˆ†æ•¸æ¢ç´¢æ¨‚åœ’
              </h1>
              <p className="text-xl text-white/80 font-medium">
                å¯è¦–åŒ–åˆ†æ•¸å­¸ç¿’
              </p>
            </header>

            <main className="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8">
              {/* Visualization Area */}
              <div className="lg:col-span-8 bg-white/95 backdrop-blur-md rounded-3xl p-8 shadow-2xl">
                {/* Fraction Display */}
                <div className="text-center mb-8">
                  <div className="inline-flex flex-col items-center justify-center text-slate-800">
                    <div className="text-6xl font-black">{numerator}</div>
                    <div className="fraction-line my-2"></div>
                    <div className="text-6xl font-black">{denominator}</div>
                  </div>
                  {simplified.num !== numerator && (
                    <div className="mt-4 text-2xl font-bold text-purple-600">
                      = {simplified.num}/{simplified.den}{" "}
                      <span className="text-lg">(æœ€ç°¡åˆ†æ•¸)</span>
                    </div>
                  )}
                </div>

                {/* Shape Selector */}
                <div className="flex justify-center gap-4 mb-8">
                  <button
                    onClick={() => setShape("circle")}
                    className={`px-6 py-3 rounded-2xl font-bold transition-all ${
                      shape === "circle"
                        ? "bg-purple-600 text-white shadow-lg"
                        : "bg-white/50 text-slate-700"
                    }`}
                  >
                    åœ“å½¢
                  </button>
                  <button
                    onClick={() => setShape("rectangle")}
                    className={`px-6 py-3 rounded-2xl font-bold transition-all ${
                      shape === "rectangle"
                        ? "bg-purple-600 text-white shadow-lg"
                        : "bg-white/50 text-slate-700"
                    }`}
                  >
                    æ–¹æ ¼
                  </button>
                  <button
                    onClick={() => setShape("strip")}
                    className={`px-6 py-3 rounded-2xl font-bold transition-all ${
                      shape === "strip"
                        ? "bg-purple-600 text-white shadow-lg"
                        : "bg-white/50 text-slate-700"
                    }`}
                  >
                    é•·æ¢
                  </button>
                </div>

                {/* Visual Representation */}
                <div className="min-h-[300px] flex items-center justify-center py-8">
                  {shape === "circle" && renderCircle()}
                  {shape === "rectangle" && renderRectangle()}
                  {shape === "strip" && renderStrip()}
                </div>

                {/* Info Panel */}
                <div className="grid grid-cols-2 gap-4 mt-8">
                  <div className="bg-blue-50 rounded-2xl p-4 text-center">
                    <div className="text-sm font-bold text-slate-600 mb-1">
                      å°æ•¸
                    </div>
                    <div className="text-3xl font-black text-blue-600">
                      {decimal}
                    </div>
                  </div>
                  <div className="bg-green-50 rounded-2xl p-4 text-center">
                    <div className="text-sm font-bold text-slate-600 mb-1">
                      ç™¾åˆ†æ¯”
                    </div>
                    <div className="text-3xl font-black text-green-600">
                      {percentage}%
                    </div>
                  </div>
                </div>
              </div>

              {/* Control Panel */}
              <div className="lg:col-span-4 flex flex-col gap-6">
                <div className="bg-white/95 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                  <h3 className="text-xl font-black text-purple-600 mb-4">
                    èª¿æ•´åˆ†æ•¸
                  </h3>

                  <div className="mb-6">
                    <label className="block text-sm font-bold text-slate-600 mb-2">
                      åˆ†å­ (å·²ç”¨éƒ¨åˆ†)
                    </label>
                    <input
                      type="range"
                      min="0"
                      max={denominator}
                      value={numerator}
                      onChange={(e) => setNumerator(parseInt(e.target.value))}
                      className="w-full"
                    />
                    <div className="text-4xl font-black text-center text-slate-800 mt-2">
                      {numerator}
                    </div>
                  </div>

                  <div className="mb-6">
                    <label className="block text-sm font-bold text-slate-600 mb-2">
                      åˆ†æ¯ (ç¸½å…±å¹¾ä»½)
                    </label>
                    <input
                      type="range"
                      min="1"
                      max={MAX_PARTS}
                      value={denominator}
                      onChange={(e) => {
                        const newDen = parseInt(e.target.value);
                        setDenominator(newDen);
                        if (numerator > newDen) setNumerator(newDen);
                      }}
                      className="w-full"
                    />
                    <div className="text-4xl font-black text-center text-slate-800 mt-2">
                      {denominator}
                    </div>
                  </div>

                  <div className="grid grid-cols-2 gap-2">
                    <button
                      onClick={() => {
                        setNumerator(1);
                        setDenominator(2);
                      }}
                      className="py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-bold text-sm transition-all"
                    >
                      1/2
                    </button>
                    <button
                      onClick={() => {
                        setNumerator(1);
                        setDenominator(4);
                      }}
                      className="py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-bold text-sm transition-all"
                    >
                      1/4
                    </button>
                    <button
                      onClick={() => {
                        setNumerator(3);
                        setDenominator(4);
                      }}
                      className="py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-bold text-sm transition-all"
                    >
                      3/4
                    </button>
                    <button
                      onClick={() => {
                        setNumerator(1);
                        setDenominator(3);
                      }}
                      className="py-2 bg-purple-100 hover:bg-purple-200 text-purple-700 rounded-xl font-bold text-sm transition-all"
                    >
                      1/3
                    </button>
                  </div>
                </div>

                <div className="bg-white/95 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                  <h3 className="text-lg font-black text-slate-800 mb-3 flex items-center gap-2">
                    ğŸ’¡ åˆ†æ•¸çŸ¥è­˜
                  </h3>
                  <div className="text-sm text-slate-600 leading-relaxed space-y-2">
                    <p>
                      <strong>åˆ†å­</strong>ï¼šåˆ†æ•¸ç·šä¸Šé¢çš„æ•¸å­—ï¼Œä»£è¡¨å–äº†å¹¾ä»½
                    </p>
                    <p>
                      <strong>åˆ†æ¯</strong>ï¼šåˆ†æ•¸ç·šä¸‹é¢çš„æ•¸å­—ï¼Œä»£è¡¨ç¸½å…±åˆ†æˆå¹¾ä»½
                    </p>
                    <p>
                      <strong>çœŸåˆ†æ•¸</strong>ï¼šåˆ†å­ &lt; åˆ†æ¯
                    </p>
                    <p>
                      <strong>å‡åˆ†æ•¸</strong>ï¼šåˆ†å­ â‰¥ åˆ†æ¯
                    </p>
                  </div>
                </div>
              </div>
            </main>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
