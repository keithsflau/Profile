<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÊãºÁ†åÂúñÂΩ¢ | Shape Assembler</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #e0e7ff 0%, #a5b4fc 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Shape Assembler",
          zh: "ÊãºÁ†åÂúñÂΩ¢",
          ja: "ÂΩ¢„Ç¢„Çª„É≥„Éñ„É©",
          ko: "ÎèÑÌòï Ï°∞Î¶Ω",
          es: "Ensamblador de Formas",
          de: "Form-Assembler",
          fi: "Muotokokoonpano",
          fr: "Assembleur de formes",
          ar: "ŸÖÿ¨ŸÖÿπ ÿßŸÑÿ£ÿ¥ŸÉÿßŸÑ",
          it: "Assemblatore di forme",
        },
        assemble: {
          en: "Assemble",
          zh: "ÊãºÂêà",
          ja: "ÁµÑ„ÅøÁ´ã„Å¶„Çã",
          ko: "Ï°∞Î¶Ω",
          es: "Ensamblar",
          de: "Zusammenbauen",
          fi: "Kokoa",
          fr: "Assembler",
          ar: "ÿ™ÿ¨ŸÖŸäÿπ",
          it: "Assembla",
        },
        explode: {
          en: "Explode",
          zh: "ÊãÜËß£",
          ja: "ÂàÜËß£",
          ko: "Î∂ÑÌï¥",
          es: "Desmontar",
          de: "Zerlegen",
          fi: "Hajota",
          fr: "D√©sassembler",
          ar: "ÿ™ŸÅŸÉŸäŸÉ",
          it: "Esplodi",
        },
        explanation: {
          en: "Four isosceles right triangles can form a large square! This is the magic of shape assembly.",
          zh: "ÂõõÂÄãÁ≠âËÖ∞Áõ¥Ëßí‰∏âËßíÂΩ¢ÔºåÂèØ‰ª•ÊãºÊàê‰∏ÄÂÄãÂ§ßÊ≠£ÊñπÂΩ¢ÔºÅÈÄôÂ∞±ÊòØÂúñÂΩ¢ÊãºÁ†åÁöÑÁ•ûÂ•á‰πãËôï„ÄÇ",
          ja: "4„Å§„ÅÆÁõ¥Ëßí‰∫åÁ≠âËæ∫‰∏âËßíÂΩ¢„ÅßÂ§ß„Åç„Å™Ê≠£ÊñπÂΩ¢„Çí‰Ωú„Çã„Åì„Å®„Åå„Åß„Åç„Åæ„ÅôÔºÅ„Åì„Çå„ÅåÂΩ¢„Ç¢„Çª„É≥„Éñ„É™„ÅÆÈ≠îÊ≥ï„Åß„Åô„ÄÇ",
          ko: "ÎÑ§ Í∞úÏùò ÏßÅÍ∞ÅÏù¥Îì±Î≥ÄÏÇºÍ∞ÅÌòïÏúºÎ°ú ÌÅ∞ Ï†ïÏÇ¨Í∞ÅÌòïÏùÑ ÎßåÎì§ Ïàò ÏûàÏäµÎãàÎã§! Ïù¥Í≤ÉÏù¥ ÎèÑÌòï Ï°∞Î¶ΩÏùò ÎßàÎ≤ïÏûÖÎãàÎã§.",
          es: "¬°Cuatro tri√°ngulos rect√°ngulos is√≥sceles pueden formar un cuadrado grande! Esta es la magia del ensamblaje de formas.",
          de: "Vier gleichschenklige rechtwinklige Dreiecke k√∂nnen ein gro√ües Quadrat bilden! Das ist die Magie der Formmontage.",
          fi: "Nelj√§ tasakylkist√§ suorakulmaista kolmiota voi muodostaa suuren neli√∂n! T√§m√§ on muotojen kokoamisen taikaa.",
          fr: "Quatre triangles rectangles isoc√®les peuvent former un grand carr√© ! C'est la magie de l'assemblage de formes.",
          ar: "ÿ£ÿ±ÿ®ÿπÿ© ŸÖÿ´ŸÑÿ´ÿßÿ™ ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑÿ≤ÿßŸàŸäÿ© ŸÖÿ™ÿ≥ÿßŸàŸäÿ© ÿßŸÑÿ≥ÿßŸÇŸäŸÜ ŸäŸÖŸÉŸÜ ÿ£ŸÜ ÿ™ÿ¥ŸÉŸÑ ŸÖÿ±ÿ®ÿπŸãÿß ŸÉÿ®Ÿäÿ±Ÿãÿß! Ÿáÿ∞ÿß ŸáŸà ÿ≥ÿ≠ÿ± ÿ™ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ¥ŸÉÿßŸÑ.",
          it: "Quattro triangoli rettangoli isosceli possono formare un grande quadrato! Questa √® la magia dell'assemblaggio delle forme.",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [assembled, setAssembled] = useState(true);

        const getText = (key) => t[key][lang] || t[key]["en"];

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-indigo-900 mb-8 mt-8">
              üß© {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full flex flex-col items-center">
              <div className="flex gap-4 mb-8">
                <button
                  onClick={() => setAssembled(true)}
                  className={`px-6 py-2 rounded-xl font-bold transition-all ${
                    assembled
                      ? "bg-indigo-600 text-white shadow-lg"
                      : "bg-indigo-100 text-indigo-600 hover:bg-indigo-200"
                  }`}
                >
                  {getText("assemble")}
                </button>
                <button
                  onClick={() => setAssembled(false)}
                  className={`px-6 py-2 rounded-xl font-bold transition-all ${
                    !assembled
                      ? "bg-pink-600 text-white shadow-lg"
                      : "bg-pink-100 text-pink-600 hover:bg-pink-200"
                  }`}
                >
                  {getText("explode")}
                </button>
              </div>

              <div className="relative w-[300px] h-[300px] md:w-[400px] md:h-[400px] border-4 border-slate-200 rounded-3xl bg-slate-50 overflow-hidden">
                <div
                  className="absolute inset-0 opacity-10"
                  style={{
                    backgroundImage:
                      "radial-gradient(#64748b 1px, transparent 1px)",
                    backgroundSize: "20px 20px",
                  }}
                ></div>

                {/* 
                  Center is 50%, 50%.
                  We align triangles so they meet at center.
                */}

                {/* Top Triangle (Points Down) */}
                <motion.div
                  className="absolute top-1/2 left-1/2 w-0 h-0"
                  style={{
                    marginLeft: "-100px", // Align center
                    marginTop: "-100px", // Align so point (bottom) is at center
                    borderLeft: "100px solid transparent",
                    borderRight: "100px solid transparent",
                    borderTop: "100px solid #6366f1", // indigo-500
                  }}
                  animate={{
                    y: assembled ? 0 : -60,
                  }}
                  transition={{ type: "spring", stiffness: 80, damping: 15 }}
                />

                {/* Bottom Triangle (Points Up) */}
                <motion.div
                  className="absolute top-1/2 left-1/2 w-0 h-0"
                  style={{
                    marginLeft: "-100px",
                    marginTop: "0px", // Point (top) is at top of box, so at center
                    borderLeft: "100px solid transparent",
                    borderRight: "100px solid transparent",
                    borderBottom: "100px solid #10b981", // emerald-500
                  }}
                  animate={{
                    y: assembled ? 0 : 60,
                  }}
                  transition={{ type: "spring", stiffness: 80, damping: 15 }}
                />

                {/* Left Triangle (Points Right) */}
                <motion.div
                  className="absolute top-1/2 left-1/2 w-0 h-0"
                  style={{
                    marginLeft: "-100px", // Box is 100 wide. Point is at right (100).
                    marginTop: "-100px",
                    borderTop: "100px solid transparent",
                    borderBottom: "100px solid transparent",
                    borderLeft: "100px solid #f59e0b", // amber-500
                  }}
                  animate={{
                    x: assembled ? 0 : -60,
                  }}
                  transition={{ type: "spring", stiffness: 80, damping: 15 }}
                />

                {/* Right Triangle (Points Left) */}
                <motion.div
                  className="absolute top-1/2 left-1/2 w-0 h-0"
                  style={{
                    marginLeft: "0px", // Point is at left (0).
                    marginTop: "-100px",
                    borderTop: "100px solid transparent",
                    borderBottom: "100px solid transparent",
                    borderRight: "100px solid #a855f7", // purple-500
                  }}
                  animate={{
                    x: assembled ? 0 : 60,
                  }}
                  transition={{ type: "spring", stiffness: 80, damping: 15 }}
                />
              </div>

              <div className="mt-8 text-center text-slate-600 font-bold w-full max-w-md bg-white/50 p-4 rounded-xl">
                {getText("explanation")}
              </div>
            </div>
          </div>
        );
      }
      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
