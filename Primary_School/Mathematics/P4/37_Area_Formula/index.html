<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÈù¢Á©çÂÖ¨Âºè | Area Formula</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #ecfccb 0%, #65a30d 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Area Formula",
          zh: "Èù¢Á©çÂÖ¨ÂºèÁî±‰æÜ",
          ja: "Èù¢Á©ç„ÅÆÂÖ¨Âºè",
          ko: "Î©¥Ï†Å Í≥µÏãù",
          es: "F√≥rmula del √Årea",
          de: "Fl√§chenformel",
          fi: "Pinta-alan kaava",
          fr: "Formule de l'aire",
          ar: "ÿµŸäÿ∫ÿ© ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©",
          it: "Formula dell'area",
        },
        length: {
          en: "Length (L)",
          zh: "Èï∑ (L)",
          ja: "Èï∑„Åï (L)",
          ko: "Í∏∏Ïù¥ (L)",
          es: "Largo (L)",
          de: "L√§nge (L)",
          fi: "Pituus (L)",
          fr: "Longueur (L)",
          ar: "ÿßŸÑÿ∑ŸàŸÑ (L)",
          it: "Lunghezza (L)",
        },
        width: {
          en: "Width (W)",
          zh: "Èóä (W)",
          ja: "ÂπÖ (W)",
          ko: "ÎÑàÎπÑ (W)",
          es: "Ancho (W)",
          de: "Breite (W)",
          fi: "Leveys (W)",
          fr: "Largeur (W)",
          ar: "ÿßŸÑÿπÿ±ÿ∂ (W)",
          it: "Larghezza (W)",
        },
        showSquares: {
          en: "Show Squares",
          zh: "È°ØÁ§∫ ÂñÆ‰ΩçÊñπÊ†º",
          ja: "Ê≠£ÊñπÂΩ¢„ÇíË°®Á§∫",
          ko: "ÏÇ¨Í∞ÅÌòï ÌëúÏãú",
          es: "Mostrar Cuadrados",
          de: "Quadrate anzeigen",
          fi: "N√§yt√§ neli√∂t",
          fr: "Afficher les carr√©s",
          ar: "ÿ•ÿ∏Ÿáÿßÿ± ÿßŸÑŸÖÿ±ÿ®ÿπÿßÿ™",
          it: "Mostra quadrati",
        },
        hideSquares: {
          en: "Hide Squares",
          zh: "Èö±Ëóè ÂñÆ‰ΩçÊñπÊ†º",
          ja: "Ê≠£ÊñπÂΩ¢„ÇíÈö†„Åô",
          ko: "ÏÇ¨Í∞ÅÌòï Ïà®Í∏∞Í∏∞",
          es: "Ocultar Cuadrados",
          de: "Quadrate ausblenden",
          fi: "Piilota neli√∂t",
          fr: "Masquer les carr√©s",
          ar: "ÿ•ÿÆŸÅÿßÿ° ÿßŸÑŸÖÿ±ÿ®ÿπÿßÿ™",
          it: "Nascondi quadrati",
        },
        formula: {
          en: "Formula:",
          zh: "ÁÆóÂºèÔºö",
          ja: "ÂºèÔºö",
          ko: "Í≥µÏãù:",
          es: "F√≥rmula:",
          de: "Formel:",
          fi: "Kaava:",
          fr: "Formule :",
          ar: "ÿßŸÑÿµŸäÿ∫ÿ©:",
          it: "Formula:",
        },
        explanation: {
          en: "Length √ó Width = Area",
          zh: "Èï∑ √ó Èóä = Èù¢Á©ç",
          ja: "Èï∑„Åï √ó ÂπÖ = Èù¢Á©ç",
          ko: "Í∏∏Ïù¥ √ó ÎÑàÎπÑ = Î©¥Ï†Å",
          es: "Largo √ó Ancho = √Årea",
          de: "L√§nge √ó Breite = Fl√§che",
          fi: "Pituus √ó Leveys = Pinta-ala",
          fr: "Longueur √ó Largeur = Aire",
          ar: "ÿßŸÑÿ∑ŸàŸÑ √ó ÿßŸÑÿπÿ±ÿ∂ = ÿßŸÑŸÖÿ≥ÿßÿ≠ÿ©",
          it: "Lunghezza √ó Larghezza = Area",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const getText = (key) => t[key][lang] || t[key]["en"];

        const [w, setW] = useState(5);
        const [h, setH] = useState(4);
        const [showSquares, setShowSquares] = useState(true);

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-lime-900 mb-8 mt-8">
              üü© {getText("title")}
            </h1>

            <div className="bg-white/95 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full flex flex-col md:flex-row gap-12 items-center">
              <div className="flex flex-col gap-6">
                <div className="flex items-center gap-4">
                  <label className="font-bold text-lime-800 text-xl w-24">
                    {getText("length")}
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    value={w}
                    onChange={(e) => setW(parseInt(e.target.value))}
                    className="w-48 accent-lime-600"
                  />
                  <span className="text-2xl font-black text-lime-700">{w}</span>
                </div>
                <div className="flex items-center gap-4">
                  <label className="font-bold text-lime-800 text-xl w-24">
                    {getText("width")}
                  </label>
                  <input
                    type="range"
                    min="1"
                    max="10"
                    value={h}
                    onChange={(e) => setH(parseInt(e.target.value))}
                    className="w-48 accent-lime-600"
                  />
                  <span className="text-2xl font-black text-lime-700">{h}</span>
                </div>

                <button
                  onClick={() => setShowSquares(!showSquares)}
                  className="py-3 bg-lime-100 text-lime-800 rounded-xl font-bold hover:bg-lime-200"
                >
                  {showSquares
                    ? getText("hideSquares")
                    : getText("showSquares")}
                </button>

                <div className="bg-lime-50 p-6 rounded-2xl border-2 border-lime-200">
                  <h3 className="font-bold text-lime-800 mb-2">
                    {getText("formula")}
                  </h3>
                  <div className="text-4xl font-black text-lime-900">
                    {w} √ó {h} = {w * h}
                  </div>
                  <div className="mt-2 font-bold text-lime-600">
                    {getText("explanation")}
                  </div>
                </div>
              </div>

              {/* Visualization */}
              <div className="relative bg-lime-50 p-8 rounded-2xl shadow-inner border border-lime-200 min-w-[300px] min-h-[300px] flex items-center justify-center">
                <div
                  className="grid bg-white border-4 border-lime-600 shadow-xl transition-all duration-300"
                  style={{
                    gridTemplateColumns: `repeat(${w}, 1fr)`,
                    width: `${w * 30}px`,
                    height: `${h * 30}px`,
                  }}
                >
                  {[...Array(w * h)].map((_, i) => (
                    <motion.div
                      key={i}
                      initial={{ scale: 0 }}
                      animate={{ scale: 1 }}
                      transition={{ delay: i * 0.02 }}
                      className={`border-[0.5px] border-lime-200 flex items-center justify-center text-[10px] text-lime-300 font-bold ${
                        showSquares ? "opacity-100" : "opacity-0"
                      }`}
                    >
                      1
                    </motion.div>
                  ))}
                </div>

                {/* Dimensions Labels */}
                <div className="absolute top-2 font-bold text-lime-700">
                  {w} ({getText("length")})
                </div>
                <div
                  className="absolute left-2 font-bold text-lime-700"
                  style={{ writingMode: "vertical-lr" }}
                >
                  {h} ({getText("width")})
                </div>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
