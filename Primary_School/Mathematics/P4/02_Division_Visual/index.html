<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂõõÊï∏Â≠∏ÔºöÈô§Ê≥ïÂãïÁï´Ë¶ñË¶∫ | Division Visualizer</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
          font-family: 'Fredoka', 'Noto Sans TC', sans-serif;
          background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
          min-height: 100vh;
      }
      .item-box {
          width: 50px;
          height: 50px;
          border-radius: 12px;
          display: flex;
          align-items: center;
          justify-center;
          font-size: 1.5rem;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion, AnimatePresence } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Division Visualizer",
          zh: "Èô§Ê≥ïÂãïÁï´Ë¶ñË¶∫",
          ja: "Èô§ÁÆó„Éì„Ç∏„É•„Ç¢„É©„Ç§„Ç∂„Éº",
          ko: "ÎÇòÎàóÏÖà ÏãúÍ∞ÅÌôî",
          es: "Visualizador de Divisi√≥n",
          de: "Divisionsvisualisierer",
          fi: "Jakolaskun visualisointi",
          fr: "Visualiseur de division",
          ar: "ŸÖÿµŸàÿ± ÿßŸÑŸÇÿ≥ŸÖÿ©",
          it: "Visualizzatore di divisione",
        },
        header: {
          en: "P4 Math",
          zh: "Â∞èÂõõÊï∏Â≠∏",
          ja: "Â∞è4ÁÆóÊï∞",
          ko: "Ï¥à4 ÏàòÌïô",
          es: "Matem√°ticas P4",
          de: "Mathe 4. Klasse",
          fi: "4. luokan matematiikka",
          fr: "Maths P4",
          ar: "ÿßŸÑÿ±Ÿäÿßÿ∂Ÿäÿßÿ™ ŸÑŸÑÿµŸÅ ÿßŸÑÿ±ÿßÿ®ÿπ",
          it: "Matematica 4a elementare",
        },
        subtitle: {
          en: "Grouping Animations",
          zh: "ÂàÜÁµÑÂ≠∏ÁøíÊ≥ï",
          ja: "„Ç∞„É´„Éº„ÉóÂåñ„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥",
          ko: "Í∑∏Î£πÌôî ÌïôÏäµÎ≤ï",
          es: "Animaciones de agrupaci√≥n",
          de: "Gruppierungsanimationen",
          fi: "Ryhmittelyanimaatiot",
          fr: "Animations de groupement",
          ar: "ÿ±ÿ≥ŸàŸÖ ŸÖÿ™ÿ≠ÿ±ŸÉÿ© ŸÑŸÑÿ™ÿ¨ŸÖŸäÿπ",
          it: "Animazioni di raggruppamento",
        },
        problemDesc: {
          en: "Divide {dividend} items equally into {divisor} groups",
          zh: "Â∞á {dividend} ÂÄãÁâ©ÂìÅÂπ≥ÂùáÂàÜÁµ¶ {divisor} ÁµÑ",
          ja: "{dividend} ÂÄã„ÅÆ„Ç¢„Ç§„ÉÜ„É†„Çí {divisor} „Ç∞„É´„Éº„Éó„Å´Á≠â„Åó„ÅèÂàÜ„Åë„Åæ„Åô",
          ko: "{dividend} Í∞úÏùò ÏïÑÏù¥ÌÖúÏùÑ {divisor} Í∑∏Î£πÏúºÎ°ú Í∑†Îì±ÌïòÍ≤å ÎÇòÎàïÎãàÎã§",
          es: "Dividir {dividend} elementos equitativamente en {divisor} grupos",
          de: "Teile {dividend} Gegenst√§nde gleichm√§√üig in {divisor} Gruppen",
          fi: "Jaa {dividend} kohdetta tasan {divisor} ryhm√§√§n",
          fr: "Divisez {dividend} √©l√©ments √©quitablement en {divisor} groupes",
          ar: "ŸÇÿ≥ŸëŸÖ {dividend} ÿπŸÜÿµÿ±Ÿãÿß ÿ®ÿßŸÑÿ™ÿ≥ÿßŸàŸä ÿπŸÑŸâ {divisor} ŸÖÿ¨ŸÖŸàÿπÿßÿ™",
          it: "Dividi {dividend} elementi equamente in {divisor} gruppi",
        },
        groupLabel: {
          en: "Group {n}",
          zh: "Á¨¨ {n} ÁµÑ",
          ja: "„Ç∞„É´„Éº„Éó {n}",
          ko: "Í∑∏Î£π {n}",
          es: "Grupo {n}",
          de: "Gruppe {n}",
          fi: "Ryhm√§ {n}",
          fr: "Groupe {n}",
          ar: "ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© {n}",
          it: "Gruppo {n}",
        },
        items: {
          en: "items",
          zh: "ÂÄã",
          ja: "ÂÄã",
          ko: "Í∞ú",
          es: "elementos",
          de: "St√ºck",
          fi: "kohdetta",
          fr: "√©l√©ments",
          ar: "ÿπŸÜÿßÿµÿ±",
          it: "elementi",
        },
        startPrompt: {
          en: "Click 'Start Grouping' to watch animation!",
          zh: "ÈªûÊìä„ÄåÈñãÂßãÂàÜÁµÑ„Äç‰æÜËßÄÁúãÂãïÁï´ÔºÅ",
          ja: "„Äå„Ç∞„É´„Éº„ÉóÂåñÈñãÂßã„Äç„Çí„ÇØ„É™„ÉÉ„ÇØ„Åó„Å¶„Ç¢„Éã„É°„Éº„Ç∑„Éß„É≥„ÇíË¶ã„Çà„ÅÜÔºÅ",
          ko: "'Í∑∏Î£πÌôî ÏãúÏûë'ÏùÑ ÌÅ¥Î¶≠ÌïòÏó¨ Ïï†ÎãàÎ©îÏù¥ÏÖòÏùÑ Î≥¥ÏÑ∏Ïöî!",
          es: "¬°Haz clic en 'Iniciar agrupaci√≥n' para ver la animaci√≥n!",
          de: "Klicke auf 'Gruppierung starten', um die Animation zu sehen!",
          fi: "Napsauta 'Aloita ryhmittely' katsoaksesi animaation!",
          fr: "Cliquez sur 'Commencer le groupement' pour voir l'animation !",
          ar: "ÿßŸÜŸÇÿ± ÿπŸÑŸâ 'ÿ®ÿØÿ° ÿßŸÑÿ™ÿ¨ŸÖŸäÿπ' ŸÑŸÖÿ¥ÿßŸáÿØÿ© ÿßŸÑÿ±ÿ≥ŸàŸÖ ÿßŸÑŸÖÿ™ÿ≠ÿ±ŸÉÿ©!",
          it: "Clicca su 'Inizia raggruppamento' per guardare l'animazione!",
        },
        answer: {
          en: "Answer:",
          zh: "Á≠îÊ°àÔºö",
          ja: "Á≠î„ÅàÔºö",
          ko: "Ï†ïÎãµ:",
          es: "Respuesta:",
          de: "Antwort:",
          fi: "Vastaus:",
          fr: "R√©ponse :",
          ar: "ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©:",
          it: "Risposta:",
        },
        quotient: {
          en: "Quotient",
          zh: "ÂïÜÊï∏",
          ja: "ÂïÜ",
          ko: "Î™´",
          es: "Cociente",
          de: "Quotient",
          fi: "Osam√§√§r√§",
          fr: "Quotient",
          ar: "ÿßŸÑŸÜÿßÿ™ÿ¨",
          it: "Quoziente",
        },
        remainder: {
          en: "Remainder",
          zh: "È§òÊï∏",
          ja: "‰Ωô„Çä",
          ko: "ÎÇòÎ®∏ÏßÄ",
          es: "Resto",
          de: "Rest",
          fi: "Jakojaann√∂s",
          fr: "Reste",
          ar: "ÿßŸÑÿ®ÿßŸÇŸä",
          it: "Resto",
        },
        resultExplain: {
          en: "{q} items per group",
          zh: "ÊØèÁµÑÊúâ {q} ÂÄã",
          ja: "ÂêÑ„Ç∞„É´„Éº„Éó„Å´ {q} ÂÄã",
          ko: "Í∑∏Î£πÎãπ {q} Í∞ú",
          es: "{q} elementos por grupo",
          de: "{q} Gegenst√§nde pro Gruppe",
          fi: "{q} kohdetta ryhm√§ss√§",
          fr: "{q} √©l√©ments par groupe",
          ar: "{q} ÿπŸÜÿßÿµÿ± ŸÑŸÉŸÑ ŸÖÿ¨ŸÖŸàÿπÿ©",
          it: "{q} elementi per gruppo",
        },
        remainderExplain: {
          en: ", remaining {r} items",
          zh: "ÔºåÂâ©È§ò {r} ÂÄã",
          ja: "„ÄÅÊÆã„Çä {r} ÂÄã",
          ko: ", {r} Í∞úÍ∞Ä ÎÇ®Ïùå",
          es: ", sobran {r} elementos",
          de: ", {r} verbleibende Gegenst√§nde",
          fi: ", j√§ljell√§ {r} kohdetta",
          fr: ", reste {r} √©l√©ments",
          ar: "ÿå Ÿäÿ™ÿ®ŸÇŸâ {r} ÿπŸÜÿßÿµÿ±",
          it: ", rimanenti {r} elementi",
        },
        settings: {
          en: "Settings",
          zh: "Ë®≠ÂÆöÂïèÈ°å",
          ja: "Ë®≠ÂÆö",
          ko: "ÏÑ§Ï†ï",
          es: "Ajustes",
          de: "Einstellungen",
          fi: "Asetukset",
          fr: "Param√®tres",
          ar: "ÿßŸÑÿ•ÿπÿØÿßÿØÿßÿ™",
          it: "Impostazioni",
        },
        dividend: {
          en: "Dividend (Total)",
          zh: "Ë¢´Èô§Êï∏ (Á∏ΩÊï∏Èáè)",
          ja: "Ë¢´Èô§Êï∞ (ÂêàË®à)",
          ko: "ÌîºÏ†úÏàò (Ï¥ù ÏàòÎüâ)",
          es: "Dividendo (Total)",
          de: "Dividend (Gesamt)",
          fi: "Jaettava (Yhteens√§)",
          fr: "Dividende (Total)",
          ar: "ÿßŸÑŸÖŸÇÿ≥ŸàŸÖ (ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä)",
          it: "Dividendo (Totale)",
        },
        divisor: {
          en: "Divisor (Groups)",
          zh: "Èô§Êï∏ (ÁµÑÊï∏)",
          ja: "Èô§Êï∞ („Ç∞„É´„Éº„ÉóÊï∞)",
          ko: "Ï†úÏàò (Í∑∏Î£π Ïàò)",
          es: "Divisor (Grupos)",
          de: "Divisor (Gruppen)",
          fi: "Jakaja (Ryhm√§t)",
          fr: "Diviseur (Groupes)",
          ar: "ÿßŸÑŸÖŸÇÿ≥ŸàŸÖ ÿπŸÑŸäŸá (ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿßÿ™)",
          it: "Divisore (Gruppi)",
        },
        start: {
          en: "Start Grouping",
          zh: "ÈñãÂßãÂàÜÁµÑ",
          ja: "„Ç∞„É´„Éº„ÉóÂåñÈñãÂßã",
          ko: "Í∑∏Î£πÌôî ÏãúÏûë",
          es: "Iniciar agrupaci√≥n",
          de: "Gruppierung starten",
          fi: "Aloita ryhmittely",
          fr: "Commencer le groupement",
          ar: "ÿ®ÿØÿ° ÿßŸÑÿ™ÿ¨ŸÖŸäÿπ",
          it: "Inizia raggruppamento",
        },
        restart: {
          en: "Restart",
          zh: "ÈáçÊñ∞ÈñãÂßã",
          ja: "ÂÜçÈñã",
          ko: "Îã§Ïãú ÏãúÏûë",
          es: "Reiniciar",
          de: "Neustart",
          fi: "K√§ynnist√§ uudelleen",
          fr: "Red√©marrer",
          ar: "ÿ•ÿπÿßÿØÿ© ÿßŸÑÿ™ÿ¥ÿ∫ŸäŸÑ",
          it: "Riavvia",
        },
        tips: {
          en: "Tips",
          zh: "Â∞èË≤ºÂ£´",
          ja: "„Éí„É≥„Éà",
          ko: "ÌåÅ",
          es: "Consejos",
          de: "Tipps",
          fi: "Vinkit",
          fr: "Astuces",
          ar: "ŸÜÿµÿßÿ¶ÿ≠",
          it: "Suggerimenti",
        },
        tip1: {
          en: "Division is 'Equal Sharing':",
          zh: "Èô§Ê≥ïÂ∞±ÊòØ„ÄåÂπ≥ÂùáÂàÜÈÖç„ÄçÔºö",
          ja: "Èô§ÁÆó„ÅØ„ÄåÁ≠âÂàÜ„Äç„Åß„ÅôÔºö",
          ko: "ÎÇòÎàóÏÖàÏùÄ 'Í∑†Îì± Î∂ÑÎ∞∞'ÏûÖÎãàÎã§:",
          es: "La divisi√≥n es 'Reparto Equitativo':",
          de: "Division ist 'Gerechtes Teilen':",
          fi: "Jakolasku on 'Tasan jakamista':",
          fr: "La division est un 'Partage √©gal' :",
          ar: "ÿßŸÑŸÇÿ≥ŸÖÿ© ŸáŸä 'ŸÖÿ¥ÿßÿ±ŸÉÿ© ŸÖÿ™ÿ≥ÿßŸàŸäÿ©':",
          it: "La divisione √® 'Condivisione equa':",
        },
        tipDividend: {
          en: "Dividend: Total amount to share",
          zh: "Ë¢´Èô§Êï∏ÔºöË¶ÅÂàÜÁöÑÁ∏ΩÊï∏",
          ja: "Ë¢´Èô§Êï∞ÔºöÂàÜ„Åë„ÇãÁ∑èÈáè",
          ko: "ÌîºÏ†úÏàò: ÎÇòÎàå Ï¥ùÎüâ",
          es: "Dividendo: Cantidad total a repartir",
          de: "Dividend: Gesamtmenge zum Teilen",
          fi: "Jaettava: Jaettava kokonaism√§√§r√§",
          fr: "Dividende : Montant total √† partager",
          ar: "ÿßŸÑŸÖŸÇÿ≥ŸàŸÖ: ÿßŸÑŸÖÿ®ŸÑÿ∫ ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸä ŸÑŸÑŸÖÿ¥ÿßÿ±ŸÉÿ©",
          it: "Dividendo: Importo totale da condividere",
        },
        tipDivisor: {
          en: "Divisor: Number of groups",
          zh: "Èô§Êï∏ÔºöË¶ÅÂàÜÊàêÂπæÁµÑ",
          ja: "Èô§Êï∞Ôºö„Ç∞„É´„Éº„Éó„ÅÆÊï∞",
          ko: "Ï†úÏàò: Í∑∏Î£πÏùò Ïàò",
          es: "Divisor: N√∫mero de grupos",
          de: "Divisor: Anzahl der Gruppen",
          fi: "Jakaja: Ryhmien m√§√§r√§",
          fr: "Diviseur : Nombre de groupes",
          ar: "ÿßŸÑŸÖŸÇÿ≥ŸàŸÖ ÿπŸÑŸäŸá: ÿπÿØÿØ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿßÿ™",
          it: "Divisore: Numero di gruppi",
        },
        tipQuotient: {
          en: "Quotient: Amount per group",
          zh: "ÂïÜÊï∏ÔºöÊØèÁµÑÊúâÂ§öÂ∞ë",
          ja: "ÂïÜÔºö„Ç∞„É´„Éº„Éó„Åî„Å®„ÅÆÈáè",
          ko: "Î™´: Í∑∏Î£πÎãπ ÏàòÎüâ",
          es: "Cociente: Cantidad por grupo",
          de: "Quotient: Menge pro Gruppe",
          fi: "Osam√§√§r√§: M√§√§r√§ ryhm√§√§ kohti",
          fr: "Quotient : Montant par groupe",
          ar: "ÿßŸÑŸÜÿßÿ™ÿ¨: ÿßŸÑŸÖÿ®ŸÑÿ∫ ŸÑŸÉŸÑ ŸÖÿ¨ŸÖŸàÿπÿ©",
          it: "Quoziente: Importo per gruppo",
        },
        tipRemainder: {
          en: "Remainder: Leftovers",
          zh: "È§òÊï∏ÔºöÂàÜ‰∏çÂÆåÂâ©‰∏ãÁöÑ",
          ja: "‰Ωô„ÇäÔºöÊÆã„Å£„Åü„ÇÇ„ÅÆ",
          ko: "ÎÇòÎ®∏ÏßÄ: ÎÇ®ÏùÄ Í≤É",
          es: "Resto: Sobras",
          de: "Rest: √úbriggebliebenes",
          fi: "Jakojaann√∂s: T√§hteet",
          fr: "Reste : Restes",
          ar: "ÿßŸÑÿ®ÿßŸÇŸä: ÿßŸÑÿ®ŸÇÿßŸäÿß",
          it: "Resto: Avanzi",
        },
      };

      const Package = ({ size = 24, className = "" }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className={className}
        >
          <path d="m16.5 9.4-9-5.19" />
          <path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z" />
          <polyline points="3.27 6.96 12 12.01 20.73 6.96" />
          <line x1="12" y1="22.08" x2="12" y2="12" />
        </svg>
      );
      const Users = ({ size = 24, className = "" }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className={className}
        >
          <path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2" />
          <circle cx="9" cy="7" r="4" />
          <path d="M22 21v-2a4 4 0 0 0-3-3.87" />
          <path d="M16 3.13a4 4 0 0 1 0 7.75" />
        </svg>
      );
      const Play = ({ size = 24, className = "" }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className={className}
        >
          <polygon points="5 3 19 12 5 21 5 3" />
        </svg>
      );
      const RotateCcw = ({ size = 24, className = "" }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className={className}
        >
          <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8" />
          <path d="M3 3v5h5" />
        </svg>
      );
      const ArrowRight = ({ size = 24, className = "" }) => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width={size}
          height={size}
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
          className={className}
        >
          <path d="M5 12h14" />
          <path d="m12 5 7 7-7 7" />
        </svg>
      );

      const ITEMS = ["üçé", "üçä", "üçá", "üçì", "üçå", "üçâ", "ü•ù", "üçë"];

      function App() {
        const [lang, setLang] = useState("zh");
        const [dividend, setDividend] = useState(24);
        const [divisor, setDivisor] = useState(4);
        const [isAnimating, setIsAnimating] = useState(false);
        const [groups, setGroups] = useState([]);
        const [currentItem, setCurrentItem] = useState(ITEMS[0]);

        const quotient = Math.floor(dividend / divisor);
        const remainder = dividend % divisor;

        const startAnimation = () => {
          setIsAnimating(true);
          setGroups([]);

          // Distribute items into groups with animation
          const newGroups = Array(divisor)
            .fill(0)
            .map(() => []);
          let itemIndex = 0;

          const distributeNext = () => {
            if (itemIndex < dividend) {
              const targetGroup = itemIndex % divisor;
              newGroups[targetGroup].push(itemIndex);
              setGroups([...newGroups.map((g) => [...g])]);
              itemIndex++;
              setTimeout(distributeNext, 200);
            } else {
              setIsAnimating(false);
            }
          };

          setTimeout(distributeNext, 300);
        };

        const resetAnimation = () => {
          setGroups([]);
          setIsAnimating(false);
          setCurrentItem(ITEMS[Math.floor(Math.random() * ITEMS.length)]);
        };

        const getText = (key) => t[key][lang] || t[key]["en"];

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <header className="text-center mb-8 mt-8">
              <div className="inline-flex items-center gap-3 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-4">
                <Package className="text-white" size={24} />
                <span className="text-white font-bold text-lg">
                  {getText("header")}
                </span>
              </div>
              <h1 className="text-4xl md:text-6xl font-black text-white mb-2 tracking-tight">
                {getText("title")}
              </h1>
              <p className="text-xl text-white/80 font-medium">
                {getText("subtitle")}
              </p>
            </header>

            <main className="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8">
              {/* Visualization Area */}
              <div className="lg:col-span-8 bg-white/95 backdrop-blur-md rounded-3xl p-8 shadow-2xl">
                {/* Problem Display */}
                <div className="text-center mb-8 p-6 bg-gradient-to-r from-pink-50 to-purple-50 rounded-2xl">
                  <div className="text-4xl font-black text-slate-800 mb-2">
                    {dividend} √∑ {divisor} = ?
                  </div>
                  <div className="text-lg text-slate-600 font-medium">
                    {getText("problemDesc")
                      .replace("{dividend}", dividend)
                      .replace("{divisor}", divisor)}
                  </div>
                </div>

                {/* Groups Display */}
                {groups.length > 0 ? (
                  <div className="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 mb-8">
                    {groups.map((group, groupIdx) => (
                      <motion.div
                        key={groupIdx}
                        initial={{ opacity: 0, scale: 0.8 }}
                        animate={{ opacity: 1, scale: 1 }}
                        className="bg-white rounded-2xl p-4 shadow-lg border-2 border-purple-200"
                      >
                        <div className="flex items-center gap-2 mb-3 pb-2 border-b-2 border-purple-100">
                          <Users className="text-purple-500" size={20} />
                          <span className="font-black text-purple-600">
                            {getText("groupLabel").replace("{n}", groupIdx + 1)}
                          </span>
                        </div>
                        <div className="flex flex-wrap gap-2">
                          {group.map((itemIdx) => (
                            <motion.div
                              key={itemIdx}
                              initial={{ opacity: 0, y: -50, scale: 0 }}
                              animate={{ opacity: 1, y: 0, scale: 1 }}
                              className="item-box bg-gradient-to-br from-yellow-200 to-orange-200 shadow-md"
                            >
                              {currentItem}
                            </motion.div>
                          ))}
                        </div>
                        <div className="mt-3 text-center text-sm font-bold text-slate-600">
                          {group.length} {getText("items")}
                        </div>
                      </motion.div>
                    ))}
                  </div>
                ) : (
                  <div className="flex items-center justify-center min-h-[300px]">
                    <div className="text-center">
                      <div className="text-6xl mb-4">{currentItem}</div>
                      <div className="text-2xl font-bold text-slate-400">
                        {getText("startPrompt")}
                      </div>
                    </div>
                  </div>
                )}

                {/* Answer Section */}
                {groups.length > 0 && !isAnimating && (
                  <motion.div
                    initial={{ opacity: 0, y: 20 }}
                    animate={{ opacity: 1, y: 0 }}
                    className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-6 text-center border-2 border-green-200"
                  >
                    <div className="text-2xl font-black text-slate-700 mb-4">
                      {getText("answer")}
                    </div>
                    <div className="text-5xl font-black text-green-600 mb-2">
                      {getText("quotient")} = {quotient}
                    </div>
                    {remainder > 0 && (
                      <div className="text-3xl font-black text-orange-600">
                        {getText("remainder")} = {remainder}
                      </div>
                    )}
                    <div className="mt-4 text-slate-600 font-medium">
                      {getText("resultExplain").replace("{q}", quotient)}
                      {remainder > 0
                        ? getText("remainderExplain").replace("{r}", remainder)
                        : ""}
                    </div>
                  </motion.div>
                )}
              </div>

              {/* Control Panel */}
              <div className="lg:col-span-4 flex flex-col gap-6">
                <div className="bg-white/95 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                  <h3 className="text-xl font-black text-pink-600 mb-4">
                    {getText("settings")}
                  </h3>

                  <div className="mb-4">
                    <label className="block text-sm font-bold text-slate-600 mb-2">
                      {getText("dividend")}
                    </label>
                    <input
                      type="range"
                      min="10"
                      max="50"
                      value={dividend}
                      onChange={(e) => {
                        setDividend(parseInt(e.target.value));
                        resetAnimation();
                      }}
                      className="w-full"
                      disabled={isAnimating}
                    />
                    <div className="text-3xl font-black text-center text-slate-800 mt-2">
                      {dividend}
                    </div>
                  </div>

                  <div className="mb-6">
                    <label className="block text-sm font-bold text-slate-600 mb-2">
                      {getText("divisor")}
                    </label>
                    <input
                      type="range"
                      min="2"
                      max="8"
                      value={divisor}
                      onChange={(e) => {
                        setDivisor(parseInt(e.target.value));
                        resetAnimation();
                      }}
                      className="w-full"
                      disabled={isAnimating}
                    />
                    <div className="text-3xl font-black text-center text-slate-800 mt-2">
                      {divisor}
                    </div>
                  </div>

                  <button
                    onClick={startAnimation}
                    disabled={isAnimating || groups.length > 0}
                    className="w-full py-4 bg-gradient-to-r from-pink-500 to-purple-500 hover:from-pink-600 hover:to-purple-600 text-white rounded-2xl font-bold text-lg shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2"
                  >
                    <Play size={20} /> {getText("start")}
                  </button>

                  {groups.length > 0 && (
                    <button
                      onClick={resetAnimation}
                      className="w-full mt-3 py-4 bg-slate-100 hover:bg-slate-200 text-slate-700 rounded-2xl font-bold transition-all flex items-center justify-center gap-2"
                    >
                      <RotateCcw size={20} /> {getText("restart")}
                    </button>
                  )}
                </div>

                <div className="bg-white/95 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                  <h3 className="text-lg font-black text-slate-800 mb-3 flex items-center gap-2">
                    üí° {getText("tips")}
                  </h3>
                  <div className="text-sm text-slate-600 leading-relaxed space-y-2">
                    <p>
                      <strong>{getText("tip1")}</strong>
                    </p>
                    <p>
                      ‚Ä¢ <strong>{getText("tipDividend")}</strong>
                    </p>
                    <p>
                      ‚Ä¢ <strong>{getText("tipDivisor")}</strong>
                    </p>
                    <p>
                      ‚Ä¢ <strong>{getText("tipQuotient")}</strong>
                    </p>
                    <p>
                      ‚Ä¢ <strong>{getText("tipRemainder")}</strong>
                    </p>
                  </div>
                </div>
              </div>
            </main>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
