<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°å››æ•¸å­¸ï¼šå››é‚Šå½¢å®¶æ— | Quadrilaterals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
        min-height: 100vh;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Quadrilateral Family",
          zh: "å››é‚Šå½¢å®¶æ—",
          ja: "å››è§’å½¢ã®å®¶æ—",
          ko: "ì‚¬ê°í˜• ê°€ì¡±",
          es: "Familia de CuadrilÃ¡teros",
          de: "Viereck-Familie",
          fi: "Nelikulmioperhe",
          fr: "Famille des quadrilatÃ¨res",
          ar: "Ø¹Ø§Ø¦Ù„Ø© Ø§Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø±Ø¨Ø§Ø¹ÙŠØ©",
          it: "Famiglia dei quadrilateri",
        },
        square: {
          en: "Square",
          zh: "æ­£æ–¹å½¢",
          ja: "æ­£æ–¹å½¢",
          ko: "ì •ì‚¬ê°í˜•",
          es: "Cuadrado",
          de: "Quadrat",
          fi: "NeliÃ¶",
          fr: "CarrÃ©",
          ar: "Ù…Ø±Ø¨Ø¹",
          it: "Quadrato",
        },
        rectangle: {
          en: "Rectangle",
          zh: "é•·æ–¹å½¢",
          ja: "é•·æ–¹å½¢",
          ko: "ì§ì‚¬ê°í˜•",
          es: "RectÃ¡ngulo",
          de: "Rechteck",
          fi: "Suorakulmio",
          fr: "Rectangle",
          ar: "Ù…Ø³ØªØ·ÙŠÙ„",
          it: "Rettangolo",
        },
        parallelogram: {
          en: "Parallelogram",
          zh: "å¹³è¡Œå››é‚Šå½¢",
          ja: "å¹³è¡Œå››è¾ºå½¢",
          ko: "í‰í–‰ì‚¬ë³€í˜•",
          es: "Paralelogramo",
          de: "Parallelogramm",
          fi: "Suunnikas",
          fr: "ParallÃ©logramme",
          ar: "Ù…ØªÙˆØ§Ø²ÙŠ Ø§Ù„Ø§Ø¶Ù„Ø§Ø¹",
          it: "Parallelogramma",
        },
        rhombus: {
          en: "Rhombus",
          zh: "è±å½¢",
          ja: "è±å½¢",
          ko: "ë§ˆë¦„ëª¨",
          es: "Rombo",
          de: "Raute",
          fi: "VinoneliÃ¶",
          fr: "Losange",
          ar: "Ù…Ø¹ÙŠÙ†",
          it: "Rombo",
        },
        trapezium: {
          en: "Trapezium",
          zh: "æ¢¯å½¢",
          ja: "å°å½¢",
          ko: "ì‚¬ë‹¤ë¦¬ê¼´",
          es: "Trapecio",
          de: "Trapez",
          fi: "Puolisuunnikas",
          fr: "TrapÃ¨ze",
          ar: "Ø´Ø¨Ù‡ Ù…Ù†Ø­Ø±Ù",
          it: "Trapezio",
        },
        properties: {
          en: "Properties:",
          zh: "ç‰¹æ€§ï¼š",
          ja: "ç‰¹æ€§ï¼š",
          ko: "íŠ¹ì„±:",
          es: "Propiedades:",
          de: "Eigenschaften:",
          fi: "Ominaisuudet:",
          fr: "PropriÃ©tÃ©s :",
          ar: "Ø§Ù„Ø®ØµØ§Ø¦Øµ:",
          it: "ProprietÃ :",
        },
        propSquare1: {
          en: "Four equal sides",
          zh: "å››é‚Šç›¸ç­‰",
          ja: "4ã¤ã®è¾ºãŒç­‰ã—ã„",
          ko: "ë„¤ ë³€ì˜ ê¸¸ì´ê°€ ê°™ìŒ",
          es: "Cuatro lados iguales",
          de: "Vier gleiche Seiten",
          fi: "NeljÃ¤ yhtÃ¤ suurta sivua",
          fr: "Quatre cÃ´tÃ©s Ã©gaux",
          ar: "Ø£Ø±Ø¨Ø¹Ø© Ø£Ø¶Ù„Ø§Ø¹ Ù…ØªØ³Ø§ÙˆÙŠØ©",
          it: "Quattro lati uguali",
        },
        propSquare2: {
          en: "Four right angles (90Â°)",
          zh: "å››å€‹ç›´è§’",
          ja: "4ã¤ã®ç›´è§’",
          ko: "ë„¤ ê°œì˜ ì§ê°",
          es: "Cuatro Ã¡ngulos rectos",
          de: "Vier rechte Winkel",
          fi: "NeljÃ¤ suoraa kulmaa",
          fr: "Quatre angles droits",
          ar: "Ø£Ø±Ø¨Ø¹ Ø²ÙˆØ§ÙŠØ§ Ù‚Ø§Ø¦Ù…Ø©",
          it: "Quattro angoli retti",
        },
        propParallel2: {
          en: "Two pairs of parallel sides",
          zh: "å…©çµ„å°é‚Šå¹³è¡Œ",
          ja: "2çµ„ã®å¯¾è¾ºãŒå¹³è¡Œ",
          ko: "ë‘ ìŒì˜ ëŒ€ë³€ì´ í‰í–‰",
          es: "Dos pares de lados paralelos",
          de: "Zwei Paare paralleler Seiten",
          fi: "Kaksi paria yhdensuuntaisia sivuja",
          fr: "Deux paires de cÃ´tÃ©s parallÃ¨les",
          ar: "Ø²ÙˆØ¬Ø§Ù† Ù…Ù† Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©",
          it: "Due coppie di lati paralleli",
        },
        propRect1: {
          en: "Opposite sides equal",
          zh: "å°é‚Šç›¸ç­‰",
          ja: "å¯¾è¾ºãŒç­‰ã—ã„",
          ko: "ëŒ€ë³€ì˜ ê¸¸ì´ê°€ ê°™ìŒ",
          es: "Lados opuestos iguales",
          de: "GegenÃ¼berliegende Seiten gleich",
          fi: "Vastakkaiset sivut yhtÃ¤ suuret",
          fr: "CÃ´tÃ©s opposÃ©s Ã©gaux",
          ar: "Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø© Ù…ØªØ³Ø§ÙˆÙŠØ©",
          it: "Lati opposti uguali",
        },
        propOppAngles: {
          en: "Opposite angles equal",
          zh: "å°è§’ç›¸ç­‰",
          ja: "å¯¾è§’ãŒç­‰ã—ã„",
          ko: "ëŒ€ê°ì˜ í¬ê¸°ê°€ ê°™ìŒ",
          es: "Ãngulos opuestos iguales",
          de: "GegenÃ¼berliegende Winkel gleich",
          fi: "Vastakkaiset kulmat yhtÃ¤ suuret",
          fr: "Angles opposÃ©s Ã©gaux",
          ar: "Ø§Ù„Ø²ÙˆØ§ÙŠØ§ Ø§Ù„Ù…ØªÙ‚Ø§Ø¨Ù„Ø© Ù…ØªØ³Ø§ÙˆÙŠØ©",
          it: "Angoli opposti uguali",
        },
        propNoRight: {
          en: "No right angles (usually)",
          zh: "æ²’æœ‰ç›´è§’(é€šå¸¸)",
          ja: "ç›´è§’ãªã—ï¼ˆé€šå¸¸ï¼‰",
          ko: "ì§ê°ì´ ì•„ë‹˜ (ë³´í†µ)",
          es: "Sin Ã¡ngulos rectos (usualmente)",
          de: "Keine rechten Winkel (normalerweise)",
          fi: "Ei suoria kulmia (yleensÃ¤)",
          fr: "Pas d'angles droits (gÃ©nÃ©ralement)",
          ar: "Ù„Ø§ ØªÙˆØ¬Ø¯ Ø²ÙˆØ§ÙŠØ§ Ù‚Ø§Ø¦Ù…Ø© (Ø¹Ø§Ø¯Ø©)",
          it: "Nessun angolo retto (di solito)",
        },
        propTrap1: {
          en: "Only one pair of parallel sides",
          zh: "åªæœ‰ä¸€çµ„å°é‚Šå¹³è¡Œ",
          ja: "1çµ„ã®å¯¾è¾ºã®ã¿å¹³è¡Œ",
          ko: "í•œ ìŒì˜ ëŒ€ë³€ë§Œ í‰í–‰",
          es: "Solo un par de lados paralelos",
          de: "Nur ein Paar paralleler Seiten",
          fi: "Vain yksi pari yhdensuuntaisia sivuja",
          fr: "Une seule paire de cÃ´tÃ©s parallÃ¨les",
          ar: "Ø²ÙˆØ¬ ÙˆØ§Ø­Ø¯ ÙÙ‚Ø· Ù…Ù† Ø§Ù„Ø£Ø¶Ù„Ø§Ø¹ Ø§Ù„Ù…ØªÙˆØ§Ø²ÙŠØ©",
          it: "Solo una coppia di lati paralleli",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [shape, setShape] = useState("square");

        const getText = (key) => t[key][lang] || t[key]["en"];

        const shapes = [
          {
            id: "square",
            nameKey: "square",
            props: ["propSquare1", "propSquare2", "propParallel2"],
          },
          {
            id: "rectangle",
            nameKey: "rectangle",
            props: ["propRect1", "propSquare2", "propParallel2"],
          },
          {
            id: "parallelogram",
            nameKey: "parallelogram",
            props: [
              "propRect1",
              "propOppAngles",
              "propParallel2",
              "propNoRight",
            ],
          },
          {
            id: "rhombus",
            nameKey: "rhombus",
            props: ["propSquare1", "propOppAngles", "propParallel2"],
          },
          {
            id: "trapezium",
            nameKey: "trapezium",
            props: ["propTrap1"],
          },
        ];

        const current = shapes.find((s) => s.id === shape);

        // SVG Paths calculation
        const size = 200;
        const center = 250;
        const top = 150;

        const getPath = (id) => {
          switch (id) {
            case "square":
              return `M150,150 L350,150 L350,350 L150,350 Z`; // 200x200
            case "rectangle":
              return `M100,150 L400,150 L400,350 L100,350 Z`; // 300x200
            case "parallelogram":
              return `M150,150 L400,150 L350,350 L100,350 Z`; // Skewed
            case "rhombus":
              return `M250,100 L400,250 L250,400 L100,250 Z`; // Diamond
            case "trapezium":
              return `M180,150 L320,150 L400,350 L100,350 Z`; // Trapezoid
            default:
              return "";
          }
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-5xl font-black text-violet-900 mb-8 mt-8">
              ğŸ”¶ {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl w-full max-w-5xl flex flex-col lg:flex-row gap-8">
              <div className="lg:w-1/3 space-y-3">
                {shapes.map((s) => (
                  <button
                    key={s.id}
                    onClick={() => setShape(s.id)}
                    className={`w-full py-4 px-6 rounded-xl font-bold text-left transition-all ${
                      shape === s.id
                        ? "bg-violet-600 text-white shadow-lg scale-105"
                        : "bg-violet-50 text-violet-800 hover:bg-violet-100"
                    }`}
                  >
                    {getText(s.nameKey)}
                  </button>
                ))}
              </div>

              <div className="lg:w-2/3 flex flex-col items-center">
                <div className="relative w-[500px] h-[500px] bg-slate-50 rounded-3xl border-2 border-slate-200 mb-8 flex items-center justify-center">
                  {/* Grid bg */}
                  <div
                    className="absolute inset-0 opacity-30"
                    style={{
                      backgroundImage:
                        "radial-gradient(#a78bfa 2px, transparent 2px)",
                      backgroundSize: "25px 25px",
                    }}
                  ></div>

                  <svg
                    width="500"
                    height="500"
                    className="relative z-10 drop-shadow-xl"
                  >
                    <motion.path
                      d={getPath(shape)}
                      fill="rgba(139, 92, 246, 0.2)"
                      stroke="#7c3aed"
                      strokeWidth="5"
                      strokeLinecap="round"
                      strokeLinejoin="round"
                      initial={{ pathLength: 0, opacity: 0 }}
                      animate={{ pathLength: 1, opacity: 1, d: getPath(shape) }}
                      transition={{ duration: 0.5 }}
                    />
                    {/* Markers like Right Angle or Parallel arrows could be added here mathematically */}
                  </svg>
                </div>

                <motion.div
                  key={shape}
                  initial={{ opacity: 0, y: 20 }}
                  animate={{ opacity: 1, y: 0 }}
                  className="bg-violet-100 p-6 rounded-2xl w-full"
                >
                  <h3 className="text-2xl font-black text-violet-900 mb-4">
                    {getText(current.nameKey)} {getText("properties")}
                  </h3>
                  <ul className="space-y-2">
                    {current.props.map((p, i) => (
                      <li
                        key={i}
                        className="flex items-center gap-3 text-lg font-bold text-violet-800"
                      >
                        <span className="w-6 h-6 rounded-full bg-violet-400 flex items-center justify-center text-white text-xs">
                          âœ“
                        </span>
                        {getText(p)}
                      </li>
                    ))}
                  </ul>
                </motion.div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
