<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äºŒæ•¸å­¸ï¼šæ•¸å­—æ’åº | Ordering Numbers</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #ecfccb 0%, #84cc16 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "ğŸ”¢ Ordering Numbers",
          zh: "ğŸ”¢ æ•¸å­—æ’åº",
          ja: "ğŸ”¢ æ•°ã®ä¸¦ã¹æ›¿ãˆ",
          ko: "ğŸ”¢ ìˆ«ì ìˆœì„œ",
          es: "ğŸ”¢ Ordenar nÃºmeros",
          de: "ğŸ”¢ Zahlen ordnen",
          fi: "ğŸ”¢ Numeroiden jÃ¤rjestys",
          fr: "ğŸ”¢ Ordonner les nombres",
          ar: "ğŸ”¢ ØªØ±ØªÙŠØ¨ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…",
          it: "ğŸ”¢ Ordinare i numeri",
        },
        order: {
          en: "Order from {o}",
          zh: "è«‹ç”± {o} æ’åˆ—",
          ja: "{o} ã§ä¸¦ã¹ã¦ãã ã•ã„",
          ko: "{o} ìˆœì„œë¡œ ì •ë ¬í•˜ì„¸ìš”",
          es: "Ordenar de {o}",
          de: "Ordne von {o}",
          fi: "JÃ¤rjestÃ¤ {o}",
          fr: "Ordonner du {o}",
          ar: "Ø±ØªØ¨ Ù…Ù† {o}",
          it: "Ordina dal {o}",
        },
        SmallToBig: {
          en: "Smallest to Largest",
          zh: "å°è‡³å¤§",
          ja: "å°ã•ã„é †",
          ko: "ì‘ì€ ìˆ˜ë¶€í„° í° ìˆ˜",
          es: "Menor a Mayor",
          de: "Klein nach GroÃŸ",
          fi: "PienimmÃ¤sÃ¤ suurimpaan",
          fr: "Plus petit au plus grand",
          ar: "Ø§Ù„Ø£ØµØºØ± Ø¥Ù„Ù‰ Ø§Ù„Ø£ÙƒØ¨Ø±",
          it: "PiÃ¹ piccolo al piÃ¹ grande",
        },
        BigToSmall: {
          en: "Largest to Smallest",
          zh: "å¤§è‡³å°",
          ja: "å¤§ãã„é †",
          ko: "í° ìˆ˜ë¶€í„° ì‘ì€ ìˆ˜",
          es: "Mayor a Menor",
          de: "GroÃŸ nach Klein",
          fi: "Suurimmasta pienimpÃ¤Ã¤n",
          fr: "Plus grand au plus petit",
          ar: "Ø§Ù„Ø£ÙƒØ¨Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø£ØµØºØ±",
          it: "PiÃ¹ grande al piÃ¹ piccolo",
        },
        reset: {
          en: "Reset",
          zh: "é‡ç½®",
          ja: "ãƒªã‚»ãƒƒãƒˆ",
          ko: "ì´ˆê¸°í™”",
          es: "Reiniciar",
          de: "ZurÃ¼cksetzen",
          fi: "Nollaa",
          fr: "RÃ©initialiser",
          ar: "Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ†",
          it: "Reimposta",
        },
        check: {
          en: "Check",
          zh: "æª¢æŸ¥",
          ja: "ç¢ºèª",
          ko: "í™•ì¸",
          es: "Comprobar",
          de: "PrÃ¼fen",
          fi: "Tarkista",
          fr: "VÃ©rifier",
          ar: "ØªØ­Ù‚Ù‚",
          it: "Controlla",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [nums, setNums] = useState([]);
        const [order, setOrder] = useState("asc"); // asc (Small to Big), desc (Big to Small)
        const [slots, setSlots] = useState([null, null, null]);
        const [pool, setPool] = useState([]);
        const [feedback, setFeedback] = useState("");

        const newGame = () => {
          let ns = [];
          while (ns.length < 3) {
            let r = Math.floor(Math.random() * 900) + 100;
            if (!ns.includes(r)) ns.push(r);
          }
          setNums(ns);
          setOrder(Math.random() > 0.5 ? "asc" : "desc");
          setPool([...ns].sort(() => Math.random() - 0.5));
          setSlots([null, null, null]);
          setFeedback("");
        };

        useEffect(newGame, []);

        const selectNum = (n) => {
          // Find first empty slot
          const idx = slots.findIndex((s) => s === null);
          if (idx !== -1) {
            const newSlots = [...slots];
            newSlots[idx] = n;
            setSlots(newSlots);
            setPool(pool.filter((x) => x !== n)); // remove from pool
          }
        };

        const deselectNum = (n, idx) => {
          const newSlots = [...slots];
          newSlots[idx] = null;
          setSlots(newSlots);
          setPool([...pool, n]); // return to pool
        };

        const checkGame = () => {
          if (slots.includes(null)) return;

          const sorted = [...nums].sort((a, b) =>
            order === "asc" ? a - b : b - a
          );
          if (JSON.stringify(slots) === JSON.stringify(sorted)) {
            setFeedback("CORRECT");
            setTimeout(newGame, 1500);
          } else {
            setFeedback("WRONG");
          }
        };

        const reset = () => {
          setSlots([null, null, null]);
          setPool([...nums]);
        };

        const getOrderText = () => {
          let key = order === "asc" ? "SmallToBig" : "BigToSmall";
          let txt = t.order[lang] || t.order["en"];
          let oWord = t[key][lang] || t[key]["en"];
          return txt.replace("{o}", oWord);
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center justify-center">
            <LanguageSelector lang={lang} setLang={setLang} />

            <h1 className="text-5xl font-black text-lime-900 mb-8 max-w-2xl text-center">
              {t.title[lang] || t.title["en"]}
            </h1>

            <div className="bg-white/90 rounded-3xl p-8 shadow-2xl w-full max-w-4xl text-center border-4 border-lime-300">
              <h2 className="text-3xl font-bold text-slate-700 mb-8">
                {getOrderText()}
              </h2>

              {/* Slots */}
              <div className="flex justify-center gap-4 mb-12">
                {slots.map((s, i) => (
                  <div
                    key={i}
                    onClick={() => s !== null && deselectNum(s, i)}
                    className={`w-40 h-40 rounded-2xl border-4 border-dashed border-lime-400 flex items-center justify-center text-5xl font-black text-lime-800 cursor-pointer shadow-inner bg-lime-50
                        ${s ? "bg-lime-200 border-solid" : "opacity-50"}`}
                  >
                    {s}
                    {i < 2 && (
                      <div className="absolute -right-6 top-1/2 -translate-y-1/2 text-slate-300 pointer-events-none">
                        âœ
                      </div>
                    )}
                  </div>
                ))}
              </div>

              {/* Pool */}
              <div className="flex justify-center gap-6 mb-8 min-h-[100px]">
                {pool.map((n) => (
                  <button
                    key={n}
                    onClick={() => selectNum(n)}
                    className="w-32 py-4 bg-white border-4 border-lime-500 rounded-xl text-3xl font-black text-lime-700 shadow-lg hover:bg-lime-100 hover:scale-105 transition-all"
                  >
                    {n}
                  </button>
                ))}
              </div>

              <div className="flex justify-center gap-4">
                <button
                  onClick={reset}
                  className="px-6 py-3 bg-red-400 text-white rounded-xl font-bold shadow hover:bg-red-500"
                >
                  {t.reset[lang] || t.reset["en"]}
                </button>
                <button
                  onClick={checkGame}
                  className="px-10 py-3 bg-lime-500 text-white rounded-xl font-black text-2xl shadow-xl hover:bg-lime-600 active:scale-95 transition-transform"
                >
                  {t.check[lang] || t.check["en"]}
                </button>
              </div>

              <div className="h-16 mt-8">
                {feedback === "CORRECT" && (
                  <div className="text-4xl font-black text-green-500 animate-bounce">
                    {get("correct", lang)}
                  </div>
                )}
                {feedback === "WRONG" && (
                  <div className="text-4xl font-black text-red-500 animate-shake">
                    {get("wrong", lang)}
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
