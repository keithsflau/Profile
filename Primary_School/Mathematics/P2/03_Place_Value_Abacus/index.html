<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∫åÊï∏Â≠∏ÔºöÁÆóÊü±Ëàá‰ΩçÂÄº | Place Value Abacus</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #fef3c7 0%, #d97706 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "üßÆ Place Value Abacus",
          zh: "üßÆ ÁÆóÊü±Ëàá‰ΩçÂÄº",
          ja: "üßÆ ‰ΩçÂèñ„ÇäË®òÊï∞Ê≥ï",
          ko: "üßÆ ÏûêÎ¶øÏàò Ï£ºÌåê",
          es: "üßÆ √Åbaco de valor posicional",
          de: "üßÆ Stellenwert Abakus",
          fi: "üßÆ Paikka-arvo helmitaulu",
          fr: "üßÆ Abaque de valeur de position",
          ar: "üßÆ ÿßŸÑÿπÿØÿßÿØ ÿßŸÑŸÇŸäŸÖŸä",
          it: "üßÆ Abaco posizionale",
        },
        hundreds: {
          en: "Hundreds",
          zh: "Áôæ‰Ωç",
          ja: "Áôæ",
          ko: "Î∞±",
          es: "Centenas",
          de: "Hunderter",
          fi: "Sadat",
          fr: "Centaines",
          ar: "ŸÖÿ¶ÿßÿ™",
          it: "Centinaia",
        },
        tens: {
          en: "Tens",
          zh: "ÂçÅ‰Ωç",
          ja: "ÂçÅ",
          ko: "Ïã≠",
          es: "Decenas",
          de: "Zehner",
          fi: "Kymmenet",
          fr: "Dizaines",
          ar: "ÿπÿ¥ÿ±ÿßÿ™",
          it: "Decine",
        },
        units: {
          en: "Units",
          zh: "ÂÄã‰Ωç",
          ja: "‰∏Ä",
          ko: "Ïùº",
          es: "Unidades",
          de: "Einer",
          fi: "Ykk√∂set",
          fr: "Unit√©s",
          ar: "ÿ¢ÿ≠ÿßÿØ",
          it: "Unit√†",
        },
        desc: {
          en: "{h} hundreds, {t} tens, {u} units",
          zh: "{h} ÂÄãÁôæÔºå{t} ÂÄãÂçÅÔºå{u} ÂÄã‰∏Ä",
          ja: "{h} ÁôæÔºå{t} ÂçÅÔºå{u} ‰∏Ä",
          ko: "{h} Î∞±, {t} Ïã≠, {u} Ïùº",
          es: "{h} centenas, {t} decenas, {u} unidades",
          fr: "{h} centaines, {t} dizaines, {u} unit√©s",
          de: "{h} Hunderter, {t} Zehner, {u} Einer",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [h, setH] = useState(2);
        const [t, setT] = useState(4);
        const [u, setU] = useState(5);

        const num = h * 100 + t * 10 + u;

        const Bead = ({ color }) => (
          <div
            className={`w-12 h-6 rounded-full mb-1 border shadow-sm ${color}`}
          ></div>
        );

        const getDesc = () => {
          let txt = t.desc[lang] || t.desc["en"];
          return txt.replace("{h}", h).replace("{t}", t).replace("{u}", u);
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center justify-center">
            <LanguageSelector lang={lang} setLang={setLang} />

            <h1 className="text-5xl font-black text-amber-900 mb-8 max-w-2xl text-center">
              {t.title[lang] || t.title["en"]}
            </h1>

            <div className="bg-white/90 rounded-3xl p-8 shadow-2xl w-full max-w-2xl text-center border-4 border-amber-300">
              <div className="flex justify-center items-end gap-8 mb-8 pb-4 border-b-8 border-slate-700 h-[400px]">
                {/* Hundreds */}
                <div className="flex flex-col items-center relative h-full justify-end w-20">
                  <div className="absolute bottom-0 w-2 h-[300px] bg-slate-400 z-0 rounded-t-lg"></div>
                  <div className="z-10 flex flex-col-reverse mb-2">
                    {[...Array(h)].map((_, i) => (
                      <Bead key={i} color="bg-red-500 border-red-700" />
                    ))}
                  </div>
                  <div className="mt-4 font-bold text-slate-500 bg-slate-100 px-2 rounded">
                    {t.hundreds[lang] || t.hundreds["en"]}
                  </div>
                  <div className="mt-2 text-3xl font-black text-red-600">
                    {h}
                  </div>
                  <div className="flex flex-col gap-1 mt-2">
                    <button
                      onClick={() => setH(Math.min(9, h + 1))}
                      className="w-8 h-8 rounded bg-red-100 hover:bg-red-200 text-red-700 font-bold"
                    >
                      ‚ñ≤
                    </button>
                    <button
                      onClick={() => setH(Math.max(0, h - 1))}
                      className="w-8 h-8 rounded bg-red-100 hover:bg-red-200 text-red-700 font-bold"
                    >
                      ‚ñº
                    </button>
                  </div>
                </div>

                {/* Tens */}
                <div className="flex flex-col items-center relative h-full justify-end w-20">
                  <div className="absolute bottom-0 w-2 h-[300px] bg-slate-400 z-0 rounded-t-lg"></div>
                  <div className="z-10 flex flex-col-reverse mb-2">
                    {[...Array(t)].map((_, i) => (
                      <Bead key={i} color="bg-orange-500 border-orange-700" />
                    ))}
                  </div>
                  <div className="mt-4 font-bold text-slate-500 bg-slate-100 px-2 rounded">
                    {t.tens[lang] || t.tens["en"]}
                  </div>
                  <div className="mt-2 text-3xl font-black text-orange-600">
                    {t}
                  </div>
                  <div className="flex flex-col gap-1 mt-2">
                    <button
                      onClick={() => setT(Math.min(9, t + 1))}
                      className="w-8 h-8 rounded bg-orange-100 hover:bg-orange-200 text-orange-700 font-bold"
                    >
                      ‚ñ≤
                    </button>
                    <button
                      onClick={() => setT(Math.max(0, t - 1))}
                      className="w-8 h-8 rounded bg-orange-100 hover:bg-orange-200 text-orange-700 font-bold"
                    >
                      ‚ñº
                    </button>
                  </div>
                </div>

                {/* Units */}
                <div className="flex flex-col items-center relative h-full justify-end w-20">
                  <div className="absolute bottom-0 w-2 h-[300px] bg-slate-400 z-0 rounded-t-lg"></div>
                  <div className="z-10 flex flex-col-reverse mb-2">
                    {[...Array(u)].map((_, i) => (
                      <Bead key={i} color="bg-amber-500 border-amber-700" />
                    ))}
                  </div>
                  <div className="mt-4 font-bold text-slate-500 bg-slate-100 px-2 rounded">
                    {t.units[lang] || t.units["en"]}
                  </div>
                  <div className="mt-2 text-3xl font-black text-amber-600">
                    {u}
                  </div>
                  <div className="flex flex-col gap-1 mt-2">
                    <button
                      onClick={() => setU(Math.min(9, u + 1))}
                      className="w-8 h-8 rounded bg-amber-100 hover:bg-amber-200 text-amber-700 font-bold"
                    >
                      ‚ñ≤
                    </button>
                    <button
                      onClick={() => setU(Math.max(0, u - 1))}
                      className="w-8 h-8 rounded bg-amber-100 hover:bg-amber-200 text-amber-700 font-bold"
                    >
                      ‚ñº
                    </button>
                  </div>
                </div>
              </div>

              <div className="text-6xl font-black text-amber-800 font-mono bg-amber-50 inline-block px-12 py-4 rounded-2xl border-4 border-amber-200 shadow-inner">
                {num}
              </div>

              <div className="mt-8 text-xl text-amber-700 font-bold">
                {getDesc()}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
