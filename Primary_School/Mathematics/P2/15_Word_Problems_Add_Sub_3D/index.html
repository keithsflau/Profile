<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äºŒæ•¸å­¸ï¼šæ‡‰ç”¨é¡Œ (ä¸‰ä½æ•¸) | Word Problems (3-Digit)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #fce7f3 0%, #db2777 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "ğŸ“ Word Problems",
          zh: "ğŸ“ æ‡‰ç”¨é¡Œ",
          ja: "ğŸ“ æ–‡ç« é¡Œ",
          ko: "ğŸ“ ë¬¸ì¥ì œ",
          es: "ğŸ“ Problemas verbales",
          de: "ğŸ“ Textaufgaben",
          fi: "ğŸ“ Sanalliset tehtÃ¤vÃ¤t",
          fr: "ğŸ“ ProblÃ¨mes Ã©crits",
          ar: "ğŸ“ Ù…Ø³Ø§Ø¦Ù„ Ù†ØµÙŠØ©",
          it: "ğŸ“ Problemi verbali",
        },
        calc: {
          en: "Calculation:",
          zh: "åˆ—å¼",
          ja: "è¨ˆç®—å¼:",
          ko: "ê³„ì‚°:",
          es: "CÃ¡lculo:",
          de: "Rechnung:",
          fi: "Lasku:",
          fr: "Calcul :",
          ar: "Ø§Ù„Ø­Ø³Ø§Ø¨:",
          it: "Calcolo:",
        },
        ok: {
          en: "OK",
          zh: "ç¢ºå®š",
          ja: "OK",
          ko: "í™•ì¸",
          es: "Aceptar",
          de: "OK",
          fi: "OK",
          fr: "OK",
          ar: "Ù…ÙˆØ§ÙÙ‚",
          it: "OK",
        },
        thinkAgain: {
          en: "Think again",
          zh: "å†æƒ³æƒ³",
          ja: "ã‚‚ã†ä¸€åº¦è€ƒãˆã¦",
          ko: "ë‹¤ì‹œ ìƒê°í•´ ë³´ì„¸ìš”",
          es: "PiÃ©nsalo de nuevo",
          de: "Denk nochmal nach",
          fi: "Mieti uudelleen",
          fr: "RÃ©flÃ©chissez encore",
          ar: "ÙÙƒØ± Ù…Ø±Ø© Ø£Ø®Ø±Ù‰",
          it: "Pensaci ancora",
        },
        correct: {
          en: "Correct! {n1} {op} {n2} = {ans}",
          zh: "æ­£ç¢ºï¼ {n1} {op} {n2} = {ans}",
          ja: "æ­£è§£ï¼ {n1} {op} {n2} = {ans}",
          ko: "ì •ë‹µ! {n1} {op} {n2} = {ans}",
          es: "Â¡Correcto! {n1} {op} {n2} = {ans}",
          de: "Richtig! {n1} {op} {n2} = {ans}",
          fi: "Oikein! {n1} {op} {n2} = {ans}",
          fr: "Correct ! {n1} {op} {n2} = {ans}",
          ar: "ØµØ­ÙŠØ­! {n1} {op} {n2} = {ans}",
          it: "Corretto! {n1} {op} {n2} = {ans}",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [p, setP] = useState({});
        const [input, setInput] = useState("");
        const [feedback, setFeedback] = useState("");

        const problems = [
          {
            zh: "å­¸æ ¡æœ‰ç”·ç”Ÿ {n1} äººï¼Œå¥³ç”Ÿ {n2} äººã€‚å…¨æ ¡å…±æœ‰å¤šå°‘äººï¼Ÿ",
            en: "There are {n1} boys and {n2} girls. How many students in total?",
            ja: "å­¦æ ¡ã«ã¯ç”·å­ãŒ {n1} äººã€å¥³å­ãŒ {n2} äººã„ã¾ã™ã€‚å…¨æ ¡ç”Ÿå¾’ã¯ä½•äººã§ã™ã‹ï¼Ÿ",
            ko: "í•™êµì— ë‚¨í•™ìƒì´ {n1} ëª…, ì—¬í•™ìƒì´ {n2} ëª… ìˆìŠµë‹ˆë‹¤. ì „ì²´ í•™ìƒ ìˆ˜ëŠ” ëª‡ ëª…ì…ë‹ˆê¹Œ?",
            es: "Hay {n1} niÃ±os y {n2} niÃ±as en la escuela. Â¿CuÃ¡ntos estudiantes hay en total?",
            fr: "Il y a {n1} garÃ§ons et {n2} filles Ã  l'Ã©cole. Combien d'Ã©lÃ¨ves au total ?",
            de: "Es gibt {n1} Jungen und {n2} MÃ¤dchen. Wie viele SchÃ¼ler sind es insgesamt?",
            op: "+",
            icon: "ğŸ«",
          },
          {
            zh: "åœ–æ›¸é¤¨æœ‰æ›¸ {n1} æœ¬ï¼Œå€Ÿå‡ºäº† {n2} æœ¬ã€‚é‚„å‰©ä¸‹å¤šå°‘æœ¬ï¼Ÿ",
            en: "Library has {n1} books. {n2} are loaned out. How many left?",
            ja: "å›³æ›¸é¤¨ã«æœ¬ãŒ {n1} å†Šã‚ã‚Šã¾ã™ã€‚{n2} å†Šè²¸ã—å‡ºã•ã‚Œã¾ã—ãŸã€‚æ®‹ã‚Šã¯ä½•å†Šã§ã™ã‹ï¼Ÿ",
            ko: "ë„ì„œê´€ì— ì±…ì´ {n1} ê¶Œ ìˆìŠµë‹ˆë‹¤. {n2} ê¶Œì´ ëŒ€ì¶œë˜ì—ˆìŠµë‹ˆë‹¤. ëª‡ ê¶Œì´ ë‚¨ì•˜ìŠµë‹ˆê¹Œ?",
            es: "La biblioteca tiene {n1} libros. {n2} fueron prestados. Â¿CuÃ¡ntos quedan?",
            fr: "La bibliothÃ¨que a {n1} livres. {n2} sont prÃªtÃ©s. Combien en reste-t-il ?",
            de: "Die Bibliothek hat {n1} BÃ¼cher. {n2} sind ausgeliehen. Wie viele sind noch da?",
            op: "-",
            icon: "ğŸ“š",
          },
          {
            zh: "å°æ˜æœ‰ ${n1}ï¼Œè²·ç©å…·ç”¨äº† ${n2}ã€‚ä»–é‚„æœ‰å¤šå°‘éŒ¢ï¼Ÿ",
            en: "Ming has ${n1}, spent ${n2}. How much left?",
            ja: "ãƒŸãƒ³ã¯ ${n1} æŒã£ã¦ã„ã¦ã€ãŠã‚‚ã¡ã‚ƒã« ${n2} ä½¿ã„ã¾ã—ãŸã€‚æ®‹ã‚Šã¯ã„ãã‚‰ã§ã™ã‹ï¼Ÿ",
            ko: "ë°ì€ ${n1}ë¥¼ ê°€ì§€ê³  ìˆì—ˆê³ , ì¥ë‚œê°ì— ${n2}ë¥¼ ì¼ìŠµë‹ˆë‹¤. ì–¼ë§ˆê°€ ë‚¨ì•˜ìŠµë‹ˆê¹Œ?",
            es: "Ming tiene ${n1}, gastÃ³ ${n2}. Â¿CuÃ¡nto le queda?",
            fr: "Ming a ${n1}, a dÃ©pensÃ© ${n2}. Combien lui reste-t-il ?",
            de: "Ming hat ${n1}, hat ${n2} ausgegeben. Wie viel ist Ã¼brig?",
            op: "-",
            icon: "ğŸ’°",
          },
          {
            zh: "ç¬¬ä¸€å¤©è·‘äº† {n1} ç±³ï¼Œç¬¬äºŒå¤©è·‘äº† {n2} ç±³ã€‚å…©å¤©å…±è·‘äº†å¤šå°‘ç±³ï¼Ÿ",
            en: "Run {n1}m on Day 1, {n2}m on Day 2. Total distance?",
            ja: "1æ—¥ç›®ã« {n1}mã€2æ—¥ç›®ã« {n2}m èµ°ã‚Šã¾ã—ãŸã€‚åˆè¨ˆè·é›¢ã¯ï¼Ÿ",
            ko: "ì²«ì§¸ ë‚  {n1}m, ë‘˜ì§¸ ë‚  {n2}më¥¼ ë‹¬ë ¸ìŠµë‹ˆë‹¤. ì´ ê±°ë¦¬ëŠ”?",
            es: "CorriÃ³ {n1} m el dÃ­a 1, {n2} m el dÃ­a 2. Â¿Distancia total?",
            fr: "Couru {n1}m le jour 1, {n2}m le jour 2. Distance totale ?",
            de: "Tag 1: {n1}m, Tag 2: {n2}m gelaufen. Gesamtstrecke?",
            op: "+",
            icon: "ğŸƒ",
          },
        ];

        const next = () => {
          const tIdx = Math.floor(Math.random() * problems.length);
          const t = problems[tIdx];
          let n1 = Math.floor(Math.random() * 400) + 100;
          let n2 = Math.floor(Math.random() * 300) + 50;

          if (t.op === "-" && n2 > n1) [n1, n2] = [n2, n1];

          setP({ ...t, n1, n2 });
          setInput("");
          setFeedback("");
        };

        useEffect(next, []);

        const check = () => {
          let ans = p.op === "+" ? p.n1 + p.n2 : p.n1 - p.n2;
          if (parseInt(input) === ans) {
            setFeedback("CORRECT");
            setTimeout(next, 3000);
          } else {
            setFeedback("WRONG");
          }
        };

        const getProblemText = () => {
          const tmpl = p[lang] || p["en"]; // Fallback to English
          if (!tmpl) return "";
          return tmpl.replace("{n1}", p.n1).replace("{n2}", p.n2);
        };

        const getCorrectText = () => {
          const ans = p.op === "+" ? p.n1 + p.n2 : p.n1 - p.n2;
          const tmpl = t.correct[lang] || t.correct["en"];
          return tmpl
            .replace("{n1}", p.n1)
            .replace("{op}", p.op)
            .replace("{n2}", p.n2)
            .replace("{ans}", ans);
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center justify-center">
            <LanguageSelector lang={lang} setLang={setLang} />

            <h1 className="text-5xl font-black text-pink-900 mb-8 max-w-2xl text-center">
              {t.title[lang] || t.title["en"]}
            </h1>

            <div className="bg-white/90 rounded-3xl p-8 shadow-2xl w-full max-w-3xl text-center border-4 border-pink-300">
              <div className="text-8xl mb-8 animate-bounce">{p.icon}</div>

              <div className="text-2xl md:text-3xl font-bold text-slate-700 mb-8 leading-loose bg-pink-50 p-8 rounded-2xl border-2 border-pink-100 text-left">
                <div className="mb-4 text-pink-800">{getProblemText()}</div>
              </div>

              <div className="flex justify-center flex-col items-center gap-4 mb-6">
                <label className="font-bold text-pink-600 text-xl">
                  {t.calc[lang] || t.calc["en"]} {p.n1} {p.op} {p.n2} = ?
                </label>
                <div className="flex gap-4">
                  <input
                    type="number"
                    value={input}
                    onChange={(e) => setInput(e.target.value)}
                    className="w-48 text-center text-5xl font-black p-4 border-4 border-pink-400 rounded-2xl"
                    placeholder="?"
                  />
                  <button
                    onClick={check}
                    className="px-8 bg-pink-500 text-white rounded-2xl font-bold text-xl hover:bg-pink-600"
                  >
                    {t.ok[lang] || t.ok["en"]}
                  </button>
                </div>
              </div>

              <div className="min-h-[60px]">
                {feedback === "CORRECT" && (
                  <div className="text-2xl md:text-3xl font-black text-green-500 animate-bounce">
                    {getCorrectText()}
                  </div>
                )}
                {feedback === "WRONG" && (
                  <div className="text-3xl font-black text-red-500">
                    {t.thinkAgain[lang] || t.thinkAgain["en"]}
                  </div>
                )}
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
