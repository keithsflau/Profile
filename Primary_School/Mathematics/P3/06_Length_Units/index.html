<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∏âÊï∏Â≠∏ÔºöÈï∑Â∫¶ÂñÆ‰ΩçËΩâÊèõ | Length Unit Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
      }
      .bar-transition {
        transition: width 0.5s ease-out;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Length Unit Converter",
          zh: "Èï∑Â∫¶ÂñÆ‰ΩçËΩâÊèõ",
          ja: "Èï∑„ÅïÂçò‰ΩçÂ§âÊèõ",
          ko: "Í∏∏Ïù¥ Îã®ÏúÑ Î≥ÄÌôò",
          es: "Conversor de longitud",
          de: "L√§ngenumrechner",
          fi: "Pituusmuunnin",
          fr: "Convertisseur de longueur",
          ar: "ŸÖÿ≠ŸàŸÑ ÿßŸÑÿ∑ŸàŸÑ",
          it: "Convertitore di lunghezza",
        },
        value: {
          en: "Value",
          zh: "Êï∏ÂÄº",
          ja: "ÂÄ§",
          ko: "Í∞í",
          es: "Valor",
          de: "Wert",
          fi: "Arvo",
          fr: "Valeur",
          ar: "ÿßŸÑŸÇŸäŸÖÿ©",
          it: "Valore",
        },
        unit: {
          en: "Unit",
          zh: "ÂñÆ‰Ωç",
          ja: "Âçò‰Ωç",
          ko: "Îã®ÏúÑ",
          es: "Unidad",
          de: "Einheit",
          fi: "Yksikk√∂",
          fr: "Unit√©",
          ar: "ÿßŸÑŸàÿ≠ÿØÿ©",
          it: "Unit√†",
        },
        convertTo: {
          en: "Convert to",
          zh: "ËΩâÊèõÊàê",
          ja: "Â§âÊèõÂÖà",
          ko: "Î≥ÄÌôò ÎåÄÏÉÅ",
          es: "Convertir a",
          de: "Konvertieren in",
          fi: "Muunna",
          fr: "Convertir en",
          ar: "ÿ™ÿ≠ŸàŸäŸÑ ÿ•ŸÑŸâ",
          it: "Converti in",
        },
        targetUnit: {
          en: "Target Unit",
          zh: "ÁõÆÊ®ôÂñÆ‰Ωç",
          ja: "ÁõÆÊ®ôÂçò‰Ωç",
          ko: "Î™©Ìëú Îã®ÏúÑ",
          es: "Unidad objetivo",
          de: "Zieleinheit",
          fi: "Kohdeyksikk√∂",
          fr: "Unit√© cible",
          ar: "Ÿàÿ≠ÿØÿ© ÿßŸÑŸáÿØŸÅ",
          it: "Unit√† di destinazione",
        },
        result: {
          en: "Result",
          zh: "Á≠îÊ°à",
          ja: "ÁµêÊûú",
          ko: "Í≤∞Í≥º",
          es: "Resultado",
          de: "Ergebnis",
          fi: "Tulos",
          fr: "R√©sultat",
          ar: "ÿßŸÑŸÜÿ™Ÿäÿ¨ÿ©",
          it: "Risultato",
        },
        tipsTitle: {
          en: "Conversion Tips",
          zh: "ËΩâÊèõÈóú‰øÇ",
          ja: "Â§âÊèõ„ÅÆ„Éí„É≥„Éà",
          ko: "Î≥ÄÌôò ÌåÅ",
          es: "Consejos de conversi√≥n",
          de: "Umrechnungstipps",
          fi: "Muunnosvinkit",
          fr: "Conseils de conversion",
          ar: "ŸÜÿµÿßÿ¶ÿ≠ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ",
          it: "Suggerimenti per la conversione",
        },
        visualizer: {
          en: "Visualizer (Approx)",
          zh: "Ë¶ñË¶∫ÂåñÈï∑Â∫¶ (Á§∫ÊÑè)",
          ja: "ÂèØË¶ñÂåñ (Ê¶ÇÁÆó)",
          ko: "ÏãúÍ∞ÅÌôî (ÎåÄÎûµ)",
          es: "Visualizador (Aproximado)",
          de: "Visualisierer (Ungef√§hr)",
          fi: "Visualisoija (Noin)",
          fr: "Visualiseur (Approximatif)",
          ar: "ÿßŸÑŸÖÿµŸàÿ± (ÿ™ŸÇÿ±Ÿäÿ®Ÿä)",
          it: "Visualizzatore (Approssimativo)",
        },
        scale: {
          en: "Scale: 10m Full Width",
          zh: "ÊØî‰æã: 10Á±≥ ÂÖ®ÂØ¨",
          ja: "„Çπ„Ç±„Éº„É´: 10m ÂÖ®ÂπÖ",
          ko: "ÎπÑÏú®: 10m Ï†ÑÏ≤¥ ÎÑàÎπÑ",
          es: "Escala: 10m Ancho completo",
          de: "Ma√üstab: 10m Volle Breite",
          fi: "Mittakaava: 10m T√§ysi leveys",
          fr: "√âchelle : 10m Pleine largeur",
          ar: "ÿ™Ÿàÿ≥Ÿäÿπ: 10 ŸÖ ÿπÿ±ÿ∂ ŸÉÿßŸÖŸÑ",
          it: "Scala: 10m Larghezza intera",
        },
        mm: {
          en: "Millimeter",
          zh: "ÊØ´Á±≥",
          ja: "„Éü„É™„É°„Éº„Éà„É´",
          ko: "Î∞ÄÎ¶¨ÎØ∏ÌÑ∞",
          es: "Mil√≠metro",
          de: "Millimeter",
          fi: "Millimetri",
          fr: "Millim√®tre",
          ar: "ŸÖŸÑŸäŸÖÿ™ÿ±",
          it: "Millimetro",
        },
        cm: {
          en: "Centimeter",
          zh: "ÂéòÁ±≥",
          ja: "„Çª„É≥„ÉÅ„É°„Éº„Éà„É´",
          ko: "ÏÑºÌã∞ÎØ∏ÌÑ∞",
          es: "Cent√≠metro",
          de: "Zentimeter",
          fi: "Senttimetri",
          fr: "Centim√®tre",
          ar: "ÿ≥ŸÜÿ™ŸäŸÖÿ™ÿ±",
          it: "Centimetro",
        },
        m: {
          en: "Meter",
          zh: "Á±≥",
          ja: "„É°„Éº„Éà„É´",
          ko: "ÎØ∏ÌÑ∞",
          es: "Metro",
          de: "Meter",
          fi: "Metri",
          fr: "M√®tre",
          ar: "ŸÖÿ™ÿ±",
          it: "Metro",
        },
        km: {
          en: "Kilometer",
          zh: "ÂÖ¨Èáå",
          ja: "„Ç≠„É≠„É°„Éº„Éà„É´",
          ko: "ÌÇ¨Î°úÎØ∏ÌÑ∞",
          es: "Kil√≥metro",
          de: "Kilometer",
          fi: "Kilometri",
          fr: "Kilom√®tre",
          ar: "ŸÉŸäŸÑŸàŸÖÿ™ÿ±",
          it: "Chilometro",
        },
        relationships: [
          { val: "1 km = 1000 m" },
          { val: "1 m = 100 cm" },
          { val: "1 cm = 10 mm" },
          { val: "1 m = 1000 mm" },
        ],
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [value, setValue] = useState(100);
        const [fromUnit, setFromUnit] = useState("cm");
        const [toUnit, setToUnit] = useState("m");

        const units = {
          mm: { name: t.mm, symbol: "mm", toMM: 1 },
          cm: { name: t.cm, symbol: "cm", toMM: 10 },
          m: { name: t.m, symbol: "m", toMM: 1000 },
          km: { name: t.km, symbol: "km", toMM: 1000000 },
        };

        const convert = () => {
          // units depends on lang now, so let's simplify logic by keeping multiplier static
          // re-define multipliers separately
          const multipliers = { mm: 1, cm: 10, m: 1000, km: 1000000 };
          const inMM = value * multipliers[fromUnit];
          return (inMM / multipliers[toUnit]).toFixed(4);
        };

        const result = convert();
        const multipliers = { mm: 1, cm: 10, m: 1000, km: 1000000 };
        const inMM = value * multipliers[fromUnit];
        const widthPercent = Math.min(100, Math.max(1, (inMM / 10000) * 100)); // 10m = 100%

        const getUnitName = (key) => {
          return units[key].name[lang] || units[key].name["en"];
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-6xl font-black text-green-900 mb-8 mt-8 text-center">
              {t.title[lang] || t.title["en"]}
            </h1>

            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-4xl w-full">
              <div className="grid grid-cols-1 md:grid-cols-2 gap-6 mb-8">
                <div>
                  <label className="block text-lg font-bold text-green-800 mb-2">
                    {t.value[lang] || t.value["en"]}
                  </label>
                  <input
                    type="number"
                    value={value}
                    onChange={(e) => setValue(parseFloat(e.target.value) || 0)}
                    className="w-full px-6 py-4 text-3xl font-black text-center rounded-2xl border-4 border-green-300 focus:border-green-600 outline-none"
                  />
                </div>

                <div>
                  <label className="block text-lg font-bold text-green-800 mb-2">
                    {t.unit[lang] || t.unit["en"]}
                  </label>
                  <select
                    value={fromUnit}
                    onChange={(e) => setFromUnit(e.target.value)}
                    className="w-full px-6 py-4 text-2xl font-bold rounded-2xl border-4 border-green-300 focus:border-green-600 outline-none"
                  >
                    {Object.entries(units).map(([key, unit]) => (
                      <option key={key} value={key}>
                        {getUnitName(key)} ({unit.symbol})
                      </option>
                    ))}
                  </select>
                </div>
              </div>

              <div className="text-center text-4xl md:text-5xl font-black text-green-600 mb-8">
                ‚Üì {t.convertTo[lang] || t.convertTo["en"]} ‚Üì
              </div>

              <div>
                <label className="block text-lg font-bold text-green-800 mb-2">
                  {t.targetUnit[lang] || t.targetUnit["en"]}
                </label>
                <select
                  value={toUnit}
                  onChange={(e) => setToUnit(e.target.value)}
                  className="w-full px-6 py-4 text-2xl font-bold rounded-2xl border-4 border-green-300 focus:border-green-600 outline-none mb-8"
                >
                  {Object.entries(units).map(([key, unit]) => (
                    <option key={key} value={key}>
                      {getUnitName(key)} ({unit.symbol})
                    </option>
                  ))}
                </select>
              </div>

              <div className="bg-gradient-to-r from-green-50 to-emerald-50 rounded-2xl p-8 text-center border-4 border-green-400">
                <div className="text-2xl font-bold text-green-700 mb-2">
                  {t.result[lang] || t.result["en"]}
                </div>
                <div className="text-6xl md:text-7xl font-black text-green-600 break-all">
                  {result}
                </div>
                <div className="text-3xl font-bold text-green-700 mt-2">
                  {units[toUnit].symbol}
                </div>
              </div>

              <div className="mt-8 bg-blue-50 rounded-2xl p-6">
                <h3 className="text-xl font-black text-blue-800 mb-4">
                  üí° {t.tipsTitle[lang] || t.tipsTitle["en"]}
                </h3>
                <div className="grid grid-cols-1 md:grid-cols-2 gap-4 text-sm font-bold text-blue-700">
                  {t.relationships.map((r, i) => (
                    <div key={i} className="bg-white p-3 rounded-lg">
                      {r.val}
                    </div>
                  ))}
                </div>
              </div>

              {/* Visualizer - simple bar */}
              <div className="mt-8 bg-slate-100 rounded-2xl p-6 overflow-hidden">
                <div className="text-center font-bold text-slate-700 mb-4">
                  {t.visualizer[lang] || t.visualizer["en"]}
                </div>
                <div className="w-full bg-slate-200 rounded-full h-8">
                  <div
                    className="h-full bg-gradient-to-r from-green-400 to-emerald-500 rounded-full bar-transition shadow-lg"
                    style={{
                      width: `${widthPercent}%`,
                    }}
                  ></div>
                </div>
                <div className="text-center text-xs text-slate-400 mt-2">
                  {t.scale[lang] || t.scale["en"]}
                </div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
