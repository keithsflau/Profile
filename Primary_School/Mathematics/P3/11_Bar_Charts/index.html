<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∏âÊï∏Â≠∏ÔºöÊ£íÂΩ¢ÂúñË£Ω‰Ωú | Bar Chart Maker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
      }
      .bar-transition {
        transition: height 0.5s ease-out;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Bar Chart Maker",
          zh: "Ê£íÂΩ¢ÂúñË£Ω‰Ωú",
          ja: "Ê£í„Ç∞„É©„Éï‰ΩúÊàê",
          ko: "ÎßâÎåÄ Í∑∏ÎûòÌîÑ ÎßåÎì§Í∏∞",
          es: "Creador de gr√°ficos de barras",
          de: "Balkendiagramm-Ersteller",
          fi: "Pylv√§skaavion luoja",
          fr: "Cr√©ateur de diagrammes √† barres",
          ar: "ÿµÿßŸÜÿπ ÿßŸÑŸÖÿÆÿ∑ÿ∑ÿßÿ™ ÿßŸÑÿ¥ÿ±Ÿäÿ∑Ÿäÿ©",
          it: "Creatore di grafici a barre",
        },
        adjust: {
          en: "Adjust Data",
          zh: "Ë™øÊï¥Êï∏Êìö",
          ja: "„Éá„Éº„Çø„ÇíË™øÊï¥",
          ko: "Îç∞Ïù¥ÌÑ∞ Ï°∞Ï†ï",
          es: "Ajustar datos",
          de: "Daten anpassen",
          fi: "S√§√§d√§ tietoja",
          fr: "Ajuster les donn√©es",
          ar: "ÿ™ÿπÿØŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™",
          it: "Regola i dati",
        },
        chartTitle: {
          en: "Favorite Fruits",
          zh: "ÊúÄÂñúÊÑõÁöÑÊ∞¥Êûú",
          ja: "Â•Ω„Åç„Å™ÊûúÁâ©",
          ko: "Ï¢ãÏïÑÌïòÎäî Í≥ºÏùº",
          es: "Frutas favoritas",
          de: "Lieblingsfr√ºchte",
          fi: "Lempi hedelm√§t",
          fr: "Fruits pr√©f√©r√©s",
          ar: "ÿßŸÑŸÅŸàÿßŸÉŸá ÿßŸÑŸÖŸÅÿ∂ŸÑÿ©",
          it: "Frutta preferita",
        },
        tip: {
          en: "Drag sliders or enter numbers to change bar height!",
          zh: "ÊãñÂãïÊªëÊ°øÊàñËº∏ÂÖ•Êï∏Â≠ó‰æÜÊîπËÆäÊ£íÁöÑÈ´òÂ∫¶ÔºÅ",
          ja: "„Çπ„É©„Ç§„ÉÄ„Éº„Çí„Éâ„É©„ÉÉ„Ç∞„Åô„Çã„ÅãÊï∞Â≠ó„ÇíÂÖ•Âäõ„Åó„Å¶Ê£í„ÅÆÈ´ò„Åï„ÇíÂ§âÊõ¥„Åó„Å¶„Åè„Å†„Åï„ÅÑÔºÅ",
          ko: "Ïä¨ÎùºÏù¥ÎçîÎ•º ÎìúÎûòÍ∑∏ÌïòÍ±∞ÎÇò Ïà´ÏûêÎ•º ÏûÖÎ†•ÌïòÏó¨ ÎßâÎåÄ ÎÜíÏù¥Î•º Î≥ÄÍ≤ΩÌïòÏÑ∏Ïöî!",
          es: "¬°Arrastra los controles deslizantes o ingresa n√∫meros para cambiar la altura de la barra!",
          de: "Ziehen Sie die Schieberegler oder geben Sie Zahlen ein, um die Balkenh√∂he zu √§ndern!",
          fi: "Ved√§ liukus√§√§timi√§ tai sy√∂t√§ numeroita muuttaaksesi pylv√§√§n korkeutta!",
          fr: "Faites glisser les curseurs ou entrez des nombres pour changer la hauteur de la barre !",
          ar: "ÿßÿ≥ÿ≠ÿ® ÿ£ÿ¥ÿ±ÿ∑ÿ© ÿßŸÑÿ™ŸÖÿ±Ÿäÿ± ÿ£Ÿà ÿ£ÿØÿÆŸÑ ÿ£ÿ±ŸÇÿßŸÖŸãÿß ŸÑÿ™ÿ∫ŸäŸäÿ± ÿßÿ±ÿ™ŸÅÿßÿπ ÿßŸÑÿ¥ÿ±Ÿäÿ∑!",
          it: "Trascina i cursori o inserisci numeri per cambiare l'altezza della barra!",
        },
        fruits: {
          apple: {
            en: "Apple",
            zh: "ËòãÊûú",
            ja: "„É™„É≥„Ç¥",
            ko: "ÏÇ¨Í≥º",
            es: "Manzana",
            de: "Apfel",
            fi: "Omena",
            fr: "Pomme",
            ar: "ÿ™ŸÅÿßÿ≠ÿ©",
            it: "Mela",
          },
          orange: {
            en: "Orange",
            zh: "Ê©ô",
            ja: "„Ç™„É¨„É≥„Ç∏",
            ko: "Ïò§Î†åÏßÄ",
            es: "Naranja",
            de: "Orange",
            fi: "Appelsiini",
            fr: "Orange",
            ar: "ÿ®ÿ±ÿ™ŸÇÿßŸÑ",
            it: "Arancia",
          },
          banana: {
            en: "Banana",
            zh: "È¶ôËïâ",
            ja: "„Éê„Éä„Éä",
            ko: "Î∞îÎÇòÎÇò",
            es: "Pl√°tano",
            de: "Banane",
            fi: "Banaani",
            fr: "Banane",
            ar: "ŸÖŸàÿ≤",
            it: "Banana",
          },
          grape: {
            en: "Grape",
            zh: "Ëë°ËêÑ",
            ja: "„Éñ„Éâ„Ç¶",
            ko: "Ìè¨ÎèÑ",
            es: "Uva",
            de: "Traube",
            fi: "Ryp√§le",
            fr: "Raisin",
            ar: "ÿπŸÜÿ®",
            it: "Uva",
          },
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [data, setData] = useState([
          { nameKey: "apple", value: 5, color: "#ef4444" },
          { nameKey: "orange", value: 8, color: "#f97316" },
          { nameKey: "banana", value: 3, color: "#eab308" },
          { nameKey: "grape", value: 6, color: "#8b5cf6" },
        ]);

        const maxScale = 15;

        const updateValue = (idx, val) => {
          const newData = [...data];
          newData[idx].value = Math.max(0, Math.min(15, parseInt(val) || 0));
          setData(newData);
        };

        const getName = (key) => t.fruits[key][lang] || t.fruits[key]["en"];

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-6xl font-black text-indigo-900 mb-8 mt-8 text-center">
              üìä {t.title[lang] || t.title["en"]}
            </h1>
            <div className="bg-white/90 backdrop-blur-md rounded-3xl p-8 shadow-2xl max-w-6xl w-full">
              <div className="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div>
                  <h3 className="text-2xl font-black text-indigo-800 mb-6">
                    {t.adjust[lang] || t.adjust["en"]}
                  </h3>
                  {data.map((d, i) => (
                    <div key={i} className="mb-4 flex items-center gap-4">
                      <div className="w-24 text-xl font-bold">
                        {getName(d.nameKey)}
                      </div>
                      <input
                        type="range"
                        min="0"
                        max="15"
                        value={d.value}
                        onChange={(e) => updateValue(i, e.target.value)}
                        className="flex-1 accent-indigo-600"
                      />
                      <input
                        type="number"
                        value={d.value}
                        onChange={(e) => updateValue(i, e.target.value)}
                        className="w-20 px-3 py-2 text-xl font-black text-center rounded-lg border-2 border-indigo-300"
                      />
                    </div>
                  ))}
                  <div className="mt-8 bg-indigo-50 p-4 rounded-xl text-indigo-800 text-lg">
                    <p>üëâ {t.tip[lang] || t.tip["en"]}</p>
                  </div>
                </div>

                <div className="bg-indigo-50 rounded-2xl p-6 relative">
                  <h3 className="text-2xl font-black text-indigo-800 mb-6 text-center">
                    {t.chartTitle[lang] || t.chartTitle["en"]}
                  </h3>
                  <div className="flex items-end justify-around h-80 bg-white rounded-xl p-4 border-2 border-indigo-100 relative">
                    {/* Grid lines */}
                    {[0, 5, 10, 15].map((val) => (
                      <div
                        key={val}
                        className="absolute w-full border-t border-slate-200"
                        style={{ bottom: `${(val / 15) * 100}%`, left: 0 }}
                      >
                        <span className="absolute -left-6 -top-3 text-xs text-slate-400 font-bold">
                          {val}
                        </span>
                      </div>
                    ))}

                    {data.map((d, i) => (
                      <div
                        key={i}
                        className="flex flex-col items-center gap-2 z-10 w-1/5"
                      >
                        <div className="text-xl font-black text-slate-700">
                          {d.value}
                        </div>
                        <div className="w-full h-64 flex items-end justify-center">
                          {" "}
                          {/* Container for bar */}
                          <div
                            className="w-full rounded-t-xl bar-transition shadow-lg"
                            style={{
                              height: `${(d.value / maxScale) * 100}%`,
                              backgroundColor: d.color,
                            }}
                          />
                        </div>
                        <div className="text-sm md:text-lg font-bold mt-2 text-slate-600 truncate w-full text-center">
                          {getName(d.nameKey)}
                        </div>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
