<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∏âÊï∏Â≠∏ÔºöÁæÖÈ¶¨Êï∏Â≠óÊé¢Èö™ | Roman Numerals</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="../../common/i18n.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #475569 0%, #1e293b 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { motion } = window.Motion;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Roman Numeral Adventure",
          zh: "ÁæÖÈ¶¨Êï∏Â≠óÊé¢Èö™",
          ja: "„É≠„Éº„ÉûÊï∞Â≠ó„ÅÆÂÜíÈô∫",
          ko: "Î°úÎßà Ïà´Ïûê Î™®Ìóò",
          es: "Aventura de n√∫meros romanos",
          de: "Abenteuer r√∂mische Zahlen",
          fi: "Roomalaiset numerot",
          fr: "Aventure chiffres romains",
          ar: "ŸÖÿ∫ÿßŸÖÿ±ÿ© ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ ÿßŸÑÿ±ŸàŸÖÿßŸÜŸäÿ©",
          it: "Avventura numeri romani",
        },
        converter: {
          en: "Number Converter",
          zh: "Êï∏Â≠óËΩâÊèõÂô®",
          ja: "Êï∞ÂÄ§Â§âÊèõ",
          ko: "Ïà´Ïûê Î≥ÄÌôòÍ∏∞",
          es: "Convertidor de n√∫meros",
          de: "Zahlenkonverter",
          fi: "Numeromuunnin",
          fr: "Convertisseur de nombres",
          ar: "ŸÖÿ≠ŸàŸÑ ÿßŸÑÿ£ÿ±ŸÇÿßŸÖ",
          it: "Convertitore di numeri",
        },
        chart: {
          en: "Symbol Chart",
          zh: "Á¨¶ËôüÂ∞çÁÖßË°®",
          ja: "Ë®òÂè∑„ÉÅ„É£„Éº„Éà",
          ko: "Í∏∞Ìò∏ Ï∞®Ìä∏",
          es: "Tabla de s√≠mbolos",
          de: "Symboltabelle",
          fi: "Symbolitaulukko",
          fr: "Tableau des symboles",
          ar: "ÿ¨ÿØŸàŸÑ ÿßŸÑÿ±ŸÖŸàÿ≤",
          it: "Tabella dei simboli",
        },
        romanNum: {
          en: "Roman Numeral",
          zh: "ÁæÖÈ¶¨Êï∏Â≠ó",
          ja: "„É≠„Éº„ÉûÊï∞Â≠ó",
          ko: "Î°úÎßà Ïà´Ïûê",
          es: "N√∫mero romano",
          de: "R√∂mische Zahl",
          fi: "Roomalainen numero",
          fr: "Chiffre romain",
          ar: "ÿ±ŸÇŸÖ ÿ±ŸàŸÖÿßŸÜŸä",
          it: "Numero romano",
        },
        tipsTitle: {
          en: "Rules & Tips",
          zh: "Ë¶èÂâáÂ∞èË≤ºÂ£´",
          ja: "„É´„Éº„É´„Å®„Éí„É≥„Éà",
          ko: "Í∑úÏπô Î∞è ÌåÅ",
          es: "Reglas y consejos",
          de: "Regeln & Tipps",
          fi: "S√§√§nn√∂t ja vinkit",
          fr: "R√®gles et astuces",
          ar: "ÿßŸÑŸÇŸàÿßÿπÿØ ŸàÿßŸÑŸÜÿµÿßÿ¶ÿ≠",
          it: "Regole e suggerimenti",
        },
        tips: [
          {
            en: "Max 3 consecutive same symbols (e.g., III = 3)",
            zh: "ÊúÄÂ§öÈÄ£Á∫åÂá∫Áèæ3Ê¨° (‰æãÂ¶Ç: III = 3)",
            ja: "Âêå„ÅòË®òÂè∑„ÅØÊúÄÂ§ß3ÂõûÈÄ£Á∂öÔºà‰æãÔºöIII = 3Ôºâ",
            ko: "Í∞ôÏùÄ Í∏∞Ìò∏Îäî ÏµúÎåÄ 3Î≤à Ïó∞ÏÜç (Ïòà: III = 3)",
            es: "M√°x 3 s√≠mbolos consecutivos iguales (ej. III = 3)",
            de: "Max. 3 gleiche Symbole hintereinander (z.B. III = 3)",
            fi: "Enint√§√§n 3 samaa symbolia per√§kk√§in (esim. III = 3)",
            fr: "Max 3 symboles identiques cons√©cutifs (ex. III = 3)",
            ar: "ÿ®ÿ≠ÿØ ÿ£ŸÇÿµŸâ 3 ÿ±ŸÖŸàÿ≤ ŸÖÿ™ÿ™ÿßŸÑŸäÿ© (ŸÖÿ´ÿßŸÑ: III = 3)",
            it: "Max 3 simboli consecutivi uguali (es. III = 3)",
          },
          {
            en: "Left subtract, Right add (e.g., IV = 5-1 = 4)",
            zh: "Â∑¶Ê∏õÂè≥Âä† (‰æãÂ¶Ç: IV = 5-1 = 4)",
            ja: "Â∑¶„ÅØÂºï„ÅçÁÆó„ÄÅÂè≥„ÅØË∂≥„ÅóÁÆóÔºà‰æãÔºöIV = 5-1 = 4Ôºâ",
            ko: "ÏôºÏ™ΩÏùÄ ÎπºÍ≥†, Ïò§Î•∏Ï™ΩÏùÄ ÎçîÌï® (Ïòà: IV = 5-1 = 4)",
            es: "Izquierda resta, Derecha suma (ej. IV = 5-1 = 4)",
            de: "Links subtrahieren, Rechts addieren (z.B. IV = 5-1 = 4)",
            fi: "Vasen v√§hent√§√§, Oikea lis√§√§ (esim. IV = 5-1 = 4)",
            fr: "Gauche soustrait, Droite ajoute (ex. IV = 5-1 = 4)",
            ar: "ÿßŸÑŸäÿ≥ÿßÿ± Ÿäÿ∑ÿ±ÿ≠ÿå ÿßŸÑŸäŸÖŸäŸÜ Ÿäÿ∂ŸäŸÅ (ŸÖÿ´ÿßŸÑ: IV = 5-1 = 4)",
            it: "Sinistra sottrae, Destra aggiunge (es. IV = 5-1 = 4)",
          },
          {
            en: "V, L, D cannot be repeated",
            zh: "V, L, D ‰∏çËÉΩÈáçË§á",
            ja: "V, L, D „ÅØÁπ∞„ÇäËøî„Åõ„Åæ„Åõ„Çì",
            ko: "V, L, D Îäî Î∞òÎ≥µÎê† Ïàò ÏóÜÏäµÎãàÎã§",
            es: "V, L, D no se pueden repetir",
            de: "V, L, D d√ºrfen nicht wiederholt werden",
            fi: "V, L, D ei voi toistaa",
            fr: "V, L, D ne peuvent pas √™tre r√©p√©t√©s",
            ar: "ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ŸÉÿ±ÿßÿ± V, L, D",
            it: "V, L, D non possono essere ripetuti",
          },
        ],
        desc: {
          1: { en: "One", zh: "‰∏Ä" },
          5: { en: "Five", zh: "‰∫î" },
          10: { en: "Ten", zh: "ÂçÅ" },
          50: { en: "Fifty", zh: "‰∫îÂçÅ" },
          100: { en: "Hundred", zh: "‰∏ÄÁôæ" },
          500: { en: "Five Hundred", zh: "‰∫îÁôæ" },
          1000: { en: "Thousand", zh: "‰∏ÄÂçÉ" },
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [num, setNum] = useState(1);

        const toRoman = (n) => {
          if (n <= 0 || n > 3999) return "N/A";
          const val = [1000, 900, 500, 400, 100, 90, 50, 40, 10, 9, 5, 4, 1];
          const syms = [
            "M",
            "CM",
            "D",
            "CD",
            "C",
            "XC",
            "L",
            "XL",
            "X",
            "IX",
            "V",
            "IV",
            "I",
          ];
          let roman = "";
          let temp = n;
          for (let i = 0; i < val.length; i++) {
            while (temp >= val[i]) {
              temp -= val[i];
              roman += syms[i];
            }
          }
          return roman;
        };

        const symbols = [
          { r: "I", v: 1 },
          { r: "V", v: 5 },
          { r: "X", v: 10 },
          { r: "L", v: 50 },
          { r: "C", v: 100 },
          { r: "D", v: 500 },
          { r: "M", v: 1000 },
        ];

        const getDesc = (val) => t.desc[val][lang] || t.desc[val]["en"];

        return (
          <div className="min-h-screen p-8 flex flex-col items-center text-white">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-4xl md:text-6xl font-black text-amber-500 mb-8 mt-8 drop-shadow-lg text-center">
              üèõÔ∏è {t.title[lang] || t.title["en"]}
            </h1>

            <div className="flex flex-col lg:flex-row gap-8 w-full max-w-6xl">
              {/* Control & Display */}
              <div className="flex-1 bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl">
                <h2 className="text-3xl font-bold mb-6 text-amber-300">
                  {t.converter[lang] || t.converter["en"]}
                </h2>

                <div className="mb-8">
                  <input
                    type="range"
                    min="1"
                    max="1000"
                    value={num}
                    onChange={(e) => setNum(parseInt(e.target.value))}
                    className="w-full h-4 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-amber-500"
                  />
                  <div className="flex justify-between text-slate-400 mt-2 font-mono">
                    <span>1</span>
                    <span>500</span>
                    <span>1000</span>
                  </div>
                </div>

                <div className="flex items-center gap-4 mb-8">
                  <button
                    onClick={() => setNum(Math.max(1, num - 1))}
                    className="p-4 bg-slate-700 rounded-xl hover:bg-slate-600 font-black"
                  >
                    -
                  </button>
                  <input
                    type="number"
                    value={num}
                    onChange={(e) =>
                      setNum(
                        Math.max(
                          1,
                          Math.min(3999, parseInt(e.target.value) || 1)
                        )
                      )
                    }
                    className="flex-1 bg-slate-800 border-2 border-slate-600 rounded-2xl py-4 text-center text-4xl font-black text-white"
                  />
                  <button
                    onClick={() => setNum(Math.min(3999, num + 1))}
                    className="p-4 bg-slate-700 rounded-xl hover:bg-slate-600 font-black"
                  >
                    +
                  </button>
                </div>

                <motion.div
                  key={num}
                  initial={{ scale: 0.8, opacity: 0 }}
                  animate={{ scale: 1, opacity: 1 }}
                  className="bg-gradient-to-br from-amber-600 to-amber-800 rounded-3xl p-12 text-center border-4 border-amber-400 shadow-[0_0_30px_rgba(245,158,11,0.3)]"
                >
                  <div className="text-sm font-bold text-amber-200 mb-2">
                    {t.romanNum[lang] || t.romanNum["en"]}
                  </div>
                  <div className="text-6xl md:text-7xl font-serif font-black text-white tracking-widest break-words">
                    {toRoman(num)}
                  </div>
                </motion.div>
              </div>

              {/* Reference Chart */}
              <div className="flex-1 bg-white/10 backdrop-blur-md rounded-3xl p-8 border border-white/20 shadow-2xl">
                <h2 className="text-3xl font-bold mb-6 text-amber-300">
                  {t.chart[lang] || t.chart["en"]}
                </h2>
                <div className="grid gap-3">
                  {symbols.map((s) => (
                    <div
                      key={s.r}
                      className={`flex items-center justify-between p-4 rounded-xl ${
                        toRoman(num).includes(s.r) && num < 4000 // Simple highlighting
                          ? "bg-amber-500/20 border border-amber-500/50"
                          : "bg-slate-800/50"
                      }`}
                    >
                      <div className="flex items-center gap-4">
                        <span className="text-3xl font-serif font-black text-amber-400 w-12 text-center">
                          {s.r}
                        </span>
                        <span className="text-lg text-slate-300">
                          {getDesc(s.v)}
                        </span>
                      </div>
                      <span className="text-2xl font-black font-mono">
                        {s.v}
                      </span>
                    </div>
                  ))}
                </div>

                <div className="mt-8 bg-slate-800/50 p-6 rounded-2xl border border-slate-700">
                  <h3 className="text-xl font-bold text-amber-300 mb-3">
                    üí° {t.tipsTitle[lang] || t.tipsTitle["en"]}
                  </h3>
                  <ul className="space-y-2 text-slate-300 list-disc list-inside">
                    {t.tips.map((tip, i) => (
                      <li key={i}>{tip[lang] || tip["en"]}</li>
                    ))}
                  </ul>
                </div>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
