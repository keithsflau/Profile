<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>小五數學：小數乘法</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600&display=swap"
      rel="stylesheet"
    />
    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
      }
      .grid-cell {
        transition: background-color 0.2s ease;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;

      const Grid = () => (
        <svg
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
          stroke="currentColor"
          strokeWidth="2"
          strokeLinecap="round"
          strokeLinejoin="round"
        >
          <rect width="18" height="18" x="3" y="3" rx="2" />
          <path d="M3 9h18" />
          <path d="M3 15h18" />
          <path d="M9 3v18" />
          <path d="M15 3v18" />
        </svg>
      );

      function App() {
        const [val1, setVal1] = useState(0.5); // decimal 0.1 - 1.0 (cols)
        const [val2, setVal2] = useState(0.3); // decimal 0.1 - 1.0 (rows)

        const cols = Math.round(val1 * 10);
        const rows = Math.round(val2 * 10);
        const product = (val1 * val2).toFixed(2);

        // Grid 10x10
        const renderGrid = () => {
          const result = [];
          for (let r = 0; r < 10; r++) {
            const rowCells = [];
            for (let c = 0; c < 10; c++) {
              let color = "bg-white";
              let isRowActive = r < rows;
              let isColActive = c < cols;

              if (isRowActive && isColActive) {
                color = "bg-green-500"; // Intersection
              } else if (isRowActive) {
                color = "bg-blue-200"; // Row Selection
              } else if (isColActive) {
                color = "bg-yellow-200"; // Col Selection
              }

              rowCells.push(
                <div
                  key={`${r}-${c}`}
                  className={`w-full h-full border border-slate-100 ${color} grid-cell`}
                ></div>
              );
            }
            result.push(
              <div key={r} className="flex h-full">
                {rowCells}
              </div>
            );
          }
          return result;
        };

        return (
          <div className="min-h-screen p-6 flex flex-col items-center justify-center">
            <div className="bg-white/90 backdrop-blur-xl rounded-[2rem] p-8 shadow-2xl border-4 border-white w-full max-w-4xl flex flex-col md:flex-row gap-8">
              {/* Visual Area */}
              <div className="flex-1 flex flex-col items-center">
                <div className="relative w-[400px] h-[400px] bg-slate-50 border-4 border-slate-800 rounded-lg shadow-inner overflow-hidden flex flex-col">
                  {renderGrid()}

                  {/* Axis Labels */}
                  <div className="absolute -top-8 left-0 w-full text-center text-yellow-600 font-bold">
                    {val1}
                  </div>
                  <div className="absolute -left-12 top-0 h-full flex items-center text-blue-500 font-bold -rotate-90">
                    {val2}
                  </div>
                </div>

                <div className="mt-8 flex gap-8 text-sm font-bold text-slate-500">
                  <div className="flex items-center gap-2">
                    <div className="w-4 h-4 bg-yellow-200 border border-slate-200"></div>
                    <span>被乘數 (Multiplicand)</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <div className="w-4 h-4 bg-blue-200 border border-slate-200"></div>
                    <span>乘數 (Multiplier)</span>
                  </div>
                  <div className="flex items-center gap-2">
                    <div className="w-4 h-4 bg-green-500 border border-slate-200"></div>
                    <span>積 (Product)</span>
                  </div>
                </div>
              </div>

              {/* Controls */}
              <div className="flex-1 flex flex-col justify-center space-y-8">
                <div className="flex items-center gap-4 mb-4">
                  <div className="p-3 bg-green-100 rounded-xl text-green-600">
                    <Grid />
                  </div>
                  <h1 className="text-3xl font-black text-slate-800">
                    小數乘法
                  </h1>
                </div>

                <div className="bg-slate-50 p-6 rounded-2xl border-2 border-slate-100 space-y-6">
                  <div>
                    <label className="flex justify-between text-slate-500 font-bold mb-2">
                      <span>橫向 (Columns)</span>
                      <span className="text-yellow-600 font-mono">{val1}</span>
                    </label>
                    <input
                      type="range"
                      min="1"
                      max="10"
                      value={cols}
                      onChange={(e) => setVal1(e.target.value / 10)}
                      className="w-full accent-yellow-400 h-2 bg-slate-200 rounded-full appearance-none cursor-pointer"
                    />
                  </div>

                  <div>
                    <label className="flex justify-between text-slate-500 font-bold mb-2">
                      <span>直向 (Rows)</span>
                      <span className="text-blue-500 font-mono">{val2}</span>
                    </label>
                    <input
                      type="range"
                      min="1"
                      max="10"
                      value={rows}
                      onChange={(e) => setVal2(e.target.value / 10)}
                      className="w-full accent-blue-400 h-2 bg-slate-200 rounded-full appearance-none cursor-pointer"
                    />
                  </div>
                </div>

                <div className="bg-green-50 border-2 border-green-200 p-6 rounded-2xl flex flex-col items-center">
                  <div className="text-sm font-bold text-green-700/60 uppercase tracking-widest mb-1">
                    Result
                  </div>
                  <div className="text-5xl font-black text-slate-800 flex items-center gap-3">
                    <span className="text-yellow-600">{val1}</span>
                    <span className="text-slate-300">×</span>
                    <span className="text-blue-500">{val2}</span>
                    <span className="text-slate-300">=</span>
                    <span className="text-green-600">{product}</span>
                  </div>
                  <div className="mt-4 text-green-800 font-bold">
                    {cols} × {rows} = {cols * rows} 格 (Squares)
                    <br />
                    {cols * rows} ÷ 100 = {product}
                  </div>
                </div>
              </div>
            </div>

            <div className="fixed bottom-4 left-4">
              <a
                href="../index.html"
                className="bg-white/80 backdrop-blur hover:bg-white text-slate-600 px-6 py-3 rounded-full font-bold shadow-lg flex items-center gap-2 transition-all"
              >
                ← 返回目錄
              </a>
            </div>
          </div>
        );
      }

      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          「耶和華用能力創造大地，用智慧建立世界，用聰明鋪張穹蒼。」 耶利米書 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
