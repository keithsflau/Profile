<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äº”æ•¸å­¸ï¼šå°æ•¸å››æ¨äº”å…¥ | Decimal Rounding</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #e0e7ff 0%, #6366f1 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Decimal Rounding",
          zh: "å°æ•¸å››æ¨äº”å…¥",
          ja: "å°æ•°ã®å››æ¨äº”å…¥",
          ko: "ì†Œìˆ˜ ë°˜ì˜¬ë¦¼",
          es: "Redondeo de Decimales",
          de: "Dezimalzahlen runden",
          fi: "Desimaalien pyÃ¶ristys",
          fr: "Arrondi dÃ©cimal",
          ar: "ØªÙ‚Ø±ÙŠØ¨ Ø§Ù„ÙƒØ³ÙˆØ± Ø§Ù„Ø¹Ø´Ø±ÙŠØ©",
          it: "Arrotondamento decimale",
        },
        decimalPlaces: {
          en: "{p} d.p.",
          zh: "{p} ä½å°æ•¸",
          ja: "å°æ•°ç¬¬ {p} ä½",
          ko: "ì†Œìˆ˜ì  {p} ìë¦¬",
          es: "{p} decimales",
          de: "{p} Dezimalst.",
          fi: "{p} desimaalia",
          fr: "{p} dÃ©cimales",
          ar: "{p} Ù…Ù†Ø§Ø²Ù„ Ø¹Ø´Ø±ÙŠØ©",
          it: "{p} cifre dec.",
        },
        correctTo: {
          en: "Correct to <b>{places}</b> decimal place(s)",
          zh: "æº–ç¢ºè‡³ <b>{places}</b> ä½å°æ•¸",
          ja: "å°æ•°ç¬¬ <b>{places}</b> ä½ã¾ã§",
          ko: "ì†Œìˆ˜ì  <b>{places}</b> ìë¦¬ê¹Œì§€ ë°˜ì˜¬ë¦¼",
          es: "Correcto a <b>{places}</b> lugar(es) decimal(es)",
          de: "Auf <b>{places}</b> Dezimalstelle(n) runden",
          fi: "Tarkkuus <b>{places}</b> desimaaliin",
          fr: "Arrondir Ã  <b>{places}</b> dÃ©cimale(s)",
          ar: "ØªÙ‚Ø±ÙŠØ¨ Ø¥Ù„Ù‰ <b>{places}</b> Ù…Ù†Ø§Ø²Ù„ Ø¹Ø´Ø±ÙŠØ©",
          it: "Arrotonda a <b>{places}</b> cifre decimali",
        },
        checkDigit: {
          en: "Check <b>{n}</b>th decimal place =",
          zh: "çœ‹ç¬¬ <b>{n}</b> ä½å°æ•¸ =",
          ja: "å°æ•°ç¬¬ <b>{n}</b> ä½ã‚’è¦‹ã‚‹ =",
          ko: "ì†Œìˆ˜ì  <b>{n}</b> ìë¦¬ë¥¼ í™•ì¸ =",
          es: "Verificar el <b>{n}</b>Â° lugar decimal =",
          de: "PrÃ¼fe <b>{n}</b>. Dezimalstelle =",
          fi: "Tarkista <b>{n}</b>. desimaalipaikka =",
          fr: "VÃ©rifier la <b>{n}</b>e dÃ©cimale =",
          ar: "ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„Ø¹Ø´Ø±ÙŠØ© <b>{n}</b> =",
          it: "Controlla la <b>{n}</b>Âª cifra decimale =",
        },
        roundUp: {
          en: "â‰¥ 5, Round Up",
          zh: "â‰¥ 5ï¼Œé€²ä½",
          ja: "â‰¥ 5ã€åˆ‡ã‚Šä¸Šã’",
          ko: "â‰¥ 5, ì˜¬ë¦¼",
          es: "â‰¥ 5, Redondeo hacia arriba",
          de: "â‰¥ 5, Aufrunden",
          fi: "â‰¥ 5, PyÃ¶ristÃ¤ ylÃ¶spÃ¤in",
          fr: "â‰¥ 5, Arrondir au supÃ©rieur",
          ar: "â‰¥ 5ØŒ ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø¹Ù„Ù‰",
          it: "â‰¥ 5, Arrotonda per eccesso",
        },
        roundDown: {
          en: "< 5, Round Down",
          zh: "< 5ï¼Œæ¨å»",
          ja: "< 5ã€åˆ‡ã‚Šæ¨ã¦",
          ko: "< 5, ë‚´ë¦¼",
          es: "< 5, Redondeo hacia abajo",
          de: "< 5, Abrunden",
          fi: "< 5, PyÃ¶ristÃ¤ alaspÃ¤in",
          fr: "< 5, Arrondir Ã  l'infÃ©rieur",
          ar: "< 5ØŒ ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø³ÙÙ„",
          it: "< 5, Arrotonda per difetto",
        },
        afterRounding: {
          en: "After Rounding",
          zh: "å››æ¨äº”å…¥å¾Œ",
          ja: "å››æ¨äº”å…¥å¾Œ",
          ko: "ë°˜ì˜¬ë¦¼ í›„",
          es: "DespuÃ©s de Redondear",
          de: "Nach dem Runden",
          fi: "PyÃ¶ristyksen jÃ¤lkeen",
          fr: "AprÃ¨s l'arrondi",
          ar: "Ø¨Ø¹Ø¯ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨",
          it: "Dopo l'arrotondamento",
        },
        ruleTitle: {
          en: "Rounding Rule:",
          zh: "å››æ¨äº”å…¥è¦å‰‡:",
          ja: "å››æ¨äº”å…¥ã®ãƒ«ãƒ¼ãƒ«:",
          ko: "ë°˜ì˜¬ë¦¼ ê·œì¹™:",
          es: "Regla de Redondeo:",
          de: "Rundungsregel:",
          fi: "PyÃ¶ristyssÃ¤Ã¤ntÃ¶:",
          fr: "RÃ¨gle d'arrondi :",
          ar: "Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„ØªÙ‚Ø±ÙŠØ¨:",
          it: "Regola di arrotondamento:",
        },
        ruleText: {
          en: "Look at the next digit after the place you are keeping: 0-4 Round Down, 5-9 Round Up.",
          zh: "çœ‹ä¿ç•™ä½æ•¸çš„ä¸‹ä¸€ä½ï¼š0-4 æ¨å»ï¼Œ5-9 é€²ä½ã€‚",
          ja: "æ®‹ã™ä½ã®æ¬¡ã®æ•°å­—ã‚’è¦‹ã¾ã™ï¼š0-4 ã¯åˆ‡ã‚Šæ¨ã¦ã€5-9 ã¯åˆ‡ã‚Šä¸Šã’ã€‚",
          ko: "ìœ ì§€í•˜ë ¤ëŠ” ìë¦¬ì˜ ë‹¤ìŒ ìˆ«ìë¥¼ ë³´ì„¸ìš”: 0-4ëŠ” ë‚´ë¦¼, 5-9ëŠ” ì˜¬ë¦¼.",
          es: "Mira el siguiente dÃ­gito despuÃ©s del lugar que estÃ¡s conservando: 0-4 Redondeo abajo, 5-9 Redondeo arriba.",
          de: "Schaue auf die Ziffer nach der Stelle, die du behÃ¤ltst: 0-4 Abrunden, 5-9 Aufrunden.",
          fi: "Katso seuraavaa numeroa sÃ¤ilytettÃ¤vÃ¤n paikan jÃ¤lkeen: 0-4 pyÃ¶ristÃ¤ alaspÃ¤in, 5-9 pyÃ¶ristÃ¤ ylÃ¶spÃ¤in.",
          fr: "Regardez le chiffre suivant aprÃ¨s la place que vous gardez : 0-4 Arrondir Ã  l'infÃ©rieur, 5-9 Arrondir au supÃ©rieur.",
          ar: "Ø§Ù†Ø¸Ø± Ø¥Ù„Ù‰ Ø§Ù„Ø±Ù‚Ù… Ø§Ù„ØªØ§Ù„ÙŠ Ø¨Ø¹Ø¯ Ø§Ù„Ù…Ù†Ø²Ù„Ø© Ø§Ù„ØªÙŠ ØªØ­ØªÙØ¸ Ø¨Ù‡Ø§: 0-4 ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø³ÙÙ„ØŒ 5-9 ØªÙ‚Ø±ÙŠØ¨ Ù„Ù„Ø£Ø¹Ù„Ù‰.",
          it: "Guarda la cifra successiva alla posizione che stai mantenendo: 0-4 Arrotonda per difetto, 5-9 Arrotonda per eccesso.",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const getText = (key) => t[key][lang] || t[key]["en"];

        const [num, setNum] = useState(3.4567);
        const [places, setPlaces] = useState(2);

        const rounded = parseFloat(num.toFixed(places));
        const digitToCheck = num.toString().split(".")[1]?.[places] || "0";
        const action = parseInt(digitToCheck) >= 5 ? "å…¥" : "æ¨";

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-5xl font-black text-indigo-100 mb-2 mt-8">
              ğŸ”¢ {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur rounded-3xl p-8 shadow-2xl max-w-2xl w-full mt-8">
              <div className="flex items-center justify-center gap-4 mb-8 flex-wrap">
                <input
                  type="number"
                  step="0.0001"
                  value={num}
                  onChange={(e) => setNum(parseFloat(e.target.value) || 0)}
                  className="w-32 text-3xl font-mono font-black text-center border-4 border-indigo-300 rounded-xl p-2"
                />
              </div>

              <div className="flex justify-center gap-4 mb-6">
                {[0, 1, 2, 3].map((p) => (
                  <button
                    key={p}
                    onClick={() => setPlaces(p)}
                    className={`px-4 py-2 rounded-xl font-bold ${
                      places === p ? "bg-indigo-500 text-white" : "bg-slate-100"
                    }`}
                  >
                    {getText("decimalPlaces").replace("{p}", p)}
                  </button>
                ))}
              </div>

              <div className="bg-slate-50 rounded-2xl p-6 text-center mb-6">
                <p
                  className="text-lg"
                  dangerouslySetInnerHTML={{
                    __html: getText("correctTo").replace("{places}", places),
                  }}
                ></p>
                <p className="text-lg mt-2">
                  <span
                    dangerouslySetInnerHTML={{
                      __html: getText("checkDigit").replace("{n}", places + 1),
                    }}
                  ></span>{" "}
                  <span
                    className={`text-2xl font-black ${
                      parseInt(digitToCheck) >= 5
                        ? "text-red-500"
                        : "text-blue-500"
                    }`}
                  >
                    {digitToCheck}
                  </span>
                </p>
                <p className="text-xl mt-2">
                  {parseInt(digitToCheck) >= 5
                    ? getText("roundUp")
                    : getText("roundDown")}
                </p>
              </div>

              <div className="bg-emerald-100 rounded-2xl p-6 text-center border-4 border-emerald-300">
                <div className="text-emerald-600 font-bold">
                  {getText("afterRounding")}
                </div>
                <div className="text-5xl font-black text-emerald-800">
                  {rounded}
                </div>
              </div>

              <div className="mt-6 bg-amber-50 border-2 border-amber-200 rounded-xl p-4 text-amber-800">
                <p className="font-bold">ğŸ’¡ {getText("ruleTitle")}</p>
                <p className="text-sm">{getText("ruleText")}</p>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
