<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äº”æ•¸å­¸ï¼šå°æ•¸å››å‰‡é‹ç®—</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script
      src="https://unpkg.com/react@18/umd/react.development.js"
      crossorigin
    ></script>
    <script
      src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"
      crossorigin
    ></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://unpkg.com/lucide-react@latest/dist/umd/lucide-react.min.js"></script>

    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700;900&family=Fredoka:wght@400;600;900&family=JetBrains+Mono:wght@700&display=swap"
      rel="stylesheet"
    />

    <style>
      body {
        font-family: "Fredoka", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        min-height: 100vh;
      }
      .mono {
        font-family: "JetBrains Mono", monospace;
      }
      .decimal-point {
        color: #ef4444;
        font-weight: 900;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { Calculator, Check, X, RefreshCw, Trophy, Lightbulb } =
        window.LucideReact;

      function App() {
        const [operation, setOperation] = useState("+");
        const [num1, setNum1] = useState(12.5);
        const [num2, setNum2] = useState(3.25);
        const [userAnswer, setUserAnswer] = useState("");
        const [feedback, setFeedback] = useState(null);
        const [score, setScore] = useState(0);
        const [showSteps, setShowSteps] = useState(false);

        const operations = [
          { symbol: "+", name: "åŠ æ³•", color: "green" },
          { symbol: "-", name: "æ¸›æ³•", color: "orange" },
          { symbol: "Ã—", name: "ä¹˜æ³•", color: "blue" },
          { symbol: "Ã·", name: "é™¤æ³•", color: "purple" },
        ];

        const calculate = () => {
          switch (operation) {
            case "+":
              return num1 + num2;
            case "-":
              return num1 - num2;
            case "Ã—":
              return num1 * num2;
            case "Ã·":
              return num1 / num2;
            default:
              return 0;
          }
        };

        const correctAnswer = calculate();

        const generateQuestion = () => {
          const ops = ["+", "-", "Ã—", "Ã·"];
          const op = ops[Math.floor(Math.random() * ops.length)];
          setOperation(op);

          let n1, n2;
          if (op === "Ã·") {
            n2 =
              Math.floor(Math.random() * 9) +
              1 +
              Math.floor(Math.random() * 9) / 10;
            n1 = n2 * (Math.floor(Math.random() * 5) + 1);
          } else {
            n1 =
              Math.floor(Math.random() * 50) +
              1 +
              Math.floor(Math.random() * 99) / 100;
            n2 =
              Math.floor(Math.random() * 20) +
              1 +
              Math.floor(Math.random() * 99) / 100;
          }

          setNum1(parseFloat(n1.toFixed(2)));
          setNum2(parseFloat(n2.toFixed(2)));
          setUserAnswer("");
          setFeedback(null);
          setShowSteps(false);
        };

        const checkAnswer = () => {
          const userVal = parseFloat(userAnswer);
          const isCorrect = Math.abs(userVal - correctAnswer) < 0.01;

          if (isCorrect) {
            setFeedback("correct");
            setScore((s) => s + 10);
          } else {
            setFeedback("incorrect");
          }
        };

        const renderSteps = () => {
          const n1Str = num1.toString();
          const n2Str = num2.toString();
          const ansStr = correctAnswer.toFixed(2);

          return (
            <div className="bg-white/90 rounded-2xl p-6 font-mono text-lg">
              <h4 className="font-sans font-black text-purple-600 mb-4">
                ğŸ“‹ è¨ˆç®—æ­¥é©Ÿ
              </h4>

              {operation === "+" && (
                <div>
                  <p className="mb-2">1. å°é½Šå°æ•¸é»</p>
                  <pre className="bg-slate-100 p-4 rounded-lg mb-2 text-right">
                    {n1Str}
                    <br />+ {n2Str}
                    <br />
                    â”€â”€â”€â”€â”€â”€
                    <br />
                    {ansStr}
                  </pre>
                  <p className="text-sm text-slate-600">
                    æç¤ºï¼šå°æ•¸åŠ æ³•å°±åƒæ•´æ•¸åŠ æ³•ï¼Œä½†è¦å°é½Šå°æ•¸é»ï¼
                  </p>
                </div>
              )}

              {operation === "-" && (
                <div>
                  <p className="mb-2">1. å°é½Šå°æ•¸é»</p>
                  <p className="mb-2">2. ç”±å³è‡³å·¦è¨ˆç®—</p>
                  <pre className="bg-slate-100 p-4 rounded-lg mb-2 text-right">
                    {n1Str}
                    <br />- {n2Str}
                    <br />
                    â”€â”€â”€â”€â”€â”€
                    <br />
                    {ansStr}
                  </pre>
                </div>
              )}

              {operation === "Ã—" && (
                <div>
                  <p className="mb-2">1. å…ˆç•¶æˆæ•´æ•¸ç›¸ä¹˜</p>
                  <p className="mb-2">2. æ•¸ç¸½å…±æœ‰å¹¾å€‹å°æ•¸ä½</p>
                  <p className="mb-2">3. åœ¨ç­”æ¡ˆæ¨™ä¸Šå°æ•¸é»</p>
                  <pre className="bg-slate-100 p-4 rounded-lg mb-2">
                    {num1} Ã— {num2} = {ansStr}
                  </pre>
                  <p className="text-sm text-slate-600">
                    {num1}æœ‰{(num1.toString().split(".")[1] || "").length}
                    ä½å°æ•¸ï¼Œ
                    {num2}æœ‰{(num2.toString().split(".")[1] || "").length}
                    ä½å°æ•¸ï¼Œ ç­”æ¡ˆæœ‰
                    {(num1.toString().split(".")[1] || "").length +
                      (num2.toString().split(".")[1] || "").length}
                    ä½å°æ•¸
                  </p>
                </div>
              )}

              {operation === "Ã·" && (
                <div>
                  <p className="mb-2">1. å°‡é™¤æ•¸è®Šæˆæ•´æ•¸ï¼ˆåŒæ™‚ç§»å‹•å°æ•¸é»ï¼‰</p>
                  <p className="mb-2">2. è¢«é™¤æ•¸ä¹Ÿç§»å‹•ç›¸åŒä½æ•¸</p>
                  <p className="mb-2">3. é€²è¡Œæ•´æ•¸é™¤æ³•</p>
                  <pre className="bg-slate-100 p-4 rounded-lg mb-2">
                    {num1} Ã· {num2} = {ansStr}
                  </pre>
                </div>
              )}
            </div>
          );
        };

        const highlightDecimal = (num) => {
          const str = num.toString();
          const parts = str.split(".");
          return (
            <span className="mono text-5xl">
              {parts[0]}
              {parts[1] && (
                <>
                  <span className="decimal-point text-6xl">.</span>
                  {parts[1]}
                </>
              )}
            </span>
          );
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <header className="text-center mb-8">
              <div className="inline-flex items-center gap-3 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full mb-4">
                <Calculator className="text-white" size={24} />
                <span className="text-white font-bold text-lg">å°äº”æ•¸å­¸</span>
              </div>
              <h1 className="text-5xl md:text-6xl font-black text-white mb-2 tracking-tight">
                å°æ•¸å››å‰‡é‹ç®—
              </h1>
              <div className="flex items-center justify-center gap-4 mt-4">
                <div className="bg-white/20 backdrop-blur-md px-6 py-2 rounded-full">
                  <span className="text-white font-bold">å¾—åˆ†ï¼š</span>
                  <span className="text-yellow-300 font-black text-xl ml-2">
                    {score}
                  </span>
                </div>
              </div>
            </header>

            <main className="w-full max-w-6xl grid grid-cols-1 lg:grid-cols-12 gap-8">
              {/* Question Area */}
              <div className="lg:col-span-8 bg-white/95 backdrop-blur-md rounded-3xl p-8 shadow-2xl">
                {/* Operation Selector */}
                <div className="grid grid-cols-4 gap-3 mb-8">
                  {operations.map((op) => (
                    <button
                      key={op.symbol}
                      onClick={() => setOperation(op.symbol)}
                      className={`py-4 rounded-2xl font-black text-xl transition-all ${
                        operation === op.symbol
                          ? `bg-${op.color}-500 text-white shadow-lg scale-105`
                          : "bg-slate-100 text-slate-600 hover:bg-slate-200"
                      }`}
                    >
                      {op.symbol}
                    </button>
                  ))}
                </div>

                {/* Question Display */}
                <div className="bg-gradient-to-br from-purple-50 to-blue-50 rounded-3xl p-8 mb-8">
                  <div className="flex items-center justify-center gap-6 mb-8">
                    <div className="text-center">{highlightDecimal(num1)}</div>
                    <div className="text-6xl font-black text-purple-600">
                      {operation}
                    </div>
                    <div className="text-center">{highlightDecimal(num2)}</div>
                    <div className="text-6xl font-black text-slate-400">=</div>
                    <div className="text-6xl font-black text-slate-300">?</div>
                  </div>

                  {/* Answer Input */}
                  <div className="flex gap-4">
                    <input
                      type="number"
                      step="0.01"
                      value={userAnswer}
                      onChange={(e) => setUserAnswer(e.target.value)}
                      onKeyDown={(e) => e.key === "Enter" && checkAnswer()}
                      placeholder="è¼¸å…¥ä½ çš„ç­”æ¡ˆ..."
                      className="flex-1 px-6 py-4 rounded-2xl border-4 border-purple-200 focus:border-purple-500 outline-none text-3xl font-black text-center mono"
                    />
                    <button
                      onClick={checkAnswer}
                      className="px-8 py-4 bg-purple-600 hover:bg-purple-700 text-white rounded-2xl font-bold text-xl shadow-lg transition-all flex items-center gap-2"
                    >
                      <Check /> ç¢ºèª
                    </button>
                  </div>
                </div>

                {/* Feedback */}
                {feedback === "correct" && (
                  <motion.div
                    initial={{ opacity: 0, scale: 0.9 }}
                    animate={{ opacity: 1, scale: 1 }}
                    className="bg-green-100 text-green-700 p-6 rounded-2xl font-bold text-center mb-4 text-xl"
                  >
                    âœ“ ç­”å°äº†ï¼ç­”æ¡ˆæ˜¯ {correctAnswer.toFixed(2)}
                  </motion.div>
                )}

                {feedback === "incorrect" && (
                  <motion.div
                    initial={{ opacity: 0, scale: 0.9 }}
                    animate={{ opacity: 1, scale: 1 }}
                    className="bg-red-100 text-red-700 p-6 rounded-2xl font-bold text-center mb-4 text-xl"
                  >
                    âœ— å†è©¦è©¦çœ‹ï¼æ­£ç¢ºç­”æ¡ˆæ˜¯ {correctAnswer.toFixed(2)}
                  </motion.div>
                )}

                {/* Steps Toggle */}
                <button
                  onClick={() => setShowSteps(!showSteps)}
                  className="w-full mb-4 py-3 bg-blue-50 hover:bg-blue-100 text-blue-700 rounded-xl font-bold transition-all flex items-center justify-center gap-2"
                >
                  <Lightbulb size={20} /> {showSteps ? "éš±è—" : "é¡¯ç¤º"}è©³ç´°æ­¥é©Ÿ
                </button>

                {showSteps && renderSteps()}

                {/* Next Question */}
                <button
                  onClick={generateQuestion}
                  className="w-full py-4 bg-slate-800 hover:bg-slate-900 text-white rounded-2xl font-bold text-lg shadow-lg transition-all flex items-center justify-center gap-2"
                >
                  <RefreshCw size={20} /> ä¸‹ä¸€é¡Œ
                </button>
              </div>

              {/* Info Panel */}
              <div className="lg:col-span-4 flex flex-col gap-6">
                <div className="bg-white/95 backdrop-blur-md rounded-3xl p-6 shadow-lg">
                  <h3 className="text-lg font-black text-purple-600 mb-3 flex items-center gap-2">
                    ğŸ’¡ å°æ•¸é‹ç®—è¦è¨£
                  </h3>
                  <div className="text-sm text-slate-700 leading-relaxed space-y-3">
                    <div className="bg-green-50 p-3 rounded-lg">
                      <strong className="text-green-700">åŠ æ³• / æ¸›æ³•ï¼š</strong>
                      <p className="text-slate-600 mt-1">å°æ•¸é»è¦å°é½Šï¼</p>
                    </div>
                    <div className="bg-blue-50 p-3 rounded-lg">
                      <strong className="text-blue-700">ä¹˜æ³•ï¼š</strong>
                      <p className="text-slate-600 mt-1">
                        æ•¸å°æ•¸ä½æ•¸ï¼Œç­”æ¡ˆæ¨™å°æ•¸é»
                      </p>
                    </div>
                    <div className="bg-purple-50 p-3 rounded-lg">
                      <strong className="text-purple-700">é™¤æ³•ï¼š</strong>
                      <p className="text-slate-600 mt-1">
                        é™¤æ•¸è®Šæ•´æ•¸ï¼Œè¢«é™¤æ•¸åŒæ­¥ç§»
                      </p>
                    </div>
                  </div>
                </div>

                <div className="bg-gradient-to-br from-yellow-100 to-orange-100 rounded-3xl p-6 shadow-lg">
                  <h3 className="text-lg font-black text-orange-700 mb-3">
                    ğŸ¯ å¿«é€Ÿç·´ç¿’
                  </h3>
                  <div className="grid grid-cols-2 gap-2">
                    <button
                      onClick={() => {
                        setNum1(15.5);
                        setNum2(3.25);
                        setOperation("+");
                      }}
                      className="py-2 bg-white hover:bg-slate-50 rounded-lg font-bold text-sm"
                    >
                      ç°¡å–®åŠ æ³•
                    </button>
                    <button
                      onClick={() => {
                        setNum1(20.8);
                        setNum2(8.45);
                        setOperation("-");
                      }}
                      className="py-2 bg-white hover:bg-slate-50 rounded-lg font-bold text-sm"
                    >
                      ç°¡å–®æ¸›æ³•
                    </button>
                    <button
                      onClick={() => {
                        setNum1(3.5);
                        setNum2(2.4);
                        setOperation("Ã—");
                      }}
                      className="py-2 bg-white hover:bg-slate-50 rounded-lg font-bold text-sm"
                    >
                      ç°¡å–®ä¹˜æ³•
                    </button>
                    <button
                      onClick={() => {
                        setNum1(12.6);
                        setNum2(3);
                        setOperation("Ã·");
                      }}
                      className="py-2 bg-white hover:bg-slate-50 rounded-lg font-bold text-sm"
                    >
                      ç°¡å–®é™¤æ³•
                    </button>
                  </div>
                </div>
              </div>
            </main>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
