<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äº”æ•¸å­¸ï¼šåœ“å½¢åœ–å…¥é–€ | Introduction to Pie Charts</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #e0e7ff 0%, #6366f1 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Introduction to Pie Charts",
          zh: "åœ“å½¢åœ–å…¥é–€",
          ja: "å††ã‚°ãƒ©ãƒ•å…¥é–€",
          ko: "ì›í˜• ì°¨íŠ¸ ì†Œê°œ",
          es: "IntroducciÃ³n a los GrÃ¡ficos Circulares",
          de: "EinfÃ¼hrung in Kreisdiagramme",
          fi: "Johdatus ympyrÃ¤kaavioihin",
          fr: "Introduction aux diagrammes circulaires",
          ar: "Ù…Ù‚Ø¯Ù…Ø© ÙÙŠ Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠØ©",
          it: "Introduzione ai grafici a torta",
        },
        chartTitle: {
          en: "Favorite Sports",
          zh: "æœ€å–œæ­¡çš„é‹å‹•",
          ja: "å¥½ããªã‚¹ãƒãƒ¼ãƒ„",
          ko: "ì¢‹ì•„í•˜ëŠ” ìŠ¤í¬ì¸ ",
          es: "Deportes Favoritos",
          de: "Lieblingssportarten",
          fi: "Suosikkiurheilulajit",
          fr: "Sports prÃ©fÃ©rÃ©s",
          ar: "Ø§Ù„Ø±ÙŠØ§Ø¶Ø§Øª Ø§Ù„Ù…ÙØ¶Ù„Ø©",
          it: "Sport preferiti",
        },
        football: {
          en: "Football",
          zh: "è¶³çƒ",
          ja: "ã‚µãƒƒã‚«ãƒ¼",
          ko: "ì¶•êµ¬",
          es: "FÃºtbol",
          de: "FuÃŸball",
          fi: "Jalkapallo",
          fr: "Football",
          ar: "ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…",
          it: "Calcio",
        },
        basketball: {
          en: "Basketball",
          zh: "ç±ƒçƒ",
          ja: "ãƒã‚¹ã‚±ãƒƒãƒˆãƒœãƒ¼ãƒ«",
          ko: "ë†êµ¬",
          es: "Baloncesto",
          de: "Basketball",
          fi: "Koripallo",
          fr: "Basket-ball",
          ar: "ÙƒØ±Ø© Ø§Ù„Ø³Ù„Ø©",
          it: "Pallacanestro",
        },
        swimming: {
          en: "Swimming",
          zh: "æ¸¸æ³³",
          ja: "æ°´æ³³",
          ko: "ìˆ˜ì˜",
          es: "NataciÃ³n",
          de: "Schwimmen",
          fi: "Uinti",
          fr: "Natation",
          ar: "Ø§Ù„Ø³Ø¨Ø§Ø­Ø©",
          it: "Nuoto",
        },
        running: {
          en: "Running",
          zh: "è·‘æ­¥",
          ja: "ãƒ©ãƒ³ãƒ‹ãƒ³ã‚°",
          ko: "ë‹¬ë¦¬ê¸°",
          es: "Correr",
          de: "Laufen",
          fi: "Juoksu",
          fr: "Course Ã  pied",
          ar: "Ø§Ù„Ø¬Ø±ÙŠ",
          it: "Corsa",
        },
        others: {
          en: "Others",
          zh: "å…¶ä»–",
          ja: "ãã®ä»–",
          ko: "ê¸°íƒ€",
          es: "Otros",
          de: "Andere",
          fi: "Muut",
          fr: "Autres",
          ar: "Ø£Ø®Ø±Ù‰",
          it: "Altri",
        },
        people: {
          en: "people",
          zh: "äºº",
          ja: "äºº",
          ko: "ëª…",
          es: "personas",
          de: "Personen",
          fi: "hlÃ¶",
          fr: "personnes",
          ar: "Ø´Ø®Øµ",
          it: "persone",
        },
        tip: {
          en: "Pie charts show the proportion of each part to the whole.",
          zh: "åœ“å½¢åœ–é¡¯ç¤ºå„éƒ¨åˆ†ä½”æ•´é«”çš„æ¯”ä¾‹",
          ja: "å††ã‚°ãƒ©ãƒ•ã¯ã€å…¨ä½“ã«å¯¾ã™ã‚‹å„éƒ¨åˆ†ã®å‰²åˆã‚’ç¤ºã—ã¾ã™ã€‚",
          ko: "ì›í˜• ì°¨íŠ¸ëŠ” ì „ì²´ì— ëŒ€í•œ ê° ë¶€ë¶„ì˜ ë¹„ìœ¨ì„ ë³´ì—¬ì¤ë‹ˆë‹¤.",
          es: "Los grÃ¡ficos circulares muestran la proporciÃ³n de cada parte con respecto al todo.",
          de: "Kreisdiagramme zeigen den Anteil jedes Teils am Ganzen.",
          fi: "YmpyrÃ¤kaaviot osoittavat kunkin osan osuuden kokonaisuudesta.",
          fr: "Les diagrammes circulaires montrent la proportion de chaque partie par rapport Ã  l'ensemble.",
          ar: "ØªØ¸Ù‡Ø± Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø§Ù„Ø¯Ø§Ø¦Ø±ÙŠØ© Ù†Ø³Ø¨Ø© ÙƒÙ„ Ø¬Ø²Ø¡ Ø¥Ù„Ù‰ Ø§Ù„ÙƒÙ„.",
          it: "I grafici a torta mostrano la proporzione di ogni parte rispetto al tutto.",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const getText = (key) => t[key][lang] || t[key]["en"];

        const data = [
          { id: "football", value: 30, color: "#3b82f6" },
          { id: "basketball", value: 25, color: "#ef4444" },
          { id: "swimming", value: 20, color: "#22c55e" },
          { id: "running", value: 15, color: "#f59e0b" },
          { id: "others", value: 10, color: "#8b5cf6" },
        ];
        const total = data.reduce((s, d) => s + d.value, 0);
        const [selected, setSelected] = useState(null);

        // Calculate pie slices
        let cumulative = 0;
        const slices = data.map((d) => {
          const start = cumulative;
          cumulative += (d.value / total) * 360;
          return { ...d, startAngle: start, endAngle: cumulative };
        });

        const describeArc = (cx, cy, r, startAngle, endAngle) => {
          const start = polarToCartesian(cx, cy, r, endAngle);
          const end = polarToCartesian(cx, cy, r, startAngle);
          const largeArc = endAngle - startAngle <= 180 ? 0 : 1;
          return `M ${cx} ${cy} L ${start.x} ${start.y} A ${r} ${r} 0 ${largeArc} 0 ${end.x} ${end.y} Z`;
        };

        const polarToCartesian = (cx, cy, r, angle) => {
          const rad = ((angle - 90) * Math.PI) / 180;
          return { x: cx + r * Math.cos(rad), y: cy + r * Math.sin(rad) };
        };

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-5xl font-black text-indigo-100 mb-2 mt-8">
              ğŸ¥§ {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur rounded-3xl p-8 shadow-2xl max-w-4xl w-full mt-8">
              <h3 className="text-xl font-bold text-center text-slate-700 mb-4">
                {getText("chartTitle")}
              </h3>

              <div className="flex flex-col md:flex-row gap-8 items-center">
                <svg viewBox="0 0 220 220" className="w-64 h-64">
                  {slices.map((s, i) => (
                    <path
                      key={i}
                      d={describeArc(110, 110, 100, s.startAngle, s.endAngle)}
                      fill={s.color}
                      stroke="white"
                      strokeWidth="2"
                      onClick={() => setSelected(i)}
                      className={`cursor-pointer transition-transform ${
                        selected === i ? "scale-105" : ""
                      }`}
                      style={{ transformOrigin: "110px 110px" }}
                    />
                  ))}
                </svg>
                <div className="flex-1 space-y-2">
                  {data.map((d, i) => (
                    <div
                      key={i}
                      onClick={() => setSelected(i)}
                      className={`flex items-center gap-3 p-2 rounded-lg cursor-pointer ${
                        selected === i
                          ? "bg-slate-100 ring-2 ring-indigo-400"
                          : ""
                      }`}
                    >
                      <div
                        className="w-6 h-6 rounded"
                        style={{ backgroundColor: d.color }}
                      ></div>
                      <span className="font-bold flex-1">{getText(d.id)}</span>
                      <span className="font-mono">
                        {d.value}
                        {getText("people")}
                      </span>
                      <span className="text-slate-500">
                        ({Math.round((d.value / total) * 100)}%)
                      </span>
                    </div>
                  ))}
                </div>
              </div>

              <div className="mt-6 bg-amber-50 border-2 border-amber-200 rounded-xl p-4 text-amber-800">
                <p className="font-bold">ğŸ’¡ {getText("tip")}</p>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  
      
      <!-- Footer -->
      <footer class="text-center py-4 text-slate-500 text-sm">
        <p class="italic mb-1">
          But God made the earth by his power; he founded the world by his wisdom and stretched out the heavens by his
          understanding. Jeremiah 10:12
        </p>
        <p class="text-xs mb-1 mt-2">
          ã€Œè€¶å’Œè¯ç”¨èƒ½åŠ›å‰µé€ å¤§åœ°ï¼Œç”¨æ™ºæ…§å»ºç«‹ä¸–ç•Œï¼Œç”¨è°æ˜é‹ªå¼µç©¹è’¼ã€‚ã€ è€¶åˆ©ç±³æ›¸ 10:12
        </p>
        <p class="text-xs mt-2 pt-2 border-t border-slate-300">
          @ 2025 Education Engineering Portfolio | Generated by Gemini Pro 3.0 | Prepared by SF Lau
        </p>
      </footer>
</body>
</html>
