<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>å°äº”æ•¸å­¸ï¼šé–±è®€æŠ˜ç·šåœ– | Reading Line Graphs</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: linear-gradient(135deg, #dbeafe 0%, #3b82f6 100%);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState } = React;
      const { LanguageSelector, get } = window.MathI18n;

      const t = {
        title: {
          en: "Reading Line Graphs",
          zh: "é–±è®€æŠ˜ç·šåœ–",
          ja: "æŠ˜ã‚Œç·šã‚°ãƒ©ãƒ•ã‚’èª­ã‚€",
          ko: "êº¾ì€ì„  ê·¸ë˜í”„ ì½ê¸°",
          es: "Lectura de GrÃ¡ficos Lineales",
          de: "Liniendiagramme lesen",
          fi: "Viivakaavioiden lukeminen",
          fr: "Lecture de graphiques linÃ©aires",
          ar: "Ù‚Ø±Ø§Ø¡Ø© Ø§Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ø¨ÙŠØ§Ù†ÙŠØ© Ø§Ù„Ø®Ø·ÙŠØ©",
          it: "Lettura grafici a linee",
        },
        graphTitle: {
          en: "Monthly Average Temperature",
          zh: "é¦™æ¸¯æœˆå¹³å‡æ°£æº«",
          ja: "æœˆå¹³å‡æ°—æ¸©",
          ko: "ì›”ë³„ í‰ê·  ê¸°ì˜¨",
          es: "Temperatura Promedio Mensual",
          de: "Monatliche Durchschnittstemperatur",
          fi: "Kuukausittainen keskilÃ¤mpÃ¶tila",
          fr: "TempÃ©rature moyenne mensuelle",
          ar: "Ù…ØªÙˆØ³Ø· Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©",
          it: "Temperatura media mensile",
        },
        selectedInfo: {
          en: "Average temperature of {month} is",
          zh: "{month} çš„å¹³å‡æ°£æº«æ˜¯",
          ja: "{month} ã®å¹³å‡æ°—æ¸©ã¯",
          ko: "{month}ì˜ í‰ê·  ê¸°ì˜¨ì€",
          es: "La temperatura promedio de {month} es",
          de: "Die Durchschnittstemperatur von {month} ist",
          fi: "{month}n keskilÃ¤mpÃ¶tila on",
          fr: "La tempÃ©rature moyenne de {month} est",
          ar: "Ù…ØªÙˆØ³Ø· Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© Ù„Ù€ {month} Ù‡Ùˆ",
          it: "La temperatura media di {month} Ã¨",
        },
        tip: {
          en: "Click on points to see the data values!",
          zh: "é»æ“Šåœ–ä¸Šçš„é»ä¾†æŸ¥çœ‹æ•¸æ“šï¼",
          ja: "ãƒã‚¤ãƒ³ãƒˆã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ‡ãƒ¼ã‚¿å€¤ã‚’ç¢ºèªã—ã¦ãã ã•ã„ï¼",
          ko: "ë°ì´í„° ê°’ì„ ë³´ë ¤ë©´ ì ì„ í´ë¦­í•˜ì„¸ìš”!",
          es: "Â¡Haz clic en los puntos para ver los valores de los datos!",
          de: "Klicke auf die Punkte, um die Datenwerte zu sehen!",
          fi: "Klikkaa pisteitÃ¤ nÃ¤hdÃ¤ksesi data-arvot!",
          fr: "Cliquez sur les points pour voir les valeurs des donnÃ©es !",
          ar: "Ø§Ù†Ù‚Ø± Ø¹Ù„Ù‰ Ø§Ù„Ù†Ù‚Ø§Ø· Ù„Ø±Ø¤ÙŠØ© Ù‚ÙŠÙ… Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª!",
          it: "Clicca sui punti per vedere i valori dei dati!",
        },
        jan: {
          en: "Jan",
          zh: "ä¸€æœˆ",
          ja: "1æœˆ",
          ko: "1ì›”",
          es: "Ene",
          de: "Jan",
          fi: "Tammi",
          fr: "Jan",
          ar: "ÙŠÙ†Ø§ÙŠØ±",
          it: "Gen",
        },
        feb: {
          en: "Feb",
          zh: "äºŒæœˆ",
          ja: "2æœˆ",
          ko: "2ì›”",
          es: "Feb",
          de: "Feb",
          fi: "Helmi",
          fr: "FÃ©v",
          ar: "ÙØ¨Ø±Ø§ÙŠØ±",
          it: "Feb",
        },
        mar: {
          en: "Mar",
          zh: "ä¸‰æœˆ",
          ja: "3æœˆ",
          ko: "3ì›”",
          es: "Mar",
          de: "MÃ¤r",
          fi: "Maalis",
          fr: "Mar",
          ar: "Ù…Ø§Ø±Ø³",
          it: "Mar",
        },
        apr: {
          en: "Apr",
          zh: "å››æœˆ",
          ja: "4æœˆ",
          ko: "4ì›”",
          es: "Abr",
          de: "Apr",
          fi: "Huhti",
          fr: "Avr",
          ar: "Ø£Ø¨Ø±ÙŠÙ„",
          it: "Apr",
        },
        may: {
          en: "May",
          zh: "äº”æœˆ",
          ja: "5æœˆ",
          ko: "5ì›”",
          es: "May",
          de: "Mai",
          fi: "Touko",
          fr: "Mai",
          ar: "Ù…Ø§ÙŠÙˆ",
          it: "Mag",
        },
        jun: {
          en: "Jun",
          zh: "å…­æœˆ",
          ja: "6æœˆ",
          ko: "6ì›”",
          es: "Jun",
          de: "Jun",
          fi: "KesÃ¤",
          fr: "Juin",
          ar: "ÙŠÙˆÙ†ÙŠÙˆ",
          it: "Giu",
        },
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const getText = (key) => t[key][lang] || t[key]["en"];

        const data = [
          { month: "jan", temp: 15 },
          { month: "feb", temp: 17 },
          { month: "mar", temp: 22 },
          { month: "apr", temp: 26 },
          { month: "may", temp: 30 },
          { month: "jun", temp: 32 },
        ];
        const [selected, setSelected] = useState(null);
        const maxTemp = 35;
        const minTemp = 10;
        const range = maxTemp - minTemp;

        const points = data.map((d, i) => ({
          x: 50 + i * 50,
          y: 180 - ((d.temp - minTemp) / range) * 160,
          ...d,
        }));

        return (
          <div className="min-h-screen p-8 flex flex-col items-center">
            <LanguageSelector lang={lang} setLang={setLang} />
            <h1 className="text-5xl font-black text-blue-100 mb-2 mt-8">
              ğŸ“ˆ {getText("title")}
            </h1>

            <div className="bg-white/90 backdrop-blur rounded-3xl p-8 shadow-2xl max-w-3xl w-full mt-8">
              <h3 className="text-xl font-bold text-center text-slate-700 mb-4">
                {getText("graphTitle")}
              </h3>

              <svg
                viewBox="0 0 350 220"
                className="w-full max-w-lg mx-auto bg-slate-50 rounded-xl"
              >
                {/* Y-axis */}
                <line
                  x1="40"
                  y1="20"
                  x2="40"
                  y2="180"
                  stroke="#94a3b8"
                  strokeWidth="2"
                />
                {/* X-axis */}
                <line
                  x1="40"
                  y1="180"
                  x2="320"
                  y2="180"
                  stroke="#94a3b8"
                  strokeWidth="2"
                />
                {/* Y-labels */}
                {[35, 30, 25, 20, 15, 10].map((v, i) => (
                  <text
                    key={v}
                    x="35"
                    y={20 + i * 32}
                    textAnchor="end"
                    className="text-xs fill-slate-500"
                  >
                    {v}Â°
                  </text>
                ))}
                {/* Line */}
                <polyline
                  fill="none"
                  stroke="#3b82f6"
                  strokeWidth="3"
                  strokeLinejoin="round"
                  points={points.map((p) => `${p.x},${p.y}`).join(" ")}
                />
                {/* Points */}
                {points.map((p, i) => (
                  <g
                    key={i}
                    onClick={() => setSelected(i)}
                    className="cursor-pointer"
                  >
                    <circle
                      cx={p.x}
                      cy={p.y}
                      r={selected === i ? 10 : 6}
                      fill={selected === i ? "#ef4444" : "#3b82f6"}
                      stroke="white"
                      strokeWidth="2"
                    />
                    <text
                      x={p.x}
                      y="195"
                      textAnchor="middle"
                      className="text-xs fill-slate-600 font-bold"
                    >
                      {getText(p.month)}
                    </text>
                  </g>
                ))}
              </svg>

              {selected !== null && (
                <div className="mt-4 bg-blue-100 rounded-xl p-4 text-center border-2 border-blue-300">
                  <p className="text-lg">
                    {getText("selectedInfo")
                      .replace(
                        "{month}",
                        `<b>${getText(data[selected].month)}</b>`
                      )
                      .split("<b>")
                      .map((part, i) =>
                        i % 2 === 1 ? <b key={i}>{part}</b> : part
                      )}
                  </p>
                  <p className="text-4xl font-black text-blue-600">
                    {data[selected].temp}Â°C
                  </p>
                </div>
              )}

              <div className="mt-6 bg-amber-50 border-2 border-amber-200 rounded-xl p-4 text-amber-800">
                <p className="font-bold">ğŸ’¡ {getText("tip")}</p>
              </div>
            </div>
          </div>
        );
      }
      ReactDOM.createRoot(document.getElementById("root")).render(<App />);
    </script>
  </body>
</html>
