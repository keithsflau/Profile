<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∫îÊï∏Â≠∏ÔºöÈ´îÁ©çÂñÆ‰ΩçÊèõÁÆó | Volume Unit Conversion</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: #0f172a;
        color: white;
        overflow-x: hidden;
      }
      .glass-panel {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector } = window.MathI18n || {
        LanguageSelector: () => null,
      };

      const t = {
        title: {
          en: "Volume Unit Conversion",
          zh: "È´îÁ©çÂñÆ‰ΩçÊèõÁÆó",
          ja: "‰ΩìÁ©çÂçò‰ΩçÂ§âÊèõ",
          ko: "Î∂ÄÌîº Îã®ÏúÑ Î≥ÄÌôò",
          es: "Conversi√≥n de Unidades de Volumen",
          de: "Volumeneinheiten Umrechnung",
          fi: "Tilavuusyksik√∂iden muunnos",
          fr: "Conversion d'unit√©s de volume",
          ar: "ÿ™ÿ≠ŸàŸäŸÑ Ÿàÿ≠ÿØÿßÿ™ ÿßŸÑÿ≠ÿ¨ŸÖ",
          it: "Conversione unit√† di volume",
        },
        relations: {
          en: "Conversion Relations",
          zh: "ÊèõÁÆóÈóú‰øÇ",
          ja: "Â§âÊèõÈñ¢‰øÇ",
          ko: "Î≥ÄÌôò Í¥ÄÍ≥Ñ",
          es: "Relaciones de Conversi√≥n",
          de: "Umrechnungsverh√§ltnisse",
          fi: "Muunnossuhteet",
          fr: "Relations de conversion",
          ar: "ÿπŸÑÿßŸÇÿßÿ™ ÿßŸÑÿ™ÿ≠ŸàŸäŸÑ",
          it: "Relazioni di conversione",
        },
        m3Option: {
          en: "m¬≥ (Cubic Meter)",
          zh: "m¬≥ (Á´ãÊñπÁ±≥)",
          ja: "m¬≥ (Á´ãÊñπ„É°„Éº„Éà„É´)",
          ko: "m¬≥ (ÏÑ∏Ï†úÍ≥±ÎØ∏ÌÑ∞)",
          es: "m¬≥ (Metro C√∫bico)",
          de: "m¬≥ (Kubikmeter)",
          fi: "m¬≥ (Kuutiometri)",
          fr: "m¬≥ (M√®tre cube)",
          ar: "m¬≥ (ŸÖÿ™ÿ± ŸÖŸÉÿπÿ®)",
          it: "m¬≥ (Metro cubo)",
        },
        cm3Option: {
          en: "cm¬≥ (Cubic Centimeter)",
          zh: "cm¬≥ (Á´ãÊñπÂéòÁ±≥)",
          ja: "cm¬≥ (Á´ãÊñπ„Çª„É≥„ÉÅ„É°„Éº„Éà„É´)",
          ko: "cm¬≥ (ÏÑ∏Ï†úÍ≥±ÏÑºÌã∞ÎØ∏ÌÑ∞)",
          es: "cm¬≥ (Cent√≠metro C√∫bico)",
          de: "cm¬≥ (Kubikzentimeter)",
          fi: "cm¬≥ (Kuutiosenttimetri)",
          fr: "cm¬≥ (Centim√®tre cube)",
          ar: "cm¬≥ (ÿ≥ŸÜÿ™ŸäŸÖÿ™ÿ± ŸÖŸÉÿπÿ®)",
          it: "cm¬≥ (Centimetro cubo)",
        },
        lOption: {
          en: "L (Liter)",
          zh: "L (ÂÖ¨Âçá)",
          ja: "L („É™„ÉÉ„Éà„É´)",
          ko: "L (Î¶¨ÌÑ∞)",
          es: "L (Litro)",
          de: "L (Liter)",
          fi: "L (Litra)",
          fr: "L (Litre)",
          ar: "L (ŸÑÿ™ÿ±)",
          it: "L (Litro)",
        },
        cm3Header: {
          en: "Cubic Centimeter",
          zh: "Á´ãÊñπÂéòÁ±≥",
          ja: "Á´ãÊñπ„Çª„É≥„ÉÅ„É°„Éº„Éà„É´",
          ko: "ÏÑ∏Ï†úÍ≥±ÏÑºÌã∞ÎØ∏ÌÑ∞",
          es: "Cent√≠metro C√∫bico",
          de: "Kubikzentimeter",
          fi: "Kuutiosenttimetri",
          fr: "Centim√®tre cube",
          ar: "ÿ≥ŸÜÿ™ŸäŸÖÿ™ÿ± ŸÖŸÉÿπÿ®",
          it: "Centimetro cubo",
        },
        mlHeader: {
          en: "Milliliter",
          zh: "ÊØ´Âçá",
          ja: "„Éü„É™„É™„ÉÉ„Éà„É´",
          ko: "Î∞ÄÎ¶¨Î¶¨ÌÑ∞",
          es: "Mililitro",
          de: "Milliliter",
          fi: "Millilitra",
          fr: "Millilitre",
          ar: "ŸÖŸÑŸÑŸäŸÑÿ™ÿ±",
          it: "Millilitro",
        },
        lHeader: {
          en: "Liter",
          zh: "ÂÖ¨Âçá",
          ja: "„É™„ÉÉ„Éà„É´",
          ko: "Î¶¨ÌÑ∞",
          es: "Litro",
          de: "Liter",
          fi: "Litra",
          fr: "Litre",
          ar: "ŸÑÿ™ÿ±",
          it: "Litro",
        },
      };

      const getText = (key, lang) => t[key]?.[lang] || t[key]?.["en"] || key;

      function App() {
        const [lang, setLang] = useState("zh");
        const [value, setValue] = useState(1);
        const [fromUnit, setFromUnit] = useState("m3");

        const conversions = {
          m3: { toCm3: 1000000, toMl: 1000000, toL: 1000 },
          cm3: { toCm3: 1, toMl: 1, toL: 0.001 },
          L: { toCm3: 1000, toMl: 1000, toL: 1 },
        };

        const c = conversions[fromUnit];
        const cm3 = value * c.toCm3;
        const ml = value * c.toMl;
        const liters = value * c.toL;

        const formatNumber = (num) => {
          // Avoid tiny floating point errors
          if (Math.abs(num) < 0.000001) return 0;
          // Up to 6 decimal places, remove trailing zeros
          return parseFloat(num.toFixed(6)).toLocaleString();
        };

        return (
          <div className="min-h-screen flex flex-col items-center p-4 font-sans bg-slate-900 text-white">
            <div className="w-full max-w-5xl flex justify-between items-center mb-10">
              <h1 className="text-4xl font-black text-amber-400 drop-shadow-[0_0_15px_rgba(251,191,36,0.5)]">
                üìè {getText("title", lang)}
              </h1>
              <div className="flex bg-slate-800/80 p-1.5 rounded-xl border border-white/10 flex-wrap justify-end gap-1 max-w-[50%]">
                {[
                  "zh",
                  "en",
                  "ja",
                  "ko",
                  "es",
                  "de",
                  "fi",
                  "fr",
                  "ar",
                  "it",
                ].map((l) => (
                  <button
                    key={l}
                    onClick={() => setLang(l)}
                    className={`px-3 py-1.5 rounded-lg font-bold text-xs uppercase transition-all ${
                      lang === l
                        ? "bg-amber-600 text-white shadow-lg scale-105"
                        : "text-slate-400 hover:text-white hover:bg-white/5"
                    }`}
                  >
                    {l}
                  </button>
                ))}
              </div>
            </div>

            <div className="w-full max-w-4xl flex flex-col gap-8">
              {/* Input Section */}
              <div className="glass-panel p-8 rounded-3xl flex flex-col md:flex-row items-center gap-6 justify-center">
                <input
                  type="number"
                  step="0.1"
                  value={value}
                  onChange={(e) => setValue(parseFloat(e.target.value) || 0)}
                  className="w-full md:w-48 bg-slate-950/50 border-2 border-slate-700 rounded-xl px-4 py-3 text-center text-3xl font-black text-amber-400 focus:border-amber-500 outline-none transition-colors"
                />
                <select
                  value={fromUnit}
                  onChange={(e) => setFromUnit(e.target.value)}
                  className="w-full md:w-auto bg-slate-800 border-2 border-slate-700 rounded-xl px-4 py-3 text-xl font-bold focus:border-amber-500 outline-none cursor-pointer"
                >
                  <option value="m3">{getText("m3Option", lang)}</option>
                  <option value="cm3">{getText("cm3Option", lang)}</option>
                  <option value="L">{getText("lOption", lang)}</option>
                </select>
              </div>

              {/* Results Grid */}
              <div className="grid grid-cols-1 md:grid-cols-3 gap-6">
                <ResultCard
                  label={getText("cm3Header", lang)}
                  unit="cm¬≥"
                  value={formatNumber(cm3)}
                  color="bg-amber-500/20 border-amber-500/30 text-amber-300"
                  delay={0}
                />
                <ResultCard
                  label={getText("mlHeader", lang)}
                  unit="mL"
                  value={formatNumber(ml)}
                  color="bg-blue-500/20 border-blue-500/30 text-blue-300"
                  delay={0.1}
                />
                <ResultCard
                  label={getText("lHeader", lang)}
                  unit="L"
                  value={formatNumber(liters)}
                  color="bg-green-500/20 border-green-500/30 text-green-300"
                  delay={0.2}
                />
              </div>

              {/* Reference Table */}
              <div className="glass-panel p-6 rounded-2xl">
                <div className="text-slate-400 font-bold uppercase tracking-widest text-xs mb-4">
                  üìñ {getText("relations", lang)}
                </div>
                <ul className="space-y-2 font-mono text-sm md:text-base text-slate-300">
                  <li className="flex items-center gap-2">
                    <span className="w-2 h-2 rounded-full bg-amber-500"></span>{" "}
                    1 m¬≥ = 1,000,000 cm¬≥
                  </li>
                  <li className="flex items-center gap-2">
                    <span className="w-2 h-2 rounded-full bg-blue-500"></span> 1
                    cm¬≥ = 1 mL
                  </li>
                  <li className="flex items-center gap-2">
                    <span className="w-2 h-2 rounded-full bg-green-500"></span>{" "}
                    1 L = 1,000 mL = 1,000 cm¬≥
                  </li>
                  <li className="flex items-center gap-2">
                    <span className="w-2 h-2 rounded-full bg-white"></span> 1 m¬≥
                    = 1,000 L
                  </li>
                </ul>
              </div>
            </div>
          </div>
        );
      }

      const ResultCard = ({ label, unit, value, color, delay }) => (
        <motion.div
          initial={{ opacity: 0, y: 20 }}
          animate={{ opacity: 1, y: 0 }}
          transition={{ delay }}
          className={`glass-panel p-6 rounded-2xl flex flex-col items-center justify-center gap-2 border ${
            color.replace("bg-", "border-").split(" ")[1]
          }`}
        >
          <div className="text-sm font-bold uppercase tracking-wider opacity-80">
            {label}
          </div>
          <div className={`text-3xl font-black ${color.split(" ").pop()}`}>
            {value}
          </div>
          <div className="text-xs font-mono opacity-60">{unit}</div>
        </motion.div>
      );

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
