<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞è‰∫îÊï∏Â≠∏ÔºöÂ∞èÊï∏‰πòÂ∞èÊï∏ | Decimal √ó Decimal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: #0f172a; /* Slate 900 */
        color: white;
        overflow-x: hidden;
      }
      .glass-panel {
        background: rgba(190, 24, 93, 0.15); /* Pink 700? */
        backdrop-filter: blur(12px);
        border: 1px solid rgba(244, 114, 182, 0.1); /* Pink 400 */
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector } = window.MathI18n || {
        LanguageSelector: () => null,
      };

      const t = {
        title: {
          en: "Decimal √ó Decimal",
          zh: "Â∞èÊï∏‰πòÂ∞èÊï∏",
          ja: "Â∞èÊï∞ √ó Â∞èÊï∞",
          ko: "ÏÜåÏàò √ó ÏÜåÏàò",
          es: "Decimal √ó Decimal",
          de: "Dezimalzahl √ó Dezimalzahl",
          fi: "Desimaali √ó Desimaali",
          fr: "D√©cimal √ó D√©cimal",
          ar: "ÿπÿ¥ÿ±Ÿä √ó ÿπÿ¥ÿ±Ÿä",
          it: "Decimale √ó Decimale",
        },
        hasDecimals1: {
          en: "{d1} has {places1} decimal place(s)",
          zh: "{d1} Êúâ {places1} ‰ΩçÂ∞èÊï∏",
          ja: "{d1} „Å´„ÅØÂ∞èÊï∞ÁÇπ‰ª•‰∏ã {places1} Ê°Å„Åå„ÅÇ„Çä„Åæ„Åô",
          ko: "{d1}ÏóêÎäî {places1} ÏûêÎ¶¨ ÏÜåÏàòÍ∞Ä ÏûàÏäµÎãàÎã§",
          es: "{d1} tiene {places1} lugar(es) decimal(es)",
          de: "{d1} hat {places1} Dezimalstelle(n)",
          fi: "{d1}:ssa on {places1} desimaalipaikka(a)",
          fr: "{d1} a {places1} d√©cimale(s)",
          ar: "{d1} ŸÑÿØŸäŸá {places1} ŸÖŸÜÿßÿ≤ŸÑ ÿπÿ¥ÿ±Ÿäÿ©",
          it: "{d1} ha {places1} cifre decimali",
        },
        hasDecimals2: {
          en: "{d2} has {places2} decimal place(s)",
          zh: "{d2} Êúâ {places2} ‰ΩçÂ∞èÊï∏",
          ja: "{d2} „Å´„ÅØÂ∞èÊï∞ÁÇπ‰ª•‰∏ã {places2} Ê°Å„Åå„ÅÇ„Çä„Åæ„Åô",
          ko: "{d2}ÏóêÎäî {places2} ÏûêÎ¶¨ ÏÜåÏàòÍ∞Ä ÏûàÏäµÎãàÎã§",
          es: "{d2} tiene {places2} lugar(es) decimal(es)",
          de: "{d2} hat {places2} Dezimalstelle(n)",
          fi: "{d2}:ssa on {places2} desimaalipaikka(a)",
          fr: "{d2} a {places2} d√©cimale(s)",
          ar: "{d2} ŸÑÿØŸäŸá {places2} ŸÖŸÜÿßÿ≤ŸÑ ÿπÿ¥ÿ±Ÿäÿ©",
          it: "{d2} ha {places2} cifre decimali",
        },
        answerDecimalPlaces: {
          en: "Answer decimals: {places1} + {places2} = {totalPlaces}",
          zh: "Á≠îÊ°àÂ∞èÊï∏‰ΩçÊï∏: {places1} + {places2} = {totalPlaces}",
          ja: "Á≠î„Åà„ÅÆÂ∞èÊï∞Ê°ÅÊï∞: {places1} + {places2} = {totalPlaces}",
          ko: "Ï†ïÎãµ ÏÜåÏàò ÏûêÎ¶øÏàò: {places1} + {places2} = {totalPlaces}",
          es: "Decimales de respuesta: {places1} + {places2} = {totalPlaces}",
          de: "Antwort Dezimalstellen: {places1} + {places2} = {totalPlaces}",
          fi: "Vastauksen desimaalit: {places1} + {places2} = {totalPlaces}",
          fr: "D√©cimales de r√©ponse: {places1} + {places2} = {totalPlaces}",
          ar: "ŸÖŸÜÿßÿ≤ŸÑ ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©: {places1} + {places2} = {totalPlaces}",
          it: "Decimali risposta: {places1} + {places2} = {totalPlaces}",
        },
        answer: {
          en: "Answer",
          zh: "Á≠îÊ°à",
          ja: "Á≠î„Åà",
          ko: "Ï†ïÎãµ",
          es: "Respuesta",
          de: "Antwort",
          fi: "Vastaus",
          fr: "R√©ponse",
          ar: "ÿ•ÿ¨ÿßÿ®ÿ©",
          it: "Risposta",
        },
        ruleTitle: {
          en: "Rule:",
          zh: "Ë¶èÂæã:",
          ja: "„É´„Éº„É´:",
          ko: "Í∑úÏπô:",
          es: "Regla:",
          de: "Regel:",
          fi: "S√§√§nt√∂:",
          fr: "R√®gle :",
          ar: "ŸÇÿßÿπÿØÿ©:",
          it: "Regola:",
        },
        ruleText: {
          en: "Sum of decimal places in multipliers = decimal places in answer.",
          zh: "‰πòÊï∏Â∞èÊï∏‰ΩçÊï∏‰πãÂíå = Á≠îÊ°àÁöÑÂ∞èÊï∏‰ΩçÊï∏„ÄÇ",
          ja: "‰πóÊï∞„ÅÆÂ∞èÊï∞ÁÇπ‰ª•‰∏ã„ÅÆÊ°ÅÊï∞„ÅÆÂêàË®à = Á≠î„Åà„ÅÆÂ∞èÊï∞ÁÇπ‰ª•‰∏ã„ÅÆÊ°ÅÊï∞„ÄÇ",
          ko: "ÏäπÏàòÏùò ÏÜåÏàò ÏûêÎ¶øÏàòÏùò Ìï© = Ï†ïÎãµÏùò ÏÜåÏàò ÏûêÎ¶øÏàò.",
          es: "Suma de decimales en multiplicadores = decimales en respuesta.",
          de: "Summe der Dezimalstellen der Faktoren = Dezimalstellen im Ergebnis.",
          fi: "Kertojien desimaalien summa = vastauksen desimaalit.",
          fr: "Somme des d√©cimales des multiplicateurs = d√©cimales de la r√©ponse.",
          ar: "ŸÖÿ¨ŸÖŸàÿπ ÿßŸÑŸÖŸÜÿßÿ≤ŸÑ ÿßŸÑÿπÿ¥ÿ±Ÿäÿ© ŸÅŸä ÿßŸÑŸÖÿ∂ÿ±Ÿàÿ®ÿßÿ™ = ÿßŸÑŸÖŸÜÿßÿ≤ŸÑ ÿßŸÑÿπÿ¥ÿ±Ÿäÿ© ŸÅŸä ÿßŸÑÿ•ÿ¨ÿßÿ®ÿ©.",
          it: "Somma decimali moltiplicatori = decimali risposta.",
        },
      };

      const getText = (key, lang, params = {}) => {
        let text = t[key]?.[lang] || t[key]?.["en"] || key;
        for (const param in params) {
          text = text.replace(`{${param}}`, params[param]);
        }
        return text;
      };

      function App() {
        const [lang, setLang] = useState("zh");
        const [d1, setD1] = useState(2.4);
        const [d2, setD2] = useState(1.5);

        const countDecimals = (n) => {
          const s = n.toString();
          return s.includes(".") ? s.split(".")[1].length : 0;
        };
        const places1 = countDecimals(d1);
        const places2 = countDecimals(d2);
        const totalPlaces = places1 + places2;
        const result = d1 * d2;

        return (
          <div className="min-h-screen flex flex-col items-center p-4">
            <div className="w-full max-w-4xl flex justify-between items-center mb-10">
              <h1 className="text-4xl font-black text-pink-400 drop-shadow-[0_0_15px_rgba(236,72,153,0.5)]">
                ‚úñÔ∏è {getText("title", lang)}
              </h1>
              <div className="bg-slate-800/80 p-1.5 rounded-xl border border-white/10 flex flex-wrap justify-end gap-1 max-w-[50%]">
                {[
                  "zh",
                  "en",
                  "ja",
                  "ko",
                  "es",
                  "de",
                  "fi",
                  "fr",
                  "ar",
                  "it",
                ].map((l) => (
                  <button
                    key={l}
                    onClick={() => setLang(l)}
                    className={`px-3 py-1.5 rounded-lg font-bold text-xs uppercase transition-all ${
                      lang === l
                        ? "bg-pink-600 text-white shadow-lg scale-105"
                        : "text-slate-400 hover:text-white hover:bg-white/5"
                    }`}
                  >
                    {l}
                  </button>
                ))}
              </div>
            </div>

            <div className="w-full max-w-3xl flex flex-col gap-6">
              {/* Input Section */}
              <div className="glass-panel p-8 rounded-3xl flex flex-col md:flex-row items-center justify-center gap-8 border-pink-500/30">
                <div className="flex flex-col items-center gap-2">
                  <input
                    type="number"
                    step="0.1"
                    value={d1}
                    onChange={(e) => setD1(parseFloat(e.target.value) || 0)}
                    className="bg-slate-900/50 border-b-2 border-pink-400 text-3xl font-mono font-black text-center w-32 p-2 outline-none focus:border-pink-300 text-pink-200"
                  />
                  <div className="bg-pink-500/20 text-pink-300 text-xs px-2 py-1 rounded-md font-bold">
                    {places1} d.p.
                  </div>
                </div>

                <div className="text-4xl font-black text-slate-500">√ó</div>

                <div className="flex flex-col items-center gap-2">
                  <input
                    type="number"
                    step="0.1"
                    value={d2}
                    onChange={(e) => setD2(parseFloat(e.target.value) || 0)}
                    className="bg-slate-900/50 border-b-2 border-purple-400 text-3xl font-mono font-black text-center w-32 p-2 outline-none focus:border-purple-300 text-purple-200"
                  />
                  <div className="bg-purple-500/20 text-purple-300 text-xs px-2 py-1 rounded-md font-bold">
                    {places2} d.p.
                  </div>
                </div>
              </div>

              {/* Explanation */}
              <div className="glass-panel p-6 rounded-2xl flex flex-col gap-3 text-center">
                <p className="text-pink-100 font-mono text-lg">
                  {getText("hasDecimals1", lang, { d1, places1 })}
                </p>
                <p className="text-purple-100 font-mono text-lg">
                  {getText("hasDecimals2", lang, { d2, places2 })}
                </p>
                <div className="h-px bg-white/10 w-full my-1"></div>
                <p className="text-xl font-bold bg-gradient-to-r from-pink-300 to-purple-300 bg-clip-text text-transparent">
                  {getText("answerDecimalPlaces", lang, {
                    places1,
                    places2,
                    totalPlaces,
                  })}
                </p>
              </div>

              {/* Result */}
              <motion.div
                key={result}
                initial={{ scale: 0.9, opacity: 0 }}
                animate={{ scale: 1, opacity: 1 }}
                className="bg-gradient-to-r from-pink-900/40 to-purple-900/40 border border-pink-500/30 p-8 rounded-3xl text-center flex flex-col items-center"
              >
                <div className="text-pink-300 font-bold uppercase tracking-widest text-sm mb-2">
                  {getText("answer", lang)}
                </div>
                <div className="text-6xl font-black text-white font-mono drop-shadow-[0_0_15px_rgba(236,72,153,0.6)]">
                  {result.toFixed(totalPlaces)}
                </div>
              </motion.div>

              {/* Tip */}
              <div className="bg-amber-500/10 border border-amber-500/20 p-4 rounded-xl flex gap-3 text-amber-200 text-sm items-center justify-center">
                <span className="text-2xl">üí°</span>
                <div>
                  <span className="font-bold mr-2 uppercase">
                    {getText("ruleTitle", lang)}
                  </span>
                  {getText("ruleText", lang)}
                </div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
