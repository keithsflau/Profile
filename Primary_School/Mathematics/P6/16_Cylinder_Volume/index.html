<!DOCTYPE html>
<html lang="zh-HK">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Â∞èÂÖ≠Êï∏Â≠∏ÔºöÂúìÊü±È´îÁ©ç | Volume of Cylinder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://unpkg.com/framer-motion@10.16.4/dist/framer-motion.js"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;700;900&family=Outfit:wght@400;600;800&family=JetBrains+Mono:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <script src="../../common/i18n.js"></script>
    <style>
      body {
        font-family: "Outfit", "Noto Sans TC", sans-serif;
        background: #0f172a;
        color: white;
        overflow-x: hidden;
      }
      .glass-panel {
        background: rgba(30, 41, 59, 0.7);
        backdrop-filter: blur(12px);
        border: 1px solid rgba(255, 255, 255, 0.1);
        box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
      }
    </style>
  </head>
  <body>
    <div id="root"></div>
    <script type="text/babel">
      const { useState, useEffect } = React;
      const { motion } = window.Motion;
      const { LanguageSelector } = window.MathI18n || {
        LanguageSelector: () => null,
      };

      const t = {
        title: {
          en: "Cylinder Volume",
          zh: "ÂúìÊü±È´îÁ©ç",
          ja: "ÂÜÜÊü±„ÅÆ‰ΩìÁ©ç",
          ko: "ÏõêÍ∏∞Îë•Ïùò Î∂ÄÌîº",
          es: "Volumen del Cilindro",
          de: "Zylindervolumen",
          fi: "Sylinterin tilavuus",
          fr: "Volume du cylindre",
          ar: "ÿ≠ÿ¨ŸÖ ÿßŸÑÿ£ÿ≥ÿ∑ŸàÿßŸÜÿ©",
          it: "Volume Cilindro",
        },
        radius: {
          en: "Radius (r)",
          zh: "ÂçäÂæë (r)",
          ja: "ÂçäÂæÑ (r)",
          ko: "Î∞òÏßÄÎ¶Ñ (r)",
          es: "Radio (r)",
          de: "Radius (r)",
          fi: "S√§de (r)",
          fr: "Rayon (r)",
          ar: "ŸÜÿµŸÅ ÿßŸÑŸÇÿ∑ÿ± (r)",
          it: "Raggio (r)",
        },
        height: {
          en: "Height (h)",
          zh: "È´òÂ∫¶ (h)",
          ja: "È´ò„Åï (h)",
          ko: "ÎÜíÏù¥ (h)",
          es: "Altura (h)",
          de: "H√∂he (h)",
          fi: "Korkeus (h)",
          fr: "Hauteur (h)",
          ar: "ÿßŸÑÿßÿ±ÿ™ŸÅÿßÿπ (h)",
          it: "Altezza (h)",
        },
        baseArea: {
          en: "Base Area",
          zh: "Â∫ïÈù¢Á©ç",
          ja: "Â∫ïÈù¢Á©ç",
          ko: "Î∞ëÎÑìÏù¥",
          es: "√Årea Base",
          de: "Grundfl√§che",
          fi: "Pohjapinta-ala",
          fr: "Surface de base",
          ar: "ŸÖÿ≥ÿßÿ≠ÿ© ÿßŸÑŸÇÿßÿπÿØÿ©",
          it: "Area Base",
        },
        volume: {
          en: "Volume",
          zh: "È´îÁ©ç",
          ja: "‰ΩìÁ©ç",
          ko: "Î∂ÄÌîº",
          es: "Volumen",
          de: "Volumen",
          fi: "Tilavuus",
          fr: "Volume",
          ar: "ÿßŸÑÿ≠ÿ¨ŸÖ",
          it: "Volume",
        },
        formula: {
          en: "V = œÄ √ó r¬≤ √ó h",
          zh: "V = œÄ √ó r¬≤ √ó h",
          ja: "V = œÄ √ó r¬≤ √ó h",
          ko: "V = œÄ √ó r¬≤ √ó h",
          es: "V = œÄ √ó r¬≤ √ó h",
          de: "V = œÄ √ó r¬≤ √ó h",
          fi: "V = œÄ √ó r¬≤ √ó h",
          fr: "V = œÄ √ó r¬≤ √ó h",
          ar: "V = œÄ √ó r¬≤ √ó h",
          it: "V = œÄ √ó r¬≤ √ó h",
        },
      };

      const getText = (key, lang) => t[key]?.[lang] || t[key]?.["en"] || key;

      function App() {
        const [lang, setLang] = useState("zh");
        const [r, setR] = useState(5);
        const [h, setH] = useState(8);
        const PI = 3.14159;

        const baseArea = PI * r * r;
        const volume = baseArea * h;

        // Scaling for SVG
        // Map r (1-10) to px width
        // Map h (1-20) to px height
        const scale = 15;
        const widthPx = r * 2 * scale;
        const heightPx = h * scale;

        // Center cylinder in 300x400 view
        const centerX = 200;
        const bottomY = 350;
        const topY = bottomY - heightPx;

        return (
          <div className="min-h-screen flex flex-col items-center p-4 font-sans bg-slate-900 text-white">
            <div className="w-full max-w-5xl flex justify-between items-center mb-8">
              <h1 className="text-4xl font-black text-cyan-400 drop-shadow-[0_0_15px_rgba(34,211,238,0.5)]">
                üõ¢Ô∏è {getText("title", lang)}
              </h1>
              <div className="flex bg-slate-800/80 p-1.5 rounded-xl border border-white/10 flex-wrap justify-end gap-1 max-w-[50%]">
                {[
                  "zh",
                  "en",
                  "ja",
                  "ko",
                  "es",
                  "de",
                  "fi",
                  "fr",
                  "ar",
                  "it",
                ].map((l) => (
                  <button
                    key={l}
                    onClick={() => setLang(l)}
                    className={`px-3 py-1.5 rounded-lg font-bold text-xs uppercase transition-all ${
                      lang === l
                        ? "bg-cyan-600 text-white shadow-lg scale-105"
                        : "text-slate-400 hover:text-white hover:bg-white/5"
                    }`}
                  >
                    {l}
                  </button>
                ))}
              </div>
            </div>

            <div className="w-full max-w-5xl grid grid-cols-1 md:grid-cols-2 gap-8">
              {/* Visual Stage */}
              <div className="glass-panel rounded-3xl p-4 flex items-center justify-center relative min-h-[400px]">
                <div className="absolute inset-0 bg-cyan-900/10 -z-10 rounded-3xl"></div>

                <svg
                  width="400"
                  height="400"
                  viewBox="0 0 400 400"
                  className="overflow-visible"
                >
                  <defs>
                    <linearGradient
                      id="cylGrad"
                      x1="0%"
                      y1="0%"
                      x2="100%"
                      y2="0%"
                    >
                      <stop offset="0%" stopColor="#22d3ee" stopOpacity="0.4" />
                      <stop
                        offset="50%"
                        stopColor="#22d3ee"
                        stopOpacity="0.8"
                      />
                      <stop
                        offset="100%"
                        stopColor="#22d3ee"
                        stopOpacity="0.4"
                      />
                    </linearGradient>
                  </defs>

                  {/* Back Half of Bottom Ellipse (dashed) */}
                  <ellipse
                    cx={centerX}
                    cy={bottomY}
                    rx={widthPx / 2}
                    ry={widthPx / 6}
                    fill="none"
                    stroke="#67e8f9"
                    strokeWidth="2"
                    strokeDasharray="5,5"
                  />

                  {/* Cylinder Body */}
                  <path
                    d={`
                             M ${centerX - widthPx / 2} ${topY} 
                             L ${centerX - widthPx / 2} ${bottomY} 
                             A ${widthPx / 2} ${widthPx / 6} 0 0 0 ${
                      centerX + widthPx / 2
                    } ${bottomY}
                             L ${centerX + widthPx / 2} ${topY} 
                           `}
                    fill="url(#cylGrad)"
                    stroke="none"
                  />

                  {/* Edges */}
                  <line
                    x1={centerX - widthPx / 2}
                    y1={topY}
                    x2={centerX - widthPx / 2}
                    y2={bottomY}
                    stroke="#0891b2"
                    strokeWidth="2"
                  />
                  <line
                    x1={centerX + widthPx / 2}
                    y1={topY}
                    x2={centerX + widthPx / 2}
                    y2={bottomY}
                    stroke="#0891b2"
                    strokeWidth="2"
                  />

                  {/* Front Half of Bottom Ellipse */}
                  <path
                    d={`M ${centerX - widthPx / 2} ${bottomY} A ${
                      widthPx / 2
                    } ${widthPx / 6} 0 0 0 ${centerX + widthPx / 2} ${bottomY}`}
                    fill="none"
                    stroke="#0891b2"
                    strokeWidth="2"
                  />

                  {/* Top Ellipse (Full) */}
                  <ellipse
                    cx={centerX}
                    cy={topY}
                    rx={widthPx / 2}
                    ry={widthPx / 6}
                    fill="#06b6d4"
                    stroke="#0891b2"
                    strokeWidth="2"
                  />

                  {/* Measurements */}
                  {/* Radius */}
                  <line
                    x1={centerX}
                    y1={topY}
                    x2={centerX + widthPx / 2}
                    y2={topY}
                    stroke="white"
                    strokeWidth="2"
                  />
                  <text
                    x={centerX + widthPx / 4}
                    y={topY - 10}
                    textAnchor="middle"
                    fill="white"
                    fontWeight="bold"
                    fontSize="14"
                  >
                    r={r}
                  </text>

                  {/* Height */}
                  <line
                    x1={centerX + widthPx / 2 + 20}
                    y1={topY}
                    x2={centerX + widthPx / 2 + 20}
                    y2={bottomY}
                    stroke="white"
                    strokeWidth="2"
                    markerStart="url(#arrow)"
                    markerEnd="url(#arrow)"
                  />
                  <text
                    x={centerX + widthPx / 2 + 35}
                    y={(topY + bottomY) / 2}
                    textAnchor="start"
                    fill="white"
                    fontWeight="bold"
                    fontSize="14"
                  >
                    h={h}
                  </text>
                </svg>
              </div>

              {/* Controls & Stats */}
              <div className="flex flex-col justify-center gap-6">
                <div className="glass-panel p-8 rounded-3xl space-y-6">
                  <div>
                    <div className="flex justify-between font-bold text-cyan-200 mb-2">
                      <label>{getText("radius", lang)}</label>
                      <span>{r} cm</span>
                    </div>
                    <input
                      type="range"
                      min="1"
                      max="10"
                      step="0.5"
                      value={r}
                      onChange={(e) => setR(Number(e.target.value))}
                      className="w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-400"
                    />
                  </div>

                  <div>
                    <div className="flex justify-between font-bold text-cyan-200 mb-2">
                      <label>{getText("height", lang)}</label>
                      <span>{h} cm</span>
                    </div>
                    <input
                      type="range"
                      min="1"
                      max="20"
                      step="1"
                      value={h}
                      onChange={(e) => setH(Number(e.target.value))}
                      className="w-full h-3 bg-slate-700 rounded-lg appearance-none cursor-pointer accent-cyan-400"
                    />
                  </div>
                </div>

                <div className="glass-panel p-8 rounded-3xl space-y-4">
                  <div className="flex justify-between items-center text-sm text-slate-400 font-bold uppercase">
                    <span>{getText("baseArea", lang)}</span>
                    <span>œÄr¬≤</span>
                  </div>
                  <div className="text-xl font-mono text-cyan-200 border-b border-white/10 pb-4">
                    3.1416 √ó {r}¬≤ ‚âà {baseArea.toFixed(2)} cm¬≤
                  </div>

                  <div className="flex justify-between items-center text-sm text-emerald-400 font-bold uppercase mt-4">
                    <span>{getText("volume", lang)}</span>
                    <span>{getText("baseArea", lang)} √ó h</span>
                  </div>
                  <div className="text-4xl font-mono font-black text-white">
                    {volume.toFixed(2)}{" "}
                    <span className="text-lg text-slate-500">cm¬≥</span>
                  </div>

                  <div className="bg-slate-800 p-4 rounded-xl text-center text-cyan-100 font-mono text-sm mt-4 border border-white/5">
                    {getText("formula", lang)}
                  </div>
                </div>
              </div>
            </div>
          </div>
        );
      }

      const root = ReactDOM.createRoot(document.getElementById("root"));
      root.render(<App />);
    </script>
  </body>
</html>
